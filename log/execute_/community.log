WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by com.google.inject.internal.cglib.core.$ReflectUtils$1 (file:/usr/share/maven/lib/guice.jar) to method java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain)
WARNING: Please consider reporting this to the maintainers of com.google.inject.internal.cglib.core.$ReflectUtils$1
WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations
WARNING: All illegal access operations will be denied in a future release
[INFO] Scanning for projects...
[INFO] 
[INFO] ------------------< com.nowcoder.community:community >------------------
[INFO] Building community 0.0.1-SNAPSHOT
[INFO] --------------------------------[ war ]---------------------------------
[INFO] 
[INFO] >>> spotbugs-maven-plugin:4.2.3-SNAPSHOT:check (default-cli) > :spotbugs @ community >>>
[INFO] 
[INFO] --- spotbugs-maven-plugin:4.2.3-SNAPSHOT:spotbugs (spotbugs) @ community ---
[INFO] Fork Value is true
[INFO] Done SpotBugs Analysis....
[INFO] 
[INFO] <<< spotbugs-maven-plugin:4.2.3-SNAPSHOT:check (default-cli) < :spotbugs @ community <<<
[INFO] 
[INFO] 
[INFO] --- spotbugs-maven-plugin:4.2.3-SNAPSHOT:check (default-cli) @ community ---
[INFO] BugInstance size is 49
[INFO] Error size is 0
[INFO] Total bugs: 49
[ERROR] Low: The class com.nowcoder.community.config.SecurityConfig$1 could be refactored into a named _static_ inner class [com.nowcoder.community.config.SecurityConfig] At SecurityConfig.java:[line 80] SIC_INNER_SHOULD_BE_STATIC_ANON
[ERROR] Low: The class com.nowcoder.community.config.SecurityConfig$2 could be refactored into a named _static_ inner class [com.nowcoder.community.config.SecurityConfig] At SecurityConfig.java:[line 79] SIC_INNER_SHOULD_BE_STATIC_ANON
[ERROR] Medium: Exceptional return value of java.io.File.mkdir() ignored in com.nowcoder.community.config.WkConfig.init() [com.nowcoder.community.config.WkConfig] At WkConfig.java:[line 32] RV_RETURN_VALUE_IGNORED_BAD_PRACTICE
[ERROR] Low: Redundant nullcheck of map, which is known to be non-null in com.nowcoder.community.controller.LoginController.register(Model, User) [com.nowcoder.community.controller.LoginController] Redundant null check at LoginController.java:[line 71] RCN_REDUNDANT_NULLCHECK_OF_NONNULL_VALUE
[ERROR] Medium: com.nowcoder.community.controller.ShareController.getShareImage(String, HttpServletResponse) may fail to clean up java.io.InputStream [com.nowcoder.community.controller.ShareController, com.nowcoder.community.controller.ShareController, com.nowcoder.community.controller.ShareController, com.nowcoder.community.controller.ShareController, com.nowcoder.community.controller.ShareController, com.nowcoder.community.controller.ShareController] Obligation to clean up resource created at ShareController.java:[line 91] is not dischargedPath continues at ShareController.java:[line 92]Path continues at ShareController.java:[line 93]Path continues at ShareController.java:[line 94]Path continues at ShareController.java:[line 99]Path continues at ShareController.java:[line 100] OBL_UNSATISFIED_OBLIGATION
[ERROR] Medium: com.nowcoder.community.controller.ShareController.getShareImage(String, HttpServletResponse) may fail to close stream [com.nowcoder.community.controller.ShareController] At ShareController.java:[line 91] OS_OPEN_STREAM
[ERROR] Medium: Possible null pointer dereference in com.nowcoder.community.controller.UserController.uploadHeader(MultipartFile, Model) due to return value of called method [com.nowcoder.community.controller.UserController, com.nowcoder.community.controller.UserController] Dereferenced at UserController.java:[line 120]Known null at UserController.java:[line 119] NP_NULL_ON_SOME_PATH_FROM_RETURN_VALUE
[ERROR] Medium: com.nowcoder.community.entity.Comment.getCreateTime() may expose internal representation by returning Comment.createTime [com.nowcoder.community.entity.Comment] At Comment.java:[line 79] EI_EXPOSE_REP
[ERROR] Medium: com.nowcoder.community.entity.Comment.setCreateTime(Date) may expose internal representation by storing an externally mutable object into Comment.createTime [com.nowcoder.community.entity.Comment] At Comment.java:[line 83] EI_EXPOSE_REP2
[ERROR] Medium: com.nowcoder.community.entity.DiscussPost.getCreateTime() may expose internal representation by returning DiscussPost.createTime [com.nowcoder.community.entity.DiscussPost] At DiscussPost.java:[line 90] EI_EXPOSE_REP
[ERROR] Medium: com.nowcoder.community.entity.DiscussPost.setCreateTime(Date) may expose internal representation by storing an externally mutable object into DiscussPost.createTime [com.nowcoder.community.entity.DiscussPost] At DiscussPost.java:[line 94] EI_EXPOSE_REP2
[ERROR] Medium: com.nowcoder.community.entity.LoginTicket.getExpired() may expose internal representation by returning LoginTicket.expired [com.nowcoder.community.entity.LoginTicket] At LoginTicket.java:[line 52] EI_EXPOSE_REP
[ERROR] Medium: com.nowcoder.community.entity.LoginTicket.setExpired(Date) may expose internal representation by storing an externally mutable object into LoginTicket.expired [com.nowcoder.community.entity.LoginTicket] At LoginTicket.java:[line 56] EI_EXPOSE_REP2
[ERROR] Medium: com.nowcoder.community.entity.Message.getCreateTime() may expose internal representation by returning Message.createTime [com.nowcoder.community.entity.Message] At Message.java:[line 70] EI_EXPOSE_REP
[ERROR] Medium: com.nowcoder.community.entity.Message.setCreateTime(Date) may expose internal representation by storing an externally mutable object into Message.createTime [com.nowcoder.community.entity.Message] At Message.java:[line 74] EI_EXPOSE_REP2
[ERROR] Medium: com.nowcoder.community.entity.User.getCreateTime() may expose internal representation by returning User.createTime [com.nowcoder.community.entity.User] At User.java:[line 91] EI_EXPOSE_REP
[ERROR] Medium: com.nowcoder.community.entity.User.setCreateTime(Date) may expose internal representation by storing an externally mutable object into User.createTime [com.nowcoder.community.entity.User] At User.java:[line 95] EI_EXPOSE_REP2
[ERROR] High: Possible null pointer dereference of event in com.nowcoder.community.event.EventConsumer.handleCommentMessage(ConsumerRecord) [com.nowcoder.community.event.EventConsumer, com.nowcoder.community.event.EventConsumer, com.nowcoder.community.event.EventConsumer] Dereferenced at EventConsumer.java:[line 91]Null value at EventConsumer.java:[line 84]Known null at EventConsumer.java:[line 85] NP_NULL_ON_SOME_PATH
[ERROR] High: Possible null pointer dereference of event in com.nowcoder.community.event.EventConsumer.handlePublishMessage(ConsumerRecord) [com.nowcoder.community.event.EventConsumer, com.nowcoder.community.event.EventConsumer, com.nowcoder.community.event.EventConsumer] Dereferenced at EventConsumer.java:[line 123]Null value at EventConsumer.java:[line 120]Known null at EventConsumer.java:[line 121] NP_NULL_ON_SOME_PATH
[ERROR] Medium: Integral division result cast to double or float in com.nowcoder.community.quartz.PostScoreRefreshJob.refresh(int) [com.nowcoder.community.quartz.PostScoreRefreshJob] At PostScoreRefreshJob.java:[line 93] ICAST_IDIV_CAST_TO_DOUBLE
[ERROR] High: Possible null pointer dereference of post in com.nowcoder.community.quartz.PostScoreRefreshJob.refresh(int) [com.nowcoder.community.quartz.PostScoreRefreshJob, com.nowcoder.community.quartz.PostScoreRefreshJob, com.nowcoder.community.quartz.PostScoreRefreshJob] Dereferenced at PostScoreRefreshJob.java:[line 81]Null value at PostScoreRefreshJob.java:[line 76]Known null at PostScoreRefreshJob.java:[line 77] NP_NULL_ON_SOME_PATH
[ERROR] Medium: Possible null pointer dereference in com.nowcoder.community.quartz.PostScoreRefreshJob.execute(JobExecutionContext) due to return value of called method [com.nowcoder.community.quartz.PostScoreRefreshJob, com.nowcoder.community.quartz.PostScoreRefreshJob] Dereferenced at PostScoreRefreshJob.java:[line 68]Known null at PostScoreRefreshJob.java:[line 68] NP_NULL_ON_SOME_PATH_FROM_RETURN_VALUE
[ERROR] Medium: Possible null pointer dereference in com.nowcoder.community.quartz.PostScoreRefreshJob.execute(JobExecutionContext) due to return value of called method [com.nowcoder.community.quartz.PostScoreRefreshJob, com.nowcoder.community.quartz.PostScoreRefreshJob] Dereferenced at PostScoreRefreshJob.java:[line 69]Known null at PostScoreRefreshJob.java:[line 69] NP_NULL_ON_SOME_PATH_FROM_RETURN_VALUE
[ERROR] Medium: Redundant nullcheck of operations, which is known to be non-null in com.nowcoder.community.quartz.PostScoreRefreshJob.execute(JobExecutionContext) [com.nowcoder.community.quartz.PostScoreRefreshJob] Redundant null check at PostScoreRefreshJob.java:[line 62] RCN_REDUNDANT_NULLCHECK_OF_NONNULL_VALUE
[ERROR] High: Found reliance on default encoding in com.nowcoder.community.service.DataService.calculateDAU(Date, Date): String.getBytes() [com.nowcoder.community.service.DataService] At DataService.java:[line 82] DM_DEFAULT_ENCODING
[ERROR] Medium: Possible null pointer dereference in com.nowcoder.community.service.DataService.calculateDAU(Date, Date) due to return value of called method [com.nowcoder.community.service.DataService, com.nowcoder.community.service.DataService] Dereferenced at DataService.java:[line 87]Known null at DataService.java:[line 87] NP_NULL_ON_SOME_PATH_FROM_RETURN_VALUE
[ERROR] High: Found reliance on default encoding in com.nowcoder.community.service.DataService$1.doInRedis(RedisConnection): String.getBytes() [com.nowcoder.community.service.DataService$1, com.nowcoder.community.service.DataService$1] At DataService.java:[line 92]Another occurrence at DataService.java:[line 93] DM_DEFAULT_ENCODING
[ERROR] Medium: Possible null pointer dereference in com.nowcoder.community.service.DiscussPostService.findDiscussPostRows(int) due to return value of called method [com.nowcoder.community.service.DiscussPostService, com.nowcoder.community.service.DiscussPostService] Dereferenced at DiscussPostService.java:[line 103]Known null at DiscussPostService.java:[line 103] NP_NULL_ON_SOME_PATH_FROM_RETURN_VALUE
[ERROR] High: Boxing/unboxing to parse a primitive com.nowcoder.community.service.DiscussPostService$1.load(String) [com.nowcoder.community.service.DiscussPostService$1, com.nowcoder.community.service.DiscussPostService$1] At DiscussPostService.java:[line 64]Another occurrence at DiscussPostService.java:[line 65] DM_BOXED_PRIMITIVE_FOR_PARSING
[ERROR] Low: Redundant nullcheck of params, which is known to be non-null in com.nowcoder.community.service.DiscussPostService$1.load(String) [com.nowcoder.community.service.DiscussPostService$1] Redundant null check at DiscussPostService.java:[line 61] RCN_REDUNDANT_NULLCHECK_OF_NONNULL_VALUE
[ERROR] Low: The class com.nowcoder.community.service.ElasticsearchService$1 could be refactored into a named _static_ inner class [com.nowcoder.community.service.ElasticsearchService] At ElasticsearchService.java:[line 76] SIC_INNER_SHOULD_BE_STATIC_ANON
[ERROR] High: Boxing/unboxing to parse a primitive com.nowcoder.community.service.ElasticsearchService$1.mapResults(SearchResponse, Class, Pageable) [com.nowcoder.community.service.ElasticsearchService$1, com.nowcoder.community.service.ElasticsearchService$1, com.nowcoder.community.service.ElasticsearchService$1, com.nowcoder.community.service.ElasticsearchService$1] At ElasticsearchService.java:[line 89]Another occurrence at ElasticsearchService.java:[line 92]Another occurrence at ElasticsearchService.java:[line 101]Another occurrence at ElasticsearchService.java:[line 107] DM_BOXED_PRIMITIVE_FOR_PARSING
[ERROR] High: Boxing/unboxing to parse a primitive com.nowcoder.community.service.ElasticsearchService$1.mapResults(SearchResponse, Class, Pageable) [com.nowcoder.community.service.ElasticsearchService$1] At ElasticsearchService.java:[line 104] DM_BOXED_PRIMITIVE_FOR_PARSING
[ERROR] Medium: Possible null pointer dereference in com.nowcoder.community.service.FollowService.findFolloweeCount(int, int) due to return value of called method [com.nowcoder.community.service.FollowService, com.nowcoder.community.service.FollowService] Dereferenced at FollowService.java:[line 92]Known null at FollowService.java:[line 92] NP_NULL_ON_SOME_PATH_FROM_RETURN_VALUE
[ERROR] Medium: Possible null pointer dereference in com.nowcoder.community.service.FollowService.findFollowees(int, int, int) due to return value of called method [com.nowcoder.community.service.FollowService, com.nowcoder.community.service.FollowService] Dereferenced at FollowService.java:[line 142]Known null at FollowService.java:[line 141] NP_NULL_ON_SOME_PATH_FROM_RETURN_VALUE
[ERROR] Medium: Possible null pointer dereference in com.nowcoder.community.service.FollowService.findFollowerCount(int, int) due to return value of called method [com.nowcoder.community.service.FollowService, com.nowcoder.community.service.FollowService] Dereferenced at FollowService.java:[line 104]Known null at FollowService.java:[line 104] NP_NULL_ON_SOME_PATH_FROM_RETURN_VALUE
[ERROR] Medium: Possible null pointer dereference in com.nowcoder.community.service.FollowService.findFollowers(int, int, int) due to return value of called method [com.nowcoder.community.service.FollowService, com.nowcoder.community.service.FollowService] Dereferenced at FollowService.java:[line 170]Known null at FollowService.java:[line 169] NP_NULL_ON_SOME_PATH_FROM_RETURN_VALUE
[ERROR] Low: The class com.nowcoder.community.service.FollowService$1 could be refactored into a named _static_ inner class [com.nowcoder.community.service.FollowService] At FollowService.java:[line 42] SIC_INNER_SHOULD_BE_STATIC_ANON
[ERROR] Low: The class com.nowcoder.community.service.FollowService$2 could be refactored into a named _static_ inner class [com.nowcoder.community.service.FollowService] At FollowService.java:[line 67] SIC_INNER_SHOULD_BE_STATIC_ANON
[ERROR] Medium: Possible null pointer dereference in com.nowcoder.community.service.LikeService.findEntityLikeCount(int, int) due to return value of called method [com.nowcoder.community.service.LikeService, com.nowcoder.community.service.LikeService] Dereferenced at LikeService.java:[line 67]Known null at LikeService.java:[line 67] NP_NULL_ON_SOME_PATH_FROM_RETURN_VALUE
[ERROR] Medium: Possible null pointer dereference in com.nowcoder.community.service.LikeService.findEntityLikeStatus(int, int, int) due to return value of called method [com.nowcoder.community.service.LikeService, com.nowcoder.community.service.LikeService] Dereferenced at LikeService.java:[line 81]Known null at LikeService.java:[line 81] NP_NULL_ON_SOME_PATH_FROM_RETURN_VALUE
[ERROR] Medium: Possible null pointer dereference in com.nowcoder.community.service.LikeService$1.execute(RedisOperations) due to return value of called method [com.nowcoder.community.service.LikeService$1, com.nowcoder.community.service.LikeService$1] Dereferenced at LikeService.java:[line 40]Known null at LikeService.java:[line 40] NP_NULL_ON_SOME_PATH_FROM_RETURN_VALUE
[ERROR] Low: Result of integer multiplication cast to long in com.nowcoder.community.service.UserService.login(String, String, int) [com.nowcoder.community.service.UserService] At UserService.java:[line 169] ICAST_INTEGER_MULTIPLY_CAST_TO_LONG
[ERROR] Medium: Possible null pointer dereference in com.nowcoder.community.service.UserService.logout(String) due to return value of called method [com.nowcoder.community.service.UserService, com.nowcoder.community.service.UserService] Dereferenced at UserService.java:[line 186]Known null at UserService.java:[line 185] NP_NULL_ON_SOME_PATH_FROM_RETURN_VALUE
[ERROR] Low: The class com.nowcoder.community.service.UserService$1 could be refactored into a named _static_ inner class [com.nowcoder.community.service.UserService] At UserService.java:[line 239] SIC_INNER_SHOULD_BE_STATIC_ANON
[ERROR] High: Found reliance on default encoding in com.nowcoder.community.util.CommunityUtil.md5(String): String.getBytes() [com.nowcoder.community.util.CommunityUtil] At CommunityUtil.java:[line 23] DM_DEFAULT_ENCODING
[ERROR] Medium: com.nowcoder.community.util.CommunityUtil.getJSONString(int, String, Map) makes inefficient use of keySet iterator instead of entrySet iterator [com.nowcoder.community.util.CommunityUtil] At CommunityUtil.java:[line 32] WMI_WRONG_MAP_ITERATOR
[ERROR] High: Found reliance on default encoding in com.nowcoder.community.util.SensitiveFilter.init(): new java.io.InputStreamReader(InputStream) [com.nowcoder.community.util.SensitiveFilter] At SensitiveFilter.java:[line 41] DM_DEFAULT_ENCODING
[ERROR] Medium: Should com.nowcoder.community.util.SensitiveFilter$TrieNode be a _static_ inner class? [com.nowcoder.community.util.SensitiveFilter$TrieNode] At SensitiveFilter.java:[lines 146-169] SIC_INNER_SHOULD_BE_STATIC
[INFO] 


To see bug detail using the Spotbugs GUI, use the following command "mvn spotbugs:gui"



[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time:  27.149 s
[INFO] Finished at: 2021-04-08T22:58:20+08:00
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal com.github.spotbugs:spotbugs-maven-plugin:4.2.3-SNAPSHOT:check (default-cli) on project community: failed with 49 bugs and 0 errors -> [Help 1]
[ERROR] 
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException
[INFO] Build failures were ignored.
