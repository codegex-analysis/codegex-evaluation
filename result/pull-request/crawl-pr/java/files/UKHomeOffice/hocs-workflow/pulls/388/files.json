[
  {
    "sha": "90d8af819bf2fb4ef55b6e1e0f62eb140813843b",
    "filename": "src/main/resources/processes/FOI.bpmn",
    "status": "added",
    "additions": 47,
    "deletions": 0,
    "changes": 47,
    "blob_url": "https://github.com/UKHomeOffice/hocs-workflow/blob/96015b16a7175e48667b959209472546c4d99222/src/main/resources/processes/FOI.bpmn",
    "raw_url": "https://github.com/UKHomeOffice/hocs-workflow/raw/96015b16a7175e48667b959209472546c4d99222/src/main/resources/processes/FOI.bpmn",
    "contents_url": "https://api.github.com/repos/UKHomeOffice/hocs-workflow/contents/src/main/resources/processes/FOI.bpmn?ref=96015b16a7175e48667b959209472546c4d99222",
    "patch": "@@ -0,0 +1,47 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<bpmn:definitions xmlns:bpmn=\"http://www.omg.org/spec/BPMN/20100524/MODEL\" xmlns:bpmndi=\"http://www.omg.org/spec/BPMN/20100524/DI\" xmlns:di=\"http://www.omg.org/spec/DD/20100524/DI\" xmlns:dc=\"http://www.omg.org/spec/DD/20100524/DC\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:camunda=\"http://camunda.org/schema/1.0/bpmn\" id=\"Definitions_1\" targetNamespace=\"http://bpmn.io/schema/bpmn\" exporter=\"Camunda Modeler\" exporterVersion=\"4.2.0\">\n+  <bpmn:process id=\"FOI\" isExecutable=\"true\">\n+    <bpmn:startEvent id=\"FOI_START\" name=\"Start Case\">\n+      <bpmn:outgoing>SequenceFlow_1pepep6</bpmn:outgoing>\n+    </bpmn:startEvent>\n+    <bpmn:endEvent id=\"FOI_END\" name=\"End Case\">\n+      <bpmn:incoming>Flow_0cz5i2m</bpmn:incoming>\n+    </bpmn:endEvent>\n+    <bpmn:sequenceFlow id=\"SequenceFlow_1pepep6\" sourceRef=\"FOI_START\" targetRef=\"Activity_1d2ue6g\" />\n+    <bpmn:serviceTask id=\"Activity_1d2ue6g\" name=\"Complete Case\" camunda:expression=\"${bpmnService.completeCase(execution.processBusinessKey)}\">\n+      <bpmn:incoming>SequenceFlow_1pepep6</bpmn:incoming>\n+      <bpmn:outgoing>Flow_0cz5i2m</bpmn:outgoing>\n+    </bpmn:serviceTask>\n+    <bpmn:sequenceFlow id=\"Flow_0cz5i2m\" sourceRef=\"Activity_1d2ue6g\" targetRef=\"FOI_END\" />\n+  </bpmn:process>\n+  <bpmndi:BPMNDiagram id=\"BPMNDiagram_1\">\n+    <bpmndi:BPMNPlane id=\"BPMNPlane_1\" bpmnElement=\"FOI\">\n+      <bpmndi:BPMNEdge id=\"Flow_0cz5i2m_di\" bpmnElement=\"Flow_0cz5i2m\">\n+        <di:waypoint x=\"1080\" y=\"118\" />\n+        <di:waypoint x=\"1272\" y=\"118\" />\n+      </bpmndi:BPMNEdge>\n+      <bpmndi:BPMNEdge id=\"SequenceFlow_1pepep6_di\" bpmnElement=\"SequenceFlow_1pepep6\">\n+        <di:waypoint x=\"200\" y=\"118\" />\n+        <di:waypoint x=\"980\" y=\"118\" />\n+        <bpmndi:BPMNLabel>\n+          <dc:Bounds x=\"1102.5\" y=\"595\" width=\"90\" height=\"20\" />\n+        </bpmndi:BPMNLabel>\n+      </bpmndi:BPMNEdge>\n+      <bpmndi:BPMNShape id=\"_BPMNShape_StartEvent_2\" bpmnElement=\"FOI_START\">\n+        <dc:Bounds x=\"164\" y=\"100\" width=\"36\" height=\"36\" />\n+        <bpmndi:BPMNLabel>\n+          <dc:Bounds x=\"156\" y=\"146\" width=\"52\" height=\"14\" />\n+        </bpmndi:BPMNLabel>\n+      </bpmndi:BPMNShape>\n+      <bpmndi:BPMNShape id=\"EndEvent_1y4bj2w_di\" bpmnElement=\"FOI_END\">\n+        <dc:Bounds x=\"1272\" y=\"100\" width=\"36\" height=\"36\" />\n+        <bpmndi:BPMNLabel>\n+          <dc:Bounds x=\"1318\" y=\"111\" width=\"49\" height=\"14\" />\n+        </bpmndi:BPMNLabel>\n+      </bpmndi:BPMNShape>\n+      <bpmndi:BPMNShape id=\"Activity_1d2ue6g_di\" bpmnElement=\"Activity_1d2ue6g\">\n+        <dc:Bounds x=\"980\" y=\"78\" width=\"100\" height=\"80\" />\n+      </bpmndi:BPMNShape>\n+    </bpmndi:BPMNPlane>\n+  </bpmndi:BPMNDiagram>\n+</bpmn:definitions>"
  },
  {
    "sha": "629bcf2b8f6ba528e0ca625283faec1ffa2f456e",
    "filename": "src/test/java/uk/gov/digital/ho/hocs/workflow/processes/FOI.java",
    "status": "added",
    "additions": 61,
    "deletions": 0,
    "changes": 61,
    "blob_url": "https://github.com/UKHomeOffice/hocs-workflow/blob/96015b16a7175e48667b959209472546c4d99222/src/test/java/uk/gov/digital/ho/hocs/workflow/processes/FOI.java",
    "raw_url": "https://github.com/UKHomeOffice/hocs-workflow/raw/96015b16a7175e48667b959209472546c4d99222/src/test/java/uk/gov/digital/ho/hocs/workflow/processes/FOI.java",
    "contents_url": "https://api.github.com/repos/UKHomeOffice/hocs-workflow/contents/src/test/java/uk/gov/digital/ho/hocs/workflow/processes/FOI.java?ref=96015b16a7175e48667b959209472546c4d99222",
    "patch": "@@ -0,0 +1,61 @@\n+package uk.gov.digital.ho.hocs.workflow.processes;\n+\n+import org.camunda.bpm.engine.test.Deployment;\n+import org.camunda.bpm.engine.test.ProcessEngineRule;\n+import org.camunda.bpm.engine.test.mock.Mocks;\n+import org.camunda.bpm.extension.process_test_coverage.junit.rules.TestCoverageProcessEngineRule;\n+import org.camunda.bpm.extension.process_test_coverage.junit.rules.TestCoverageProcessEngineRuleBuilder;\n+import org.camunda.bpm.scenario.ProcessScenario;\n+import org.camunda.bpm.scenario.Scenario;\n+import org.junit.Before;\n+import org.junit.ClassRule;\n+import org.junit.Rule;\n+import org.junit.Test;\n+import org.junit.runner.RunWith;\n+import org.mockito.Mock;\n+import org.mockito.junit.MockitoJUnitRunner;\n+import uk.gov.digital.ho.hocs.workflow.BpmnService;\n+\n+import static org.camunda.bpm.engine.test.assertions.ProcessEngineTests.withVariables;\n+import static org.mockito.ArgumentMatchers.any;\n+import static org.mockito.Mockito.*;\n+\n+@RunWith(MockitoJUnitRunner.class)\n+@Deployment(resources = \"processes/FOI.bpmn\")\n+public class FOI {\n+\n+    @Rule\n+    @ClassRule\n+    public static TestCoverageProcessEngineRule rule = TestCoverageProcessEngineRuleBuilder.create()\n+            .assertClassCoverageAtLeast(1.0)\n+            .build();\n+\n+    @Rule\n+    public ProcessEngineRule processEngineRule = new ProcessEngineRule();\n+    @Mock\n+    BpmnService bpmnService;\n+    @Mock\n+    private ProcessScenario FOIProcess;\n+\n+    @Before\n+    public void defaultScenario() {\n+\n+        Mocks.register(\"bpmnService\", bpmnService);\n+\n+    }\n+\n+    @Test\n+    public void happyPath() {\n+\n+        Scenario.run(FOIProcess)\n+                .startByKey(\"FOI\")\n+                .execute();\n+\n+        verify(FOIProcess)\n+                .hasCompleted(\"Activity_1d2ue6g\");\n+\n+        verify(bpmnService).completeCase(any());\n+\n+    }\n+\n+}"
  }
]
