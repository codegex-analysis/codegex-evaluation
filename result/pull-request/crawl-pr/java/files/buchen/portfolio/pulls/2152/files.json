[
  {
    "sha": "ff75914615e2149acea59a16775520a348a765d7",
    "filename": "name.abuchen.portfolio.tests/src/name/abuchen/portfolio/datatransfer/pdf/degiro/DegiroPDFExtractorTest.java",
    "status": "modified",
    "additions": 326,
    "deletions": 0,
    "changes": 326,
    "blob_url": "https://github.com/buchen/portfolio/blob/dec04a4c5466d9e7ea4b8b52751223035fee693a/name.abuchen.portfolio.tests/src/name/abuchen/portfolio/datatransfer/pdf/degiro/DegiroPDFExtractorTest.java",
    "raw_url": "https://github.com/buchen/portfolio/raw/dec04a4c5466d9e7ea4b8b52751223035fee693a/name.abuchen.portfolio.tests/src/name/abuchen/portfolio/datatransfer/pdf/degiro/DegiroPDFExtractorTest.java",
    "contents_url": "https://api.github.com/repos/buchen/portfolio/contents/name.abuchen.portfolio.tests/src/name/abuchen/portfolio/datatransfer/pdf/degiro/DegiroPDFExtractorTest.java?ref=dec04a4c5466d9e7ea4b8b52751223035fee693a",
    "patch": "@@ -1780,6 +1780,332 @@ public void testTransaktionsuebersicht17()\n                         is(Money.of(CurrencyUnit.EUR, Values.Amount.factorize(0.64))));\r\n     }\r\n \r\n+    @Test\r\n+    public void testTransaktionsuebersicht18()\r\n+    {\r\n+        DegiroPDFExtractor extractor = new DegiroPDFExtractor(new Client());\r\n+    \r\n+        List<Exception> errors = new ArrayList<>();\r\n+    \r\n+        List<Item> results = extractor\r\n+                        .extract(PDFInputFile.loadTestCase(getClass(), \"DegiroTransaktionsuebersicht18.txt\"), errors);\r\n+    \r\n+        assertThat(errors, empty());\r\n+        assertThat(results.size(), is(15));\r\n+        new AssertImportActions().check(results, CurrencyUnit.EUR);\r\n+    \r\n+        // check security\r\n+        Security security = results.stream().filter(i -> i instanceof SecurityItem).findFirst()\r\n+                        .orElseThrow(IllegalArgumentException::new).getSecurity();\r\n+        assertThat(security.getName(), is(\"IROBOT CORPORATION - C\"));\r\n+        assertThat(security.getIsin(), is(\"US4627261005\"));\r\n+        assertThat(security.getCurrencyCode(), is(\"USD\"));\r\n+    \r\n+        // check 1st buy transaction\r\n+        BuySellEntry entry = (BuySellEntry) results.stream().filter(i -> i instanceof BuySellEntryItem)\r\n+                        .collect(Collectors.toList()).get(0).getSubject();\r\n+    \r\n+        assertThat(entry.getPortfolioTransaction().getType(), is(PortfolioTransaction.Type.BUY));\r\n+        assertThat(entry.getPortfolioTransaction().getMonetaryAmount(),\r\n+                        is(Money.of(CurrencyUnit.EUR, Values.Amount.factorize(511.82))));\r\n+\r\n+        Unit grossValueUnit1 = entry.getPortfolioTransaction().getUnit(Unit.Type.GROSS_VALUE)\r\n+                        .orElseThrow(IllegalArgumentException::new);\r\n+        assertThat(grossValueUnit1.getForex(), is(Money.of(CurrencyUnit.USD, Values.Amount.factorize(628.20))));\r\n+        assertThat(entry.getPortfolioTransaction().getDateTime(), is(LocalDateTime.parse(\"2018-03-16T20:45\")));\r\n+        assertThat(entry.getPortfolioTransaction().getShares(), is(Values.Share.factorize(9)));\r\n+        assertThat(entry.getPortfolioTransaction().getUnitSum(Unit.Type.FEE),\r\n+                        is(Money.of(CurrencyUnit.EUR, Values.Amount.factorize(0.53))));\r\n+\r\n+        // check 2nd buy transaction\r\n+        entry = (BuySellEntry) results.stream().filter(i -> i instanceof BuySellEntryItem).collect(Collectors.toList())\r\n+                        .get(4).getSubject();\r\n+\r\n+        assertThat(entry.getPortfolioTransaction().getType(), is(PortfolioTransaction.Type.BUY));\r\n+        assertThat(entry.getPortfolioTransaction().getMonetaryAmount(),\r\n+                        is(Money.of(CurrencyUnit.EUR, Values.Amount.factorize(644.00))));\r\n+\r\n+        assertThat(entry.getPortfolioTransaction().getUnitSum(Unit.Type.FEE),\r\n+                        is(Money.of(CurrencyUnit.EUR, Values.Amount.factorize(0.00))));\r\n+        assertThat(entry.getPortfolioTransaction().getDateTime(), is(LocalDateTime.parse(\"2018-03-13T00:00\")));\r\n+        assertThat(entry.getPortfolioTransaction().getShares(), is(Values.Share.factorize(175)));\r\n+    }\r\n+\r\n+    @Test\r\n+    public void testTransaktionsuebersicht19()\r\n+    {\r\n+        DegiroPDFExtractor extractor = new DegiroPDFExtractor(new Client());\r\n+    \r\n+        List<Exception> errors = new ArrayList<>();\r\n+    \r\n+        List<Item> results = extractor\r\n+                        .extract(PDFInputFile.loadTestCase(getClass(), \"DegiroTransaktionsuebersicht19.txt\"), errors);\r\n+    \r\n+        assertThat(errors, empty());\r\n+        assertThat(results.size(), is(20));\r\n+        new AssertImportActions().check(results, CurrencyUnit.EUR);\r\n+    \r\n+        // check security\r\n+        Security security = results.stream().filter(i -> i instanceof SecurityItem).findFirst()\r\n+                        .orElseThrow(IllegalArgumentException::new).getSecurity();\r\n+        assertThat(security.getName(), is(\"DEUTSCHE TELEKOM AG\"));\r\n+        assertThat(security.getIsin(), is(\"DE0005557508\"));\r\n+        assertThat(security.getCurrencyCode(), is(\"EUR\"));\r\n+    \r\n+        // check 1st buy transaction\r\n+        BuySellEntry entry = (BuySellEntry) results.stream().filter(i -> i instanceof BuySellEntryItem)\r\n+                        .collect(Collectors.toList()).get(0).getSubject();\r\n+    \r\n+        assertThat(entry.getPortfolioTransaction().getType(), is(PortfolioTransaction.Type.BUY));\r\n+        assertThat(entry.getPortfolioTransaction().getMonetaryAmount(),\r\n+                        is(Money.of(CurrencyUnit.EUR, Values.Amount.factorize(782.56))));\r\n+\r\n+        assertThat(entry.getPortfolioTransaction().getDateTime(), is(LocalDateTime.parse(\"2017-08-01T17:21\")));\r\n+        assertThat(entry.getPortfolioTransaction().getShares(), is(Values.Share.factorize(50)));\r\n+        assertThat(entry.getPortfolioTransaction().getUnitSum(Unit.Type.FEE), \r\n+                        is(Money.of(CurrencyUnit.EUR, Values.Amount.factorize(2.06))));\r\n+    }\r\n+\r\n+    @Test\r\n+    public void testTransaktionsuebersicht20()\r\n+    {\r\n+        DegiroPDFExtractor extractor = new DegiroPDFExtractor(new Client());\r\n+    \r\n+        List<Exception> errors = new ArrayList<>();\r\n+    \r\n+        List<Item> results = extractor\r\n+                        .extract(PDFInputFile.loadTestCase(getClass(), \"DegiroTransaktionsuebersicht20.txt\"), errors);\r\n+    \r\n+        assertThat(errors, empty());\r\n+        assertThat(results.size(), is(242));\r\n+        new AssertImportActions().check(results, CurrencyUnit.EUR);\r\n+    \r\n+        // check security\r\n+        Security security = results.stream().filter(i -> i instanceof SecurityItem).findFirst()\r\n+                        .orElseThrow(IllegalArgumentException::new).getSecurity();\r\n+        assertThat(security.getName(), is(\"INVESCO EQQQ NASDAQ-100\"));\r\n+        assertThat(security.getIsin(), is(\"IE0032077012\"));\r\n+        assertThat(security.getCurrencyCode(), is(\"EUR\"));\r\n+    \r\n+        // check 1st buy transaction\r\n+        BuySellEntry entry = (BuySellEntry) results.stream().filter(i -> i instanceof BuySellEntryItem)\r\n+                        .collect(Collectors.toList()).get(0).getSubject();\r\n+    \r\n+        assertThat(entry.getPortfolioTransaction().getType(), is(PortfolioTransaction.Type.BUY));\r\n+        assertThat(entry.getPortfolioTransaction().getMonetaryAmount(),\r\n+                        is(Money.of(CurrencyUnit.EUR, Values.Amount.factorize(2082.62))));\r\n+\r\n+        assertThat(entry.getPortfolioTransaction().getDateTime(), is(LocalDateTime.parse(\"2021-02-23T15:56\")));\r\n+        assertThat(entry.getPortfolioTransaction().getShares(), is(Values.Share.factorize(8)));\r\n+        assertThat(entry.getPortfolioTransaction().getUnitSum(Unit.Type.FEE), \r\n+                        is(Money.of(CurrencyUnit.EUR, Values.Amount.factorize(2.62))));\r\n+\r\n+        // check buy/sell transaction\r\n+        entry = (BuySellEntry) results.stream().filter(i -> i instanceof BuySellEntryItem)\r\n+                        .collect(Collectors.toList()).get(12).getSubject();\r\n+    \r\n+        assertThat(entry.getPortfolioTransaction().getType(), is(PortfolioTransaction.Type.SELL));\r\n+        assertThat(entry.getPortfolioTransaction().getMonetaryAmount(),\r\n+                        is(Money.of(CurrencyUnit.EUR, Values.Amount.factorize(1158.52))));\r\n+\r\n+        Unit grossValueUnit1 = entry.getPortfolioTransaction().getUnit(Unit.Type.GROSS_VALUE)\r\n+                        .orElseThrow(IllegalArgumentException::new);\r\n+        assertThat(grossValueUnit1.getForex(), is(Money.of(CurrencyUnit.USD, Values.Amount.factorize(1411.20))));\r\n+        assertThat(entry.getPortfolioTransaction().getDateTime(), is(LocalDateTime.parse(\"2021-02-23T15:30\")));\r\n+        assertThat(entry.getPortfolioTransaction().getShares(), is(Values.Share.factorize(224)));\r\n+        assertThat(entry.getPortfolioTransaction().getUnitSum(Unit.Type.FEE),\r\n+                        is(Money.of(CurrencyUnit.EUR, Values.Amount.factorize(0.74))));\r\n+\r\n+        // check buy/sell transaction\r\n+        entry = (BuySellEntry) results.stream().filter(i -> i instanceof BuySellEntryItem)\r\n+                        .collect(Collectors.toList()).get(38).getSubject();\r\n+    \r\n+        assertThat(entry.getPortfolioTransaction().getType(), is(PortfolioTransaction.Type.SELL));\r\n+        assertThat(entry.getPortfolioTransaction().getMonetaryAmount(),\r\n+                        is(Money.of(CurrencyUnit.EUR, Values.Amount.factorize(3108.15))));\r\n+\r\n+        Unit grossValueUnit2 = entry.getPortfolioTransaction().getUnit(Unit.Type.GROSS_VALUE)\r\n+                        .orElseThrow(IllegalArgumentException::new);\r\n+        assertThat(grossValueUnit2.getForex(), is(Money.of(\"GBX\", Values.Amount.factorize(269440.00))));\r\n+        assertThat(entry.getPortfolioTransaction().getDateTime(), is(LocalDateTime.parse(\"2021-02-23T09:42\")));\r\n+        assertThat(entry.getPortfolioTransaction().getShares(), is(Values.Share.factorize(128)));\r\n+        assertThat(entry.getPortfolioTransaction().getUnitSum(Unit.Type.FEE),\r\n+                        is(Money.of(CurrencyUnit.EUR, Values.Amount.factorize(5.56))));\r\n+    }\r\n+\r\n+    @Test\r\n+    public void testTransaktionsuebersicht21()\r\n+    {\r\n+        DegiroPDFExtractor extractor = new DegiroPDFExtractor(new Client());\r\n+    \r\n+        List<Exception> errors = new ArrayList<>();\r\n+    \r\n+        List<Item> results = extractor\r\n+                        .extract(PDFInputFile.loadTestCase(getClass(), \"DegiroTransaktionsuebersicht21.txt\"), errors);\r\n+    \r\n+        assertThat(errors, empty());\r\n+        assertThat(results.size(), is(818));\r\n+        new AssertImportActions().check(results, CurrencyUnit.EUR);\r\n+    \r\n+        // check security\r\n+        Security security = results.stream().filter(i -> i instanceof SecurityItem).findFirst()\r\n+                        .orElseThrow(IllegalArgumentException::new).getSecurity();\r\n+        assertThat(security.getName(), is(\"APHRIA INC. - COMMON\"));\r\n+        assertThat(security.getIsin(), is(\"CA03765K1049\"));\r\n+        assertThat(security.getCurrencyCode(), is(\"USD\"));\r\n+    \r\n+        // check 1st buy transaction\r\n+        BuySellEntry entry = (BuySellEntry) results.stream().filter(i -> i instanceof BuySellEntryItem)\r\n+                        .collect(Collectors.toList()).get(0).getSubject();\r\n+    \r\n+        assertThat(entry.getPortfolioTransaction().getType(), is(PortfolioTransaction.Type.SELL));\r\n+        assertThat(entry.getPortfolioTransaction().getMonetaryAmount(),\r\n+                        is(Money.of(CurrencyUnit.EUR, Values.Amount.factorize(37.81))));\r\n+\r\n+        Unit grossValueUnit1 = entry.getPortfolioTransaction().getUnit(Unit.Type.GROSS_VALUE)\r\n+                        .orElseThrow(IllegalArgumentException::new);\r\n+        assertThat(grossValueUnit1.getForex(), is(Money.of(CurrencyUnit.USD, Values.Amount.factorize(46.00))));\r\n+        assertThat(entry.getPortfolioTransaction().getDateTime(), is(LocalDateTime.parse(\"2021-02-11T15:30\")));\r\n+        assertThat(entry.getPortfolioTransaction().getShares(), is(Values.Share.factorize(2)));\r\n+        assertThat(entry.getPortfolioTransaction().getUnitSum(Unit.Type.FEE),\r\n+                        is(Money.of(CurrencyUnit.EUR, Values.Amount.factorize(0.01))));\r\n+\r\n+        // check buy/sell transaction\r\n+        entry = (BuySellEntry) results.stream().filter(i -> i instanceof BuySellEntryItem)\r\n+                        .collect(Collectors.toList()).get(8).getSubject();\r\n+    \r\n+        assertThat(entry.getPortfolioTransaction().getType(), is(PortfolioTransaction.Type.SELL));\r\n+        assertThat(entry.getPortfolioTransaction().getMonetaryAmount(),\r\n+                        is(Money.of(CurrencyUnit.EUR, Values.Amount.factorize(2614.14))));\r\n+\r\n+        assertThat(entry.getPortfolioTransaction().getDateTime(), is(LocalDateTime.parse(\"2021-02-11T14:35\")));\r\n+        assertThat(entry.getPortfolioTransaction().getShares(), is(Values.Share.factorize(64)));\r\n+        assertThat(entry.getPortfolioTransaction().getUnitSum(Unit.Type.FEE), \r\n+                        is(Money.of(CurrencyUnit.EUR, Values.Amount.factorize(9.86))));\r\n+\r\n+        // check buy/sell transaction\r\n+        entry = (BuySellEntry) results.stream().filter(i -> i instanceof BuySellEntryItem)\r\n+                        .collect(Collectors.toList()).get(281).getSubject();\r\n+    \r\n+        assertThat(entry.getPortfolioTransaction().getType(), is(PortfolioTransaction.Type.BUY));\r\n+        assertThat(entry.getPortfolioTransaction().getMonetaryAmount(),\r\n+                        is(Money.of(CurrencyUnit.EUR, Values.Amount.factorize(12245.87))));\r\n+\r\n+        Unit grossValueUnit2 = entry.getPortfolioTransaction().getUnit(Unit.Type.GROSS_VALUE)\r\n+                        .orElseThrow(IllegalArgumentException::new);\r\n+        assertThat(grossValueUnit2.getForex(), is(Money.of(CurrencyUnit.USD, Values.Amount.factorize(14950.40))));\r\n+        assertThat(entry.getPortfolioTransaction().getDateTime(), is(LocalDateTime.parse(\"2021-01-14T15:36\")));\r\n+        assertThat(entry.getPortfolioTransaction().getShares(), is(Values.Share.factorize(2048)));\r\n+        assertThat(entry.getPortfolioTransaction().getUnitSum(Unit.Type.FEE),\r\n+                        is(Money.of(CurrencyUnit.EUR, Values.Amount.factorize(0.00))));\r\n+\r\n+        // check buy/sell transaction\r\n+        entry = (BuySellEntry) results.stream().filter(i -> i instanceof BuySellEntryItem)\r\n+                        .collect(Collectors.toList()).get(412).getSubject();\r\n+    \r\n+        assertThat(entry.getPortfolioTransaction().getType(), is(PortfolioTransaction.Type.SELL));\r\n+        assertThat(entry.getPortfolioTransaction().getMonetaryAmount(),\r\n+                        is(Money.of(CurrencyUnit.EUR, Values.Amount.factorize(4865.22))));\r\n+\r\n+        Unit grossValueUnit3 = entry.getPortfolioTransaction().getUnit(Unit.Type.GROSS_VALUE)\r\n+                        .orElseThrow(IllegalArgumentException::new);\r\n+        assertThat(grossValueUnit3.getForex(), is(Money.of(\"HKD\", Values.Amount.factorize(46240.00))));\r\n+        assertThat(entry.getPortfolioTransaction().getDateTime(), is(LocalDateTime.parse(\"2020-12-22T04:41\")));\r\n+        assertThat(entry.getPortfolioTransaction().getShares(), is(Values.Share.factorize(8000)));\r\n+        assertThat(entry.getPortfolioTransaction().getUnitSum(Unit.Type.FEE),\r\n+                        is(Money.of(CurrencyUnit.EUR, Values.Amount.factorize(2.93))));\r\n+\r\n+        // check buy/sell transaction\r\n+        entry = (BuySellEntry) results.stream().filter(i -> i instanceof BuySellEntryItem)\r\n+                        .collect(Collectors.toList()).get(506).getSubject();\r\n+    \r\n+        assertThat(entry.getPortfolioTransaction().getType(), is(PortfolioTransaction.Type.BUY));\r\n+        assertThat(entry.getPortfolioTransaction().getMonetaryAmount(),\r\n+                        is(Money.of(CurrencyUnit.EUR, Values.Amount.factorize(791.47))));\r\n+\r\n+        Unit grossValueUnit4 = entry.getPortfolioTransaction().getUnit(Unit.Type.GROSS_VALUE)\r\n+                        .orElseThrow(IllegalArgumentException::new);\r\n+        assertThat(grossValueUnit4.getForex(), is(Money.of(\"GBX\", Values.Amount.factorize(72267.00))));\r\n+        assertThat(entry.getPortfolioTransaction().getDateTime(), is(LocalDateTime.parse(\"2020-12-14T00:00\")));\r\n+        assertThat(entry.getPortfolioTransaction().getShares(), is(Values.Share.factorize(51)));\r\n+        assertThat(entry.getPortfolioTransaction().getUnitSum(Unit.Type.FEE),\r\n+                        is(Money.of(CurrencyUnit.EUR, Values.Amount.factorize(0.00))));\r\n+    }\r\n+\r\n+\r\n+    @Test\r\n+    public void testTransaktionsuebersicht22()\r\n+    {\r\n+        DegiroPDFExtractor extractor = new DegiroPDFExtractor(new Client());\r\n+    \r\n+        List<Exception> errors = new ArrayList<>();\r\n+    \r\n+        List<Item> results = extractor\r\n+                        .extract(PDFInputFile.loadTestCase(getClass(), \"DegiroTransaktionsuebersicht22.txt\"), errors);\r\n+    \r\n+        assertThat(errors, empty());\r\n+        assertThat(results.size(), is(1237));\r\n+    \r\n+        // check security\r\n+        Security security = results.stream().filter(i -> i instanceof SecurityItem).findFirst()\r\n+                        .orElseThrow(IllegalArgumentException::new).getSecurity();\r\n+        assertThat(security.getName(), is(\"AURORA CANNABIS\"));\r\n+        assertThat(security.getIsin(), is(\"CA05156X8843\"));\r\n+        assertThat(security.getCurrencyCode(), is(\"EUR\"));\r\n+    \r\n+        // check 1st buy transaction\r\n+        BuySellEntry entry = (BuySellEntry) results.stream().filter(i -> i instanceof BuySellEntryItem)\r\n+                        .collect(Collectors.toList()).get(0).getSubject();\r\n+    \r\n+        assertThat(entry.getPortfolioTransaction().getType(), is(PortfolioTransaction.Type.SELL));\r\n+        assertThat(entry.getPortfolioTransaction().getMonetaryAmount(),\r\n+                        is(Money.of(CurrencyUnit.EUR, Values.Amount.factorize(1853.22))));\r\n+\r\n+        assertThat(entry.getPortfolioTransaction().getDateTime(), is(LocalDateTime.parse(\"2020-11-24T15:43\")));\r\n+        assertThat(entry.getPortfolioTransaction().getShares(), is(Values.Share.factorize(256)));\r\n+        assertThat(entry.getPortfolioTransaction().getUnitSum(Unit.Type.FEE), \r\n+                        is(Money.of(CurrencyUnit.EUR, Values.Amount.factorize(9.18))));\r\n+\r\n+        // check buy/sell transaction\r\n+        entry = (BuySellEntry) results.stream().filter(i -> i instanceof BuySellEntryItem)\r\n+                        .collect(Collectors.toList()).get(234).getSubject();\r\n+    \r\n+        assertThat(entry.getPortfolioTransaction().getType(), is(PortfolioTransaction.Type.BUY));\r\n+        assertThat(entry.getPortfolioTransaction().getMonetaryAmount(),\r\n+                        is(Money.of(CurrencyUnit.EUR, Values.Amount.factorize(1342.27))));\r\n+\r\n+        assertThat(entry.getPortfolioTransaction().getDateTime(), is(LocalDateTime.parse(\"2020-10-06T12:47\")));\r\n+        assertThat(entry.getPortfolioTransaction().getShares(), is(Values.Share.factorize(128)));\r\n+        assertThat(entry.getPortfolioTransaction().getUnitSum(Unit.Type.FEE), \r\n+                        is(Money.of(CurrencyUnit.EUR, Values.Amount.factorize(4.67))));\r\n+\r\n+        // check buy/sell transaction\r\n+        entry = (BuySellEntry) results.stream().filter(i -> i instanceof BuySellEntryItem)\r\n+                        .collect(Collectors.toList()).get(646).getSubject();\r\n+    \r\n+        assertThat(entry.getPortfolioTransaction().getType(), is(PortfolioTransaction.Type.BUY));\r\n+        assertThat(entry.getPortfolioTransaction().getMonetaryAmount(),\r\n+                        is(Money.of(CurrencyUnit.EUR, Values.Amount.factorize(2407.86))));\r\n+\r\n+        assertThat(entry.getPortfolioTransaction().getDateTime(), is(LocalDateTime.parse(\"2020-07-22T00:00\")));\r\n+        assertThat(entry.getPortfolioTransaction().getShares(), is(Values.Share.factorize(21)));\r\n+        assertThat(entry.getPortfolioTransaction().getUnitSum(Unit.Type.FEE), \r\n+                        is(Money.of(CurrencyUnit.EUR, Values.Amount.factorize(0.00))));\r\n+\r\n+        // check buy/sell transaction\r\n+        entry = (BuySellEntry) results.stream().filter(i -> i instanceof BuySellEntryItem)\r\n+                        .collect(Collectors.toList()).get(851).getSubject();\r\n+    \r\n+        assertThat(entry.getPortfolioTransaction().getType(), is(PortfolioTransaction.Type.BUY));\r\n+        assertThat(entry.getPortfolioTransaction().getMonetaryAmount(),\r\n+                        is(Money.of(CurrencyUnit.EUR, Values.Amount.factorize(8.93))));\r\n+\r\n+        assertThat(entry.getPortfolioTransaction().getDateTime(), is(LocalDateTime.parse(\"2020-02-28T09:00\")));\r\n+        assertThat(entry.getPortfolioTransaction().getShares(), is(Values.Share.factorize(1)));\r\n+        assertThat(entry.getPortfolioTransaction().getUnitSum(Unit.Type.FEE), \r\n+                        is(Money.of(CurrencyUnit.EUR, Values.Amount.factorize(0.00))));\r\n+    }\r\n+\r\n     @Test\r\n     public void testTransacties1()\r\n     {\r"
  },
  {
    "sha": "512bf8fd7d892202985023598275c39521e04f67",
    "filename": "name.abuchen.portfolio.tests/src/name/abuchen/portfolio/datatransfer/pdf/degiro/DegiroTransaktionsuebersicht18.txt",
    "status": "added",
    "additions": 31,
    "deletions": 0,
    "changes": 31,
    "blob_url": "https://github.com/buchen/portfolio/blob/dec04a4c5466d9e7ea4b8b52751223035fee693a/name.abuchen.portfolio.tests/src/name/abuchen/portfolio/datatransfer/pdf/degiro/DegiroTransaktionsuebersicht18.txt",
    "raw_url": "https://github.com/buchen/portfolio/raw/dec04a4c5466d9e7ea4b8b52751223035fee693a/name.abuchen.portfolio.tests/src/name/abuchen/portfolio/datatransfer/pdf/degiro/DegiroTransaktionsuebersicht18.txt",
    "contents_url": "https://api.github.com/repos/buchen/portfolio/contents/name.abuchen.portfolio.tests/src/name/abuchen/portfolio/datatransfer/pdf/degiro/DegiroTransaktionsuebersicht18.txt?ref=dec04a4c5466d9e7ea4b8b52751223035fee693a",
    "patch": "@@ -0,0 +1,31 @@\n+PDF Autor: ''\r\n+PDFBox Version: 1.8.16\r\n+-----------------------------------------\r\n+Herr Tobias Brandt\r\n+Gazertstraße 58 A\r\n+21073 Hamburg\r\n+Germany\r\n+Benutzername: ********mbe\r\n+(31009436)\r\n+Transaktionsübersicht von 01-03-2018 bis 16-03-2018\r\n+Datum Uhrzeit Produkt ISIN\r\n+Referen Ausführungso Anzahl Kurs Wert in Wert Wechse Transaktionszbörse rt Lokalwährung lkurs kosten Gesamt\r\n+16-03-2018 20:45 IROBOT CORPORATION - C US4627261005 NDQ XNAS 9 69,80 USD -628,20 USD -511,29 EUR 1,2274 -0,53 EUR -511,82 EUR\r\n+16-03-2018 10:40 BAUMOT GROUP AG DE000A2G8Y89 XET XETR -161 3,1105 EUR 500,79 EUR 500,79 EUR -0,04 EUR 500,75 EUR\r\n+16-03-2018 10:40 BAUMOT GROUP AG DE000A2G8Y89 XET XETR -14 3,135 EUR 43,89 EUR 43,89 EUR -2,00 EUR 41,89 EUR\r\n+13-03-2018 00:00 BAUMOT GROUP AG O.N DE000A2DAM11 XET -350 1,84 EUR 644,00 EUR 644,00 EUR 644,00 EUR\r\n+13-03-2018 00:00 BAUMOT GROUP AG DE000A2G8Y89 XET 175 3,68 EUR -644,00 EUR -644,00 EUR -644,00 EUR\r\n+02-03-2018 00:00 NORAM VENTURES INC CA65542J1066 FRA -2500 0,029 EUR 72,50 EUR 72,50 EUR 72,50 EUR\r\n+02-03-2018 00:00 NORAM VENTURES INC. CA65542J2056 FRA 250 0,29 EUR -72,50 EUR -72,50 EUR -72,50 EUR\r\n+01-03-2018 11:26 BAUMOT GROUP AG O.N DE000A2DAM11 XET XETR 350 2,35 EUR -822,50 EUR -822,50 EUR -2,07 EUR -824,57 EUR\r\n+01-03-2018 11:23 EVOTEC SE DE0005664809 XET XETR -56 14,375 EUR 805,00 EUR 805,00 EUR -2,06 EUR 802,94 EUR\r\n+DEGIRO B.V. DEGIRO B.V. ist als\r\n+Amstelplein 1 E Investmentgesellschaft bei der\r\n+1096 HA Amsterdam kundenservice@degiro.de niederländischen Seite 1 / 1\r\n+I www.degiro.de Finanzaufsichtsbehörde (AFM) Konto 2021-03-15\r\n+registriert.\r\n+DEGIRO B.V. DEGIRO B.V. ist als\r\n+Amstelplein 1 E Investmentgesellschaft bei der\r\n+1096 HA Amsterdam kundenservice@degiro.de niederländischen Seite 1 / 1\r\n+I www.degiro.de Finanzaufsichtsbehörde (AFM) Konto 2021-03-15\r\n+registriert.\r"
  },
  {
    "sha": "ae53c336b151626f31f556e2cd7b86c670fb821b",
    "filename": "name.abuchen.portfolio.tests/src/name/abuchen/portfolio/datatransfer/pdf/degiro/DegiroTransaktionsuebersicht19.txt",
    "status": "added",
    "additions": 29,
    "deletions": 0,
    "changes": 29,
    "blob_url": "https://github.com/buchen/portfolio/blob/dec04a4c5466d9e7ea4b8b52751223035fee693a/name.abuchen.portfolio.tests/src/name/abuchen/portfolio/datatransfer/pdf/degiro/DegiroTransaktionsuebersicht19.txt",
    "raw_url": "https://github.com/buchen/portfolio/raw/dec04a4c5466d9e7ea4b8b52751223035fee693a/name.abuchen.portfolio.tests/src/name/abuchen/portfolio/datatransfer/pdf/degiro/DegiroTransaktionsuebersicht19.txt",
    "contents_url": "https://api.github.com/repos/buchen/portfolio/contents/name.abuchen.portfolio.tests/src/name/abuchen/portfolio/datatransfer/pdf/degiro/DegiroTransaktionsuebersicht19.txt?ref=dec04a4c5466d9e7ea4b8b52751223035fee693a",
    "patch": "@@ -0,0 +1,29 @@\n+PDF Autor: ''\r\n+PDFBox Version: 1.8.16\r\n+-----------------------------------------\r\n+Herr Tobias Brandt\r\n+Gazertstraße 58 A\r\n+21073 Hamburg\r\n+Germany\r\n+Benutzername: ********mbe\r\n+(31009436)\r\n+Transaktionsübersicht von 01-01-2017 bis 01-08-2017\r\n+Datum Uhrzei Produkt ISIN Referen Ausführungsot zbörse rt Anzahl Kurs\r\n+Wert in Wert Wechse TransaktionsLokalwährung lkurs kosten Gesamt\r\n+01-08-2017 17:21 DEUTSCHE TELEKOM AG DE0005557508 XET 50 15,61 EUR -780,50 EUR -780,50 EUR -2,06 EUR -782,56 EUR\r\n+01-08-2017 16:32 CECONOMY AG DE0007257503 XET 72 9,45 EUR -680,40 EUR -680,40 EUR -2,05 EUR -682,45 EUR\r\n+01-08-2017 16:15 NIKE INC. COMMON STOC US6541061031 NSY -29 59,15 USD 1.715,35 USD 1.453,42 EUR 1,1802 -0,60 EUR 1.452,82 EUR\r\n+30-06-2017 15:43 NIKE INC. COMMON STOC US6541061031 NSY 29 57,68 USD -1.672,72 USD -1.465,30 EUR 1,1416 -0,60 EUR -1.465,90 EUR\r\n+30-06-2017 11:37 BAYER AG DE000BAY0017 XET -13 113,20 EUR 1.471,60 EUR 1.471,60 EUR -2,12 EUR 1.469,48 EUR\r\n+18-05-2017 11:03 WIRECARD AG DE0007472060 XET 9 52,73 EUR -474,57 EUR -474,57 EUR -2,04 EUR -476,61 EUR\r\n+18-05-2017 10:52 E.ON SE DE000ENAG999 XET -66 7,16 EUR 472,56 EUR 472,56 EUR -2,04 EUR 470,52 EUR\r\n+05-05-2017 16:33 E.ON SE DE000ENAG999 XET 66 7,045 EUR -464,97 EUR -464,97 EUR -2,04 EUR -467,01 EUR\r\n+05-05-2017 15:11 BYD CO. LTD H        YC 1 CNE100000296 XET -87 5,15 EUR 448,05 EUR 448,05 EUR -2,04 EUR 446,01 EUR\r\n+08-02-2017 11:14 BYD CO. LTD H        YC 1 CNE100000296 XET 87 5,615 EUR -488,51 EUR -488,51 EUR -2,04 EUR -490,55 EUR\r\n+08-02-2017 10:56 NORDEX SE DE000A0D6554 XET -25 19,35 EUR 483,75 EUR 483,75 EUR -2,04 EUR 481,71 EUR\r\n+24-01-2017 16:41 NORDEX SE DE000A0D6554 XET 25 19,65 EUR -491,25 EUR -491,25 EUR -2,04 EUR -493,29 EUR\r\n+DEGIRO B.V. DEGIRO B.V. ist als\r\n+Amstelplein 1 E Investmentgesellschaft bei der\r\n+1096 HA Amsterdam kundenservice@degiro.de niederländischen Seite 1 / 1\r\n+I www.degiro.de Finanzaufsichtsbehörde (AFM) Konto 2021-03-15\r\n+registriert.\r"
  },
  {
    "sha": "b1106c5fca25aca9d580726aaac32c859f88caf9",
    "filename": "name.abuchen.portfolio.tests/src/name/abuchen/portfolio/datatransfer/pdf/degiro/DegiroTransaktionsuebersicht20.txt",
    "status": "added",
    "additions": 449,
    "deletions": 0,
    "changes": 449,
    "blob_url": "https://github.com/buchen/portfolio/blob/dec04a4c5466d9e7ea4b8b52751223035fee693a/name.abuchen.portfolio.tests/src/name/abuchen/portfolio/datatransfer/pdf/degiro/DegiroTransaktionsuebersicht20.txt",
    "raw_url": "https://github.com/buchen/portfolio/raw/dec04a4c5466d9e7ea4b8b52751223035fee693a/name.abuchen.portfolio.tests/src/name/abuchen/portfolio/datatransfer/pdf/degiro/DegiroTransaktionsuebersicht20.txt",
    "contents_url": "https://api.github.com/repos/buchen/portfolio/contents/name.abuchen.portfolio.tests/src/name/abuchen/portfolio/datatransfer/pdf/degiro/DegiroTransaktionsuebersicht20.txt?ref=dec04a4c5466d9e7ea4b8b52751223035fee693a",
    "patch": "@@ -0,0 +1,449 @@\n+PDF author: ''\r\n+PDFBox Version: 1.8.16\r\n+-----------------------------------------\r\n+Name\r\n+Surname\r\n+address\r\n+address\r\n+username\r\n+********\r\n+Transakcje od 01-03-2015 do 23-02-2021\r\n+Data Czas Produkt ISIN Giełda Miejscereferenc wykonania Liczba Kurs Wartość lokalna Wartość\r\n+Kurs Opłata\r\n+wymian transakcyjna Razem\r\n+23-02-2021 15:56 INVESCO EQQQ NASDAQ-100 IE0032077012 XET XETA 8 260,00 EUR -2 080,00 EUR -2 080,00 EUR -2,62 EUR -2 082,62 EUR\r\n+01-08-2017 16:32 CECONOMY AG DE0007257503 XET 72 9,45 EUR -680,40 EUR -680,40 EUR -2,05 EUR -682,45 EUR\r\n+01-08-2017 16:15 NIKE INC. COMMON STOC US6541061031 NSY -29 59,15 USD 1.715,35 USD 1.453,42 EUR 1,1802 -0,60 EUR 1.452,82 EUR\r\n+30-06-2017 15:43 NIKE INC. COMMON STOC US6541061031 NSY 29 57,68 USD -1.672,72 USD -1.465,30 EUR 1,1416 -0,60 EUR -1.465,90 EUR\r\n+30-06-2017 11:37 BAYER AG DE000BAY0017 XET -13 113,20 EUR 1.471,60 EUR 1.471,60 EUR -2,12 EUR 1.469,48 EUR\r\n+18-05-2017 11:03 WIRECARD AG DE0007472060 XET 9 52,73 EUR -474,57 EUR -474,57 EUR -2,04 EUR -476,61 EUR\r\n+18-05-2017 10:52 E.ON SE DE000ENAG999 XET -66 7,16 EUR 472,56 EUR 472,56 EUR -2,04 EUR 470,52 EUR\r\n+05-05-2017 16:33 E.ON SE DE000ENAG999 XET 66 7,045 EUR -464,97 EUR -464,97 EUR -2,04 EUR -467,01 EUR\r\n+05-05-2017 15:11 BYD CO. LTD H        YC 1 CNE100000296 XET -87 5,15 EUR 448,05 EUR 448,05 EUR -2,04 EUR 446,01 EUR\r\n+08-02-2017 11:14 BYD CO. LTD H        YC 1 CNE100000296 XET 87 5,615 EUR -488,51 EUR -488,51 EUR -2,04 EUR -490,55 EUR\r\n+08-02-2017 10:56 NORDEX SE DE000A0D6554 XET -25 19,35 EUR 483,75 EUR 483,75 EUR -2,04 EUR 481,71 EUR\r\n+24-01-2017 16:41 NORDEX SE DE000A0D6554 XET 25 19,65 EUR -491,25 EUR -491,25 EUR -2,04 EUR -493,29 EUR\r\n+DEGIRO B.V. DEGIRO B.V. jest zarejestrowane jako\r\n+Amstelplein 1 E klienci@degiro.pl firma inwestycyjna i w związku z tym\r\n+1096 HA Amsterdam I www.degiro.pl pozostaje pod nadzorem niderlandzkiej Strona 1 / 113\r\n+Komisji Nadzoru Finansowego Przegląd rachunku 2021-02-23\r\n+(Autoriteit Financiële Markten, AFM).\r\n+\r\n+Name\r\n+Surname\r\n+address\r\n+address\r\n+username\r\n+********\r\n+Data Czas Produkt ISIN Giełda Miejscereferenc wykonania Liczba Kurs Wartość lokalna Wartość\r\n+Kurs Opłata\r\n+wymian transakcyjna Razem\r\n+23-02-2021 15:30 ALTO INGREDIENTS INC US0215131063 NDQ SOHO -224 6,30 USD 1 411,20 USD 1 159,26 EUR 1,2161 -0,74 EUR 1 158,52 EUR\r\n+23-02-2021 15:30 ALTO INGREDIENTS INC US0215131063 NDQ MSPL -800 6,305 USD 5 044,00 USD 4 143,49 EUR 1,2161 -3,14 EUR 4 140,35 EUR\r\n+23-02-2021 15:30 CRONOS GROUP INC. - CO CA22717L1013 NDQ CDED -56 11,00 USD 616,00 USD 506,02 EUR 1,2161 -0,18 EUR 505,84 EUR\r\n+23-02-2021 15:30 CRONOS GROUP INC. - CO CA22717L1013 NDQ CDED -9 11,00 USD 99,00 USD 81,33 EUR 1,2161 -0,03 EUR 81,30 EUR\r\n+23-02-2021 15:30 CRONOS GROUP INC. - CO CA22717L1013 NDQ CDED -10 11,00 USD 110,00 USD 90,36 EUR 1,2161 -0,03 EUR 90,33 EUR\r\n+23-02-2021 15:30 CRONOS GROUP INC. - CO CA22717L1013 NDQ CDED -10 11,00 USD 110,00 USD 90,36 EUR 1,2161 -0,03 EUR 90,33 EUR\r\n+23-02-2021 15:30 CRONOS GROUP INC. - CO CA22717L1013 NDQ CDED -1 11,00 USD 11,00 USD 9,04 EUR 1,2161 9,04 EUR\r\n+23-02-2021 15:30 CRONOS GROUP INC. - CO CA22717L1013 NDQ CDED -2 11,00 USD 22,00 USD 18,07 EUR 1,2161 -0,01 EUR 18,06 EUR\r\n+23-02-2021 15:30 CRONOS GROUP INC. - CO CA22717L1013 NDQ CDED -2 11,00 USD 22,00 USD 18,07 EUR 1,2161 -0,01 EUR 18,06 EUR\r\n+23-02-2021 15:30 CRONOS GROUP INC. - CO CA22717L1013 NDQ CDED -100 11,00 USD 1 100,00 USD 903,62 EUR 1,2161 -0,33 EUR 903,29 EUR\r\n+23-02-2021 15:30 CRONOS GROUP INC. - CO CA22717L1013 NDQ CDED -4 11,00 USD 44,00 USD 36,14 EUR 1,2161 -0,01 EUR 36,13 EUR\r\n+23-02-2021 15:30 CRONOS GROUP INC. - CO CA22717L1013 NDQ CDED -3 11,00 USD 33,00 USD 27,11 EUR 1,2161 -0,01 EUR 27,10 EUR\r\n+23-02-2021 15:30 CRONOS GROUP INC. - CO CA22717L1013 NDQ CDED -10 11,00 USD 110,00 USD 90,36 EUR 1,2161 -0,03 EUR 90,33 EUR\r\n+23-02-2021 15:30 CRONOS GROUP INC. - CO CA22717L1013 NDQ CDED -49 11,00 USD 539,00 USD 442,77 EUR 1,2161 -0,66 EUR 442,11 EUR\r\n+23-02-2021 15:30 UPWORK INC. CMN US91688F1049 NDQ CDED -64 44,77 USD 2 865,28 USD 2 353,74 EUR 1,2161 -0,71 EUR 2 353,03 EUR\r\n+23-02-2021 15:30 MODERNA INC. - COMMON US60770K1079 NDQ XNAS 16 150,00 USD -2 400,00 USD -1 975,47 EUR 1,2137 -0,55 EUR -1 976,02 EUR\r\n+23-02-2021 15:30 ZYNGA INC. - CLASS A C US98986T1088 NDQ CDED -128 11,22 USD 1 436,16 USD 1 179,57 EUR 1,2163 -0,92 EUR 1 178,65 EUR\r\n+23-02-2021 12:15 GREEN THUMB INDS CA39342L1085 FRA FRAB -128 26,84 EUR 3 435,52 EUR 3 435,52 EUR -10,59 EUR 3 424,93 EUR\r\n+23-02-2021 11:37 NEL NO0010081235 OSL XOSL 512 24,00 NOK -12 288,00 NOK -1 187,43 EUR 10,3381 -4,59 EUR -1 192,02 EUR\r\n+DEGIRO B.V. DEGIRO B.V. jest zarejestrowane jako\r\n+Amstelplein 1 E klienci@degiro.pl firma inwestycyjna i w związku z tym\r\n+1096 HA Amsterdam I www.degiro.pl pozostaje pod nadzorem niderlandzkiej Strona 2 / 113\r\n+Komisji Nadzoru Finansowego Przegląd rachunku 2021-02-23\r\n+(Autoriteit Financiële Markten, AFM).\r\n+\r\n+Name\r\n+Surname\r\n+address\r\n+address\r\n+username\r\n+********\r\n+Data Czas Produkt ISIN Giełda Miejscereferenc wykonania Liczba Kurs Wartość lokalna Wartość\r\n+Kurs Opłata\r\n+wymian transakcyjna Razem\r\n+23-02-2021 10:07 MCPHY ENERGY FR0011742329 EPA XPAR -4 27,00 EUR 108,00 EUR 108,00 EUR -0,05 EUR 107,95 EUR\r\n+23-02-2021 10:07 MCPHY ENERGY FR0011742329 EPA XPAR -6 27,00 EUR 162,00 EUR 162,00 EUR -0,08 EUR 161,92 EUR\r\n+23-02-2021 10:07 MCPHY ENERGY FR0011742329 EPA XPAR -1 27,00 EUR 27,00 EUR 27,00 EUR -0,01 EUR 26,99 EUR\r\n+23-02-2021 10:07 MCPHY ENERGY FR0011742329 EPA XPAR -266 27,00 EUR 7 182,00 EUR 7 182,00 EUR -3,59 EUR 7 178,41 EUR\r\n+23-02-2021 10:07 MCPHY ENERGY FR0011742329 EPA XPAR -30 27,00 EUR 810,00 EUR 810,00 EUR -0,41 EUR 809,59 EUR\r\n+23-02-2021 10:07 MCPHY ENERGY FR0011742329 EPA XPAR -1 27,00 EUR 27,00 EUR 27,00 EUR -0,01 EUR 26,99 EUR\r\n+23-02-2021 10:07 MCPHY ENERGY FR0011742329 EPA XPAR -12 27,00 EUR 324,00 EUR 324,00 EUR -4,16 EUR 319,84 EUR\r\n+23-02-2021 09:42 ASTON MARTIN GB00BN7CG237 LSE MESI -128 2 105,00 GBX 269 440,00 GBX 3 113,71 EUR 86,4469 -5,56 EUR 3 108,15 EUR\r\n+22-02-2021 21:27 FUELCELL ENERGY INC. - US35952H6018 NDQ XNAS 256 18,00 USD -4 608,00 USD -3 790,41 EUR 1,2145 -1,34 EUR -3 791,75 EUR\r\n+COMMON STOCK\r\n+22-02-2021 18:27 SOLAREDGE TECHNOLOGIES US83417M1045 NDQ XNAS 16 300,00 USD -4 800,00 USD -3 946,72 EUR 1,215 -0,55 EUR -3 947,27 EUR\r\n+22-02-2021 17:35 NEOEN S.A.EO 2 FR0011675362 FRA FRAB -64 49,00 EUR 3 136,00 EUR 3 136,00 EUR -10,32 EUR 3 125,68 EUR\r\n+22-02-2021 15:30 TUSCAN HOLDINGS CORP. - US90069K1043 NDQ XNAS 128 17,92 USD -2 293,76 USD -1 888,96 EUR 1,2131 -0,92 EUR -1 889,88 EUR\r\n+COMMON STOCK\r\n+22-02-2021 12:30 ISHARES GLOBAL CLEAN IE00B1XNHC34 XET XETA 115 13,112 EUR -1 507,88 EUR -1 507,88 EUR -0,45 EUR -1 508,33 EUR\r\n+ENERGY UCITS ETF USD\r\n+(DIST)\r\n+22-02-2021 12:30 ISHARES GLOBAL CLEAN IE00B1XNHC34 XET XETA 13 13,108 EUR -170,40 EUR -170,40 EUR -2,05 EUR -172,45 EUR\r\n+ENERGY UCITS ETF USD\r\n+(DIST)\r\n+22-02-2021 12:28 MCPHY ENERGY FR0011742329 EPA XPAR 27 30,00 EUR -810,00 EUR -810,00 EUR -0,41 EUR -810,41 EUR\r\n+22-02-2021 12:28 MCPHY ENERGY FR0011742329 EPA XPAR 37 30,00 EUR -1 110,00 EUR -1 110,00 EUR -4,56 EUR -1 114,56 EUR\r\n+22-02-2021 09:43 CIECH SA PLCIECH00018 WSE XWAR 83 35,00 PLN -2 905,00 PLN -646,43 EUR 4,4939 -0,58 EUR -647,01 EUR\r\n+22-02-2021 09:43 CIECH SA PLCIECH00018 WSE XWAR 173 35,00 PLN -6 055,00 PLN -1 347,38 EUR 4,4939 -1,43 EUR -1 348,81 EUR\r\n+DEGIRO B.V. DEGIRO B.V. jest zarejestrowane jako\r\n+Amstelplein 1 E klienci@degiro.pl firma inwestycyjna i w związku z tym\r\n+1096 HA Amsterdam I www.degiro.pl pozostaje pod nadzorem niderlandzkiej Strona 3 / 113\r\n+Komisji Nadzoru Finansowego Przegląd rachunku 2021-02-23\r\n+(Autoriteit Financiële Markten, AFM).\r\n+\r\n+Name\r\n+Surname\r\n+address\r\n+address\r\n+username\r\n+********\r\n+Data Czas Produkt ISIN Giełda Miejscereferenc wykonania Liczba Kurs Wartość lokalna Wartość\r\n+Kurs Opłata\r\n+wymian transakcyjna Razem\r\n+19-02-2021 15:51 ADVANCED MICRO DEVICES US0079031078 NDQ CDED 128 89,20 USD -11 417,60 USD -9 417,35 EUR 1,2112 -0,92 EUR -9 418,27 EUR\r\n+19-02-2021 14:56 MERCATOR MEDICAL SA PLMRCTR00015 WSE XWAR 32 335,00 PLN -10 720,00 PLN -2 392,54 EUR 4,4806 -2,37 EUR -2 394,91 EUR\r\n+19-02-2021 12:32 MERCATOR MEDICAL SA PLMRCTR00015 WSE XWAR 14 340,00 PLN -4 760,00 PLN -1 060,28 EUR 4,4894 -0,95 EUR -1 061,23 EUR\r\n+19-02-2021 12:32 MERCATOR MEDICAL SA PLMRCTR00015 WSE XWAR 18 340,00 PLN -6 120,00 PLN -1 363,27 EUR 4,4892 -1,45 EUR -1 364,72 EUR\r\n+19-02-2021 12:01 NANOGROUP SA PLNNGRP00011 WSE XWAR 946 8,40 PLN -7 946,40 PLN -1 770,00 EUR 4,4895 -1,59 EUR -1 771,59 EUR\r\n+19-02-2021 11:59 NANOGROUP SA PLNNGRP00011 WSE XWAR 78 8,40 PLN -655,20 PLN -145,94 EUR 4,4895 -0,35 EUR -146,29 EUR\r\n+19-02-2021 09:25 IBERDROLA ES0144580Y14 MAD MESI -512 10,50 EUR 5 376,00 EUR 5 376,00 EUR -6,69 EUR 5 369,31 EUR\r\n+19-02-2021 09:00 NEL NO0010081235 OSL XOSL 512 26,00 NOK -13 312,00 NOK -1 300,53 EUR 10,2256 -4,65 EUR -1 305,18 EUR\r\n+18-02-2021 19:56 CANOPY GROWTH CA1380351009 NDQ CDED -1 38,00 USD 38,00 USD 31,39 EUR 1,2094 31,39 EUR\r\n+CORPORATION COMMON\r\n+STOCK\r\n+18-02-2021 19:56 CANOPY GROWTH CA1380351009 NDQ CDED -15 38,00 USD 570,00 USD 470,83 EUR 1,2094 -0,05 EUR 470,78 EUR\r\n+CORPORATION COMMON\r\n+STOCK\r\n+18-02-2021 19:56 CANOPY GROWTH CA1380351009 NDQ CDED -20 38,00 USD 760,00 USD 627,78 EUR 1,2094 -0,07 EUR 627,71 EUR\r\n+CORPORATION COMMON\r\n+STOCK\r\n+18-02-2021 19:56 CANOPY GROWTH CA1380351009 NDQ CDED -50 38,00 USD 1 900,00 USD 1 569,45 EUR 1,2094 -0,17 EUR 1 569,28 EUR\r\n+CORPORATION COMMON\r\n+STOCK\r\n+18-02-2021 19:56 CANOPY GROWTH CA1380351009 NDQ CDED -1 38,00 USD 38,00 USD 31,39 EUR 1,2094 31,39 EUR\r\n+CORPORATION COMMON\r\n+STOCK\r\n+18-02-2021 19:56 CANOPY GROWTH CA1380351009 NDQ CDED -5 38,00 USD 190,00 USD 156,94 EUR 1,2094 -0,02 EUR 156,92 EUR\r\n+CORPORATION COMMON\r\n+STOCK\r\n+18-02-2021 19:56 CANOPY GROWTH CA1380351009 NDQ CDED -100 38,00 USD 3 800,00 USD 3 138,89 EUR 1,2094 -0,83 EUR 3 138,06 EUR\r\n+CORPORATION COMMON\r\n+STOCK\r\n+DEGIRO B.V. DEGIRO B.V. jest zarejestrowane jako\r\n+Amstelplein 1 E klienci@degiro.pl firma inwestycyjna i w związku z tym\r\n+1096 HA Amsterdam I www.degiro.pl pozostaje pod nadzorem niderlandzkiej Strona 4 / 113\r\n+Komisji Nadzoru Finansowego Przegląd rachunku 2021-02-23\r\n+(Autoriteit Financiële Markten, AFM).\r\n+\r\n+Name\r\n+Surname\r\n+address\r\n+address\r\n+username\r\n+********\r\n+Data Czas Produkt ISIN Giełda Miejscereferenc wykonania Liczba Kurs Wartość lokalna Wartość\r\n+Kurs Opłata\r\n+wymian transakcyjna Razem\r\n+18-02-2021 19:12 ARCIMOTO INC US0395871009 NDQ ARCX 128 21,00 USD -2 688,00 USD -2 224,98 EUR 1,2069 -0,92 EUR -2 225,90 EUR\r\n+18-02-2021 18:49 GAMESTOP CORPORATION C US36467W1099 NSY XNYS -16 48,00 USD 768,00 USD 634,28 EUR 1,2096 -0,55 EUR 633,73 EUR\r\n+18-02-2021 18:27 SUNPOWER CORPORATION - US8676524064 NDQ ARCX 64 38,00 USD -2 432,00 USD -2 013,41 EUR 1,2067 -0,71 EUR -2 014,12 EUR\r\n+18-02-2021 18:06 INNOVATIVE INDUSTRIAL US45781V1017 NSY XNYS 16 210,00 USD -3 360,00 USD -2 781,69 EUR 1,2067 -0,55 EUR -2 782,24 EUR\r\n+18-02-2021 18:06 INNOVATIVE INDUSTRIAL US45781V1017 NSY XNYS 32 210,00 USD -6 720,00 USD -5 563,37 EUR 1,2067 -0,61 EUR -5 563,98 EUR\r\n+18-02-2021 16:37 FASTLY INC. CLASS A US31188V1008 NSY XNAS 32 83,00 USD -2 656,00 USD -2 199,95 EUR 1,2061 -0,61 EUR -2 200,56 EUR\r\n+COMMON STOCK\r\n+18-02-2021 16:30 ENERGY FOCUS INC US29268T4094 NDQ CDED -1 5,20 USD 5,20 USD 4,30 EUR 1,2078 4,30 EUR\r\n+18-02-2021 16:30 ENERGY FOCUS INC US29268T4094 NDQ CDED -100 5,20 USD 520,00 USD 430,10 EUR 1,2078 -0,33 EUR 429,77 EUR\r\n+18-02-2021 16:30 ENERGY FOCUS INC US29268T4094 NDQ CDED -182 5,20 USD 946,40 USD 782,79 EUR 1,2078 -0,60 EUR 782,19 EUR\r\n+18-02-2021 16:30 ENERGY FOCUS INC US29268T4094 NDQ CDED -100 5,20 USD 520,00 USD 430,10 EUR 1,2078 -0,33 EUR 429,77 EUR\r\n+18-02-2021 16:30 ENERGY FOCUS INC US29268T4094 NDQ CDED -50 5,20 USD 260,00 USD 215,05 EUR 1,2078 -0,17 EUR 214,88 EUR\r\n+18-02-2021 16:30 ENERGY FOCUS INC US29268T4094 NDQ CDED -42 5,20 USD 218,40 USD 180,64 EUR 1,2078 -0,14 EUR 180,50 EUR\r\n+18-02-2021 16:30 ENERGY FOCUS INC US29268T4094 NDQ CDED -37 5,20 USD 192,40 USD 159,14 EUR 1,2078 -0,62 EUR 158,52 EUR\r\n+18-02-2021 16:29 AVEO PHARMACEUTICALS US0535883070 NDQ XNAS 100 8,40 USD -840,00 USD -696,11 EUR 1,2055 -0,33 EUR -696,44 EUR\r\n+INC. - COMMON STOCK\r\n+18-02-2021 16:29 AVEO PHARMACEUTICALS US0535883070 NDQ XNAS 100 8,40 USD -840,00 USD -696,11 EUR 1,2055 -0,33 EUR -696,44 EUR\r\n+INC. - COMMON STOCK\r\n+18-02-2021 16:29 AVEO PHARMACEUTICALS US0535883070 NDQ XNAS 100 8,40 USD -840,00 USD -696,11 EUR 1,2055 -0,33 EUR -696,44 EUR\r\n+INC. - COMMON STOCK\r\n+18-02-2021 16:29 AVEO PHARMACEUTICALS US0535883070 NDQ BATS 100 8,40 USD -840,00 USD -696,11 EUR 1,2055 -0,33 EUR -696,44 EUR\r\n+INC. - COMMON STOCK\r\n+18-02-2021 16:29 AVEO PHARMACEUTICALS US0535883070 NDQ BATS 100 8,40 USD -840,00 USD -696,11 EUR 1,2055 -0,33 EUR -696,44 EUR\r\n+INC. - COMMON STOCK\r\n+DEGIRO B.V. DEGIRO B.V. jest zarejestrowane jako\r\n+Amstelplein 1 E klienci@degiro.pl firma inwestycyjna i w związku z tym\r\n+1096 HA Amsterdam I www.degiro.pl pozostaje pod nadzorem niderlandzkiej Strona 5 / 113\r\n+Komisji Nadzoru Finansowego Przegląd rachunku 2021-02-23\r\n+(Autoriteit Financiële Markten, AFM).\r\n+Name\r\n+Surname\r\n+address\r\n+address\r\n+username\r\n+********\r\n+Data Czas Produkt ISIN Giełda Miejscereferenc wykonania Liczba Kurs Wartość lokalna Wartość\r\n+Kurs Opłata\r\n+wymian transakcyjna Razem\r\n+18-02-2021 16:29 AVEO PHARMACEUTICALS US0535883070 NDQ MEMX 12 8,40 USD -100,80 USD -83,53 EUR 1,2055 -0,54 EUR -84,07 EUR\r\n+INC. - COMMON STOCK\r\n+18-02-2021 16:28 KINIKSA PHARMACEUTICAL BMG5269C1010 NDQ SOHO 28 22,96 USD -642,88 USD -532,80 EUR 1,2054 -0,09 EUR -532,89 EUR\r\n+18-02-2021 16:28 KINIKSA PHARMACEUTICAL BMG5269C1010 NDQ MSPL 100 22,95 USD -2 295,00 USD -1 902,04 EUR 1,2054 -0,83 EUR -1 902,87 EUR\r\n+18-02-2021 16:25 CORMEDIX INC. COMMON US21900C3088 NDQ CDED 256 14,60 USD -3 737,60 USD -3 097,63 EUR 1,2054 -1,35 EUR -3 098,98 EUR\r\n+STOCK\r\n+18-02-2021 16:22 TILRAY INC-CLASS 2 US88688T1007 NDQ CDED 28 31,70 USD -887,60 USD -735,80 EUR 1,2051 -0,09 EUR -735,89 EUR\r\n+COMMON\r\n+18-02-2021 16:22 TILRAY INC-CLASS 2 US88688T1007 NDQ MSPL 100 31,70 USD -3 170,00 USD -2 627,87 EUR 1,2051 -0,83 EUR -2 628,70 EUR\r\n+COMMON\r\n+18-02-2021 16:11 ISHARES GLOBAL CLEAN IE00B1XNHC34 XET XETA 128 13,35 EUR -1 708,80 EUR -1 708,80 EUR -2,51 EUR -1 711,31 EUR\r\n+ENERGY UCITS ETF USD\r\n+(DIST)\r\n+18-02-2021 15:55 ADVANCED MICRO DEVICES US0079031078 NDQ SOHO -29 88,00 USD 2 552,00 USD 2 110,46 EUR 1,208 -0,10 EUR 2 110,36 EUR\r\n+18-02-2021 15:55 ADVANCED MICRO DEVICES US0079031078 NDQ SOHO -10 88,00 USD 880,00 USD 727,74 EUR 1,208 -0,03 EUR 727,71 EUR\r\n+18-02-2021 15:55 ADVANCED MICRO DEVICES US0079031078 NDQ SOHO -3 88,00 USD 264,00 USD 218,32 EUR 1,208 -0,01 EUR 218,31 EUR\r\n+18-02-2021 15:55 ADVANCED MICRO DEVICES US0079031078 NDQ SOHO -1 88,00 USD 88,00 USD 72,77 EUR 1,208 72,77 EUR\r\n+18-02-2021 15:55 ADVANCED MICRO DEVICES US0079031078 NDQ SOHO -15 88,00 USD 1 320,00 USD 1 091,62 EUR 1,208 -0,05 EUR 1 091,57 EUR\r\n+18-02-2021 15:55 ADVANCED MICRO DEVICES US0079031078 NDQ SOHO -3 88,00 USD 264,00 USD 218,32 EUR 1,208 -0,01 EUR 218,31 EUR\r\n+18-02-2021 15:55 ADVANCED MICRO DEVICES US0079031078 NDQ SOHO -10 88,00 USD 880,00 USD 727,74 EUR 1,208 -0,03 EUR 727,71 EUR\r\n+18-02-2021 15:55 ADVANCED MICRO DEVICES US0079031078 NDQ SOHO -50 88,00 USD 4 400,00 USD 3 638,72 EUR 1,208 -0,17 EUR 3 638,55 EUR\r\n+18-02-2021 15:55 ADVANCED MICRO DEVICES US0079031078 NDQ SOHO -3 88,00 USD 264,00 USD 218,32 EUR 1,208 -0,01 EUR 218,31 EUR\r\n+18-02-2021 15:55 ADVANCED MICRO DEVICES US0079031078 NDQ SOHO -4 88,00 USD 352,00 USD 291,10 EUR 1,208 -0,51 EUR 290,59 EUR\r\n+18-02-2021 15:31 BLOOM ENERGY CORPORATI US0937121079 NSY CDED -128 30,01 USD 3 841,28 USD 3 174,83 EUR 1,2087 -0,92 EUR 3 173,91 EUR\r\n+DEGIRO B.V. DEGIRO B.V. jest zarejestrowane jako\r\n+Amstelplein 1 E klienci@degiro.pl firma inwestycyjna i w związku z tym\r\n+1096 HA Amsterdam I www.degiro.pl pozostaje pod nadzorem niderlandzkiej Strona 6 / 113\r\n+Komisji Nadzoru Finansowego Przegląd rachunku 2021-02-23\r\n+(Autoriteit Financiële Markten, AFM).\r\n+\r\n+Name\r\n+Surname\r\n+address\r\n+address\r\n+username\r\n+********\r\n+Data Czas Produkt ISIN Giełda Miejscereferenc wykonania Liczba Kurs Wartość lokalna Wartość\r\n+Kurs Opłata\r\n+wymian transakcyjna Razem\r\n+18-02-2021 15:30 FUELCELL ENERGY INC. - US35952H6018 NDQ CDED -256 20,00 USD 5 120,00 USD 4 230,99 EUR 1,2089 -1,35 EUR 4 229,64 EUR\r\n+COMMON STOCK\r\n+18-02-2021 15:30 BALLARD POWER SYSTEMS CA0585861085 NDQ CDED -28 29,76 USD 833,28 USD 688,59 EUR 1,2089 -0,09 EUR 688,50 EUR\r\n+18-02-2021 15:30 BALLARD POWER SYSTEMS CA0585861085 NDQ MSPL -100 29,86 USD 2 986,00 USD 2 467,53 EUR 1,2089 -0,83 EUR 2 466,70 EUR\r\n+18-02-2021 15:30 PLUG POWER INC. - COM US72919P2020 NDQ CDED -64 51,38 USD 3 288,32 USD 2 717,58 EUR 1,2088 -0,71 EUR 2 716,87 EUR\r\n+18-02-2021 13:05 MCPHY ENERGY FR0011742329 EPA XPAR 64 30,00 EUR -1 920,00 EUR -1 920,00 EUR -4,96 EUR -1 924,96 EUR\r\n+18-02-2021 10:04 ISHARES GLOBAL CLEAN IE00B1XNHC34 XET XETA 153 13,80 EUR -2 111,40 EUR -2 111,40 EUR -0,63 EUR -2 112,03 EUR\r\n+ENERGY UCITS ETF USD\r\n+(DIST)\r\n+18-02-2021 10:04 ISHARES GLOBAL CLEAN IE00B1XNHC34 XET XETA 56 13,80 EUR -772,80 EUR -772,80 EUR -0,23 EUR -773,03 EUR\r\n+ENERGY UCITS ETF USD\r\n+(DIST)\r\n+18-02-2021 10:04 ISHARES GLOBAL CLEAN IE00B1XNHC34 XET XETA 47 13,80 EUR -648,60 EUR -648,60 EUR -2,19 EUR -650,79 EUR\r\n+ENERGY UCITS ETF USD\r\n+(DIST)\r\n+17-02-2021 17:15 AURORA CANNABIS INC. CA05156X8843 NSY ARCX 128 13,00 USD -1 664,00 USD -1 383,44 EUR 1,2016 -0,93 EUR -1 384,37 EUR\r\n+COMMON SHARES\r\n+17-02-2021 17:15 APHRIA INC. - COMMON CA03765K1049 NDQ BATS 17 20,00 USD -340,00 USD -282,67 EUR 1,2016 -0,06 EUR -282,73 EUR\r\n+SHARES\r\n+17-02-2021 17:15 APHRIA INC. - COMMON CA03765K1049 NDQ BATS 111 20,00 USD -2 220,00 USD -1 845,69 EUR 1,2016 -0,87 EUR -1 846,56 EUR\r\n+SHARES\r\n+17-02-2021 16:12 INNOVATIVE INDUSTRIAL US45781V1017 NSY CDED -32 214,70 USD 6 870,40 USD 5 695,86 EUR 1,205 -0,61 EUR 5 695,25 EUR\r\n+17-02-2021 15:40 ALTO INGREDIENTS INC US0215131063 NDQ XNAS 1024 7,00 USD -7 168,00 USD -5 952,00 EUR 1,2031 -3,90 EUR -5 955,90 EUR\r\n+17-02-2021 15:33 NVIDIA CORPORATION - C US67066G1040 NDQ SOHO -2 599,80 USD 1 199,60 USD 994,02 EUR 1,2056 -0,01 EUR 994,01 EUR\r\n+17-02-2021 15:33 NVIDIA CORPORATION - C US67066G1040 NDQ SOHO -2 599,80 USD 1 199,60 USD 994,02 EUR 1,2056 -0,01 EUR 994,01 EUR\r\n+17-02-2021 15:33 NVIDIA CORPORATION - C US67066G1040 NDQ SOHO -4 599,80 USD 2 399,20 USD 1 988,05 EUR 1,2056 -0,51 EUR 1 987,54 EUR\r\n+17-02-2021 15:31 APHRIA INC. - COMMON CA03765K1049 NDQ CDED -48 19,50 USD 936,00 USD 775,73 EUR 1,2054 -0,16 EUR 775,57 EUR\r\n+SHARES\r\n+DEGIRO B.V. DEGIRO B.V. jest zarejestrowane jako\r\n+Amstelplein 1 E klienci@degiro.pl firma inwestycyjna i w związku z tym\r\n+1096 HA Amsterdam I www.degiro.pl pozostaje pod nadzorem niderlandzkiej Strona 7 / 113\r\n+Komisji Nadzoru Finansowego Przegląd rachunku 2021-02-23\r\n+(Autoriteit Financiële Markten, AFM).\r\n+\r\n+Name\r\n+Surname\r\n+address\r\n+address\r\n+username\r\n+********\r\n+Data Czas Produkt ISIN Giełda Miejscereferenc wykonania Liczba Kurs Wartość lokalna Wartość\r\n+Kurs Opłata\r\n+wymian transakcyjna Razem\r\n+17-02-2021 15:31 APHRIA INC. - COMMON CA03765K1049 NDQ CDED -10 19,50 USD 195,00 USD 161,61 EUR 1,2054 -0,03 EUR 161,58 EUR\r\n+SHARES\r\n+17-02-2021 15:31 APHRIA INC. - COMMON CA03765K1049 NDQ CDED -60 19,50 USD 1 170,00 USD 969,66 EUR 1,2054 -0,20 EUR 969,46 EUR\r\n+SHARES\r\n+17-02-2021 15:31 APHRIA INC. - COMMON CA03765K1049 NDQ CDED -10 19,50 USD 195,00 USD 161,61 EUR 1,2054 -0,53 EUR 161,08 EUR\r\n+SHARES\r\n+17-02-2021 15:30 BLOOM ENERGY CORPORATI US0937121079 NSY XNYS 2 35,00 USD -70,00 USD -58,13 EUR 1,203 -0,01 EUR -58,14 EUR\r\n+17-02-2021 15:30 BLOOM ENERGY CORPORATI US0937121079 NSY XNYS 62 35,00 USD -2 170,00 USD -1 802,03 EUR 1,203 -0,71 EUR -1 802,74 EUR\r\n+17-02-2021 15:30 CAMECO CORPORATION CA13321L1085 NSY XNYS 256 17,00 USD -4 352,00 USD -3 613,72 EUR 1,2031 -1,35 EUR -3 615,07 EUR\r\n+COM\r\n+17-02-2021 15:30 AURORA CANNABIS INC. CA05156X8843 NSY CDED -128 13,31 USD 1 703,68 USD 1 411,84 EUR 1,2055 -0,93 EUR 1 410,91 EUR\r\n+COMMON SHARES\r\n+17-02-2021 09:14 TEN SQUARE GAMES SA PLTSQGM00016 WSE XWAR -32 590,00 PLN 18 880,00 PLN 4 196,58 EUR 4,4989 -4,00 EUR 4 192,58 EUR\r\n+17-02-2021 09:04 MCPHY ENERGY FR0011742329 EPA XPAR 3 31,00 EUR -93,00 EUR -93,00 EUR -0,05 EUR -93,05 EUR\r\n+17-02-2021 09:04 MCPHY ENERGY FR0011742329 EPA XPAR 61 31,00 EUR -1 891,00 EUR -1 891,00 EUR -4,95 EUR -1 895,95 EUR\r\n+16-02-2021 18:04 PLUG POWER INC. - COM US72919P2020 NDQ XNAS 32 60,00 USD -1 920,00 USD -1 585,86 EUR 1,2095 -0,61 EUR -1 586,47 EUR\r\n+16-02-2021 17:57 FUELCELL ENERGY INC. - US35952H6018 NDQ XNAS 128 24,00 USD -3 072,00 USD -2 537,37 EUR 1,2095 -0,92 EUR -2 538,29 EUR\r\n+COMMON STOCK\r\n+16-02-2021 17:56 APPLE INC. - COMMON ST US0378331005 NDQ SOHO -32 133,00 USD 4 256,00 USD 3 508,59 EUR 1,2118 -0,61 EUR 3 507,98 EUR\r\n+16-02-2021 17:49 BALLARD POWER SYSTEMS CA0585861085 NDQ XNAS 64 35,00 USD -2 240,00 USD -1 849,86 EUR 1,2097 -0,71 EUR -1 850,57 EUR\r\n+16-02-2021 16:55 GILEAD SCIENCES INC. US3755581036 NDQ XNAS 32 65,00 USD -2 080,00 USD -1 717,73 EUR 1,2097 -0,61 EUR -1 718,34 EUR\r\n+16-02-2021 15:46 AURORA CANNABIS INC. CA05156X8843 NSY CDED 28 12,99 USD -363,72 USD -300,47 EUR 1,2093 -0,09 EUR -300,56 EUR\r\n+COMMON SHARES\r\n+16-02-2021 15:46 AURORA CANNABIS INC. CA05156X8843 NSY CDED 100 12,985 USD -1 298,50 USD -1 072,70 EUR 1,2093 -0,83 EUR -1 073,53 EUR\r\n+COMMON SHARES\r\n+15-02-2021 13:15 ISHARES STOXX EUROPE 600 DE0002635307 XET XETA 64 41,30 EUR -2 643,20 EUR -2 643,20 EUR -2,79 EUR -2 645,99 EUR\r\n+UCITS ETF (DE)\r\n+DEGIRO B.V. DEGIRO B.V. jest zarejestrowane jako\r\n+Amstelplein 1 E klienci@degiro.pl firma inwestycyjna i w związku z tym\r\n+1096 HA Amsterdam I www.degiro.pl pozostaje pod nadzorem niderlandzkiej Strona 8 / 113\r\n+Komisji Nadzoru Finansowego Przegląd rachunku 2021-02-23\r\n+(Autoriteit Financiële Markten, AFM).\r\n+\r\n+Name\r\n+Surname\r\n+address\r\n+address\r\n+username\r\n+********\r\n+Data Czas Produkt ISIN Giełda Miejscereferenc wykonania Liczba Kurs Wartość lokalna Wartość\r\n+Kurs Opłata\r\n+wymian transakcyjna Razem\r\n+15-02-2021 09:00 CD PROJEKT RED SA PLOPTTC00011 WSE XWAR 64 260,00 PLN -16 640,00 PLN -3 702,80 EUR 4,4939 -3,55 EUR -3 706,35 EUR\r\n+12-02-2021 21:12 ORGANIGRAM HOLDINGS CA68620P1018 NDQ SOHO -5 3,80 USD 19,00 USD 15,65 EUR 1,2126 -0,02 EUR 15,63 EUR\r\n+INC. - COMMON SHARES\r\n+12-02-2021 21:12 ORGANIGRAM HOLDINGS CA68620P1018 NDQ SOHO -7 3,80 USD 26,60 USD 21,91 EUR 1,2126 -0,02 EUR 21,89 EUR\r\n+INC. - COMMON SHARES\r\n+12-02-2021 21:12 ORGANIGRAM HOLDINGS CA68620P1018 NDQ MSPL -500 3,80 USD 1 900,00 USD 1 565,30 EUR 1,2126 -2,15 EUR 1 563,15 EUR\r\n+INC. - COMMON SHARES\r\n+12-02-2021 16:53 HYLIION HOLDINGS CORP US4491091074 NSY SOHO -28 18,50 USD 518,00 USD 426,68 EUR 1,2128 -0,09 EUR 426,59 EUR\r\n+12-02-2021 16:53 HYLIION HOLDINGS CORP US4491091074 NSY MSPL -100 18,50 USD 1 850,00 USD 1 523,86 EUR 1,2128 -0,83 EUR 1 523,03 EUR\r\n+12-02-2021 15:34 HEXO CORP CA4283043079 NSY CDED -256 7,00 USD 1 792,00 USD 1 479,62 EUR 1,2099 -1,35 EUR 1 478,27 EUR\r\n+12-02-2021 15:31 AURORA CANNABIS INC. CA05156X8843 NSY CDED -106 13,02 USD 1 380,12 USD 1 139,45 EUR 1,21 -0,35 EUR 1 139,10 EUR\r\n+COMMON SHARES\r\n+12-02-2021 15:31 AURORA CANNABIS INC. CA05156X8843 NSY CDED -100 13,02 USD 1 302,00 USD 1 074,95 EUR 1,21 -0,33 EUR 1 074,62 EUR\r\n+COMMON SHARES\r\n+12-02-2021 15:31 AURORA CANNABIS INC. CA05156X8843 NSY CDED -39 13,03 USD 508,17 USD 419,55 EUR 1,21 -0,13 EUR 419,42 EUR\r\n+COMMON SHARES\r\n+12-02-2021 15:31 AURORA CANNABIS INC. CA05156X8843 NSY CDED -31 13,03 USD 403,93 USD 333,49 EUR 1,21 -0,10 EUR 333,39 EUR\r\n+COMMON SHARES\r\n+12-02-2021 15:31 AURORA CANNABIS INC. CA05156X8843 NSY CDED -100 13,05 USD 1 305,00 USD 1 077,43 EUR 1,21 -0,33 EUR 1 077,10 EUR\r\n+COMMON SHARES\r\n+12-02-2021 15:31 AURORA CANNABIS INC. CA05156X8843 NSY CDED -100 13,02 USD 1 302,00 USD 1 074,95 EUR 1,21 -0,33 EUR 1 074,62 EUR\r\n+COMMON SHARES\r\n+12-02-2021 15:31 AURORA CANNABIS INC. CA05156X8843 NSY CDED -48 13,02 USD 624,96 USD 515,98 EUR 1,21 -0,16 EUR 515,82 EUR\r\n+COMMON SHARES\r\n+12-02-2021 15:31 AURORA CANNABIS INC. CA05156X8843 NSY CDED -400 13,02 USD 5 208,00 USD 4 299,80 EUR 1,21 -1,32 EUR 4 298,48 EUR\r\n+COMMON SHARES\r\n+12-02-2021 15:31 AURORA CANNABIS INC. CA05156X8843 NSY CDED -100 13,02 USD 1 302,00 USD 1 074,95 EUR 1,21 -0,83 EUR 1 074,12 EUR\r\n+COMMON SHARES\r\n+12-02-2021 15:30 TESLA MOTORS INC. - C US88160R1014 NDQ XNAS 8 800,00 USD -6 400,00 USD -5 294,51 EUR 1,2076 -0,53 EUR -5 295,04 EUR\r\n+12-02-2021 12:55 ML SYSTEM SA PLMLSTM00015 WSE XWAR -128 135,00 PLN 17 280,00 PLN 3 841,71 EUR 4,498 -3,68 EUR 3 838,03 EUR\r\n+DEGIRO B.V. DEGIRO B.V. jest zarejestrowane jako\r\n+Amstelplein 1 E klienci@degiro.pl firma inwestycyjna i w związku z tym\r\n+1096 HA Amsterdam I www.degiro.pl pozostaje pod nadzorem niderlandzkiej Strona 9 / 113\r\n+Komisji Nadzoru Finansowego Przegląd rachunku 2021-02-23\r\n+(Autoriteit Financiële Markten, AFM).\r\n+\r\n+Name\r\n+Surname\r\n+address\r\n+address\r\n+username\r\n+********\r\n+Data Czas Produkt ISIN Giełda Miejsce Liczba Kurs Wartość lokalna Wartość Kurs Opłatareferenc wykonania wymian transakcyjna Razem\r\n+11-02-2021 21:17 ORGANIGRAM HOLDINGS CA68620P1018 NDQ CDED 52 4,00 USD -208,00 USD -171,42 EUR 1,2122 -0,17 EUR -171,59 EUR\r\n+INC. - COMMON SHARES\r\n+11-02-2021 21:17 ORGANIGRAM HOLDINGS CA68620P1018 NDQ CDED 4 4,00 USD -16,00 USD -13,19 EUR 1,2122 -0,01 EUR -13,20 EUR\r\n+INC. - COMMON SHARES\r\n+11-02-2021 21:17 ORGANIGRAM HOLDINGS CA68620P1018 NDQ CDED 100 4,00 USD -400,00 USD -329,65 EUR 1,2122 -0,33 EUR -329,98 EUR\r\n+INC. - COMMON SHARES\r\n+11-02-2021 21:17 ORGANIGRAM HOLDINGS CA68620P1018 NDQ CDED 100 4,00 USD -400,00 USD -329,65 EUR 1,2122 -0,83 EUR -330,48 EUR\r\n+INC. - COMMON SHARES\r\n+11-02-2021 18:57 GREEN THUMB INDS CA39342L1085 FRA FRAB 128 29,00 EUR -3 712,00 EUR -3 712,00 EUR -10,84 EUR -3 722,84 EUR\r\n+11-02-2021 18:25 ENERGY FOCUS INC US29268T4094 NDQ XNAS 256 5,50 USD -1 408,00 USD -1 161,24 EUR 1,2113 -1,35 EUR -1 162,59 EUR\r\n+11-02-2021 17:36 CANOPY GROWTH CA1380351009 NDQ XNAS 6 42,00 USD -252,00 USD -207,82 EUR 1,2114 -0,02 EUR -207,84 EUR\r\n+CORPORATION COMMON\r\n+STOCK\r\n+11-02-2021 17:36 CANOPY GROWTH CA1380351009 NDQ XNAS 58 42,00 USD -2 436,00 USD -2 008,91 EUR 1,2114 -0,69 EUR -2 009,60 EUR\r\n+CORPORATION COMMON\r\n+STOCK\r\n+11-02-2021 16:02 AURORA CANNABIS INC. CA05156X8843 NSY XNAS 56 16,00 USD -896,00 USD -738,24 EUR 1,2125 -0,18 EUR -738,42 EUR\r\n+COMMON SHARES\r\n+11-02-2021 16:02 AURORA CANNABIS INC. CA05156X8843 NSY XNAS 61 16,00 USD -976,00 USD -804,15 EUR 1,2125 -0,20 EUR -804,35 EUR\r\n+COMMON SHARES\r\n+11-02-2021 16:02 AURORA CANNABIS INC. CA05156X8843 NSY XNAS 39 16,00 USD -624,00 USD -514,13 EUR 1,2125 -0,13 EUR -514,26 EUR\r\n+COMMON SHARES\r\n+11-02-2021 16:02 AURORA CANNABIS INC. CA05156X8843 NSY XNAS 100 16,00 USD -1 600,00 USD -1 318,28 EUR 1,2125 -0,83 EUR -1 319,11 EUR\r\n+COMMON SHARES\r\n+11-02-2021 15:58 CRONOS GROUP INC. - CO CA22717L1013 NDQ ARCX 128 13,50 USD -1 728,00 USD -1 424,10 EUR 1,2122 -0,92 EUR -1 425,02 EUR\r\n+11-02-2021 15:47 AURORA CANNABIS INC. CA05156X8843 NSY CDED 56 16,88 USD -945,28 USD -778,33 EUR 1,2133 -0,18 EUR -778,51 EUR\r\n+COMMON SHARES\r\n+11-02-2021 15:47 AURORA CANNABIS INC. CA05156X8843 NSY MSPL 200 16,88 USD -3 376,00 USD -2 779,74 EUR 1,2133 -1,16 EUR -2 780,90 EUR\r\n+COMMON SHARES\r\n+11-02-2021 15:38 CRONOS GROUP INC. - CO CA22717L1013 NDQ BATS 128 14,00 USD -1 792,00 USD -1 475,63 EUR 1,2132 -0,92 EUR -1 476,55 EUR\r\n+11-02-2021 15:38 ORGANIGRAM HOLDINGS CA68620P1018 NDQ XNAS 100 4,50 USD -450,00 USD -370,55 EUR 1,2132 -0,33 EUR -370,88 EUR\r\n+INC. - COMMON SHARES\r\n+DEGIRO B.V. DEGIRO B.V. jest zarejestrowane jako\r\n+Amstelplein 1 E klienci@degiro.pl firma inwestycyjna i w związku z tym\r\n+1096 HA Amsterdam I www.degiro.pl pozostaje pod nadzorem niderlandzkiej Strona 10 / 113\r\n+Komisji Nadzoru Finansowego Przegląd rachunku 2021-02-23\r\n+(Autoriteit Financiële Markten, AFM).\r\n+\r\n+Name\r\n+Surname\r\n+address\r\n+address\r\n+username\r\n+********\r\n+Data Czas Produkt ISIN Giełda Miejscereferenc wykonania Liczba Kurs Wartość lokalna Wartość\r\n+Kurs Opłata\r\n+wymian transakcyjna Razem\r\n+11-02-2021 15:38 ORGANIGRAM HOLDINGS CA68620P1018 NDQ BATS 156 4,50 USD -702,00 USD -578,16 EUR 1,213 -1,01 EUR -579,17 EUR\r\n+INC. - COMMON SHARES\r\n+11-02-2021 15:37 CANOPY GROWTH CA1380351009 NDQ XNAS 64 43,90 USD -2 809,60 USD -2 314,14 EUR 1,2129 -0,71 EUR -2 314,85 EUR\r\n+CORPORATION COMMON\r\n+STOCK\r\n+11-02-2021 15:37 CANOPY GROWTH CA1380351009 NDQ XNAS 64 44,50 USD -2 848,00 USD -2 345,96 EUR 1,2128 -0,71 EUR -2 346,67 EUR\r\n+CORPORATION COMMON\r\n+STOCK\r\n+11-02-2021 15:37 ORGANIGRAM HOLDINGS CA68620P1018 NDQ CDED -256 5,05 USD 1 292,80 USD 1 062,78 EUR 1,2152 -1,34 EUR 1 061,44 EUR\r\n+INC. - COMMON SHARES\r\n+11-02-2021 15:33 APHRIA INC. - COMMON CA03765K1049 NDQ ARCX 64 21,00 USD -1 344,00 USD -1 107,18 EUR 1,2127 -0,71 EUR -1 107,89 EUR\r\n+SHARES\r\n+11-02-2021 15:33 CRONOS GROUP INC. - CO CA22717L1013 NDQ CDED -256 14,50 USD 3 712,00 USD 3 051,80 EUR 1,2151 -1,34 EUR 3 050,46 EUR\r\n+11-02-2021 15:32 APHRIA INC. - COMMON CA03765K1049 NDQ XNAS 47 21,50 USD -1 010,50 USD -832,44 EUR 1,2127 -0,16 EUR -832,60 EUR\r\n+SHARES\r\n+11-02-2021 15:32 APHRIA INC. - COMMON CA03765K1049 NDQ XNAS 17 21,50 USD -365,50 USD -301,10 EUR 1,2127 -0,56 EUR -301,66 EUR\r\n+SHARES\r\n+11-02-2021 15:30 APHRIA INC. - COMMON CA03765K1049 NDQ SOHO -16 23,00 USD 368,00 USD 302,60 EUR 1,2149 -0,05 EUR 302,55 EUR\r\n+SHARES\r\n+11-02-2021 15:30 APHRIA INC. - COMMON CA03765K1049 NDQ SOHO -10 23,00 USD 230,00 USD 189,12 EUR 1,2149 -0,03 EUR 189,09 EUR\r\n+SHARES\r\n+11-02-2021 15:30 APHRIA INC. - COMMON CA03765K1049 NDQ SOHO -1 23,00 USD 23,00 USD 18,91 EUR 1,2149 18,91 EUR\r\n+SHARES\r\n+11-02-2021 15:30 APHRIA INC. - COMMON CA03765K1049 NDQ SOHO -5 23,00 USD 115,00 USD 94,56 EUR 1,2149 -0,02 EUR 94,54 EUR\r\n+SHARES\r\n+11-02-2021 15:30 APHRIA INC. - COMMON CA03765K1049 NDQ SOHO -2 23,00 USD 46,00 USD 37,82 EUR 1,2149 -0,01 EUR 37,81 EUR\r\n+SHARES\r\n+11-02-2021 15:30 APHRIA INC. - COMMON CA03765K1049 NDQ SOHO -2 23,00 USD 46,00 USD 37,82 EUR 1,2149 -0,01 EUR 37,81 EUR\r\n+SHARES\r\n+11-02-2021 15:30 APHRIA INC. - COMMON CA03765K1049 NDQ SOHO -3 23,00 USD 69,00 USD 56,74 EUR 1,2149 -0,01 EUR 56,73 EUR\r\n+SHARES\r\n+11-02-2021 15:30 APHRIA INC. - COMMON CA03765K1049 NDQ SOHO -1 23,00 USD 23,00 USD 18,91 EUR 1,2149 18,91 EUR\r\n+SHARES\r\n+11-02-2021 15:30 APHRIA INC. - COMMON CA03765K1049 NDQ SOHO -7 23,00 USD 161,00 USD 132,39 EUR 1,2149 -0,02 EUR 132,37 EUR\r\n+SHARES\r\n+DEGIRO B.V. DEGIRO B.V. jest zarejestrowane jako\r\n+Amstelplein 1 E klienci@degiro.pl firma inwestycyjna i w związku z tym\r\n+1096 HA Amsterdam I www.degiro.pl pozostaje pod nadzorem niderlandzkiej Strona 11 / 113\r\n+Komisji Nadzoru Finansowego Przegląd rachunku 2021-02-23\r\n+(Autoriteit Financiële Markten, AFM).\n\\ No newline at end of file"
  },
  {
    "sha": "e4eae245967293395827a539765b40f913571c12",
    "filename": "name.abuchen.portfolio.tests/src/name/abuchen/portfolio/datatransfer/pdf/degiro/DegiroTransaktionsuebersicht21.txt",
    "status": "added",
    "additions": 1510,
    "deletions": 0,
    "changes": 1510,
    "blob_url": "https://github.com/buchen/portfolio/blob/dec04a4c5466d9e7ea4b8b52751223035fee693a/name.abuchen.portfolio.tests/src/name/abuchen/portfolio/datatransfer/pdf/degiro/DegiroTransaktionsuebersicht21.txt",
    "raw_url": "https://github.com/buchen/portfolio/raw/dec04a4c5466d9e7ea4b8b52751223035fee693a/name.abuchen.portfolio.tests/src/name/abuchen/portfolio/datatransfer/pdf/degiro/DegiroTransaktionsuebersicht21.txt",
    "contents_url": "https://api.github.com/repos/buchen/portfolio/contents/name.abuchen.portfolio.tests/src/name/abuchen/portfolio/datatransfer/pdf/degiro/DegiroTransaktionsuebersicht21.txt?ref=dec04a4c5466d9e7ea4b8b52751223035fee693a"
  },
  {
    "sha": "3dfadc3da8be5aeff8a3adf5e8b2bbce3879f2a6",
    "filename": "name.abuchen.portfolio.tests/src/name/abuchen/portfolio/datatransfer/pdf/degiro/DegiroTransaktionsuebersicht22.txt",
    "status": "added",
    "additions": 2198,
    "deletions": 0,
    "changes": 2198,
    "blob_url": "https://github.com/buchen/portfolio/blob/dec04a4c5466d9e7ea4b8b52751223035fee693a/name.abuchen.portfolio.tests/src/name/abuchen/portfolio/datatransfer/pdf/degiro/DegiroTransaktionsuebersicht22.txt",
    "raw_url": "https://github.com/buchen/portfolio/raw/dec04a4c5466d9e7ea4b8b52751223035fee693a/name.abuchen.portfolio.tests/src/name/abuchen/portfolio/datatransfer/pdf/degiro/DegiroTransaktionsuebersicht22.txt",
    "contents_url": "https://api.github.com/repos/buchen/portfolio/contents/name.abuchen.portfolio.tests/src/name/abuchen/portfolio/datatransfer/pdf/degiro/DegiroTransaktionsuebersicht22.txt?ref=dec04a4c5466d9e7ea4b8b52751223035fee693a"
  },
  {
    "sha": "5688ef7e7044034d2bc09419ad9963fbb6209b74",
    "filename": "name.abuchen.portfolio/src/name/abuchen/portfolio/datatransfer/pdf/DegiroPDFExtractor.java",
    "status": "modified",
    "additions": 650,
    "deletions": 352,
    "changes": 1002,
    "blob_url": "https://github.com/buchen/portfolio/blob/dec04a4c5466d9e7ea4b8b52751223035fee693a/name.abuchen.portfolio/src/name/abuchen/portfolio/datatransfer/pdf/DegiroPDFExtractor.java",
    "raw_url": "https://github.com/buchen/portfolio/raw/dec04a4c5466d9e7ea4b8b52751223035fee693a/name.abuchen.portfolio/src/name/abuchen/portfolio/datatransfer/pdf/DegiroPDFExtractor.java",
    "contents_url": "https://api.github.com/repos/buchen/portfolio/contents/name.abuchen.portfolio/src/name/abuchen/portfolio/datatransfer/pdf/DegiroPDFExtractor.java?ref=dec04a4c5466d9e7ea4b8b52751223035fee693a",
    "patch": "@@ -507,10 +507,18 @@ else if (parts[3].equalsIgnoreCase(currencyCode)\n     @SuppressWarnings(\"nls\")\n     private void addPortfolioTransactions()\n     {\n-        DocumentType type = new DocumentType(\"Transaktionsübersicht|Transacciones|Transacties|Transactions\");\n+        // -------------------------------------\n+        // Information:\n+        //\n+        // If you make changes to the regEx, the examples will help you to adjust it correctly.\n+        // Always check where and on which side the currency, amount, exchange rate and fees are!\n+        // Please do not delete these examples!\n+        // -------------------------------------\n+\n+        DocumentType type = new DocumentType(\"Transaktionsübersicht|Transacciones|Transacties|Transactions|Transakcje\");\n         this.addDocumentTyp(type);\n-        \n-        Block blockBuy = new Block(\"^\\\\d+-\\\\d+-\\\\d{4} \\\\d+:\\\\d+ .* \\\\w{12} .* (\\\\w{3}|\\\\w{3} \\\\w{4}) .*([.\\\\d]+,\\\\d{2}|\\\\w{3})$\"); \n+\n+        Block blockBuy = new Block(\"^\\\\d+-\\\\d+-\\\\d{4} \\\\d+:\\\\d+ .* \\\\w{12} .* (\\\\w{3}|\\\\w{3} \\\\w{4}) .*([.\\\\d]+,\\\\d{2}|\\\\w{3})$\");\n         type.addBlock(blockBuy);\n \n         blockBuy.set(new Transaction<BuySellEntry>()\n@@ -523,506 +531,791 @@ private void addPortfolioTransactions()\n \n                         .oneOf(\n \n+                            // -------------------------------------\n+                            // without exchange rate\n+                            // without fee\n+                            // without stock exchange place\n+                            // Money        --> \\d,\\d OR \\d.\\d,\\d\n+                            // -------------------------------------\n+                            // Formatting:\n+                            // DateTime | Name | ISIN | Stock Exchange | Shares | Quote | Market value | Local market value | Total amount\n+                            // -------------------------------------          \n                             // 08-02-2019 13:27 ODX2 C11000.00 08FEB19 DE000C25KFE8 ERX -3 EUR 0,00 EUR 0,00 EUR 0,00 EUR 0,00\n                             // 09-07-2019 14:08 VANGUARD FTSE AW IE00B3RBWM25 EAM 3 EUR 77,10 EUR -231,30 EUR -231,30 EUR -231,30\n-\n                             section -> section\n-                                .attributes(\"date\", \"name\", \"isin\", \"shares\", \"currency\", \"amount\")    //$NON-NLS-4$ //$NON-NLS-5$ //$NON-NLS-6$\n-                                .match(\"^(?<date>\\\\d+-\\\\d+-\\\\d{4} \\\\d+:\\\\d+) (?<name>.*) (?<isin>\\\\w{12}) \\\\w{3} (?<shares>[-]?[.\\\\d]+[,\\\\d]*)\" \n-                                                // quote\n+                                .attributes(\"date\", \"name\", \"isin\", \"shares\", \"currency\", \"amount\")\n+                                .match(\"^(?<date>\\\\d+-\\\\d+-\\\\d{4} \\\\d+:\\\\d+) \"\n+                                                + \"(?<name>.*) \"\n+                                                + \"(?<isin>\\\\w{12}) \"\n+                                                + \"\\\\w{3} \"\n+                                                + \"(?<shares>[-]?[.\\\\d]+[,\\\\d]*)\" \n                                                 + \" \\\\w{3} [-.,\\\\d]*\" \n-                                                 // gross value transaction currency\n                                                 + \" \\\\w{3} [-.,\\\\d]*\" \n-                                                // gross value account currency\n                                                 + \" \\\\w{3} [-.,\\\\d]*\" \n-                                                // total amount\n-                                                + \" (?<currency>\\\\w{3}) -?(?<amount>[.,\\\\d]*)$\") \n+                                                + \" (?<currency>\\\\w{3}) -?(?<amount>[.,\\\\d]*)$\")\n                                 .assign((t, v) -> {\n                                     t.setSecurity(getOrCreateSecurity(v));\n-                                    t.setDate(asDate(v.get(\"date\"))); \n-                                    if (v.get(\"shares\").startsWith(\"-\"))  \n+                                    t.setDate(asDate(v.get(\"date\")));\n+                                    t.setCurrencyCode(asCurrencyCode(v.get(\"currency\")));\n+                                    t.setAmount(asAmount(v.get(\"amount\")));\n+\n+                                    if (v.get(\"shares\").startsWith(\"-\"))\n                                     {\n                                         t.setType(PortfolioTransaction.Type.SELL);\n-                                        t.setShares(asShares(\n-                                                        v.get(\"shares\").replaceFirst(\"-\", \"\")));   \n+                                        t.setShares(asShares(v.get(\"shares\").replaceFirst(\"-\", \"\")));\n                                     }\n                                     else\n                                     {\n-                                        t.setShares(asShares(v.get(\"shares\"))); \n+                                        t.setShares(asShares(v.get(\"shares\")));\n                                     }\n-                                    t.setCurrencyCode(asCurrencyCode(v.get(\"currency\"))); \n-                                    t.setAmount(asAmount(v.get(\"amount\"))); \n                             }),\n \n+                            // -------------------------------------\n+                            // without exchange rate\n+                            // without fee\n+                            // without stock exchange place\n+                            // Money        --> \\d,\\d   OR  \\d.\\d,\\d    OR  \\d\\s \\d\\s,\\d\n+                            // -------------------------------------\n+                            // Formatting:\n+                            // DateTime | Name | ISIN | Stock Exchange | Shares | Quote | Market value | Local market value | Total amount\n+                            // -------------------------------------     \n+                            // 13-03-2018 00:00 BAUMOT GROUP AG O.N DE000A2DAM11 XET -350 1,84 EUR 644,00 EUR 644,00 EUR 644,00 EUR\n+                            // 22-07-2020 00:00 PHARMA MAR SA ES0169501022 MAD 21 114,66 EUR -2 407,86 EUR -2 407,86 EUR -2 407,86 EUR\n+                            section -> section\n+                                .attributes(\"date\", \"name\", \"isin\", \"shares\", \"currency\", \"amount\")\n+                                .match(\"^(?<date>\\\\d+-\\\\d+-\\\\d{4} \\\\d+:\\\\d+) \"\n+                                                + \"(?<name>.*) \"\n+                                                + \"(?<isin>\\\\w{12}) \"\n+                                                + \"\\\\w{3} \"\n+                                                + \"(?<shares>[-]?[.\\\\d]+[,\\\\d]*) \"\n+                                                + \"[-.,\\\\d\\\\s]* \\\\w{3} \"\n+                                                + \"[-.,\\\\d\\\\s]* \\\\w{3} \"\n+                                                + \"[-.,\\\\d\\\\s]* \\\\w{3} \"\n+                                                + \"-?(?<amount>[.,\\\\d\\\\s]*) (?<currency>\\\\w{3})$\") \n+                                .assign((t, v) -> {\n+                                    v.put(\"amount\", stripBlanks(v.get(\"amount\")));\n+\n+                                    t.setSecurity(getOrCreateSecurity(v));\n+                                    t.setDate(asDate(v.get(\"date\")));\n+                                    t.setCurrencyCode(asCurrencyCode(v.get(\"currency\")));\n+                                    t.setAmount(asAmount(v.get(\"amount\")));\n+\n+                                    if (v.get(\"shares\").startsWith(\"-\"))\n+                                    {\n+                                        t.setType(PortfolioTransaction.Type.SELL);\n+                                        t.setShares(asShares(v.get(\"shares\").replaceFirst(\"-\", \"\")));\n+                                    }\n+                                    else\n+                                    {\n+                                        t.setShares(asShares(v.get(\"shares\")));\n+                                    }\n+                            }),\n+\n+                            // -------------------------------------\n+                            // without exchange rate\n+                            // with fee\n+                            // without stock exchange place\n+                            // Money        --> \\d,\\d   OR  \\d.\\d,\\d\n+                            // -------------------------------------\n+                            // Formatting:\n+                            // DateTime | Name | ISIN | Stock Exchange | Shares | Quote | Market value | Local market value | Fee | Total amount\n+                            // -------------------------------------  \n                             // 07-02-2019 12:22 ODX2 C11200.00 08FEB19 DE000C25KFN9 ERX 1 EUR 30,00 EUR -150,00 EUR -150,00 EUR -0,90 EUR -150,90\n                             // 01-04-2019 15:35 DEUTSCHE BANK AG NA O.N DE0005140008 XET -136 EUR 7,45 EUR 1.013,20 EUR 1.013,20 EUR -2,26 EUR 1.010,94\n                             // 01-04-2019 12:20 DEUTSCHE BANK AG NA O.N DE0005140008 XET 18 EUR 7,353 EUR -132,35 EUR -132,35 EUR -0,03 EUR -132,38\n-\n                             section -> section\n-                                .attributes(\"date\", \"name\", \"isin\", \"shares\", \"currencyFee\", \"fee\", \"currency\", \"amount\")    //$NON-NLS-4$ //$NON-NLS-5$ //$NON-NLS-6$ //$NON-NLS-7$ //$NON-NLS-8$\n-                                .match(\"^(?<date>\\\\d+-\\\\d+-\\\\d{4} \\\\d+:\\\\d+) (?<name>.*) (?<isin>\\\\w{12}) \\\\w{3} (?<shares>[-]?[.\\\\d]+[,\\\\d]*)\"  \n-                                                // quote\n-                                                + \" \\\\w{3} [-.,\\\\d]*\" \n-                                                // gross value transaction currency\n-                                                + \" \\\\w{3} [-.,\\\\d]*\" \n-                                                // gross value local currency\n-                                                + \" \\\\w{3} [-.,\\\\d]*\" \n-                                                // fees\n-                                                + \" (?<currencyFee>\\\\w{3}) -?(?<fee>[.,\\\\d]*)\" \n-                                                // total amount\n-                                                + \" (?<currency>\\\\w{3}) -?(?<amount>[.,\\\\d]*)$\") \n+                                .attributes(\"date\", \"name\", \"isin\", \"shares\", \"currencyFee\", \"fee\", \"currency\", \"amount\")\n+                                .match(\"^(?<date>\\\\d+-\\\\d+-\\\\d{4} \\\\d+:\\\\d+) \"\n+                                                + \"(?<name>.*) \"\n+                                                + \"(?<isin>\\\\w{12}) \"\n+                                                + \"\\\\w{3} \"\n+                                                + \"(?<shares>[-]?[.\\\\d]+[,\\\\d]*)\"\n+                                                + \" \\\\w{3} [-.,\\\\d]*\"\n+                                                + \" \\\\w{3} [-.,\\\\d]*\"\n+                                                + \" \\\\w{3} [-.,\\\\d]*\"\n+                                                + \" (?<currencyFee>\\\\w{3}) -?(?<fee>[.,\\\\d]*)\"\n+                                                + \" (?<currency>\\\\w{3}) -?(?<amount>[.,\\\\d]*)$\")\n                                 .assign((t, v) -> {\n                                     t.setSecurity(getOrCreateSecurity(v));\n-                                    t.setDate(asDate(v.get(\"date\"))); \n-                                    if (v.get(\"shares\").startsWith(\"-\"))   \n+                                    t.setDate(asDate(v.get(\"date\")));\n+                                    t.setCurrencyCode(asCurrencyCode(v.get(\"currency\")));\n+                                    t.setAmount(asAmount(v.get(\"amount\")));\n+\n+                                    Money feeAmount = Money.of(asCurrencyCode(v.get(\"currencyFee\")), asAmount(v.get(\"fee\")));\n+                                    t.getPortfolioTransaction().addUnit(new Unit(Unit.Type.FEE, feeAmount));\n+\n+                                    if (v.get(\"shares\").startsWith(\"-\"))\n                                     {\n                                         t.setType(PortfolioTransaction.Type.SELL);\n-                                        t.setShares(asShares(v.get(\"shares\").replaceFirst(\"-\", \"\")));   \n+                                        t.setShares(asShares(v.get(\"shares\").replaceFirst(\"-\", \"\")));\n                                     } \n-                                    else \n+                                    else\n                                     {\n-                                        t.setShares(asShares(v.get(\"shares\"))); \n+                                        t.setShares(asShares(v.get(\"shares\")));\n                                     }\n-                                    t.setCurrencyCode(asCurrencyCode(v.get(\"currency\"))); \n-                                    t.setAmount(asAmount(v.get(\"amount\")));   \n-                                    Money feeAmount = Money.of(asCurrencyCode(v.get(\"currencyFee\")), asAmount(v.get(\"fee\")));  \n+                            }),\n+\n+                            // -------------------------------------\n+                            // without exchange rate \n+                            // with fee\n+                            // without stock exchange place\n+                            // Money        --> \\d,\\d   OR  \\d.\\d,\\d    OR     \\d\\s \\d\\s,\\d\n+                            // -------------------------------------\n+                            // Formatting:\n+                            // DateTime | Name | ISIN | Stock Exchange | Shares | Quote | Market value | Local market value | Fee | Total amount\n+                            // -------------------------------------\n+                            // 06-10-2020 12:47 ALMIRALL ES0157097017 MAD 128 10,45 EUR -1 337,60 EUR -1 337,60 EUR -4,67 EUR -1 342,27 EUR\n+                            section -> section\n+                                .attributes(\"date\", \"name\", \"isin\", \"shares\", \"currencyFee\", \"fee\", \"currency\", \"amount\")\n+                                .match(\"^(?<date>\\\\d+-\\\\d+-\\\\d{4} \\\\d+:\\\\d+) \"\n+                                                + \"(?<name>.*) \"\n+                                                + \"(?<isin>\\\\w{12}) \"\n+                                                + \"\\\\w{3} \"\n+                                                + \"(?<shares>[-]?[.\\\\d]+[,\\\\d]*) \"\n+                                                + \"[-.,\\\\d\\\\s]* \\\\w{3} \"\n+                                                + \"[-.,\\\\d\\\\s]* \\\\w{3} \"\n+                                                + \"[-.,\\\\d\\\\s]* \\\\w{3} \"\n+                                                + \"-?(?<fee>[.,\\\\d\\\\s]*) (?<currencyFee>\\\\w{3}) \"\n+                                                + \"-?(?<amount>[.,\\\\d\\\\s]*) (?<currency>\\\\w{3})$\") \n+                                .assign((t, v) -> {\n+                                    v.put(\"fee\", stripBlanks(v.get(\"fee\")));\n+                                    v.put(\"amount\", stripBlanks(v.get(\"amount\")));\n+\n+                                    t.setSecurity(getOrCreateSecurity(v));\n+                                    t.setDate(asDate(v.get(\"date\")));\n+                                    t.setCurrencyCode(asCurrencyCode(v.get(\"currency\")));\n+                                    t.setAmount(asAmount(v.get(\"amount\")));\n+\n+                                    Money feeAmount = Money.of(asCurrencyCode(v.get(\"currencyFee\")), asAmount(v.get(\"fee\")));\n                                     t.getPortfolioTransaction().addUnit(new Unit(Unit.Type.FEE, feeAmount));\n+\n+                                    if (v.get(\"shares\").startsWith(\"-\"))\n+                                    {\n+                                        t.setType(PortfolioTransaction.Type.SELL);\n+                                        t.setShares(asShares(v.get(\"shares\").replaceFirst(\"-\", \"\")));\n+                                    }\n+                                    else\n+                                    {\n+                                        t.setShares(asShares(v.get(\"shares\")));\n+                                    }\n                             }),\n \n+                            // -------------------------------------\n+                            // with exchange rate\n+                            // with fee\n+                            // without stock exchange place\n+                            // Money        --> \\d,\\d   OR  \\d.\\d,\\d\n+                            // exchangeRate --> \\d,\\d\n+                            // -------------------------------------\n+                            // Formatting:\n+                            // DateTime | Name | ISIN | Stock Exchange | Shares | Quote | Amount in exchange rate | Market value | Local market value | Fee | Total amount\n+                            // -------------------------------------\n                             // 26-04-2019 17:52 TESLA MOTORS INC. - C US88160R1014 NDQ 2 USD 240,00 USD -480,00 EUR -430,69 1,1145 EUR -0,51 EUR -431,20\n                             // 29-04-2019 16:11 TESLA MOTORS INC. - C US88160R1014 NDQ -3 USD 240,00 USD 720,00 EUR 645,04 1,1162 EUR -0,51 EUR 644,53\n                             // 06-08-2019 20:20 WILLIAMS-SONOMA INC. US9699041011 NSY 1 USD 64,695 USD -64,70 EUR -57,85 1,1184 EUR -0,50 EUR -58,35\n                             // 23-07-2019 15:30 RIO TINTO PLC COMMON S US7672041008 NSY -3 USD 61,04 USD 183,12 EUR 163,83 1,1177 EUR -0,51 EUR 163,32\n-\n-                            section -> section.attributes(\"date\", \"name\", \"isin\", \"shares\", \"currency\", \"amountFx\", \"exchangeRate\", \"currencyFee\", \"fee\", \"currencyAccount\", \"amount\")\n-                            .match(\"^(?<date>\\\\d+-\\\\d+-\\\\d{4} \\\\d+:\\\\d+) (?<name>.*) (?<isin>\\\\w{12}) \\\\w{3} (?<shares>[-]?[.\\\\d]+[,\\\\d]*)\" \n-                                            + \" \\\\w{3} -?[.\\\\d]+,\\\\d{2,4}\" \n-                                            + \" (?<currency>\\\\w{3}) -?(?<amountFx>[.\\\\d]+,\\\\d{2}).*\" \n-                                            + \" \\\\w{3} -?[.\\\\d]+,\\\\d{2}\" \n-                                            + \" (?<exchangeRate>[.\\\\d]+,\\\\d{1,6})\" \n-                                            + \" (?<currencyFee>\\\\w{3}) (?<fee>-?[.\\\\d]+,\\\\d{2})\" \n-                                            + \" (?<currencyAccount>\\\\w{3}) -?(?<amount>[.\\\\d]+,\\\\d{2})$\") \n-                            .assign((t, v) -> {\n+                            section -> section\n+                                .attributes(\"date\", \"name\", \"isin\", \"shares\", \"currency\", \"amountFx\", \"exchangeRate\", \"currencyFee\", \"fee\", \"currencyAccount\", \"amount\")\n+                                .match(\"^(?<date>\\\\d+-\\\\d+-\\\\d{4} \\\\d+:\\\\d+) \"\n+                                                + \"(?<name>.*) \"\n+                                                + \"(?<isin>\\\\w{12}) \"\n+                                                + \"\\\\w{3} \"\n+                                                + \"(?<shares>[-]?[.\\\\d]+[,\\\\d]*)\"\n+                                                + \" \\\\w{3} -?[.\\\\d]+,\\\\d{2,4}\" \n+                                                + \" (?<currency>\\\\w{3}) -?(?<amountFx>[.\\\\d]+,\\\\d{2}).*\"\n+                                                + \" \\\\w{3} -?[.\\\\d]+,\\\\d{2}\"\n+                                                + \" (?<exchangeRate>[.\\\\d]+,\\\\d{1,6})\"\n+                                                + \" (?<currencyFee>\\\\w{3}) (?<fee>-?[.\\\\d]+,\\\\d{2})\"\n+                                                + \" (?<currencyAccount>\\\\w{3}) -?(?<amount>[.\\\\d]+,\\\\d{2})$\")\n+                                .assign((t, v) -> {\n                                     t.setSecurity(getOrCreateSecurity(v));\n-                                    t.setDate(asDate(v.get(\"date\"))); \n-                                    if (v.get(\"shares\").startsWith(\"-\"))   \n+                                    t.setDate(asDate(v.get(\"date\")));\n+                                    t.setCurrencyCode(asCurrencyCode(v.get(\"currencyAccount\")));\n+                                    t.setAmount(asAmount(v.get(\"amount\")));\n+\n+                                    if (v.get(\"shares\").startsWith(\"-\"))\n                                     {\n                                         t.setType(PortfolioTransaction.Type.SELL);\n-                                        t.setShares(asShares(v.get(\"shares\").replaceFirst(\"-\", \"\")));   \n-                                    } \n-                                    else \n+                                        t.setShares(asShares(v.get(\"shares\").replaceFirst(\"-\", \"\")));\n+                                    }\n+                                    else\n                                     {\n-                                        t.setShares(asShares(v.get(\"shares\"))); \n+                                        t.setShares(asShares(v.get(\"shares\")));\n                                     }\n-                                    t.setCurrencyCode(asCurrencyCode(v.get(\"currencyAccount\"))); \n-                                    t.setAmount(asAmount(v.get(\"amount\")));   \n-                                    Money feeAmount = Money.of(asCurrencyCode(v.get(\"currencyFee\")), asAmount(v.get(\"fee\")));  \n+\n+                                    Money feeAmount = Money.of(asCurrencyCode(v.get(\"currencyFee\")), asAmount(v.get(\"fee\")));\n                                     t.getPortfolioTransaction().addUnit(new Unit(Unit.Type.FEE, feeAmount));\n-                                    \n+\n                                     long amountFx = asAmount(v.get(\"amountFx\")); \n                                     String currencyFx = asCurrencyCode(v.get(\"currency\")); \n \n                                     if (currencyFx.equals(t.getPortfolioTransaction().getSecurity().getCurrencyCode()))\n                                     {\n-                                        Money amount = Money.of(asCurrencyCode(v.get(\"currencyAccount\")), asAmount(v.get(\"amount\")));   \n+                                        Money amount = Money.of(asCurrencyCode(v.get(\"currencyAccount\")), asAmount(v.get(\"amount\")));\n                                         if (t.getPortfolioTransaction().getType() == PortfolioTransaction.Type.BUY)\n                                         {\n                                             amount = amount.subtract(feeAmount);\n-                                        } \n-                                        else \n+                                        }\n+                                        else\n                                         {\n                                             amount = amount.add(feeAmount);\n                                         }\n-                                        BigDecimal exchangeRate = BigDecimal.ONE.divide(asExchangeRate(v.get(\"exchangeRate\")), 10, RoundingMode.HALF_DOWN); \n-                                        Money forex = Money.of(asCurrencyCode(v.get(\"currency\")), amountFx); \n+                                        BigDecimal exchangeRate = BigDecimal.ONE.divide(asExchangeRate(v.get(\"exchangeRate\")), 10, RoundingMode.HALF_DOWN);\n+                                        Money forex = Money.of(asCurrencyCode(v.get(\"currency\")), amountFx);\n                                         Unit grossValue = new Unit(Unit.Type.GROSS_VALUE, amount, forex, exchangeRate);\n                                         t.getPortfolioTransaction().addUnit(grossValue);\n                                     }\n                             }),\n \n+                            // -------------------------------------\n+                            // with exchange rate\n+                            // with fee\n+                            // without stock exchange place\n+                            // Money        --> \\d,\\d   OR  \\d.\\d,\\d    OR  \\d\\s \\d\\s,\\d\n+                            // exchangeRate --> \\d,\\d\n+                            // -------------------------------------\n+                            // Formatting:\n+                            // DateTime | Name | ISIN | Stock Exchange | Shares | Quote | Amount in exchange rate | Market value | Local market value | Fee | Total amount\n+                            // -------------------------------------\n                             // 22-10-2020 16:35 THE KRAFT HEINZ COMPAN  US5007541064 NDQ -40 31,21 USD 1.248,40 USD 1.054,33 EUR 1,1829 -0,64 EUR 1.053,69 EUR\n-                            section -> section.attributes(\"date\", \"name\", \"isin\", \"shares\", \"currency\", \"amountFx\", \"exchangeRate\", \"currencyFee\", \"fee\", \"currencyAccount\", \"amount\")\n-                            .match(\"^(?<date>\\\\d+-\\\\d+-\\\\d{4} \\\\d+:\\\\d+) \"\n-                                            + \"(?<name>.*) \"\n-                                            + \"(?<isin>\\\\w{12}) \"\n-                                            + \"\\\\w{3} \"\n-                                            + \"(?<shares>[-]?[.\\\\d]+[,\\\\d]*) \"\n-                                            + \"-?[.\\\\d]+,\\\\d{2,4} \\\\w{3} \"\n-                                            + \"-?(?<amountFx>[.\\\\d]+,\\\\d{2}) (?<currency>\\\\w{3}).* \"\n-                                            + \"-?[.\\\\d]+,\\\\d{2} \\\\w{3} \"\n-                                            + \"(?<exchangeRate>[.\\\\d]+,\\\\d{1,6}) \"\n-                                            + \"(?<fee>-?[.\\\\d]+,\\\\d{2}) (?<currencyFee>\\\\w{3}) \"\n-                                            + \"-?(?<amount>[.\\\\d]+,\\\\d{2}) (?<currencyAccount>\\\\w{3})\") \n-                            .assign((t, v) -> {\n+                            // 22-12-2020 04:41 TCL ELECTRONICS KYG8701T1388 HKS -8000 5,78 HKD 46 240,00 HKD 4 868,15 EUR 9,489 -2,93 EUR 4 865,22 EUR\n+                            section -> section\n+                                .attributes(\"date\", \"name\", \"isin\", \"shares\", \"currency\", \"amountFx\", \"exchangeRate\", \"currencyFee\", \"fee\", \"currencyAccount\", \"amount\")\n+                                .match(\"^(?<date>\\\\d+-\\\\d+-\\\\d{4} \\\\d+:\\\\d+) \"\n+                                                + \"(?<name>.*) \"\n+                                                + \"(?<isin>\\\\w{12}) \"\n+                                                + \"\\\\w{3} \"\n+                                                + \"(?<shares>[-]?[.\\\\d]+[,\\\\d]*) \"\n+                                                + \"-?[.\\\\d\\\\s]+,\\\\d{2,4} \\\\w{3} \"\n+                                                + \"-?(?<amountFx>[.\\\\d\\\\s]+,\\\\d{2}) (?<currency>\\\\w{3}).* \"\n+                                                + \"-?[.\\\\d]+,\\\\d{2} \\\\w{3} \"\n+                                                + \"(?<exchangeRate>[.\\\\d]+,\\\\d{1,6}) \"\n+                                                + \"(?<fee>-?[.\\\\d\\\\s]+,\\\\d{2}) (?<currencyFee>\\\\w{3}) \"\n+                                                + \"-?(?<amount>[.\\\\d\\\\s]+,\\\\d{2}) (?<currencyAccount>\\\\w{3})$\") \n+                                .assign((t, v) -> {\n+                                    v.put(\"fee\", stripBlanks(v.get(\"fee\")));\n+                                    v.put(\"amountFx\", stripBlanks(v.get(\"amountFx\")));\n+                                    v.put(\"amount\", stripBlanks(v.get(\"amount\")));\n+\n                                     t.setSecurity(getOrCreateSecurity(v));\n-                                    t.setDate(asDate(v.get(\"date\"))); \n-                                    if (v.get(\"shares\").startsWith(\"-\"))   \n+                                    t.setDate(asDate(v.get(\"date\")));\n+                                    t.setCurrencyCode(asCurrencyCode(v.get(\"currencyAccount\")));\n+                                    t.setAmount(asAmount(v.get(\"amount\")));\n+\n+                                    if (v.get(\"shares\").startsWith(\"-\"))\n                                     {\n                                         t.setType(PortfolioTransaction.Type.SELL);\n-                                        t.setShares(asShares(v.get(\"shares\").replaceFirst(\"-\", \"\")));   \n+                                        t.setShares(asShares(v.get(\"shares\").replaceFirst(\"-\", \"\")));\n                                     } \n-                                    else \n+                                    else\n                                     {\n-                                        t.setShares(asShares(v.get(\"shares\"))); \n+                                        t.setShares(asShares(v.get(\"shares\")));\n                                     }\n-                                    t.setCurrencyCode(asCurrencyCode(v.get(\"currencyAccount\"))); \n-                                    t.setAmount(asAmount(v.get(\"amount\")));   \n-                                    Money feeAmount = Money.of(asCurrencyCode(v.get(\"currencyFee\")), asAmount(v.get(\"fee\")));  \n+\n+                                    Money feeAmount = Money.of(asCurrencyCode(v.get(\"currencyFee\")), asAmount(v.get(\"fee\")));\n                                     t.getPortfolioTransaction().addUnit(new Unit(Unit.Type.FEE, feeAmount));\n-                                    \n-                                    long amountFx = asAmount(v.get(\"amountFx\")); \n-                                    String currencyFx = asCurrencyCode(v.get(\"currency\")); \n+\n+                                    long amountFx = asAmount(v.get(\"amountFx\"));\n+                                    String currencyFx = asCurrencyCode(v.get(\"currency\"));\n \n                                     if (currencyFx.equals(t.getPortfolioTransaction().getSecurity().getCurrencyCode()))\n                                     {\n-                                        Money amount = Money.of(asCurrencyCode(v.get(\"currencyAccount\")), asAmount(v.get(\"amount\")));   \n+                                        Money amount = Money.of(asCurrencyCode(v.get(\"currencyAccount\")), asAmount(v.get(\"amount\")));\n                                         if (t.getPortfolioTransaction().getType() == PortfolioTransaction.Type.BUY)\n                                         {\n                                             amount = amount.subtract(feeAmount);\n-                                        } \n-                                        else \n+                                        }\n+                                        else\n                                         {\n                                             amount = amount.add(feeAmount);\n                                         }\n-                                        BigDecimal exchangeRate = BigDecimal.ONE.divide(asExchangeRate(v.get(\"exchangeRate\")), 10, RoundingMode.HALF_DOWN); \n-                                        Money forex = Money.of(asCurrencyCode(v.get(\"currency\")), amountFx); \n+                                        BigDecimal exchangeRate = BigDecimal.ONE.divide(asExchangeRate(v.get(\"exchangeRate\")), 10, RoundingMode.HALF_DOWN);\n+                                        Money forex = Money.of(asCurrencyCode(v.get(\"currency\")), amountFx);\n                                         Unit grossValue = new Unit(Unit.Type.GROSS_VALUE, amount, forex, exchangeRate);\n                                         t.getPortfolioTransaction().addUnit(grossValue);\n                                     }\n                             }),\n-                            \n-                            // 22-07-2019 19:16 LPL FINANCIAL HOLDINGS US50212V1008 NDQ -1 USD 85,73 USD 85,73 EUR 76,42 1,1218 EUR 76,42\n \n-                            section -> section.attributes(\"date\", \"name\", \"isin\", \"shares\", \"currency\", \"amountFx\", \"exchangeRate\", \"currencyAccount\", \"amount\")\n-                            .match(\"^(?<date>\\\\d+-\\\\d+-\\\\d{4} \\\\d+:\\\\d+) (?<name>.*) (?<isin>\\\\w{12}) \\\\w{3} (?<shares>[-]?[.\\\\d]+[,\\\\d]*)\"  \n-                                            + \" \\\\w{3} -?[.\\\\d]+,\\\\d{2,3}.*\" \n-                                            + \" (?<currency>\\\\w{3}) -?(?<amountFx>[.\\\\d]+,\\\\d{2}).*\" \n-                                            + \" \\\\w{3} -?[.\\\\d]+,\\\\d{2}\" \n-                                            + \" (?<exchangeRate>[.\\\\d]+,\\\\d{1,6})\" \n-                                            + \" (?<currencyAccount>\\\\w{3}) -?(?<amount>[.\\\\d]+,\\\\d{2})$\") \n-                            .assign((t, v) -> {\n+                            // -------------------------------------\n+                            // with exchange rate\n+                            // without fee\n+                            // without stock exchange place\n+                            // Money        --> \\d,\\d   OR  \\d.\\d,\\d    OR  \\d\\s \\d\\s,\\d\n+                            // exchangeRate --> \\d,\\d\n+                            // -------------------------------------\n+                            // Formatting:\n+                            // DateTime | Name | ISIN | Stock Exchange | Shares | Quote | Amount in exchange rate | Local Market value | Exchange rate | Total amount\n+                            // -------------------------------------\n+                            // 22-07-2019 19:16 LPL FINANCIAL HOLDINGS US50212V1008 NDQ -1 USD 85,73 USD 85,73 EUR 76,42 1,1218 EUR 76,42\n+                            section -> section\n+                                .attributes(\"date\", \"name\", \"isin\", \"shares\", \"currency\", \"amountFx\", \"exchangeRate\", \"currencyAccount\", \"amount\")\n+                                .match(\"^(?<date>\\\\d+-\\\\d+-\\\\d{4} \\\\d+:\\\\d+) \"\n+                                                + \"(?<name>.*) \"\n+                                                + \"(?<isin>\\\\w{12}) \"\n+                                                + \"\\\\w{3} \"\n+                                                + \"(?<shares>[-]?[.\\\\d]+[,\\\\d]*)\"\n+                                                + \" \\\\w{3} -?[.\\\\d]+,\\\\d{2,3}.*\" \n+                                                + \" (?<currency>\\\\w{3}) -?(?<amountFx>[.\\\\d]+,\\\\d{2}).*\"\n+                                                + \" \\\\w{3} -?[.\\\\d]+,\\\\d{2}\"\n+                                                + \" (?<exchangeRate>[.\\\\d]+,\\\\d{1,6})\"\n+                                                + \" (?<currencyAccount>\\\\w{3}) -?(?<amount>[.\\\\d]+,\\\\d{2})$\")\n+                                .assign((t, v) -> {\n                                     t.setSecurity(getOrCreateSecurity(v));\n-                                    t.setDate(asDate(v.get(\"date\"))); \n-                                    if (v.get(\"shares\").startsWith(\"-\"))   \n+                                    t.setDate(asDate(v.get(\"date\")));\n+                                    t.setCurrencyCode(asCurrencyCode(v.get(\"currencyAccount\")));\n+                                    t.setAmount(asAmount(v.get(\"amount\")));\n+\n+                                    if (v.get(\"shares\").startsWith(\"-\"))\n                                     {\n                                         t.setType(PortfolioTransaction.Type.SELL);\n-                                        t.setShares(asShares(v.get(\"shares\").replaceFirst(\"-\", \"\")));   \n-                                    } \n+                                        t.setShares(asShares(v.get(\"shares\").replaceFirst(\"-\", \"\")));\n+                                    }\n                                     else \n                                     {\n-                                        t.setShares(asShares(v.get(\"shares\"))); \n+                                        t.setShares(asShares(v.get(\"shares\")));\n                                     }\n-                                    t.setCurrencyCode(asCurrencyCode(v.get(\"currencyAccount\"))); \n-                                    t.setAmount(asAmount(v.get(\"amount\")));   \n-                                    \n-                                    long amountFx = asAmount(v.get(\"amountFx\")); \n-                                    String currencyFx = asCurrencyCode(v.get(\"currency\")); \n+\n+                                    long amountFx = asAmount(v.get(\"amountFx\"));\n+                                    String currencyFx = asCurrencyCode(v.get(\"currency\"));\n \n                                     if (currencyFx.equals(t.getPortfolioTransaction().getSecurity().getCurrencyCode()))\n                                     {\n-                                        Money amount = Money.of(asCurrencyCode(v.get(\"currencyAccount\")), asAmount(v.get(\"amount\")));  \n-                                        BigDecimal exchangeRate = BigDecimal.ONE.divide(asExchangeRate(v.get(\"exchangeRate\")), 10, RoundingMode.HALF_DOWN); \n-                                        Money forex = Money.of(asCurrencyCode(v.get(\"currency\")), amountFx); \n+                                        Money amount = Money.of(asCurrencyCode(v.get(\"currencyAccount\")), asAmount(v.get(\"amount\")));\n+                                        BigDecimal exchangeRate = BigDecimal.ONE.divide(asExchangeRate(v.get(\"exchangeRate\")), 10, RoundingMode.HALF_DOWN);\n+                                        Money forex = Money.of(asCurrencyCode(v.get(\"currency\")), amountFx);\n                                         Unit grossValue = new Unit(Unit.Type.GROSS_VALUE, amount, forex, exchangeRate);\n                                         t.getPortfolioTransaction().addUnit(grossValue);\n                                     }\n                             }),\n \n-                            // #######################################################################\n-                            // #---------------- @ HERE STARTS NEW FORMAT UNTIL 2021 ----------------#\n-                            // #######################################################################\n+                            // -------------------------------------\n+                            // with exchange rate\n+                            // without fee\n+                            // without stock exchange place\n+                            // Money        --> \\d,\\d   OR  \\d.\\d,\\d    OR  \\d\\s \\d\\s,\\d\n+                            // exchangeRage --> \\d,\\d\n+                            // -------------------------------------\n+                            // Formatting:\n+                            // DateTime | Name | ISIN | Stock Exchange | Shares | Quote | Amount in exchange rate | Local Market value | Exchange rate | Total amount\n+                            // -------------------------------------\n+                            // 14-01-2021 15:36 ALTO INGREDIENTS INC US0215131063 NDQ 2048 7,30 USD -14 950,40 USD -12 245,87 EUR 1,2209 -12 245,87 EUR\n+                            // 14-12-2020 00:00 ASTON MARTIN GB00BN7CG237 LSE 51 1 417,00 GBX -72 267,00 GBX -791,47 EUR 91,3075 -791,47 EUR\n+                            section -> section\n+                                .attributes(\"date\", \"name\", \"isin\", \"shares\", \"currency\", \"amountFx\", \"exchangeRate\", \"currencyAccount\", \"amount\")\n+                                .match(\"^(?<date>\\\\d+-\\\\d+-\\\\d{4} \\\\d+:\\\\d+) \"\n+                                                + \"(?<name>.*) \"\n+                                                + \"(?<isin>\\\\w{12}) \"\n+                                                + \"\\\\w{3} \"\n+                                                + \"(?<shares>[-]?[.\\\\d]+[,\\\\d]*) \"\n+                                                + \"-?[.\\\\d\\\\s]+,\\\\d{2,3} \\\\w{3} \"\n+                                                + \"-?(?<amountFx>[.\\\\d\\\\s]+,\\\\d{2}) (?<currency>\\\\w{3}) \"\n+                                                + \"-?[.\\\\d\\\\s]+,\\\\d{2} \\\\w{3} \"\n+                                                + \"(?<exchangeRate>[.\\\\d]+,\\\\d{1,6}) \"\n+                                                + \"-?(?<amount>[.\\\\d\\\\s]+,\\\\d{2}) (?<currencyAccount>\\\\w{3})$\") \n+                                .assign((t, v) -> {\n+                                    v.put(\"amountFx\", stripBlanks(v.get(\"amountFx\")));\n+                                    v.put(\"amount\", stripBlanks(v.get(\"amount\")));\n+\n+                                    t.setSecurity(getOrCreateSecurity(v));\n+                                    t.setDate(asDate(v.get(\"date\")));\n+                                    t.setCurrencyCode(asCurrencyCode(v.get(\"currencyAccount\")));\n+                                    t.setAmount(asAmount(v.get(\"amount\")));\n+\n+                                    if (v.get(\"shares\").startsWith(\"-\"))\n+                                    {\n+                                        t.setType(PortfolioTransaction.Type.SELL);\n+                                        t.setShares(asShares(v.get(\"shares\").replaceFirst(\"-\", \"\")));\n+                                    }\n+                                    else\n+                                    {\n+                                        t.setShares(asShares(v.get(\"shares\")));\n+                                    }\n+\n+                                    long amountFx = asAmount(v.get(\"amountFx\"));\n+                                    String currencyFx = asCurrencyCode(v.get(\"currency\"));\n+\n+                                    if (currencyFx.equals(t.getPortfolioTransaction().getSecurity().getCurrencyCode()))\n+                                    {\n+                                        Money amount = Money.of(asCurrencyCode(v.get(\"currencyAccount\")), asAmount(v.get(\"amount\")));\n+                                        BigDecimal exchangeRate = BigDecimal.ONE.divide(asExchangeRate(v.get(\"exchangeRate\")), 10, RoundingMode.HALF_DOWN);\n+                                        Money forex = Money.of(asCurrencyCode(v.get(\"currency\")), amountFx);\n+                                        Unit grossValue = new Unit(Unit.Type.GROSS_VALUE, amount, forex, exchangeRate);\n+                                        t.getPortfolioTransaction().addUnit(grossValue);\n+                                    }\n+                            }),\n \n                             // -------------------------------------\n-                            // with currency exchange \n+                            // with exchange rate\n                             // with fee\n-                            // Money        --> \\d,\\d\n-                            // exChangeRage --> \\d,\\d\n+                            // with stock exchange place\n+                            // Money        --> \\d,\\d   OR  \\d\\d,\\d     OR  \\d\\s \\d\\s,\\d\n+                            // exchangeRage --> \\d,\\d\n+                            // -------------------------------------\n+                            // Formatting:\n+                            // DateTime | Name | ISIN | Stock Exchange + Place | Shares | Quote | Amount in exchange rate | Local Market value | Exchange rate | Fee | Total amount\n                             // -------------------------------------\n                             // 27-01-2021 20:55 APPLE INC. - COMMON ST US0378331005 NDQ XNAS 9 141,70 USD -1.275,30 USD -1.053,79 EUR 1,209 -0,53 EUR -1.054,32 EUR\n                             // 27-01-2021 20:54 NIKOLA CORP US6541101050 NDQ XNAS -48 28,00 USD 1.344,00 USD 1.108,34 EUR 1,2114 -0,66 EUR 1.107,68 EUR\n-                            section -> section.attributes(\"date\", \"name\", \"isin\", \"shares\", \"currency\", \"amountFx\", \"exchangeRate\", \"currencyFee\", \"fee\", \"currencyAccount\", \"amount\")\n-                            .match(\"^(?<date>\\\\d+-\\\\d+-\\\\d{4} \\\\d+:\\\\d+) \"\n-                                            + \"(?<name>.*) \"\n-                                            + \"(?<isin>[\\\\w]{12}) \"\n-                                            + \"[\\\\w]{3} [\\\\w]{4} \"\n-                                            + \"(?<shares>-?[.\\\\d]+[,\\\\d]*) \"\n-                                            + \"-?[.\\\\d]+,\\\\d{2,4}.* [\\\\w]{3} \"\n-                                            + \"(?<amountFx>-?[.\\\\d]+[,\\\\d]*) \"\n-                                            + \"(?<currency>[\\\\w]{3}) \"\n-                                            + \"-?[.\\\\d]+[,\\\\d]* [\\\\w]{3} \"\n-                                            + \"(?<exchangeRate>[.\\\\d]+[,\\\\d]*) \"\n-                                            + \"(?<fee>-?[.\\\\d]+[,\\\\d]*) \"\n-                                            + \"(?<currencyFee>[\\\\w]{3}) \"\n-                                            + \"(?<amount>-?[.\\\\d]+[,\\\\d]*) \"\n-                                            + \"(?<currencyAccount>[\\\\w]{3})$\")\n-                            .assign((t, v) -> {\n-                                t.setSecurity(getOrCreateSecurity(v));\n-                                t.setDate(asDate(v.get(\"date\")));\n-                                if (v.get(\"shares\").startsWith(\"-\"))\n-                                {\n-                                    t.setType(PortfolioTransaction.Type.SELL);\n-                                    t.setShares(asShares(v.get(\"shares\").replaceFirst(\"-\", \"\")));\n-                                }\n-                                else \n-                                {\n-                                    t.setShares(asShares(v.get(\"shares\")));\n-                                }\n-                                t.setCurrencyCode(asCurrencyCode(v.get(\"currencyAccount\")));\n-                                t.setAmount(asAmount(v.get(\"amount\")));\n-                                Money feeAmount = Money.of(asCurrencyCode(v.get(\"currencyFee\")), asAmount(v.get(\"fee\")));\n-                                t.getPortfolioTransaction().addUnit(new Unit(Unit.Type.FEE, feeAmount));\n-\n-                                long amountFx = asAmount(v.get(\"amountFx\"));\n-                                String currencyFx = asCurrencyCode(v.get(\"currency\"));\n-\n-                                if (currencyFx.equals(t.getPortfolioTransaction().getSecurity().getCurrencyCode()))\n-                                {\n-                                    Money amount = Money.of(asCurrencyCode(v.get(\"currencyAccount\")), asAmount(v.get(\"amount\")));\n-                                    if (t.getPortfolioTransaction().getType() == PortfolioTransaction.Type.BUY)\n+                            // 23-02-2021 15:30 ALTO INGREDIENTS INC US0215131063 NDQ SOHO -224 6,30 USD 1 411,20 USD 1 159,26 EUR 1,2161 -0,74 EUR 1 158,52 EUR\n+                            // 23-02-2021 09:42 ASTON MARTIN GB00BN7CG237 LSE MESI -128 2 105,00 GBX 269 440,00 GBX 3 113,71 EUR 86,4469 -5,56 EUR 3 108,15 EUR\n+                            section -> section\n+                                .attributes(\"date\", \"name\", \"isin\", \"shares\", \"currency\", \"amountFx\", \"exchangeRate\", \"currencyFee\", \"fee\", \"currencyAccount\", \"amount\")\n+                                .match(\"^(?<date>\\\\d+-\\\\d+-\\\\d{4} \\\\d+:\\\\d+) \"\n+                                                + \"(?<name>.*) \"\n+                                                + \"(?<isin>[\\\\w]{12}) \"\n+                                                + \"[\\\\w]{3} [\\\\w]{4} \"\n+                                                + \"(?<shares>-?[.\\\\d]+[,\\\\d]*) \"\n+                                                + \"-?[.\\\\d\\\\s]+,\\\\d{2,4} [\\\\w]{3} \"\n+                                                + \"-?(?<amountFx>([.\\\\d\\\\s]+[,\\\\d]*)) (?<currency>[\\\\w]{3}) \"\n+                                                + \"-?[.\\\\d\\\\s]+[,\\\\d]* [\\\\w]{3} \"\n+                                                + \"(?<exchangeRate>[.\\\\d]+[,\\\\d]*) \"\n+                                                + \"(?<fee>-?[.\\\\d\\\\s]+[,\\\\d]*) (?<currencyFee>[\\\\w]{3}) \"\n+                                                + \"(?<amount>-?[.\\\\d\\\\s]+[,\\\\d]*) (?<currencyAccount>[\\\\w]{3})$\")\n+                                .assign((t, v) -> {\n+                                    v.put(\"fee\", stripBlanks(v.get(\"fee\")));\n+                                    v.put(\"amountFx\", stripBlanks(v.get(\"amountFx\")));\n+                                    v.put(\"amount\", stripBlanks(v.get(\"amount\")));\n+\n+                                    t.setSecurity(getOrCreateSecurity(v));\n+                                    t.setDate(asDate(v.get(\"date\")));\n+                                    t.setCurrencyCode(asCurrencyCode(v.get(\"currencyAccount\")));\n+                                    t.setAmount(asAmount(v.get(\"amount\")));\n+\n+                                    if (v.get(\"shares\").startsWith(\"-\"))\n                                     {\n-                                        amount = amount.subtract(feeAmount);\n+                                        t.setType(PortfolioTransaction.Type.SELL);\n+                                        t.setShares(asShares(v.get(\"shares\").replaceFirst(\"-\", \"\")));\n                                     }\n                                     else \n                                     {\n-                                        amount = amount.add(feeAmount);\n+                                        t.setShares(asShares(v.get(\"shares\")));\n+                                    }\n+\n+                                    Money feeAmount = Money.of(asCurrencyCode(v.get(\"currencyFee\")), asAmount(v.get(\"fee\")));\n+                                    t.getPortfolioTransaction().addUnit(new Unit(Unit.Type.FEE, feeAmount));\n+\n+                                    long amountFx = asAmount(v.get(\"amountFx\"));\n+                                    String currencyFx = asCurrencyCode(v.get(\"currency\"));\n+\n+                                    if (currencyFx.equals(t.getPortfolioTransaction().getSecurity().getCurrencyCode()))\n+                                    {\n+                                        Money amount = Money.of(asCurrencyCode(v.get(\"currencyAccount\")), asAmount(v.get(\"amount\")));\n+                                        if (t.getPortfolioTransaction().getType() == PortfolioTransaction.Type.BUY)\n+                                        {\n+                                            amount = amount.subtract(feeAmount);\n+                                        }\n+                                        else\n+                                        {\n+                                            amount = amount.add(feeAmount);\n+                                        }\n+                                        BigDecimal exchangeRate = BigDecimal.ONE.divide(asExchangeRate(v.get(\"exchangeRate\")), 10, RoundingMode.HALF_DOWN);\n+                                        Money forex = Money.of(asCurrencyCode(v.get(\"currency\")), amountFx);\n+                                        Unit grossValue = new Unit(Unit.Type.GROSS_VALUE, amount, forex, exchangeRate);\n+                                        t.getPortfolioTransaction().addUnit(grossValue);\n                                     }\n-                                    BigDecimal exchangeRate = BigDecimal.ONE.divide(asExchangeRate(v.get(\"exchangeRate\")), 10, RoundingMode.HALF_DOWN);\n-                                    Money forex = Money.of(asCurrencyCode(v.get(\"currency\")), amountFx);\n-                                    Unit grossValue = new Unit(Unit.Type.GROSS_VALUE, amount, forex, exchangeRate);\n-                                    t.getPortfolioTransaction().addUnit(grossValue);\n-                                }\n                             }),\n \n                             // -------------------------------------\n-                            // with currency exchange \n+                            // with exchange rate\n                             // with fee\n-                            // Money        --> \\d.\\d or \\d,\\d.\\d\n-                            // exChangeRage --> \\d.\\d\n+                            // with stock exchange place\n+                            // Money        --> \\d.\\d   OR  \\d,\\d.\\d\n+                            // exchangeRage --> \\d.\\d\n+                            // -------------------------------------\n+                            // Formatting:\n+                            // DateTime | Name | ISIN | Stock Exchange + Place | Shares | Quote | Amount in exchange rate | Local Market value | Exchange rate | Fee | Total amount\n                             // -------------------------------------\n                             // 02-02-2021 17:39 NRG ENERGY INC. COMMO US6293775085 NSY XNAS 25 43.30 USD -1,082.50 USD -972.53 CHF 1.112 -0.63 CHF -973.16 CHF\n                             // 02-02-2021 16:14 AMERICAN STATES WATER US0298991011 NSY XNAS 10 80.35 USD -803.50 USD -721.95 CHF 1.1118 -0.04 CHF -721.99 CHF\n-                            section -> section.attributes(\"date\", \"name\", \"isin\", \"shares\", \"currency\", \"amountFx\", \"exchangeRate\", \"currencyFee\", \"fee\", \"currencyAccount\", \"amount\")\n-                            .match(\"^(?<date>\\\\d+-\\\\d+-\\\\d{4} \\\\d+:\\\\d+) \"\n-                                            + \"(?<name>.*) \"\n-                                            + \"(?<isin>[\\\\w]{12}) \"\n-                                            + \"[\\\\w]{3} [\\\\w]{4} \"\n-                                            + \"(?<shares>-?[.\\\\d]+[.\\\\d]*) \"\n-                                            + \"-?([\\\\d]+,[\\\\d]{3}.\\\\d+|\\\\d+.\\\\d+) [\\\\w]{3} \"\n-                                            + \"(?<amountFx>-?([\\\\d]+,[\\\\d]{3}.\\\\d+|\\\\d+.\\\\d+)) \"\n-                                            + \"(?<currency>[\\\\w]{3}) \"\n-                                            + \"-?([\\\\d]+,[\\\\d]{3}.\\\\d+|\\\\d+.\\\\d+) [\\\\w]{3} \"\n-                                            + \"(?<exchangeRate>[.\\\\d]+[.\\\\d]*) \"\n-                                            + \"(?<fee>-?([\\\\d]+,[\\\\d]{3}.\\\\d+|\\\\d+.\\\\d+)) \"\n-                                            + \"(?<currencyFee>[\\\\w]{3}) \"\n-                                            + \"(?<amount>-?([\\\\d]+,[\\\\d]{3}.\\\\d+|\\\\d+.\\\\d+)) \"\n-                                            + \"(?<currencyAccount>[\\\\w]{3})$\")\n-                            .assign((t, v) -> {\n-                                t.setSecurity(getOrCreateSecurity(v));\n-                                t.setDate(asDate(v.get(\"date\"))); \n-                                if (v.get(\"shares\").startsWith(\"-\"))\n-                                {\n-                                    t.setType(PortfolioTransaction.Type.SELL);\n-                                    t.setShares(asShares(v.get(\"shares\").replaceFirst(\"-\", \"\")));\n-                                }\n-                                else \n-                                {\n-                                    t.setShares(asShares(v.get(\"shares\")));\n-                                }\n-                                t.setCurrencyCode(asCurrencyCode(v.get(\"currencyAccount\")));\n-                                t.setAmount(asAmount(convertAmount(v.get(\"amount\"))));\n-                                Money feeAmount = Money.of(asCurrencyCode(v.get(\"currencyFee\")), asAmount(convertAmount(v.get(\"fee\"))));\n-                                t.getPortfolioTransaction().addUnit(new Unit(Unit.Type.FEE, feeAmount));\n-\n-                                long amountFx = asAmount(convertAmount(v.get(\"amountFx\")));\n-                                String currencyFx = asCurrencyCode(v.get(\"currency\"));\n-\n-                                if (currencyFx.equals(t.getPortfolioTransaction().getSecurity().getCurrencyCode()))\n-                                {\n-                                    Money amount = Money.of(asCurrencyCode(v.get(\"currencyAccount\")), asAmount(convertAmount(v.get(\"amount\"))));\n-                                    if (t.getPortfolioTransaction().getType() == PortfolioTransaction.Type.BUY)\n+                            section -> section\n+                                .attributes(\"date\", \"name\", \"isin\", \"shares\", \"currency\", \"amountFx\", \"exchangeRate\", \"currencyFee\", \"fee\", \"currencyAccount\", \"amount\")\n+                                .match(\"^(?<date>\\\\d+-\\\\d+-\\\\d{4} \\\\d+:\\\\d+) \"\n+                                                + \"(?<name>.*) \"\n+                                                + \"(?<isin>[\\\\w]{12}) \"\n+                                                + \"[\\\\w]{3} [\\\\w]{4} \"\n+                                                + \"(?<shares>-?[.\\\\d]+[.\\\\d]*) \"\n+                                                + \"-?([\\\\d]+,[\\\\d]{3}.\\\\d+|\\\\d+.\\\\d+) [\\\\w]{3} \"\n+                                                + \"(?<amountFx>-?([\\\\d]+,[\\\\d]{3}.\\\\d+|\\\\d+.\\\\d+)) \"\n+                                                + \"(?<currency>[\\\\w]{3}) \"\n+                                                + \"-?([\\\\d]+,[\\\\d]{3}.\\\\d+|\\\\d+.\\\\d+) [\\\\w]{3} \"\n+                                                + \"(?<exchangeRate>[.\\\\d]+[.\\\\d]*) \"\n+                                                + \"(?<fee>-?([\\\\d]+,[\\\\d]{3}.\\\\d+|\\\\d+.\\\\d+)) \"\n+                                                + \"(?<currencyFee>[\\\\w]{3}) \"\n+                                                + \"(?<amount>-?([\\\\d]+,[\\\\d]{3}.\\\\d+|\\\\d+.\\\\d+)) \"\n+                                                + \"(?<currencyAccount>[\\\\w]{3})$\")\n+                                .assign((t, v) -> {\n+                                    t.setSecurity(getOrCreateSecurity(v));\n+                                    t.setDate(asDate(v.get(\"date\")));\n+                                    t.setCurrencyCode(asCurrencyCode(v.get(\"currencyAccount\")));\n+                                    t.setAmount(asAmount(convertAmount(v.get(\"amount\"))));\n+\n+                                    if (v.get(\"shares\").startsWith(\"-\"))\n                                     {\n-                                        amount = amount.subtract(feeAmount);\n+                                        t.setType(PortfolioTransaction.Type.SELL);\n+                                        t.setShares(asShares(v.get(\"shares\").replaceFirst(\"-\", \"\")));\n                                     }\n                                     else \n                                     {\n-                                        amount = amount.add(feeAmount);\n+                                        t.setShares(asShares(v.get(\"shares\")));\n+                                    }\n+\n+                                    Money feeAmount = Money.of(asCurrencyCode(v.get(\"currencyFee\")), asAmount(convertAmount(v.get(\"fee\"))));\n+                                    t.getPortfolioTransaction().addUnit(new Unit(Unit.Type.FEE, feeAmount));\n+\n+                                    long amountFx = asAmount(convertAmount(v.get(\"amountFx\")));\n+                                    String currencyFx = asCurrencyCode(v.get(\"currency\"));\n+\n+                                    if (currencyFx.equals(t.getPortfolioTransaction().getSecurity().getCurrencyCode()))\n+                                    {\n+                                        Money amount = Money.of(asCurrencyCode(v.get(\"currencyAccount\")), asAmount(convertAmount(v.get(\"amount\"))));\n+                                        if (t.getPortfolioTransaction().getType() == PortfolioTransaction.Type.BUY)\n+                                        {\n+                                            amount = amount.subtract(feeAmount);\n+                                        }\n+                                        else\n+                                        {\n+                                            amount = amount.add(feeAmount);\n+                                        }\n+                                        BigDecimal exchangeRate = BigDecimal.ONE.divide(asExchangeRate(convertExchangeRate(v.get(\"exchangeRate\"))), 10, RoundingMode.HALF_DOWN);\n+                                        Money forex = Money.of(asCurrencyCode(v.get(\"currency\")), amountFx);\n+                                        Unit grossValue = new Unit(Unit.Type.GROSS_VALUE, amount, forex, exchangeRate);\n+                                        t.getPortfolioTransaction().addUnit(grossValue);\n                                     }\n-                                    BigDecimal exchangeRate = BigDecimal.ONE.divide(asExchangeRate(convertExchangeRate(v.get(\"exchangeRate\"))), 10, RoundingMode.HALF_DOWN);\n-                                    Money forex = Money.of(asCurrencyCode(v.get(\"currency\")), amountFx);\n-                                    Unit grossValue = new Unit(Unit.Type.GROSS_VALUE, amount, forex, exchangeRate);\n-                                    t.getPortfolioTransaction().addUnit(grossValue);\n-                                }\n                             }),\n \n                             // -------------------------------------\n-                            // without currency exchange \n+                            // without exchange rate\n                             // with fee\n-                            // Money        --> .\\d,\\d\n+                            // with stock exchange place\n+                            // Money        --> .\\d,\\d  OR  \\d\\s \\d\\s,\\d\n+                            // -------------------------------------\n+                            // Formatting:\n+                            // DateTime | Name | ISIN | Stock Exchange + Place | Shares | Quote | Market value | Local Market value | Fee | Total amount\n                             // -------------------------------------\n                             // 07-01-2021 09:00 K&S AG DE000KSAG888 XET XETA 20 9,748 EUR -194,96 EUR -194,96 EUR -2,04 EUR -197,00 EUR\n                             // 21-12-2020 10:33 VARTA AG DE000A0TGJ55 XET XETA -11 111,60 EUR 1.227,60 EUR 1.227,60 EUR -2,22 EUR 1.225,38 EUR\n+                            // 23-02-2021 15:56 INVESCO EQQQ NASDAQ-100 IE0032077012 XET XETA 8 260,00 EUR -2 080,00 EUR -2 080,00 EUR -2,62 EUR -2 082,62 EUR\n                             section -> section\n                                 .attributes(\"date\", \"name\", \"isin\", \"shares\", \"currencyFee\", \"fee\", \"currency\", \"amount\")\n                                 .match(\"^(?<date>\\\\d+-\\\\d+-\\\\d{4} \\\\d+:\\\\d+) \"\n                                                 + \"(?<name>.*) \"\n                                                 + \"(?<isin>[\\\\w]{12}) \"\n                                                 + \"[\\\\w]{3} [\\\\w]{4} \"\n                                                 + \"(?<shares>-?[.\\\\d]+[,\\\\d]*) \"  \n-                                                + \"[-.,\\\\d]* [\\\\w]{3} \" \n-                                                + \"[-.,\\\\d]* [\\\\w]{3} \" \n-                                                + \"[-.,\\\\d]* [\\\\w]{3} \" \n-                                                + \"-?(?<fee>[.\\\\d]+,[\\\\d]*) (?<currencyFee>[\\\\w]{3}) \" \n-                                                + \"-?(?<amount>[.\\\\d]+,[\\\\d]*) (?<currency>[\\\\w]{3})$\")\n+                                                + \"[-.,\\\\d\\\\s]* [\\\\w]{3} \" \n+                                                + \"[-.,\\\\d\\\\s]* [\\\\w]{3} \" \n+                                                + \"[-.,\\\\d\\\\s]* [\\\\w]{3} \" \n+                                                + \"-?(?<fee>[.\\\\d\\\\s]+,[\\\\d]*) (?<currencyFee>[\\\\w]{3}) \"\n+                                                + \"-?(?<amount>[.\\\\d\\\\s]+,[\\\\d]*) (?<currency>[\\\\w]{3})$\")\n                                 .assign((t, v) -> {\n+                                    v.put(\"fee\", stripBlanks(v.get(\"fee\")));\n+                                    v.put(\"amount\", stripBlanks(v.get(\"amount\")));\n+\n                                     t.setSecurity(getOrCreateSecurity(v));\n-                                    t.setDate(asDate(v.get(\"date\"))); \n-                                    if (v.get(\"shares\").startsWith(\"-\"))   \n+                                    t.setDate(asDate(v.get(\"date\")));\n+                                    t.setCurrencyCode(asCurrencyCode(v.get(\"currency\"))); \n+                                    t.setAmount(asAmount(v.get(\"amount\")));\n+\n+                                    if (v.get(\"shares\").startsWith(\"-\"))\n                                     {\n                                         t.setType(PortfolioTransaction.Type.SELL);\n-                                        t.setShares(asShares(v.get(\"shares\").replaceFirst(\"-\", \"\")));   \n+                                        t.setShares(asShares(v.get(\"shares\").replaceFirst(\"-\", \"\")));\n                                     }\n-                                    else \n+                                    else\n                                     {\n                                         t.setShares(asShares(v.get(\"shares\")));\n                                     }\n-                                    t.setCurrencyCode(asCurrencyCode(v.get(\"currency\"))); \n-                                    t.setAmount(asAmount(v.get(\"amount\")));\n-                                    Money feeAmount = Money.of(asCurrencyCode(v.get(\"currencyFee\")), asAmount(v.get(\"fee\")));  \n+\n+                                    Money feeAmount = Money.of(asCurrencyCode(v.get(\"currencyFee\")), asAmount(v.get(\"fee\")));\n                                     t.getPortfolioTransaction().addUnit(new Unit(Unit.Type.FEE, feeAmount));\n                             }),\n \n-                                // -------------------------------------\n-                                // without currency exchange\n-                                // with fee\n-                                // Money        --> \\d.\\d or \\d,\\d.\\d\n-                                // -------------------------------------\n-                                // 07-01-2021 09:00 K&S AG DE000KSAG888 XET XETA 25 9.748 EUR -1,082.50 EUR -972.53 EUR -0.63 EUR -973.16 EUR\n-                                section -> section\n-                                    .attributes(\"date\", \"name\", \"isin\", \"shares\", \"currencyFee\", \"fee\", \"currency\", \"amount\")\n-                                    .match(\"^(?<date>\\\\d+-\\\\d+-\\\\d{4} \\\\d+:\\\\d+) \"\n-                                                    + \"(?<name>.*) \"\n-                                                    + \"(?<isin>[\\\\w]{12}) \"\n-                                                    + \"[\\\\w]{3} [\\\\w]{4} \"\n-                                                    + \"(?<shares>-?[.\\\\d]+[,\\\\d]*) \"  \n-                                                    + \"[-.,\\\\d]* [\\\\w]{3} \" \n-                                                    + \"[-.,\\\\d]* [\\\\w]{3} \" \n-                                                    + \"[-.,\\\\d]* [\\\\w]{3} \" \n-                                                    + \"-?(?<fee>([\\\\d]+,[\\\\d]{3}.\\\\d+|\\\\d+.\\\\d+)*) (?<currencyFee>[\\\\w]{3}) \" \n-                                                    + \"-?(?<amount>([\\\\d]+,[\\\\d]{3}.\\\\d+|\\\\d+.\\\\d+)*) (?<currency>[\\\\w]{3})$\") \n-                                    .assign((t, v) -> {\n-                                        t.setSecurity(getOrCreateSecurity(v));\n-                                        t.setDate(asDate(v.get(\"date\"))); \n-                                        if (v.get(\"shares\").startsWith(\"-\"))   \n-                                        {\n-                                            t.setType(PortfolioTransaction.Type.SELL);\n-                                            t.setShares(asShares(v.get(\"shares\").replaceFirst(\"-\", \"\")));   \n-                                        }\n-                                        else \n-                                        {\n-                                            t.setShares(asShares(v.get(\"shares\")));\n-                                        }\n-                                        t.setCurrencyCode(asCurrencyCode(v.get(\"currency\"))); \n-                                        t.setAmount(asAmount(convertAmount(v.get(\"amount\"))));\n-                                        Money feeAmount = Money.of(asCurrencyCode(v.get(\"currencyFee\")), asAmount(convertAmount(v.get(\"fee\"))));  \n-                                        t.getPortfolioTransaction().addUnit(new Unit(Unit.Type.FEE, feeAmount));\n-                                }),\n+                            // -------------------------------------\n+                            // without exchange rate\n+                            // with fee\n+                            // with stock exchange place\n+                            // Money        --> \\d.\\d   OR  \\d,\\d.\\d\n+                            // -------------------------------------\n+                            // Formatting:\n+                            // DateTime | Name | ISIN | Stock Exchange + Place | Shares | Quote | Market value | Local Market value | Fee | Total amount\n+                            // -------------------------------------\n+                            // 07-01-2021 09:00 K&S AG DE000KSAG888 XET XETA 25 9.748 EUR -1,082.50 EUR -972.53 EUR -0.63 EUR -973.16 EUR\n+                            section -> section\n+                                .attributes(\"date\", \"name\", \"isin\", \"shares\", \"currencyFee\", \"fee\", \"currency\", \"amount\")\n+                                .match(\"^(?<date>\\\\d+-\\\\d+-\\\\d{4} \\\\d+:\\\\d+) \"\n+                                                + \"(?<name>.*) \"\n+                                                + \"(?<isin>[\\\\w]{12}) \"\n+                                                + \"[\\\\w]{3} [\\\\w]{4} \"\n+                                                + \"(?<shares>-?[.\\\\d]+[,\\\\d]*) \"\n+                                                + \"[-.,\\\\d]* [\\\\w]{3} \"\n+                                                + \"[-.,\\\\d]* [\\\\w]{3} \"\n+                                                + \"[-.,\\\\d]* [\\\\w]{3} \"\n+                                                + \"-?(?<fee>([\\\\d]+,[\\\\d]{3}.\\\\d+|\\\\d+.\\\\d+)*) (?<currencyFee>[\\\\w]{3}) \"\n+                                                + \"-?(?<amount>([\\\\d]+,[\\\\d]{3}.\\\\d+|\\\\d+.\\\\d+)*) (?<currency>[\\\\w]{3})$\")\n+                                .assign((t, v) -> {\n+                                    v.put(\"fee\", stripBlanks(v.get(\"fee\")));\n+                                    v.put(\"amount\", stripBlanks(v.get(\"amount\")));\n+\n+                                    t.setSecurity(getOrCreateSecurity(v));\n+                                    t.setDate(asDate(v.get(\"date\")));\n+                                    t.setCurrencyCode(asCurrencyCode(v.get(\"currency\")));\n+                                    t.setAmount(asAmount(convertAmount(v.get(\"amount\"))));\n+\n+                                    if (v.get(\"shares\").startsWith(\"-\"))\n+                                    {\n+                                        t.setType(PortfolioTransaction.Type.SELL);\n+                                        t.setShares(asShares(v.get(\"shares\").replaceFirst(\"-\", \"\")));\n+                                    }\n+                                    else\n+                                    {\n+                                        t.setShares(asShares(v.get(\"shares\")));\n+                                    }\n+                                    Money feeAmount = Money.of(asCurrencyCode(v.get(\"currencyFee\")), asAmount(convertAmount(v.get(\"fee\"))));\n+                                    t.getPortfolioTransaction().addUnit(new Unit(Unit.Type.FEE, feeAmount));\n+                            }),\n \n                             // -------------------------------------\n-                            // with currency exchange \n+                            // with exchange rate\n                             // without fee\n-                            // Money        --> \\d,\\d\n-                            // exChangeRage --> \\d,\\d\n+                            // with stock exchange place\n+                            // Money        --> \\d,\\d   OR  \\d.\\d,\\d\n+                            // exchangeRage --> \\d,\\d\n+                            // -------------------------------------\n+                            // Formatting:\n+                            // DateTime | Name | ISIN | Stock Exchange + Place | Shares | Quote | Amount in exchange rate | Local Market value | Exchange rate | Total amount\n                             // -------------------------------------\n                             // 03-02-2021 21:18 UPWORK INC. CMN US91688F1049 NDQ SOHO -1 47,00 USD 47,00 USD 39,00 EUR 1,2038 39,00 EUR\n-                            section -> section.attributes(\"date\", \"name\", \"isin\", \"shares\", \"currency\", \"amountFx\", \"exchangeRate\", \"currencyAccount\", \"amount\")\n-                            .match(\"^(?<date>\\\\d+-\\\\d+-\\\\d{4} \\\\d+:\\\\d+) \"\n-                                            + \"(?<name>.*) \"\n-                                            + \"(?<isin>[\\\\w]{12}) \"\n-                                            + \"[\\\\w]{3} [\\\\w]{4} \"\n-                                            + \"(?<shares>-?[.\\\\d]+[,\\\\d]*) \"  \n-                                            + \"-?[.\\\\d]+,\\\\d{2,3} [\\\\w]{3}.* \" \n-                                            + \"-?(?<amountFx>[.\\\\d]+,\\\\d{2}) \"\n-                                            + \"(?<currency>[\\\\w]{3}).* \" \n-                                            + \"-?[.\\\\d]+,\\\\d{2} [\\\\w]{3} \" \n-                                            + \"(?<exchangeRate>[.\\\\d]+,\\\\d{1,6}) \" \n-                                            + \"-?(?<amount>[.\\\\d]+,\\\\d{2}) \"\n-                                            + \"(?<currencyAccount>[\\\\w]{3})$\")\n-                            .assign((t, v) -> {\n-                                t.setSecurity(getOrCreateSecurity(v));\n-                                t.setDate(asDate(v.get(\"date\"))); \n-                                if (v.get(\"shares\").startsWith(\"-\"))   \n-                                {\n-                                    t.setType(PortfolioTransaction.Type.SELL);\n-                                    t.setShares(asShares(v.get(\"shares\").replaceFirst(\"-\", \"\")));   \n-                                }\n-                                else \n-                                {\n-                                    t.setShares(asShares(v.get(\"shares\"))); \n-                                }\n-                                t.setCurrencyCode(asCurrencyCode(v.get(\"currencyAccount\"))); \n-                                t.setAmount(asAmount(v.get(\"amount\")));\n-\n-                                long amountFx = asAmount(v.get(\"amountFx\")); \n-                                String currencyFx = asCurrencyCode(v.get(\"currency\")); \n-\n-                                if (currencyFx.equals(t.getPortfolioTransaction().getSecurity().getCurrencyCode()))\n-                                {\n-                                    Money amount = Money.of(asCurrencyCode(v.get(\"currencyAccount\")), asAmount(v.get(\"amount\")));  \n-                                    BigDecimal exchangeRate = BigDecimal.ONE.divide(asExchangeRate(v.get(\"exchangeRate\")), 10, RoundingMode.HALF_DOWN); \n-                                    Money forex = Money.of(asCurrencyCode(v.get(\"currency\")), amountFx);\n-                                    Unit grossValue = new Unit(Unit.Type.GROSS_VALUE, amount, forex, exchangeRate);\n-                                    t.getPortfolioTransaction().addUnit(grossValue);\n-                                }\n+                            section -> section\n+                                .attributes(\"date\", \"name\", \"isin\", \"shares\", \"currency\", \"amountFx\", \"exchangeRate\", \"currencyAccount\", \"amount\")\n+                                .match(\"^(?<date>\\\\d+-\\\\d+-\\\\d{4} \\\\d+:\\\\d+) \"\n+                                                + \"(?<name>.*) \"\n+                                                + \"(?<isin>[\\\\w]{12}) \"\n+                                                + \"[\\\\w]{3} [\\\\w]{4} \"\n+                                                + \"(?<shares>-?[.\\\\d]+[,\\\\d]*) \"\n+                                                + \"-?[.\\\\d]+,\\\\d{2,3} [\\\\w]{3}.* \"\n+                                                + \"-?(?<amountFx>[.\\\\d]+,\\\\d{2}) (?<currency>[\\\\w]{3}).* \"\n+                                                + \"-?[.\\\\d]+,\\\\d{2} [\\\\w]{3} \"\n+                                                + \"(?<exchangeRate>[.\\\\d]+,\\\\d{1,6}) \"\n+                                                + \"-?(?<amount>[.\\\\d]+,\\\\d{2}) (?<currencyAccount>[\\\\w]{3})$\")\n+                                .assign((t, v) -> {\n+                                    t.setSecurity(getOrCreateSecurity(v));\n+                                    t.setDate(asDate(v.get(\"date\")));\n+                                    t.setCurrencyCode(asCurrencyCode(v.get(\"currencyAccount\")));\n+                                    t.setAmount(asAmount(v.get(\"amount\")));\n+\n+                                    if (v.get(\"shares\").startsWith(\"-\"))\n+                                    {\n+                                        t.setType(PortfolioTransaction.Type.SELL);\n+                                        t.setShares(asShares(v.get(\"shares\").replaceFirst(\"-\", \"\")));\n+                                    }\n+                                    else \n+                                    {\n+                                        t.setShares(asShares(v.get(\"shares\")));\n+                                    }\n+\n+                                    long amountFx = asAmount(v.get(\"amountFx\"));\n+                                    String currencyFx = asCurrencyCode(v.get(\"currency\"));\n+\n+                                    if (currencyFx.equals(t.getPortfolioTransaction().getSecurity().getCurrencyCode()))\n+                                    {\n+                                        Money amount = Money.of(asCurrencyCode(v.get(\"currencyAccount\")), asAmount(v.get(\"amount\")));\n+                                        BigDecimal exchangeRate = BigDecimal.ONE.divide(asExchangeRate(v.get(\"exchangeRate\")), 10, RoundingMode.HALF_DOWN);\n+                                        Money forex = Money.of(asCurrencyCode(v.get(\"currency\")), amountFx);\n+                                        Unit grossValue = new Unit(Unit.Type.GROSS_VALUE, amount, forex, exchangeRate);\n+                                        t.getPortfolioTransaction().addUnit(grossValue);\n+                                    }\n                             }),\n \n                             // -------------------------------------\n-                            // with currency exchange \n+                            // with exchange rate\n                             // without fee\n-                            // Money        --> \\d.\\d or \\d,\\d.\\d\n-                            // exChangeRage --> \\d.\\d\n+                            // with stock exchange place\n+                            // Money        --> \\d.\\d   OR  \\d,\\d.\\d\n+                            // exchangeRage --> \\d.\\d\n+                            // -------------------------------------\n+                            // Formatting:\n+                            // DateTime | Name | ISIN | Stock Exchange + Place | Shares | Quote | Amount in exchange rate | Local Market value | Exchange rate | Total amount\n                             // -------------------------------------\n                             // 03-08-2020 09:30 VANGUARD FTSE AW IE00B3RBWM25 EAM XAMS 15 77.09 EUR -1,156.35 EUR -1,248.40 CHF 0.9253 -1,248.40 CHF\n-                            section -> section.attributes(\"date\", \"name\", \"isin\", \"shares\", \"currency\", \"amountFx\", \"exchangeRate\", \"currencyAccount\", \"amount\")\n-                            .match(\"^(?<date>\\\\d+-\\\\d+-\\\\d{4} \\\\d+:\\\\d+) \"\n-                                            + \"(?<name>.*) \"\n-                                            + \"(?<isin>[\\\\w]{12}) \"\n-                                            + \"[\\\\w]{3} [\\\\w]{4} \"\n-                                            + \"(?<shares>-?[.\\\\d]+[.\\\\d]*) \"\n-                                            + \"-?([\\\\d]+,[\\\\d]{3}.\\\\d+|\\\\d+.\\\\d+) \"\n-                                            + \"[\\\\w]{3}.* \"\n-                                            + \"-?(?<amountFx>([\\\\d]+,[\\\\d]{3}.\\\\d+|\\\\d+.\\\\d+)) \"\n-                                            + \"(?<currency>[\\\\w]{3}).* \"\n-                                            + \"-?([\\\\d]+,[\\\\d]{3}.\\\\d+|\\\\d+.\\\\d+) \"\n-                                            + \"[\\\\w]{3} \"\n-                                            + \"(?<exchangeRate>[.\\\\d]+[.\\\\d]*) \"\n-                                            + \"-?(?<amount>([\\\\d]+,[\\\\d]{3}.\\\\d+|\\\\d+.\\\\d+)) \"\n-                                            + \"(?<currencyAccount>[\\\\w]{3})$\")\n-                            .assign((t, v) -> {\n-                                t.setSecurity(getOrCreateSecurity(v));\n-                                t.setDate(asDate(v.get(\"date\")));\n-                                if (v.get(\"shares\").startsWith(\"-\"))   \n-                                {\n-                                    t.setType(PortfolioTransaction.Type.SELL);\n-                                    t.setShares(asShares(v.get(\"shares\").replaceFirst(\"-\", \"\")));   \n-                                }\n-                                else \n-                                {\n-                                    t.setShares(asShares(v.get(\"shares\"))); \n-                                }\n-                                t.setCurrencyCode(asCurrencyCode(v.get(\"currencyAccount\"))); \n-                                t.setAmount(asAmount(convertAmount(v.get(\"amount\"))));\n-\n-                                long amountFx = asAmount(convertAmount(v.get(\"amountFx\"))); \n-                                String currencyFx = asCurrencyCode(v.get(\"currency\"));\n-\n-                                if (currencyFx.equals(t.getPortfolioTransaction().getSecurity().getCurrencyCode()))\n-                                {\n-                                    Money amount = Money.of(asCurrencyCode(v.get(\"currencyAccount\")), asAmount(convertAmount(v.get(\"amount\"))));  \n-                                    BigDecimal exchangeRate = BigDecimal.ONE.divide(asExchangeRate(convertExchangeRate(v.get(\"exchangeRate\"))), 10, RoundingMode.HALF_DOWN); \n-                                    Money forex = Money.of(asCurrencyCode(v.get(\"currency\")), amountFx);\n-                                    Unit grossValue = new Unit(Unit.Type.GROSS_VALUE, amount, forex, exchangeRate);\n-                                    t.getPortfolioTransaction().addUnit(grossValue);\n-                                }\n+                            section -> section\n+                                .attributes(\"date\", \"name\", \"isin\", \"shares\", \"currency\", \"amountFx\", \"exchangeRate\", \"currencyAccount\", \"amount\")\n+                                .match(\"^(?<date>\\\\d+-\\\\d+-\\\\d{4} \\\\d+:\\\\d+) \"\n+                                                + \"(?<name>.*) \"\n+                                                + \"(?<isin>[\\\\w]{12}) \"\n+                                                + \"[\\\\w]{3} [\\\\w]{4} \"\n+                                                + \"(?<shares>-?[.\\\\d]+[.\\\\d]*) \"\n+                                                + \"-?([\\\\d]+,[\\\\d]{3}.\\\\d+|\\\\d+.\\\\d+) [\\\\w]{3}.* \"\n+                                                + \"-?(?<amountFx>([\\\\d]+,[\\\\d]{3}.\\\\d+|\\\\d+.\\\\d+)) (?<currency>[\\\\w]{3}).* \"\n+                                                + \"-?([\\\\d]+,[\\\\d]{3}.\\\\d+|\\\\d+.\\\\d+) [\\\\w]{3} \"\n+                                                + \"(?<exchangeRate>[.\\\\d]+[.\\\\d]*) \"\n+                                                + \"-?(?<amount>([\\\\d]+,[\\\\d]{3}.\\\\d+|\\\\d+.\\\\d+)) (?<currencyAccount>[\\\\w]{3})$\")\n+                                .assign((t, v) -> {\n+                                    t.setSecurity(getOrCreateSecurity(v));\n+                                    t.setDate(asDate(v.get(\"date\")));\n+                                    t.setCurrencyCode(asCurrencyCode(v.get(\"currencyAccount\")));\n+                                    t.setAmount(asAmount(convertAmount(v.get(\"amount\"))));\n+\n+                                    if (v.get(\"shares\").startsWith(\"-\"))\n+                                    {\n+                                        t.setType(PortfolioTransaction.Type.SELL);\n+                                        t.setShares(asShares(v.get(\"shares\").replaceFirst(\"-\", \"\")));\n+                                    }\n+                                    else\n+                                    {\n+                                        t.setShares(asShares(v.get(\"shares\")));\n+                                    }\n+\n+                                    long amountFx = asAmount(convertAmount(v.get(\"amountFx\")));\n+                                    String currencyFx = asCurrencyCode(v.get(\"currency\"));\n+\n+                                    if (currencyFx.equals(t.getPortfolioTransaction().getSecurity().getCurrencyCode()))\n+                                    {\n+                                        Money amount = Money.of(asCurrencyCode(v.get(\"currencyAccount\")), asAmount(convertAmount(v.get(\"amount\"))));\n+                                        BigDecimal exchangeRate = BigDecimal.ONE.divide(asExchangeRate(convertExchangeRate(v.get(\"exchangeRate\"))), 10, RoundingMode.HALF_DOWN);\n+                                        Money forex = Money.of(asCurrencyCode(v.get(\"currency\")), amountFx);\n+                                        Unit grossValue = new Unit(Unit.Type.GROSS_VALUE, amount, forex, exchangeRate);\n+                                        t.getPortfolioTransaction().addUnit(grossValue);\n+                                    }\n+                            }),\n+\n+                            // -------------------------------------\n+                            // without exchange rate\n+                            // without fee\n+                            // with stock exchange place\n+                            // Money        --> \\d,\\d   OR  \\d.\\d,\\d    OR  \\d\\s \\d\\s,\\d\n+                            // -------------------------------------\n+                            // Formatting:\n+                            // DateTime | Name | ISIN | Stock Exchange + Place | Shares | Quote | Local Market value | Total amount\n+                            // -------------------------------------\n+                            // 28-02-2020 09:00 TOMTOM NL0013332471 EAM XAMS 1 8,933 EUR -8,93 EUR -8,93 EUR -8,93 EUR\n+                            section -> section\n+                                .attributes(\"date\", \"name\", \"isin\", \"shares\", \"currency\", \"amount\")\n+                                .match(\"^(?<date>\\\\d+-\\\\d+-\\\\d{4} \\\\d+:\\\\d+) \"\n+                                                + \"(?<name>.*) (?<isin>\\\\w{12}) \"\n+                                                + \"\\\\w{3} \\\\w{4} \"\n+                                                + \"(?<shares>[-]?[.\\\\d\\\\s]+[,\\\\d]*) \"\n+                                                + \"[-.,\\\\d\\\\s]* \\\\w{3} \"\n+                                                + \"[-.,\\\\d\\\\s]* \\\\w{3} \"\n+                                                + \"[-.,\\\\d\\\\s]* \\\\w{3} \"\n+                                                + \"-?(?<amount>[.,\\\\d\\\\s]*) (?<currency>\\\\w{3})$\") \n+                                .assign((t, v) -> {\n+                                    v.put(\"amount\", stripBlanks(v.get(\"amount\")));\n+\n+                                    t.setSecurity(getOrCreateSecurity(v));\n+                                    t.setDate(asDate(v.get(\"date\")));\n+                                    t.setCurrencyCode(asCurrencyCode(v.get(\"currency\")));\n+                                    t.setAmount(asAmount(v.get(\"amount\")));\n+\n+                                    if (v.get(\"shares\").startsWith(\"-\"))\n+                                    {\n+                                        t.setType(PortfolioTransaction.Type.SELL);\n+                                        t.setShares(asShares(\n+                                                        v.get(\"shares\").replaceFirst(\"-\", \"\")));\n+                                    }\n+                                    else\n+                                    {\n+                                        t.setShares(asShares(v.get(\"shares\")));\n+                                    }\n                             })\n                         )\n \n@@ -1045,6 +1338,11 @@ private String convertExchangeRate(String inputExchangeRate)\n         return inputExchangeRate.replace(\".\", \",\");\n     }\n \n+    private String stripBlanks(String input)\n+    {\n+        return input.replaceAll(\" \", \"\"); //$NON-NLS-1$ //$NON-NLS-2$\n+    }\n+\n     @Override\n     LocalDateTime asDate(String value)\n     {"
  },
  {
    "sha": "f1a680f84937119f4101d2bada751bf1d648dd74",
    "filename": "name.abuchen.portfolio/src/name/abuchen/portfolio/datatransfer/pdf/DkbPDFExtractor.java",
    "status": "modified",
    "additions": 0,
    "deletions": 1,
    "changes": 1,
    "blob_url": "https://github.com/buchen/portfolio/blob/dec04a4c5466d9e7ea4b8b52751223035fee693a/name.abuchen.portfolio/src/name/abuchen/portfolio/datatransfer/pdf/DkbPDFExtractor.java",
    "raw_url": "https://github.com/buchen/portfolio/raw/dec04a4c5466d9e7ea4b8b52751223035fee693a/name.abuchen.portfolio/src/name/abuchen/portfolio/datatransfer/pdf/DkbPDFExtractor.java",
    "contents_url": "https://api.github.com/repos/buchen/portfolio/contents/name.abuchen.portfolio/src/name/abuchen/portfolio/datatransfer/pdf/DkbPDFExtractor.java?ref=dec04a4c5466d9e7ea4b8b52751223035fee693a",
    "patch": "@@ -454,7 +454,6 @@ private DocumentType createDocumentType(String documentTypeString)\n                 {\n                     context.put(IS_JOINT_ACCOUNT, Boolean.TRUE.toString());\n                     bJointAccount = true;\n-                    System.out.println(bJointAccount);\n                     break;\n                 }\n             }"
  }
]
