[
  {
    "sha": "5e8b7590b953bdb74dc7afa96275f9c35574d6c0",
    "filename": ".gitignore",
    "status": "modified",
    "additions": 40,
    "deletions": 0,
    "changes": 40,
    "blob_url": "https://github.com/lazarevspb/spring_course/blob/a039bebf805572e34baa126feb2c5a49eee68d04/.gitignore",
    "raw_url": "https://github.com/lazarevspb/spring_course/raw/a039bebf805572e34baa126feb2c5a49eee68d04/.gitignore",
    "contents_url": "https://api.github.com/repos/lazarevspb/spring_course/contents/.gitignore?ref=a039bebf805572e34baa126feb2c5a49eee68d04",
    "patch": "@@ -4,3 +4,43 @@\n .idea/\n *.iml\n target/\n+HELP.md\n+target/\n+!.mvn/wrapper/maven-wrapper.jar\n+!**/src/main/**/target/\n+!**/src/test/**/target/\n+\n+### STS ###\n+.apt_generated\n+.classpath\n+.factorypath\n+.project\n+.settings\n+.springBeans\n+.sts4-cache\n+\n+### IntelliJ IDEA ###\n+.idea\n+*.iws\n+*.iml\n+*.ipr\n+\n+### NetBeans ###\n+/nbproject/private/\n+/nbbuild/\n+/dist/\n+/nbdist/\n+/.nb-gradle/\n+build/\n+!**/src/main/**/build/\n+!**/src/test/**/build/\n+\n+### VS Code ###\n+.vscode/\n+/spring-boot-project.zip\n+/lesson3.rar\n+/lesson2/lesson2.uml\n+/lesson4/.mvn/wrapper/\n+/lesson4/.mvn/\n+*.uml\n+"
  },
  {
    "sha": "5e8b7590b953bdb74dc7afa96275f9c35574d6c0",
    "filename": "lesson4/.gitignore",
    "status": "added",
    "additions": 46,
    "deletions": 0,
    "changes": 46,
    "blob_url": "https://github.com/lazarevspb/spring_course/blob/a039bebf805572e34baa126feb2c5a49eee68d04/lesson4/.gitignore",
    "raw_url": "https://github.com/lazarevspb/spring_course/raw/a039bebf805572e34baa126feb2c5a49eee68d04/lesson4/.gitignore",
    "contents_url": "https://api.github.com/repos/lazarevspb/spring_course/contents/lesson4/.gitignore?ref=a039bebf805572e34baa126feb2c5a49eee68d04",
    "patch": "@@ -0,0 +1,46 @@\n+/spring_course.iml\n+/target/\n+/firstapp.iml\n+.idea/\n+*.iml\n+target/\n+HELP.md\n+target/\n+!.mvn/wrapper/maven-wrapper.jar\n+!**/src/main/**/target/\n+!**/src/test/**/target/\n+\n+### STS ###\n+.apt_generated\n+.classpath\n+.factorypath\n+.project\n+.settings\n+.springBeans\n+.sts4-cache\n+\n+### IntelliJ IDEA ###\n+.idea\n+*.iws\n+*.iml\n+*.ipr\n+\n+### NetBeans ###\n+/nbproject/private/\n+/nbbuild/\n+/dist/\n+/nbdist/\n+/.nb-gradle/\n+build/\n+!**/src/main/**/build/\n+!**/src/test/**/build/\n+\n+### VS Code ###\n+.vscode/\n+/spring-boot-project.zip\n+/lesson3.rar\n+/lesson2/lesson2.uml\n+/lesson4/.mvn/wrapper/\n+/lesson4/.mvn/\n+*.uml\n+"
  },
  {
    "sha": "138dfc9f6775bba7e8a164d35cd78698f2a70cfc",
    "filename": "lesson4/pom.xml",
    "status": "added",
    "additions": 101,
    "deletions": 0,
    "changes": 101,
    "blob_url": "https://github.com/lazarevspb/spring_course/blob/a039bebf805572e34baa126feb2c5a49eee68d04/lesson4/pom.xml",
    "raw_url": "https://github.com/lazarevspb/spring_course/raw/a039bebf805572e34baa126feb2c5a49eee68d04/lesson4/pom.xml",
    "contents_url": "https://api.github.com/repos/lazarevspb/spring_course/contents/lesson4/pom.xml?ref=a039bebf805572e34baa126feb2c5a49eee68d04",
    "patch": "@@ -0,0 +1,101 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+\txsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd\">\n+\t<modelVersion>4.0.0</modelVersion>\n+\t<parent>\n+\t\t<groupId>org.springframework.boot</groupId>\n+\t\t<artifactId>spring-boot-starter-parent</artifactId>\n+\t\t<version>2.4.3</version>\n+\t\t<relativePath/> <!-- lookup parent from repository -->\n+\t</parent>\n+\t<groupId>ru.lazarev</groupId>\n+\t<artifactId>lesson4</artifactId>\n+\t<packaging>war</packaging>\n+\t<version>0.0.1-SNAPSHOT</version>\n+\t<name>lesson4</name>\n+\t<description>Demo project for Spring Boot</description>\n+\t<properties>\n+\t\t<java.version>11</java.version>\n+\t\t<jackson-bom.version>2.12.2</jackson-bom.version>\n+\t</properties>\n+\n+\t<dependencies>\n+\n+\t\t<dependency>\n+\t\t\t<groupId>org.springframework.boot</groupId>\n+\t\t\t<artifactId>spring-boot-starter-web</artifactId>\n+\t\t\t<exclusions>\n+\t\t\t\t<exclusion>\n+\t\t\t\t\t<groupId>org.springframework.boot</groupId>\n+\t\t\t\t\t<artifactId>spring-boot-starter-tomcat</artifactId>\n+\t\t\t\t</exclusion>\n+\t\t\t</exclusions>\n+\t\t</dependency>\n+\t\t<dependency>\n+\t\t\t<groupId>org.springframework.boot</groupId>\n+\t\t\t<artifactId>spring-boot-starter-jetty</artifactId>\n+\t\t</dependency>\n+\n+\n+\t\t<!-- JAXB API -->\n+\t\t<dependency>\n+\t\t\t<groupId>jakarta.xml.bind</groupId>\n+\t\t\t<artifactId>jakarta.xml.bind-api</artifactId>\n+\t\t\t<version>2.3.2</version>\n+\t\t</dependency>\n+\n+\t\t<!-- JAXB Runtime -->\n+\t\t<dependency>\n+\t\t\t<groupId>org.glassfish.jaxb</groupId>\n+\t\t\t<artifactId>jaxb-runtime</artifactId>\n+\t\t\t<version>2.3.2</version>\n+\t\t</dependency>\n+\n+\t\t<dependency>\n+\t\t\t<groupId>com.fasterxml.jackson.dataformat</groupId>\n+\t\t\t<artifactId>jackson-dataformat-xml</artifactId>\n+\t\t\t<version>${jackson-bom.version}</version>\n+\t\t</dependency>\n+\n+\t\t<dependency>\n+\t\t\t<groupId>org.springframework.boot</groupId>\n+\t\t\t<artifactId>spring-boot-starter-thymeleaf</artifactId>\n+\t\t</dependency>\n+\n+\t\t<dependency>\n+\t\t\t<groupId>org.springframework.boot</groupId>\n+\t\t\t<artifactId>spring-boot-starter-web</artifactId>\n+\t\t</dependency>\n+\n+\t\t<dependency>\n+\t\t\t<groupId>org.projectlombok</groupId>\n+\t\t\t<artifactId>lombok</artifactId>\n+\t\t\t<optional>true</optional>\n+\t\t</dependency>\n+\n+\t\t<dependency>\n+\t\t\t<groupId>org.springframework.boot</groupId>\n+\t\t\t<artifactId>spring-boot-starter-test</artifactId>\n+\t\t\t<scope>test</scope>\n+\t\t</dependency>\n+\n+\t</dependencies>\n+\n+\t<build>\n+\t\t<plugins>\n+\t\t\t<plugin>\n+\t\t\t\t<groupId>org.springframework.boot</groupId>\n+\t\t\t\t<artifactId>spring-boot-maven-plugin</artifactId>\n+\t\t\t\t<configuration>\n+\t\t\t\t\t<excludes>\n+\t\t\t\t\t\t<exclude>\n+\t\t\t\t\t\t\t<groupId>org.projectlombok</groupId>\n+\t\t\t\t\t\t\t<artifactId>lombok</artifactId>\n+\t\t\t\t\t\t</exclude>\n+\t\t\t\t\t</excludes>\n+\t\t\t\t</configuration>\n+\t\t\t</plugin>\n+\t\t</plugins>\n+\t</build>\n+\n+</project>"
  },
  {
    "sha": "29f69fd986a69f4a4f304dc333924b941aff20f8",
    "filename": "lesson4/src/main/java/ru/lazarev/Lesson4Application.java",
    "status": "added",
    "additions": 49,
    "deletions": 0,
    "changes": 49,
    "blob_url": "https://github.com/lazarevspb/spring_course/blob/a039bebf805572e34baa126feb2c5a49eee68d04/lesson4/src/main/java/ru/lazarev/Lesson4Application.java",
    "raw_url": "https://github.com/lazarevspb/spring_course/raw/a039bebf805572e34baa126feb2c5a49eee68d04/lesson4/src/main/java/ru/lazarev/Lesson4Application.java",
    "contents_url": "https://api.github.com/repos/lazarevspb/spring_course/contents/lesson4/src/main/java/ru/lazarev/Lesson4Application.java?ref=a039bebf805572e34baa126feb2c5a49eee68d04",
    "patch": "@@ -0,0 +1,49 @@\n+package ru.lazarev;\n+\n+import org.springframework.boot.SpringApplication;\n+import org.springframework.boot.autoconfigure.SpringBootApplication;\n+\n+\n+import org.eclipse.jetty.server.Connector;\n+import org.eclipse.jetty.server.Server;\n+import org.eclipse.jetty.server.ServerConnector;\n+import org.eclipse.jetty.util.ssl.SslContextFactory;\n+import org.springframework.boot.SpringApplication;\n+import org.springframework.boot.autoconfigure.SpringBootApplication;\n+import org.springframework.boot.web.embedded.jetty.JettyServerCustomizer;\n+import org.springframework.boot.web.embedded.jetty.JettyServletWebServerFactory;\n+import org.springframework.boot.web.server.ErrorPage;\n+import org.springframework.boot.web.servlet.server.ConfigurableServletWebServerFactory;\n+import org.springframework.context.annotation.Bean;\n+import org.springframework.http.HttpStatus;\n+\n+import javax.net.ssl.SSLContext;\n+import java.security.NoSuchAlgorithmException;\n+import java.util.Collections;\n+\n+/**\n+ * Homework for Spring course, lesson #4\n+ *\n+ * @author Valeriy Lazarev\n+ * @since 13.03.2021\n+ */\n+@SpringBootApplication\n+public class Lesson4Application {\n+\n+    public static void main(String[] args) {\n+        SpringApplication.run(Lesson4Application.class, args);\n+    }\n+\n+    /*\n+    https://howtodoinjava.com/spring-boot/configure-jetty-server/\n+     */\n+    @Bean\n+    public ConfigurableServletWebServerFactory webServerFactory()\n+    {\n+        JettyServletWebServerFactory factory = new JettyServletWebServerFactory();\n+        factory.setPort(8180);\n+        factory.setContextPath(\"/market\");\n+        factory.addErrorPages(new ErrorPage(HttpStatus.NOT_FOUND, \"/notfound.html\"));\n+        return factory;\n+    }\n+}"
  },
  {
    "sha": "895bc2410521ed690837c16a9d9c94dd08032439",
    "filename": "lesson4/src/main/java/ru/lazarev/controllers/ProductsController.java",
    "status": "added",
    "additions": 81,
    "deletions": 0,
    "changes": 81,
    "blob_url": "https://github.com/lazarevspb/spring_course/blob/a039bebf805572e34baa126feb2c5a49eee68d04/lesson4/src/main/java/ru/lazarev/controllers/ProductsController.java",
    "raw_url": "https://github.com/lazarevspb/spring_course/raw/a039bebf805572e34baa126feb2c5a49eee68d04/lesson4/src/main/java/ru/lazarev/controllers/ProductsController.java",
    "contents_url": "https://api.github.com/repos/lazarevspb/spring_course/contents/lesson4/src/main/java/ru/lazarev/controllers/ProductsController.java?ref=a039bebf805572e34baa126feb2c5a49eee68d04",
    "patch": "@@ -0,0 +1,81 @@\n+package ru.lazarev.controllers;\n+\n+import com.fasterxml.jackson.databind.ObjectMapper;\n+import org.springframework.http.MediaType;\n+import org.springframework.stereotype.Controller;\n+import org.springframework.ui.Model;\n+import org.springframework.web.bind.annotation.*;\n+import ru.lazarev.exception.ResourceNotFoundException;\n+import ru.lazarev.model.Product;\n+import ru.lazarev.services.ProductsService;\n+\n+import javax.xml.bind.JAXB;\n+import java.io.IOException;\n+import java.io.StringWriter;\n+import java.util.Optional;\n+\n+@Controller\n+@RequestMapping(\"/products\")\n+public class ProductsController {\n+    private final ProductsService productsService;\n+\n+    public ProductsController(ProductsService productsService) {\n+        this.productsService = productsService;\n+    }\n+\n+    @GetMapping\n+    public String showAll(Model model,\n+                          @RequestParam(required = false, name = \"min_price\") Integer minPrice,\n+                          @RequestParam(required = false, name = \"max_price\") Integer maxPrice\n+    ) {\n+        model.addAttribute(\"products\", productsService.findAll(minPrice, maxPrice));\n+        return \"index\";\n+    }\n+\n+    @GetMapping(\"/delete/{id}\")\n+    public String deleteProductById(@PathVariable Long id) {\n+        productsService.deleteById(id);\n+        return \"redirect:/products\";\n+    }\n+\n+    @GetMapping(\"/{id}\")\n+    public String showProductById(Model model, @PathVariable Long id) {\n+        Optional<Product> product = productsService.findById(id);\n+        model.addAttribute(\"product\", productsService.findById(id).orElseThrow(() -> new ResourceNotFoundException(\"Продукт не найден\")));\n+        return \"product\";\n+    }\n+\n+    @GetMapping(\"/new\")\n+    public String newProduct(Model model) {\n+        model.addAttribute(\"product\", new Product());\n+        return \"new\";\n+    }\n+\n+    @PostMapping()\n+    public String createProduct(@ModelAttribute(\"product\") Product product) {\n+        productsService.saveOrUpdate(product);\n+        System.out.println(productsService.toString());\n+        return \"redirect:/products\";\n+    }\n+\n+    @GetMapping(\"get_json/{id}\")\n+    public String getJson(Model model, @PathVariable Long id) throws IOException {\n+        ObjectMapper objectMapper = new ObjectMapper();\n+        Product product = productsService.findById(id).orElseThrow(() -> new ResourceNotFoundException(\"Продукт не найден\"));\n+        String jsonString = objectMapper.writeValueAsString(product);\n+        model.addAttribute(\"receivedText\", jsonString);\n+        return \"json_view\";\n+    }\n+\n+\n+    @GetMapping(\"get_xml/{id}\")\n+    public String getXML(Model model, @PathVariable Long id) {\n+        Product product = productsService.findById(id).orElseThrow(() -> new ResourceNotFoundException(\"Продукт не найден\"));\n+        StringWriter sw = new StringWriter();\n+        JAXB.marshal(product, sw);\n+        String xmlString = sw.toString();\n+        model.addAttribute(\"xmlString\", xmlString);\n+        return \"xml_view\";\n+    }\n+\n+}"
  },
  {
    "sha": "bf59a8cb94d7bf712b27447753f903b4f6f171e7",
    "filename": "lesson4/src/main/java/ru/lazarev/exception/ResourceNotFoundException.java",
    "status": "added",
    "additions": 7,
    "deletions": 0,
    "changes": 7,
    "blob_url": "https://github.com/lazarevspb/spring_course/blob/a039bebf805572e34baa126feb2c5a49eee68d04/lesson4/src/main/java/ru/lazarev/exception/ResourceNotFoundException.java",
    "raw_url": "https://github.com/lazarevspb/spring_course/raw/a039bebf805572e34baa126feb2c5a49eee68d04/lesson4/src/main/java/ru/lazarev/exception/ResourceNotFoundException.java",
    "contents_url": "https://api.github.com/repos/lazarevspb/spring_course/contents/lesson4/src/main/java/ru/lazarev/exception/ResourceNotFoundException.java?ref=a039bebf805572e34baa126feb2c5a49eee68d04",
    "patch": "@@ -0,0 +1,7 @@\n+package ru.lazarev.exception;\n+\n+public class ResourceNotFoundException extends RuntimeException{\n+    public ResourceNotFoundException(String message) {\n+        super(message);\n+    }\n+}"
  },
  {
    "sha": "47be04ca6b7051ed9558c8d03b63b6efe4e06ce6",
    "filename": "lesson4/src/main/java/ru/lazarev/model/Product.java",
    "status": "added",
    "additions": 12,
    "deletions": 0,
    "changes": 12,
    "blob_url": "https://github.com/lazarevspb/spring_course/blob/a039bebf805572e34baa126feb2c5a49eee68d04/lesson4/src/main/java/ru/lazarev/model/Product.java",
    "raw_url": "https://github.com/lazarevspb/spring_course/raw/a039bebf805572e34baa126feb2c5a49eee68d04/lesson4/src/main/java/ru/lazarev/model/Product.java",
    "contents_url": "https://api.github.com/repos/lazarevspb/spring_course/contents/lesson4/src/main/java/ru/lazarev/model/Product.java?ref=a039bebf805572e34baa126feb2c5a49eee68d04",
    "patch": "@@ -0,0 +1,12 @@\n+package ru.lazarev.model;\n+\n+import lombok.*;\n+\n+@Data\n+@AllArgsConstructor\n+@NoArgsConstructor\n+public class Product {\n+    private Long id;\n+    private String name;\n+    private int price;\n+}"
  },
  {
    "sha": "702bfbf8902d731656fadad65147d1251a48701d",
    "filename": "lesson4/src/main/java/ru/lazarev/repositories/ProductsRepository.java",
    "status": "added",
    "additions": 70,
    "deletions": 0,
    "changes": 70,
    "blob_url": "https://github.com/lazarevspb/spring_course/blob/a039bebf805572e34baa126feb2c5a49eee68d04/lesson4/src/main/java/ru/lazarev/repositories/ProductsRepository.java",
    "raw_url": "https://github.com/lazarevspb/spring_course/raw/a039bebf805572e34baa126feb2c5a49eee68d04/lesson4/src/main/java/ru/lazarev/repositories/ProductsRepository.java",
    "contents_url": "https://api.github.com/repos/lazarevspb/spring_course/contents/lesson4/src/main/java/ru/lazarev/repositories/ProductsRepository.java?ref=a039bebf805572e34baa126feb2c5a49eee68d04",
    "patch": "@@ -0,0 +1,70 @@\n+package ru.lazarev.repositories;\n+\n+import org.springframework.stereotype.Component;\n+import ru.lazarev.model.Product;\n+\n+import javax.annotation.PostConstruct;\n+import java.util.ArrayList;\n+import java.util.Collections;\n+import java.util.List;\n+import java.util.Optional;\n+import java.util.stream.Collectors;\n+\n+@Component\n+public class ProductsRepository {\n+    private List<Product> products;\n+    private static Long PRODUCTS_COUNT = 0L;\n+\n+    public List<Product> findAll() {\n+        return Collections.unmodifiableList(products);\n+    }\n+\n+    @PostConstruct\n+    public void init() {\n+        int minPrice = 0;\n+        int maxPrice = 1000;\n+        int productCount = 5000;\n+\n+        this.products = new ArrayList<>();\n+        for (int i = 0; i < productCount; i++) {\n+            products.add(new Product(\n+                    ++PRODUCTS_COUNT,\n+                    \"Product_\" + PRODUCTS_COUNT,\n+                    (int) (Math.random() * ++maxPrice) + minPrice));\n+        }\n+\n+    }\n+\n+    public Product saveOrUpdateProduct(Product product) {\n+\n+        if (product.getId() != null) {\n+            for (int i = 0; i < products.size(); i++) {\n+                if (products.get(i).getId().equals(product.getId())) {\n+                    products.set(i, product);\n+                    return product;\n+                }\n+            }\n+        }\n+        Long newId = products.stream().mapToLong(Product::getId).max().orElseGet(() -> 0L) + 1L;\n+        product.setId(newId);\n+        this.products.add(product);\n+        return product;\n+    }\n+\n+    public Optional<Product> findById(Long id) {\n+        return products.stream()\n+                .filter(product -> product.getId().equals(id))\n+                .findFirst();\n+    }\n+\n+    public void deleteById(Long id) {\n+        products.removeIf(product -> product.getId().equals(id));\n+    }\n+\n+    @Override\n+    public String toString() {\n+        return products.stream()\n+                .map(Product::getName)\n+                .collect(Collectors.joining(\"::\", \"the_collection_contains: [\", \"]\"));\n+    }\n+}"
  },
  {
    "sha": "c7483f3b39dfe11844c1befac3e7c7b93ef65ec6",
    "filename": "lesson4/src/main/java/ru/lazarev/services/ProductsService.java",
    "status": "added",
    "additions": 50,
    "deletions": 0,
    "changes": 50,
    "blob_url": "https://github.com/lazarevspb/spring_course/blob/a039bebf805572e34baa126feb2c5a49eee68d04/lesson4/src/main/java/ru/lazarev/services/ProductsService.java",
    "raw_url": "https://github.com/lazarevspb/spring_course/raw/a039bebf805572e34baa126feb2c5a49eee68d04/lesson4/src/main/java/ru/lazarev/services/ProductsService.java",
    "contents_url": "https://api.github.com/repos/lazarevspb/spring_course/contents/lesson4/src/main/java/ru/lazarev/services/ProductsService.java?ref=a039bebf805572e34baa126feb2c5a49eee68d04",
    "patch": "@@ -0,0 +1,50 @@\n+package ru.lazarev.services;\n+\n+import lombok.RequiredArgsConstructor;\n+import org.springframework.stereotype.Service;\n+import ru.lazarev.model.Product;\n+import ru.lazarev.repositories.ProductsRepository;\n+\n+import java.util.List;\n+import java.util.Optional;\n+import java.util.stream.Collectors;\n+\n+@Service\n+@RequiredArgsConstructor\n+public class ProductsService {\n+    private final ProductsRepository productsRepository;\n+\n+    public Optional<Product> findById(Long id) {\n+        return productsRepository.findById(id);\n+    }\n+\n+    public List<Product> findAll() {\n+        return productsRepository.findAll();\n+    }\n+\n+    public List<Product> findAll(Integer minPrice, Integer maxPrice) {\n+        List<Product> out = findAll();\n+        if (minPrice != null) {\n+            out = out.stream()\n+                    .filter(product -> product.getPrice() >= minPrice)\n+                    .collect(Collectors.toList());\n+\n+        }\n+        if (maxPrice != null) {\n+            out = out.stream()\n+                    .filter(product -> product.getPrice() <= maxPrice)\n+                    .collect(Collectors.toList());\n+\n+        }\n+        return out;\n+    }\n+\n+    public Product saveOrUpdate(Product product) {\n+        return productsRepository.saveOrUpdateProduct(product);\n+    }\n+\n+    public void deleteById(Long id) {\n+        productsRepository.deleteById(id);\n+    }\n+\n+}"
  },
  {
    "sha": "86cd010fd8b6d9dadfe12991009e8eb8655004e9",
    "filename": "lesson4/src/main/resources/application.yaml",
    "status": "added",
    "additions": 6,
    "deletions": 0,
    "changes": 6,
    "blob_url": "https://github.com/lazarevspb/spring_course/blob/a039bebf805572e34baa126feb2c5a49eee68d04/lesson4/src/main/resources/application.yaml",
    "raw_url": "https://github.com/lazarevspb/spring_course/raw/a039bebf805572e34baa126feb2c5a49eee68d04/lesson4/src/main/resources/application.yaml",
    "contents_url": "https://api.github.com/repos/lazarevspb/spring_course/contents/lesson4/src/main/resources/application.yaml?ref=a039bebf805572e34baa126feb2c5a49eee68d04",
    "patch": "@@ -0,0 +1,6 @@\n+server:\n+  port: 8180\n+  servlet:\n+    context-path: /market\n+\n+"
  },
  {
    "sha": "569ef0a7d7c1ae06066f186fd46a9fd02e06e0f1",
    "filename": "lesson4/src/main/resources/templates/index.html",
    "status": "added",
    "additions": 51,
    "deletions": 0,
    "changes": 51,
    "blob_url": "https://github.com/lazarevspb/spring_course/blob/a039bebf805572e34baa126feb2c5a49eee68d04/lesson4/src/main/resources/templates/index.html",
    "raw_url": "https://github.com/lazarevspb/spring_course/raw/a039bebf805572e34baa126feb2c5a49eee68d04/lesson4/src/main/resources/templates/index.html",
    "contents_url": "https://api.github.com/repos/lazarevspb/spring_course/contents/lesson4/src/main/resources/templates/index.html?ref=a039bebf805572e34baa126feb2c5a49eee68d04",
    "patch": "@@ -0,0 +1,51 @@\n+<!DOCTYPE html>\n+<html xmlns=\"http://www.w3.org/1999/xhtml\" xmlns:th=\"http://www.thymeleaf.org\" lang=\"ru\">\n+\n+<head>\n+    <meta charset=\"utf-8\"/>\n+    <title>Products</title>\n+    <link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css\">\n+    <script src=\"https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js\"></script>\n+    <script src=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js\"></script>\n+</head>\n+\n+<body>\n+\n+<div class=\"container\">\n+    <br>\n+    <a class=\"btn btn-primary\" th:href=\"@{'/products/new'}\">Добавить продукт</a>\n+    <br>\n+    <h1>Фильтр</h1>\n+    <form method=\"get\" th:action=\"@{'/products'}\">\n+        <input class=\"form-control\" th:value=\"${param.min_price != null ? param.min_price : ''}\" type=\"number\" placeholder=\"Минимальная цена\" name=\"min_price\"/>\n+        <input class=\"form-control\" th:value=\"${param.max_price != null ? param.max_price : ''}\" type=\"number\" placeholder=\"Максимальная цена\" name=\"max_price\"/>\n+        <button class=\"btn btn-primary\" type=\"submit\">Найти</button>\n+    </form>\n+    <h1>Список продуктов</h1>\n+    <table class=\"table table-hover\">\n+        <thead class=\"thead-dark\">\n+        <tr>\n+            <th>ID</th>\n+            <th>Название</th>\n+            <th>Стоимость</th>\n+            <th>Действие</th>\n+        </tr>\n+        </thead>\n+        <tbody>\n+        <tr th:each=\"p : ${products}\">\n+            <td th:text=\"${p.id}\"/>\n+            <td th:text=\"${p.name}\"/>\n+            <td th:text=\"${p.price}\"/>\n+            <td>\n+                <a class=\"btn btn-danger\" th:href=\"@{'/products/delete/' + ${p.id}}\">Удалить</a>\n+                <a class=\"btn btn-danger\" th:href=\"@{'/products/' + ${p.id}}\">Посмотреть</a>\n+                <a class=\"btn btn-danger\" th:href=\"@{'/products/get_json/' + ${p.id}}\">json</a>\n+                <a class=\"btn btn-danger\" th:href=\"@{'/products/get_xml/' + ${p.id}}\">xml</a>\n+            </td>\n+        </tr>\n+        </tbody>\n+    </table>\n+</div>\n+\n+</body>\n+</html>\n\\ No newline at end of file"
  },
  {
    "sha": "a1fe1567d79a99a12440aebacbc79a8206adcc05",
    "filename": "lesson4/src/main/resources/templates/json_view.html",
    "status": "added",
    "additions": 13,
    "deletions": 0,
    "changes": 13,
    "blob_url": "https://github.com/lazarevspb/spring_course/blob/a039bebf805572e34baa126feb2c5a49eee68d04/lesson4/src/main/resources/templates/json_view.html",
    "raw_url": "https://github.com/lazarevspb/spring_course/raw/a039bebf805572e34baa126feb2c5a49eee68d04/lesson4/src/main/resources/templates/json_view.html",
    "contents_url": "https://api.github.com/repos/lazarevspb/spring_course/contents/lesson4/src/main/resources/templates/json_view.html?ref=a039bebf805572e34baa126feb2c5a49eee68d04",
    "patch": "@@ -0,0 +1,13 @@\n+\n+<!DOCTYPE html>\n+<html xmlns:th=\"http://www.thymeleaf.org\" lang=\"en\">\n+<head>\n+    <meta charset=\"ISO-8859-1\">\n+    <title>My json</title>\n+</head>\n+<body>\n+<br><a href=\"/market/products/\">go to main page</a>\n+<h1>json page</h1>\n+<h2 th:text=\"'text: ' + ${receivedText}\"></h2>\n+</body>\n+</html>\n\\ No newline at end of file"
  },
  {
    "sha": "bdbd60c2b88f100e530bc83a357beee2d1278e19",
    "filename": "lesson4/src/main/resources/templates/new.html",
    "status": "added",
    "additions": 24,
    "deletions": 0,
    "changes": 24,
    "blob_url": "https://github.com/lazarevspb/spring_course/blob/a039bebf805572e34baa126feb2c5a49eee68d04/lesson4/src/main/resources/templates/new.html",
    "raw_url": "https://github.com/lazarevspb/spring_course/raw/a039bebf805572e34baa126feb2c5a49eee68d04/lesson4/src/main/resources/templates/new.html",
    "contents_url": "https://api.github.com/repos/lazarevspb/spring_course/contents/lesson4/src/main/resources/templates/new.html?ref=a039bebf805572e34baa126feb2c5a49eee68d04",
    "patch": "@@ -0,0 +1,24 @@\n+<!DOCTYPE html>\n+<html lang=\"en\" xmlns:th=\"http://thymeleaf.org\">\n+<head>\n+    <meta charset=\"UTF-8\">\n+    <title>New product</title>\n+</head>\n+<body>\n+\n+<br><a href=\"/market/products/\">go to main page</a>\n+<form th:method=\"POST\" form th:action=\"@{/products}\" th:object=\"${product}\">\n+    <label for=\"Name\">Enter name:\n+    <input type=\"text\" th:field=\"*{name}\" id=\"name\"/>\n+    </label>\n+    <br>\n+    <label for=\"Price\">Enter price:\n+    price: <input type=\"text\" th:field=\"*{price}\" id=\"price\"/>\n+    </label>\n+    <br>\n+    <button type=\"submit\">Save</button>\n+    <br><a href=\"/products/all\">view all products</a>\n+</form>\n+\n+</body>\n+</html>\n\\ No newline at end of file"
  },
  {
    "sha": "d0e40862eb80a3567021e93d1aa26d998cb43b77",
    "filename": "lesson4/src/main/resources/templates/product.html",
    "status": "added",
    "additions": 15,
    "deletions": 0,
    "changes": 15,
    "blob_url": "https://github.com/lazarevspb/spring_course/blob/a039bebf805572e34baa126feb2c5a49eee68d04/lesson4/src/main/resources/templates/product.html",
    "raw_url": "https://github.com/lazarevspb/spring_course/raw/a039bebf805572e34baa126feb2c5a49eee68d04/lesson4/src/main/resources/templates/product.html",
    "contents_url": "https://api.github.com/repos/lazarevspb/spring_course/contents/lesson4/src/main/resources/templates/product.html?ref=a039bebf805572e34baa126feb2c5a49eee68d04",
    "patch": "@@ -0,0 +1,15 @@\n+<!DOCTYPE html>\n+<html  xmlns:th=\"http://thymeleaf.org\" lang=\"ru\">\n+<head>\n+    <meta charset=\"UTF-8\">\n+  <title>Product</title>\n+</head>\n+<body>\n+<br><a href=\"/market/products/\">go to main page</a>\n+<h1>Описание</h1>\n+<p th:text=\"${product.name}\">VALUE<</p>\n+<p th:text=\"${product.id}\">VALUE</p>\n+<p th:text=\"${product.price}\">VALUE</p>\n+\n+</body>\n+</html>\n\\ No newline at end of file"
  },
  {
    "sha": "f7811386c0aae2cb77b8ede89c06177fb3eabbcd",
    "filename": "lesson4/src/main/resources/templates/xml_view.html",
    "status": "added",
    "additions": 12,
    "deletions": 0,
    "changes": 12,
    "blob_url": "https://github.com/lazarevspb/spring_course/blob/a039bebf805572e34baa126feb2c5a49eee68d04/lesson4/src/main/resources/templates/xml_view.html",
    "raw_url": "https://github.com/lazarevspb/spring_course/raw/a039bebf805572e34baa126feb2c5a49eee68d04/lesson4/src/main/resources/templates/xml_view.html",
    "contents_url": "https://api.github.com/repos/lazarevspb/spring_course/contents/lesson4/src/main/resources/templates/xml_view.html?ref=a039bebf805572e34baa126feb2c5a49eee68d04",
    "patch": "@@ -0,0 +1,12 @@\n+<!DOCTYPE html>\n+<html xmlns:th=\"http://www.thymeleaf.org\" lang=\"en\">\n+<head>\n+    <meta charset=\"ISO-8859-1\">\n+    <title>My xml</title>\n+</head>\n+<body>\n+<br><a href=\"/market/products/\">go to main page</a>\n+<h1>xml page</h1>\n+<h4 th:text=\"'text: ' + ${xmlString}\"></h4>\n+</body>\n+</html>\n\\ No newline at end of file"
  },
  {
    "sha": "ff7b4290a6a3738bcffeec8aa1d14557179cd0df",
    "filename": "lesson4/src/test/java/ru/lazarev/Lesson4ApplicationTests.java",
    "status": "added",
    "additions": 13,
    "deletions": 0,
    "changes": 13,
    "blob_url": "https://github.com/lazarevspb/spring_course/blob/a039bebf805572e34baa126feb2c5a49eee68d04/lesson4/src/test/java/ru/lazarev/Lesson4ApplicationTests.java",
    "raw_url": "https://github.com/lazarevspb/spring_course/raw/a039bebf805572e34baa126feb2c5a49eee68d04/lesson4/src/test/java/ru/lazarev/Lesson4ApplicationTests.java",
    "contents_url": "https://api.github.com/repos/lazarevspb/spring_course/contents/lesson4/src/test/java/ru/lazarev/Lesson4ApplicationTests.java?ref=a039bebf805572e34baa126feb2c5a49eee68d04",
    "patch": "@@ -0,0 +1,13 @@\n+package ru.lazarev;\n+\n+import org.junit.jupiter.api.Test;\n+import org.springframework.boot.test.context.SpringBootTest;\n+\n+@SpringBootTest\n+class Lesson4ApplicationTests {\n+\n+\t@Test\n+\tvoid contextLoads() {\n+\t}\n+\n+}"
  },
  {
    "sha": "bd4cc6b0e63718fe330c13a33eab9dcd109674eb",
    "filename": "pom.xml",
    "status": "modified",
    "additions": 1,
    "deletions": 0,
    "changes": 1,
    "blob_url": "https://github.com/lazarevspb/spring_course/blob/a039bebf805572e34baa126feb2c5a49eee68d04/pom.xml",
    "raw_url": "https://github.com/lazarevspb/spring_course/raw/a039bebf805572e34baa126feb2c5a49eee68d04/pom.xml",
    "contents_url": "https://api.github.com/repos/lazarevspb/spring_course/contents/pom.xml?ref=a039bebf805572e34baa126feb2c5a49eee68d04",
    "patch": "@@ -12,6 +12,7 @@\n         <module>lesson1</module>\n         <module>lesson2</module>\n         <module>lesson3</module>\n+        <module>lesson4</module>\n     </modules>\n \n "
  }
]
