[
  {
    "sha": "2abb5cb1426f7bae9fd246b56a36e739e18b9ef7",
    "filename": "plugins/de.ovgu.featureide.fm.ui/src/de/ovgu/featureide/fm/ui/views/constraintview/ConstraintViewController.java",
    "status": "modified",
    "additions": 15,
    "deletions": 0,
    "changes": 15,
    "blob_url": "https://github.com/FeatureIDE/FeatureIDE/blob/7142bbd92d37582031609aa39114f909271146fa/plugins/de.ovgu.featureide.fm.ui/src/de/ovgu/featureide/fm/ui/views/constraintview/ConstraintViewController.java",
    "raw_url": "https://github.com/FeatureIDE/FeatureIDE/raw/7142bbd92d37582031609aa39114f909271146fa/plugins/de.ovgu.featureide.fm.ui/src/de/ovgu/featureide/fm/ui/views/constraintview/ConstraintViewController.java",
    "contents_url": "https://api.github.com/repos/FeatureIDE/FeatureIDE/contents/plugins/de.ovgu.featureide.fm.ui/src/de/ovgu/featureide/fm/ui/views/constraintview/ConstraintViewController.java?ref=7142bbd92d37582031609aa39114f909271146fa",
    "patch": "@@ -40,11 +40,13 @@\n import org.eclipse.ui.part.ViewPart;\n \n import de.ovgu.featureide.fm.core.AnalysesCollection;\n+import de.ovgu.featureide.fm.core.FeatureModelAnalyzer;\n import de.ovgu.featureide.fm.core.analysis.cnf.formula.FeatureModelFormula;\n import de.ovgu.featureide.fm.core.base.IConstraint;\n import de.ovgu.featureide.fm.core.base.IFeatureModel;\n import de.ovgu.featureide.fm.core.base.event.FeatureIDEEvent;\n import de.ovgu.featureide.fm.core.base.event.IEventListener;\n+import de.ovgu.featureide.fm.core.base.impl.FeatureModelProperty;\n import de.ovgu.featureide.fm.core.io.manager.FeatureModelManager;\n import de.ovgu.featureide.fm.core.localization.StringTable;\n import de.ovgu.featureide.fm.ui.FMUIPlugin;\n@@ -82,6 +84,8 @@\n \tprivate FeatureModelEditor featureModelEditor;\n \tprivate boolean featureDiagramPageVisible = false;\n \n+\tprivate FeatureModelAnalyzer analyzer;\n+\n \t/**\n \t * The constraint used to detect when the analysis is finished\n \t */\n@@ -250,6 +254,7 @@ private void addListeners() {\n \t * a FeatureDiagram\" text is shown.\n \t */\n \tpublic void refresh() {\n+\t\tSystem.err.println(\"REFRESH CALLED\");\n \t\tfinal boolean constraintsViewVisible = isConstraintsViewVisible();\n \t\tfinal boolean constraintsListVisible = isConstraintsListVisible();\n \n@@ -307,6 +312,13 @@ public void setFeatureModelEditor(FeatureModelEditor newFeatureModelEditor) {\n \n \t\t// add listeners, etc. to new FeatureModelEditor\n \t\tif (newFeatureModelEditor != null) {\n+\t\t\tfinal Boolean isAutomaticCalculation =\n+\t\t\t\tFeatureModelProperty.getBooleanProperty(newFeatureModelEditor.getFeatureModelManager().getSnapshot().getProperty(),\n+\t\t\t\t\t\tFeatureModelProperty.TYPE_CALCULATIONS, FeatureModelProperty.PROPERTY_CALCULATIONS_RUN_AUTOMATICALLY);\n+\t\t\tif ((isAutomaticCalculation != null) && isAutomaticCalculation) {\n+\t\t\t\tanalyzer = newFeatureModelEditor.getFeatureModelManager().getVariableFormula().getAnalyzer();\n+\t\t\t}\n+\n \t\t\tnewFeatureModelEditor.diagramEditor.addSelectionChangedListener(selectionListener);\n \t\t\tnewFeatureModelEditor.addPageChangedListener(pageChangeListener);\n \t\t\tnewFeatureModelEditor.addEventListener(eventListener);\n@@ -439,4 +451,7 @@ public FeatureModelEditor getFeatureModelEditor() {\n \t\treturn featureModelEditor;\n \t}\n \n+\tpublic FeatureModelAnalyzer getAnalyzer() {\n+\t\treturn analyzer;\n+\t}\n }"
  },
  {
    "sha": "510de11900fb38556c9dc2429a1dd71d1e7da898",
    "filename": "plugins/de.ovgu.featureide.fm.ui/src/de/ovgu/featureide/fm/ui/views/constraintview/content/ConstraintViewConstraintColumnLabelProvider.java",
    "status": "modified",
    "additions": 9,
    "deletions": 5,
    "changes": 14,
    "blob_url": "https://github.com/FeatureIDE/FeatureIDE/blob/7142bbd92d37582031609aa39114f909271146fa/plugins/de.ovgu.featureide.fm.ui/src/de/ovgu/featureide/fm/ui/views/constraintview/content/ConstraintViewConstraintColumnLabelProvider.java",
    "raw_url": "https://github.com/FeatureIDE/FeatureIDE/raw/7142bbd92d37582031609aa39114f909271146fa/plugins/de.ovgu.featureide.fm.ui/src/de/ovgu/featureide/fm/ui/views/constraintview/content/ConstraintViewConstraintColumnLabelProvider.java",
    "contents_url": "https://api.github.com/repos/FeatureIDE/FeatureIDE/contents/plugins/de.ovgu.featureide.fm.ui/src/de/ovgu/featureide/fm/ui/views/constraintview/content/ConstraintViewConstraintColumnLabelProvider.java?ref=7142bbd92d37582031609aa39114f909271146fa",
    "patch": "@@ -10,6 +10,7 @@\n import de.ovgu.featureide.fm.core.analysis.ConstraintProperties;\n import de.ovgu.featureide.fm.core.base.IConstraint;\n import de.ovgu.featureide.fm.core.base.IFeatureModelElement;\n+import de.ovgu.featureide.fm.core.base.impl.FeatureModelProperty;\n import de.ovgu.featureide.fm.core.editing.FeatureModelToNodeTraceModel;\n import de.ovgu.featureide.fm.core.explanations.Reason;\n import de.ovgu.featureide.fm.ui.editors.featuremodel.GUIDefaults;\n@@ -105,12 +106,15 @@ public Image getImage(Object element) {\n \t\t\t\treturn getColoredCircleImage(color);\n \t\t\t}\n \n-\t\t\tfinal ConstraintProperties constraintProperties =\n-\t\t\t\tcontroller.getFeatureModelManager().getVariableFormula().getAnalyzer().getAnalysesCollection().getConstraintProperty(constraint);\n-\t\t\tif (constraintProperties.hasStatus(ConstraintProperties.ConstraintStatus.REDUNDANT)) {\n-\t\t\t\treturn GUIDefaults.FM_INFO;\n-\t\t\t}\n+\t\t\tfinal Boolean isAutomaticCalculation = FeatureModelProperty.getBooleanProperty(controller.getFeatureModelManager().getSnapshot().getProperty(),\n+\t\t\t\t\tFeatureModelProperty.TYPE_CALCULATIONS, FeatureModelProperty.PROPERTY_CALCULATIONS_RUN_AUTOMATICALLY);\n+\t\t\tif ((isAutomaticCalculation != null) && isAutomaticCalculation) {\n \n+\t\t\t\tfinal ConstraintProperties constraintProperties = controller.getAnalyzer().getAnalysesCollection().getConstraintProperty(constraint);\n+\t\t\t\tif (constraintProperties.hasStatus(ConstraintProperties.ConstraintStatus.REDUNDANT)) {\n+\t\t\t\t\treturn GUIDefaults.FM_INFO;\n+\t\t\t\t}\n+\t\t\t}\n \t\t\treturn null;\n \t\t}\n \t}"
  }
]
