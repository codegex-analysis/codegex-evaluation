[
  {
    "sha": "0f4ca4fe24643ead7aa5c1373958c65547c5e43e",
    "filename": "CHANGELOG.md",
    "status": "modified",
    "additions": 28,
    "deletions": 0,
    "changes": 28,
    "blob_url": "https://github.com/Esesion/halo/blob/30c50f61f874301105b1810afb3daa7979ab5ab9/CHANGELOG.md",
    "raw_url": "https://github.com/Esesion/halo/raw/30c50f61f874301105b1810afb3daa7979ab5ab9/CHANGELOG.md",
    "contents_url": "https://api.github.com/repos/Esesion/halo/contents/CHANGELOG.md?ref=30c50f61f874301105b1810afb3daa7979ab5ab9",
    "patch": "@@ -1,5 +1,33 @@\n # CHANGELOG\n \n+# 1.4.7\n+\n+## Bug Fixes\n+\n+- 修复在 Windows 平台下，上传主题压缩包提示不支持当前文件格式的问题。halo-dev/halo-admin#309\n+\n+# 1.4.6\n+\n+## Features\n+\n+- 主题编写支持继承以及 block 特性。halo-dev/halo#1295\n+\n+## Improvements\n+\n+- 重构初始化页面，目前分为全新安装和数据导入。从这个版本开始，数据导入将导入所有数据。halo-dev/halo-admin#296\n+- 优化后台菜单管理的排序拖动体验。halo-dev/halo-admin#291\n+- 移除后台设置项字符数的限制。halo-dev/halo#1287\n+\n+## Bug Fixes\n+\n+- 修复后台上传组件格式限制不生效的问题。halo-dev/halo-admin#296\n+- 修复后台新建文章页面，点击浏览器回退键不提示保存的问题。halo-dev/halo-admin#302\n+- 修复后台备份无法下载的问题。halo-dev/halo#1278\n+- 修复 1.4.5 版本中前台页面渲染不完整的问题。halo-dev/halo#1301\n+- 修复上传某些格式的图片因为缩略图生成失败导致上传错误的问题。halo-dev/halo#1298\n+- 修复 Swagger 文档分页数据字段和实际不一致的问题。halo-dev/halo#1277\n+- 修复 1.4.5 版本中通过主题包升级主题失败的问题。halo-dev/halo#1284\n+\n # 1.4.5\n \n ## Improvements"
  },
  {
    "sha": "53598c667ee2d6b325d5014c74dbcd141d1758dd",
    "filename": "README.md",
    "status": "modified",
    "additions": 1,
    "deletions": 1,
    "changes": 2,
    "blob_url": "https://github.com/Esesion/halo/blob/30c50f61f874301105b1810afb3daa7979ab5ab9/README.md",
    "raw_url": "https://github.com/Esesion/halo/raw/30c50f61f874301105b1810afb3daa7979ab5ab9/README.md",
    "contents_url": "https://api.github.com/repos/Esesion/halo/contents/README.md?ref=30c50f61f874301105b1810afb3daa7979ab5ab9",
    "patch": "@@ -27,7 +27,7 @@\n > 其他地址：https://docs.halo.run/install/downloads\n \n ```bash\n-curl -L https://github.com/halo-dev/halo/releases/download/v1.4.5/halo-1.4.5.jar --output halo.jar\n+curl -L https://github.com/halo-dev/halo/releases/download/v1.4.7/halo-1.4.7.jar --output halo.jar\n ```\n \n ```bash"
  },
  {
    "sha": "68a2b52bcf216ffbe466f6515f12fbd167a3258e",
    "filename": "build.gradle",
    "status": "modified",
    "additions": 4,
    "deletions": 2,
    "changes": 6,
    "blob_url": "https://github.com/Esesion/halo/blob/30c50f61f874301105b1810afb3daa7979ab5ab9/build.gradle",
    "raw_url": "https://github.com/Esesion/halo/raw/30c50f61f874301105b1810afb3daa7979ab5ab9/build.gradle",
    "contents_url": "https://api.github.com/repos/Esesion/halo/contents/build.gradle?ref=30c50f61f874301105b1810afb3daa7979ab5ab9",
    "patch": "@@ -6,7 +6,7 @@ plugins {\n }\n \n group = \"run.halo.app\"\n-version = \"1.4.5\"\n+version = \"1.4.7\"\n description = \"Halo, An excellent open source blog publishing application.\"\n sourceCompatibility = JavaVersion.VERSION_11\n \n@@ -101,14 +101,15 @@ ext {\n     huaweiObsVersion = \"3.19.7\"\n     githubApiVersion = \"1.84\"\n     templateInheritanceVersion = \"0.4.RELEASE\"\n+    jsoupVersion = \"1.13.1\"\n }\n \n dependencies {\n     implementation \"org.kohsuke:github-api:$githubApiVersion\"\n     implementation \"org.springframework.boot:spring-boot-starter-actuator\"\n     implementation \"org.springframework.boot:spring-boot-starter-data-jpa\"\n     implementation \"org.springframework.boot:spring-boot-starter-web\"\n-    implementation \"org.springframework.boot:spring-boot-starter-undertow\"\n+    implementation \"org.springframework.boot:spring-boot-starter-jetty\"\n     implementation \"org.springframework.boot:spring-boot-starter-freemarker\"\n     implementation 'org.springframework.boot:spring-boot-starter-validation'\n \n@@ -165,6 +166,7 @@ dependencies {\n     testImplementation(\"org.springframework.boot:spring-boot-starter-test\") {\n         exclude group: 'org.junit.vintage', module: 'junit-vintage-engine'\n     }\n+    testImplementation(\"org.jsoup:jsoup:${jsoupVersion}\")\n \n     developmentOnly \"org.springframework.boot:spring-boot-devtools\"\n }"
  },
  {
    "sha": "f36dffa44ce144a19b8fe4c4455bd076aeff3bed",
    "filename": "src/main/java/run/halo/app/aspect/DisableOnConditionAspect.java",
    "status": "modified",
    "additions": 1,
    "deletions": 2,
    "changes": 3,
    "blob_url": "https://github.com/Esesion/halo/blob/30c50f61f874301105b1810afb3daa7979ab5ab9/src/main/java/run/halo/app/aspect/DisableOnConditionAspect.java",
    "raw_url": "https://github.com/Esesion/halo/raw/30c50f61f874301105b1810afb3daa7979ab5ab9/src/main/java/run/halo/app/aspect/DisableOnConditionAspect.java",
    "contents_url": "https://api.github.com/repos/Esesion/halo/contents/src/main/java/run/halo/app/aspect/DisableOnConditionAspect.java?ref=30c50f61f874301105b1810afb3daa7979ab5ab9",
    "patch": "@@ -28,8 +28,7 @@ public DisableOnConditionAspect(HaloProperties haloProperties) {\n         this.haloProperties = haloProperties;\n     }\n \n-    @Pointcut(\"execution(* run.halo.app.controller.*.*(..)) \"\n-        + \"&& @annotation(run.halo.app.annotation.DisableOnCondition)\")\n+    @Pointcut(\"within(run.halo.app.controller..*)\")\n     public void pointcut() {\n     }\n "
  },
  {
    "sha": "f9c7585984556b5e8c43177262de3a269868aa6f",
    "filename": "src/main/java/run/halo/app/aspect/SensitiveConcealAspect.java",
    "status": "modified",
    "additions": 1,
    "deletions": 1,
    "changes": 2,
    "blob_url": "https://github.com/Esesion/halo/blob/30c50f61f874301105b1810afb3daa7979ab5ab9/src/main/java/run/halo/app/aspect/SensitiveConcealAspect.java",
    "raw_url": "https://github.com/Esesion/halo/raw/30c50f61f874301105b1810afb3daa7979ab5ab9/src/main/java/run/halo/app/aspect/SensitiveConcealAspect.java",
    "contents_url": "https://api.github.com/repos/Esesion/halo/contents/src/main/java/run/halo/app/aspect/SensitiveConcealAspect.java?ref=30c50f61f874301105b1810afb3daa7979ab5ab9",
    "patch": "@@ -19,7 +19,7 @@\n public class SensitiveConcealAspect {\n \n \n-    @Pointcut(\"execution(* run.halo.app.repository.*.*(..)) \"\n+    @Pointcut(\"within(run.halo.app.repository..*) \"\n         + \"&& @annotation(run.halo.app.annotation.SensitiveConceal)\")\n     public void pointCut() {\n     }"
  },
  {
    "sha": "d813db1c6c4c2c71d3388dbdc018193c1221966d",
    "filename": "src/main/java/run/halo/app/config/HaloConfiguration.java",
    "status": "modified",
    "additions": 8,
    "deletions": 6,
    "changes": 14,
    "blob_url": "https://github.com/Esesion/halo/blob/30c50f61f874301105b1810afb3daa7979ab5ab9/src/main/java/run/halo/app/config/HaloConfiguration.java",
    "raw_url": "https://github.com/Esesion/halo/raw/30c50f61f874301105b1810afb3daa7979ab5ab9/src/main/java/run/halo/app/config/HaloConfiguration.java",
    "contents_url": "https://api.github.com/repos/Esesion/halo/contents/src/main/java/run/halo/app/config/HaloConfiguration.java?ref=30c50f61f874301105b1810afb3daa7979ab5ab9",
    "patch": "@@ -5,7 +5,6 @@\n import java.security.KeyStoreException;\n import java.security.NoSuchAlgorithmException;\n import lombok.extern.slf4j.Slf4j;\n-import org.springframework.beans.factory.annotation.Autowired;\n import org.springframework.boot.autoconfigure.condition.ConditionalOnMissingBean;\n import org.springframework.boot.context.properties.EnableConfigurationProperties;\n import org.springframework.boot.web.client.RestTemplateBuilder;\n@@ -38,17 +37,20 @@\n     BaseRepositoryImpl.class)\n public class HaloConfiguration {\n \n-    @Autowired\n-    private HaloProperties haloProperties;\n+    private final HaloProperties haloProperties;\n+\n+    public HaloConfiguration(HaloProperties haloProperties) {\n+        this.haloProperties = haloProperties;\n+    }\n \n     @Bean\n-    public ObjectMapper objectMapper(Jackson2ObjectMapperBuilder builder) {\n+    ObjectMapper objectMapper(Jackson2ObjectMapperBuilder builder) {\n         builder.failOnEmptyBeans(false);\n         return builder.build();\n     }\n \n     @Bean\n-    public RestTemplate httpsRestTemplate(RestTemplateBuilder builder)\n+    RestTemplate httpsRestTemplate(RestTemplateBuilder builder)\n         throws NoSuchAlgorithmException, KeyStoreException, KeyManagementException {\n         RestTemplate httpsRestTemplate = builder.build();\n         httpsRestTemplate.setRequestFactory(\n@@ -59,7 +61,7 @@ public RestTemplate httpsRestTemplate(RestTemplateBuilder builder)\n \n     @Bean\n     @ConditionalOnMissingBean\n-    public AbstractStringCacheStore stringCacheStore() {\n+    AbstractStringCacheStore stringCacheStore() {\n         AbstractStringCacheStore stringCacheStore;\n         switch (haloProperties.getCache()) {\n             case \"level\":"
  },
  {
    "sha": "0ffc2fdb395b92566c65df86646e6ae220ccc9de",
    "filename": "src/main/java/run/halo/app/config/properties/HaloProperties.java",
    "status": "modified",
    "additions": 3,
    "deletions": 1,
    "changes": 4,
    "blob_url": "https://github.com/Esesion/halo/blob/30c50f61f874301105b1810afb3daa7979ab5ab9/src/main/java/run/halo/app/config/properties/HaloProperties.java",
    "raw_url": "https://github.com/Esesion/halo/raw/30c50f61f874301105b1810afb3daa7979ab5ab9/src/main/java/run/halo/app/config/properties/HaloProperties.java",
    "contents_url": "https://api.github.com/repos/Esesion/halo/contents/src/main/java/run/halo/app/config/properties/HaloProperties.java?ref=30c50f61f874301105b1810afb3daa7979ab5ab9",
    "patch": "@@ -25,15 +25,17 @@\n     /**\n      * Doc api disabled. (Default is true)\n      */\n+    @Deprecated\n     private boolean docDisabled = true;\n \n     /**\n      * Production env. (Default is true)\n      */\n+    @Deprecated\n     private boolean productionEnv = true;\n \n     /**\n-     * Authentication enabled\n+     * Authentication enabled.\n      */\n     private boolean authEnabled = true;\n "
  },
  {
    "sha": "b4c1f14fec6aeebc4ac5f7bdb7b389081856f273",
    "filename": "src/main/java/run/halo/app/listener/StartedListener.java",
    "status": "modified",
    "additions": 1,
    "deletions": 1,
    "changes": 2,
    "blob_url": "https://github.com/Esesion/halo/blob/30c50f61f874301105b1810afb3daa7979ab5ab9/src/main/java/run/halo/app/listener/StartedListener.java",
    "raw_url": "https://github.com/Esesion/halo/raw/30c50f61f874301105b1810afb3daa7979ab5ab9/src/main/java/run/halo/app/listener/StartedListener.java",
    "contents_url": "https://api.github.com/repos/Esesion/halo/contents/src/main/java/run/halo/app/listener/StartedListener.java?ref=30c50f61f874301105b1810afb3daa7979ab5ab9",
    "patch": "@@ -169,7 +169,7 @@ private void initThemes() {\n             Path themePath = themeService.getBasePath();\n \n             // Fix the problem that the project cannot start after moving to a new server\n-            if (!haloProperties.isProductionEnv() || Files.notExists(themePath)) {\n+            if (!haloProperties.getMode().isProductionEnv() || Files.notExists(themePath)) {\n                 FileUtils.copyFolder(source, themePath);\n                 log.debug(\"Copied theme folder from [{}] to [{}]\", source, themePath);\n             } else {"
  },
  {
    "sha": "9f6cba04e20fb955f9ae8dfadd4721d5d7f03279",
    "filename": "src/main/java/run/halo/app/model/enums/Mode.java",
    "status": "modified",
    "additions": 10,
    "deletions": 4,
    "changes": 14,
    "blob_url": "https://github.com/Esesion/halo/blob/30c50f61f874301105b1810afb3daa7979ab5ab9/src/main/java/run/halo/app/model/enums/Mode.java",
    "raw_url": "https://github.com/Esesion/halo/raw/30c50f61f874301105b1810afb3daa7979ab5ab9/src/main/java/run/halo/app/model/enums/Mode.java",
    "contents_url": "https://api.github.com/repos/Esesion/halo/contents/src/main/java/run/halo/app/model/enums/Mode.java?ref=30c50f61f874301105b1810afb3daa7979ab5ab9",
    "patch": "@@ -1,6 +1,7 @@\n package run.halo.app.model.enums;\n \n import com.fasterxml.jackson.annotation.JsonCreator;\n+import com.fasterxml.jackson.annotation.JsonIgnore;\n import com.fasterxml.jackson.annotation.JsonValue;\n import org.springframework.lang.Nullable;\n \n@@ -13,22 +14,22 @@\n public enum Mode {\n \n     /**\n-     * Production mode\n+     * Production mode.\n      */\n     PRODUCTION,\n \n     /**\n-     * Develop mode\n+     * Develop mode.\n      */\n     DEVELOPMENT,\n \n     /**\n-     * Demo mode\n+     * Demo mode.\n      */\n     DEMO,\n \n     /**\n-     * Test mode\n+     * Test mode.\n      */\n     TEST;\n \n@@ -57,4 +58,9 @@ public static Mode valueFrom(@Nullable String value) {\n     String getValue() {\n         return this.name().toLowerCase();\n     }\n+\n+    @JsonIgnore\n+    public boolean isProductionEnv() {\n+        return PRODUCTION.equals(this);\n+    }\n }"
  },
  {
    "sha": "6893969587edfc0e9be920fe98b809c8901a29ef",
    "filename": "src/main/java/run/halo/app/repository/ThemeRepositoryImpl.java",
    "status": "modified",
    "additions": 2,
    "deletions": 3,
    "changes": 5,
    "blob_url": "https://github.com/Esesion/halo/blob/30c50f61f874301105b1810afb3daa7979ab5ab9/src/main/java/run/halo/app/repository/ThemeRepositoryImpl.java",
    "raw_url": "https://github.com/Esesion/halo/raw/30c50f61f874301105b1810afb3daa7979ab5ab9/src/main/java/run/halo/app/repository/ThemeRepositoryImpl.java",
    "contents_url": "https://api.github.com/repos/Esesion/halo/contents/src/main/java/run/halo/app/repository/ThemeRepositoryImpl.java?ref=30c50f61f874301105b1810afb3daa7979ab5ab9",
    "patch": "@@ -1,6 +1,5 @@\n package run.halo.app.repository;\n \n-import static org.apache.commons.lang3.RandomStringUtils.randomAlphabetic;\n import static run.halo.app.model.properties.PrimaryProperties.THEME;\n import static run.halo.app.model.support.HaloConst.DEFAULT_THEME_ID;\n import static run.halo.app.utils.FileUtils.copyFolder;\n@@ -132,7 +131,7 @@ public void setActivatedTheme(@NonNull String themeId) {\n     @Override\n     public ThemeProperty attemptToAdd(ThemeProperty newProperty) {\n         // 1. check existence\n-        final var alreadyExist = fetchThemePropertyByThemeId(newProperty.getId()).isPresent();\n+        final var alreadyExist = fetchThemeByThemeId(newProperty.getId()).isPresent();\n         if (alreadyExist) {\n             throw new AlreadyExistsException(\"当前安装的主题已存在\");\n         }\n@@ -147,7 +146,7 @@ public ThemeProperty attemptToAdd(ThemeProperty newProperty) {\n         // 3. move the temp folder into templates/themes/{theme_id}\n         final var sourceThemePath = Paths.get(newProperty.getThemePath());\n         final var targetThemePath =\n-            getThemeRootPath().resolve(newProperty.getId() + \"-\" + randomAlphabetic(5));\n+            getThemeRootPath().resolve(newProperty.getId());\n \n         // 4. clear target theme folder firstly\n         deleteFolderQuietly(targetThemePath);"
  },
  {
    "sha": "569b4302470e521f310975e37d8cd2753c1b5fe0",
    "filename": "src/main/java/run/halo/app/security/filter/AbstractAuthenticationFilter.java",
    "status": "modified",
    "additions": 1,
    "deletions": 1,
    "changes": 2,
    "blob_url": "https://github.com/Esesion/halo/blob/30c50f61f874301105b1810afb3daa7979ab5ab9/src/main/java/run/halo/app/security/filter/AbstractAuthenticationFilter.java",
    "raw_url": "https://github.com/Esesion/halo/raw/30c50f61f874301105b1810afb3daa7979ab5ab9/src/main/java/run/halo/app/security/filter/AbstractAuthenticationFilter.java",
    "contents_url": "https://api.github.com/repos/Esesion/halo/contents/src/main/java/run/halo/app/security/filter/AbstractAuthenticationFilter.java?ref=30c50f61f874301105b1810afb3daa7979ab5ab9",
    "patch": "@@ -183,7 +183,7 @@ private AuthenticationFailureHandler getFailureHandler() {\n                     // Create default authentication failure handler\n                     DefaultAuthenticationFailureHandler failureHandler =\n                         new DefaultAuthenticationFailureHandler();\n-                    failureHandler.setProductionEnv(haloProperties.isProductionEnv());\n+                    failureHandler.setProductionEnv(haloProperties.getMode().isProductionEnv());\n \n                     this.failureHandler = failureHandler;\n                 }"
  },
  {
    "sha": "6b78001a022f11f09ebfe63e9f954c0769006b74",
    "filename": "src/main/java/run/halo/app/security/filter/AdminAuthenticationFilter.java",
    "status": "modified",
    "additions": 1,
    "deletions": 1,
    "changes": 2,
    "blob_url": "https://github.com/Esesion/halo/blob/30c50f61f874301105b1810afb3daa7979ab5ab9/src/main/java/run/halo/app/security/filter/AdminAuthenticationFilter.java",
    "raw_url": "https://github.com/Esesion/halo/raw/30c50f61f874301105b1810afb3daa7979ab5ab9/src/main/java/run/halo/app/security/filter/AdminAuthenticationFilter.java",
    "contents_url": "https://api.github.com/repos/Esesion/halo/contents/src/main/java/run/halo/app/security/filter/AdminAuthenticationFilter.java?ref=30c50f61f874301105b1810afb3daa7979ab5ab9",
    "patch": "@@ -69,7 +69,7 @@ public AdminAuthenticationFilter(AbstractStringCacheStore cacheStore,\n         // set failure handler\n         DefaultAuthenticationFailureHandler failureHandler =\n             new DefaultAuthenticationFailureHandler();\n-        failureHandler.setProductionEnv(haloProperties.isProductionEnv());\n+        failureHandler.setProductionEnv(haloProperties.getMode().isProductionEnv());\n         failureHandler.setObjectMapper(objectMapper);\n \n         setFailureHandler(failureHandler);"
  },
  {
    "sha": "b9ded4fc773185fb08941481b38adec886fe71ef",
    "filename": "src/main/java/run/halo/app/security/filter/ApiAuthenticationFilter.java",
    "status": "modified",
    "additions": 2,
    "deletions": 2,
    "changes": 4,
    "blob_url": "https://github.com/Esesion/halo/blob/30c50f61f874301105b1810afb3daa7979ab5ab9/src/main/java/run/halo/app/security/filter/ApiAuthenticationFilter.java",
    "raw_url": "https://github.com/Esesion/halo/raw/30c50f61f874301105b1810afb3daa7979ab5ab9/src/main/java/run/halo/app/security/filter/ApiAuthenticationFilter.java",
    "contents_url": "https://api.github.com/repos/Esesion/halo/contents/src/main/java/run/halo/app/security/filter/ApiAuthenticationFilter.java?ref=30c50f61f874301105b1810afb3daa7979ab5ab9",
    "patch": "@@ -58,7 +58,7 @@ public ApiAuthenticationFilter(HaloProperties haloProperties,\n         // set failure handler\n         DefaultAuthenticationFailureHandler failureHandler =\n             new DefaultAuthenticationFailureHandler();\n-        failureHandler.setProductionEnv(haloProperties.isProductionEnv());\n+        failureHandler.setProductionEnv(haloProperties.getMode().isProductionEnv());\n         failureHandler.setObjectMapper(objectMapper);\n         setFailureHandler(failureHandler);\n     }\n@@ -91,7 +91,7 @@ protected void doAuthenticate(HttpServletRequest request, HttpServletResponse re\n         Optional<String> optionalAccessKey =\n             optionService.getByProperty(ApiProperties.API_ACCESS_KEY, String.class);\n \n-        if (!optionalAccessKey.isPresent()) {\n+        if (optionalAccessKey.isEmpty()) {\n             // If the access key is not set\n             throw new AuthenticationException(\"API access key hasn't been set by blogger\");\n         }"
  },
  {
    "sha": "9dc4cc1128dafac5a16cfd472e38f7d9306d53ec",
    "filename": "src/main/java/run/halo/app/security/filter/ContentFilter.java",
    "status": "modified",
    "additions": 2,
    "deletions": 0,
    "changes": 2,
    "blob_url": "https://github.com/Esesion/halo/blob/30c50f61f874301105b1810afb3daa7979ab5ab9/src/main/java/run/halo/app/security/filter/ContentFilter.java",
    "raw_url": "https://github.com/Esesion/halo/raw/30c50f61f874301105b1810afb3daa7979ab5ab9/src/main/java/run/halo/app/security/filter/ContentFilter.java",
    "contents_url": "https://api.github.com/repos/Esesion/halo/contents/src/main/java/run/halo/app/security/filter/ContentFilter.java?ref=30c50f61f874301105b1810afb3daa7979ab5ab9",
    "patch": "@@ -54,6 +54,8 @@ protected String getTokenFromRequest(HttpServletRequest request) {\n     protected void doAuthenticate(HttpServletRequest request, HttpServletResponse response,\n         FilterChain filterChain) throws ServletException, IOException {\n         // Do nothing\n+        // create session\n+        request.getSession(true);\n         filterChain.doFilter(request, response);\n     }\n }"
  },
  {
    "sha": "5ee993fe4408ab588365f9ada2c907437c6879d3",
    "filename": "src/main/java/run/halo/app/service/impl/AuthorizationServiceImpl.java",
    "status": "modified",
    "additions": 1,
    "deletions": 1,
    "changes": 2,
    "blob_url": "https://github.com/Esesion/halo/blob/30c50f61f874301105b1810afb3daa7979ab5ab9/src/main/java/run/halo/app/service/impl/AuthorizationServiceImpl.java",
    "raw_url": "https://github.com/Esesion/halo/raw/30c50f61f874301105b1810afb3daa7979ab5ab9/src/main/java/run/halo/app/service/impl/AuthorizationServiceImpl.java",
    "contents_url": "https://api.github.com/repos/Esesion/halo/contents/src/main/java/run/halo/app/service/impl/AuthorizationServiceImpl.java?ref=30c50f61f874301105b1810afb3daa7979ab5ab9",
    "patch": "@@ -35,7 +35,7 @@ public void categoryAuthorization(Integer categoryId) {\n \n     @Override\n     public Set<String> getAccessPermissionStore() {\n-        return cacheStore.getAny(buildAccessPermissionKey(), Set.class).orElse(new HashSet());\n+        return cacheStore.getAny(buildAccessPermissionKey(), Set.class).orElseGet(HashSet::new);\n     }\n \n     @Override"
  },
  {
    "sha": "01812b468c3f11efc6e313f853354029dc10a5c2",
    "filename": "src/main/resources/admin/img/fontello.9354499c.svg",
    "status": "renamed",
    "additions": 0,
    "deletions": 0,
    "changes": 0,
    "blob_url": "https://github.com/Esesion/halo/blob/30c50f61f874301105b1810afb3daa7979ab5ab9/src/main/resources/admin/img/fontello.9354499c.svg",
    "raw_url": "https://github.com/Esesion/halo/raw/30c50f61f874301105b1810afb3daa7979ab5ab9/src/main/resources/admin/img/fontello.9354499c.svg",
    "contents_url": "https://api.github.com/repos/Esesion/halo/contents/src/main/resources/admin/img/fontello.9354499c.svg?ref=30c50f61f874301105b1810afb3daa7979ab5ab9",
    "previous_filename": "src/main/resources/admin/assets/fontello.9354499c.svg"
  },
  {
    "sha": "532dfe6dbd59a1c589bd9ed3107725658ee7eb79",
    "filename": "src/main/resources/admin/index.html",
    "status": "modified",
    "additions": 1,
    "deletions": 1,
    "changes": 2,
    "blob_url": "https://github.com/Esesion/halo/blob/30c50f61f874301105b1810afb3daa7979ab5ab9/src/main/resources/admin/index.html",
    "raw_url": "https://github.com/Esesion/halo/raw/30c50f61f874301105b1810afb3daa7979ab5ab9/src/main/resources/admin/index.html",
    "contents_url": "https://api.github.com/repos/Esesion/halo/contents/src/main/resources/admin/index.html?ref=30c50f61f874301105b1810afb3daa7979ab5ab9",
    "patch": "@@ -1 +1 @@\n-<!DOCTYPE html><html lang=zh-cmn-Hans><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content=\"IE=edge\"><meta name=renderer content=webkit><meta name=viewport content=\"width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no\"><meta name=robots content=noindex,nofllow><meta name=generator content=\"Halo 1.4.5\"><link rel=icon href=/favicon.ico><title>Halo Dashboard</title><style>body {height: 100%;background-color: #f5f5f5;}#loader{position:absolute;top:0;right:0;bottom:0;left:0;margin:auto;border:solid 3px #e5e5e5;border-top-color:#333;border-radius:50%;width:30px;height:30px;animation:spin .6s linear infinite}@keyframes spin{to{transform:rotate(360deg)}}</style><link href=https://cdn.jsdelivr.net/npm/halo-admin@1.4.5/dist/css/chunk-026864dc.c5bfbe64.css rel=prefetch><link href=https://cdn.jsdelivr.net/npm/halo-admin@1.4.5/dist/css/chunk-0c943d6a.d1f1593f.css rel=prefetch><link href=https://cdn.jsdelivr.net/npm/halo-admin@1.4.5/dist/css/chunk-256411c5.72c62dcb.css rel=prefetch><link href=https://cdn.jsdelivr.net/npm/halo-admin@1.4.5/dist/css/chunk-602c773e.ba169508.css rel=prefetch><link href=https://cdn.jsdelivr.net/npm/halo-admin@1.4.5/dist/css/chunk-ec334f56.8ebe0e7a.css rel=prefetch><link href=https://cdn.jsdelivr.net/npm/halo-admin@1.4.5/dist/js/chunk-026864dc.986976fd.js rel=prefetch><link href=https://cdn.jsdelivr.net/npm/halo-admin@1.4.5/dist/js/chunk-0ba750a2.94256d6a.js rel=prefetch><link href=https://cdn.jsdelivr.net/npm/halo-admin@1.4.5/dist/js/chunk-0c943d6a.74f4fc9b.js rel=prefetch><link href=https://cdn.jsdelivr.net/npm/halo-admin@1.4.5/dist/js/chunk-1c5c5806.2b25a78c.js rel=prefetch><link href=https://cdn.jsdelivr.net/npm/halo-admin@1.4.5/dist/js/chunk-1e77651d.da5e97b8.js rel=prefetch><link href=https://cdn.jsdelivr.net/npm/halo-admin@1.4.5/dist/js/chunk-2269f841.392faa20.js rel=prefetch><link href=https://cdn.jsdelivr.net/npm/halo-admin@1.4.5/dist/js/chunk-256411c5.1ffa951f.js rel=prefetch><link href=https://cdn.jsdelivr.net/npm/halo-admin@1.4.5/dist/js/chunk-27659703.0e492689.js rel=prefetch><link href=https://cdn.jsdelivr.net/npm/halo-admin@1.4.5/dist/js/chunk-2d0b383e.a8c28fb6.js rel=prefetch><link href=https://cdn.jsdelivr.net/npm/halo-admin@1.4.5/dist/js/chunk-2d0b64bf.b7f4e4d6.js rel=prefetch><link href=https://cdn.jsdelivr.net/npm/halo-admin@1.4.5/dist/js/chunk-2d0b8b03.7670d899.js rel=prefetch><link href=https://cdn.jsdelivr.net/npm/halo-admin@1.4.5/dist/js/chunk-2d0ba57a.d48e0244.js rel=prefetch><link href=https://cdn.jsdelivr.net/npm/halo-admin@1.4.5/dist/js/chunk-2d0cf13d.27c68235.js rel=prefetch><link href=https://cdn.jsdelivr.net/npm/halo-admin@1.4.5/dist/js/chunk-2d213307.315022bc.js rel=prefetch><link href=https://cdn.jsdelivr.net/npm/halo-admin@1.4.5/dist/js/chunk-2d2165e6.e800dbcb.js rel=prefetch><link href=https://cdn.jsdelivr.net/npm/halo-admin@1.4.5/dist/js/chunk-2d221c57.db021c9a.js rel=prefetch><link href=https://cdn.jsdelivr.net/npm/halo-admin@1.4.5/dist/js/chunk-2d228c74.c50c3878.js rel=prefetch><link href=https://cdn.jsdelivr.net/npm/halo-admin@1.4.5/dist/js/chunk-2d228d13.a17191ac.js rel=prefetch><link href=https://cdn.jsdelivr.net/npm/halo-admin@1.4.5/dist/js/chunk-31267899.373eca23.js rel=prefetch><link href=https://cdn.jsdelivr.net/npm/halo-admin@1.4.5/dist/js/chunk-3c38e9a4.18d57173.js rel=prefetch><link href=https://cdn.jsdelivr.net/npm/halo-admin@1.4.5/dist/js/chunk-504bf064.ec1cacb8.js rel=prefetch><link href=https://cdn.jsdelivr.net/npm/halo-admin@1.4.5/dist/js/chunk-602c773e.34e753e3.js rel=prefetch><link href=https://cdn.jsdelivr.net/npm/halo-admin@1.4.5/dist/js/chunk-6b1006c2.177a31f7.js rel=prefetch><link href=https://cdn.jsdelivr.net/npm/halo-admin@1.4.5/dist/js/chunk-73e506da.36cad7e3.js rel=prefetch><link href=https://cdn.jsdelivr.net/npm/halo-admin@1.4.5/dist/js/chunk-7cd5630e.2531e522.js rel=prefetch><link href=https://cdn.jsdelivr.net/npm/halo-admin@1.4.5/dist/js/chunk-9594f996.8e078939.js rel=prefetch><link href=https://cdn.jsdelivr.net/npm/halo-admin@1.4.5/dist/js/chunk-ec334f56.d09567f7.js rel=prefetch><link href=https://cdn.jsdelivr.net/npm/halo-admin@1.4.5/dist/js/chunk-f04cc1dc.333c7c9e.js rel=prefetch><link href=https://cdn.jsdelivr.net/npm/halo-admin@1.4.5/dist/css/app.92e01e72.css rel=preload as=style><link href=https://cdn.jsdelivr.net/npm/halo-admin@1.4.5/dist/css/chunk-vendors.3b013086.css rel=preload as=style><link href=https://cdn.jsdelivr.net/npm/halo-admin@1.4.5/dist/js/app.35370b3b.js rel=preload as=script><link href=https://cdn.jsdelivr.net/npm/halo-admin@1.4.5/dist/js/chunk-vendors.013c3b1b.js rel=preload as=script><link href=https://cdn.jsdelivr.net/npm/halo-admin@1.4.5/dist/css/chunk-vendors.3b013086.css rel=stylesheet><link href=https://cdn.jsdelivr.net/npm/halo-admin@1.4.5/dist/css/app.92e01e72.css rel=stylesheet></head><body><noscript><strong>We're sorry but halo admin client doesn't work properly without JavaScript enabled. Please enable it to continue.</strong></noscript><div id=app><div id=loader></div></div><script src=https://cdn.jsdelivr.net/npm/halo-admin@1.4.5/dist/js/chunk-vendors.013c3b1b.js></script><script src=https://cdn.jsdelivr.net/npm/halo-admin@1.4.5/dist/js/app.35370b3b.js></script></body></html>\n\\ No newline at end of file\n+<!DOCTYPE html><html lang=zh-cmn-Hans><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content=\"IE=edge\"><meta name=renderer content=webkit><meta name=viewport content=\"width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no\"><meta name=robots content=noindex,nofllow><meta name=generator content=\"Halo 1.4.7\"><link rel=icon href=/favicon.ico><title>Halo Dashboard</title><style>body {height: 100%;background-color: #f5f5f5;}#loader{position:absolute;top:0;right:0;bottom:0;left:0;margin:auto;border:solid 3px #e5e5e5;border-top-color:#333;border-radius:50%;width:30px;height:30px;animation:spin .6s linear infinite}@keyframes spin{to{transform:rotate(360deg)}}</style><link href=https://cdn.jsdelivr.net/npm/halo-admin@1.4.7/dist/css/chunk-026864dc.9edaf58c.css rel=prefetch><link href=https://cdn.jsdelivr.net/npm/halo-admin@1.4.7/dist/css/chunk-0c943d6a.993e87b1.css rel=prefetch><link href=https://cdn.jsdelivr.net/npm/halo-admin@1.4.7/dist/css/chunk-156e935e.b4d8000e.css rel=prefetch><link href=https://cdn.jsdelivr.net/npm/halo-admin@1.4.7/dist/css/chunk-256411c5.a1b434de.css rel=prefetch><link href=https://cdn.jsdelivr.net/npm/halo-admin@1.4.7/dist/css/chunk-55c550ac.0ae711f9.css rel=prefetch><link href=https://cdn.jsdelivr.net/npm/halo-admin@1.4.7/dist/css/chunk-602c773e.eeebf55f.css rel=prefetch><link href=https://cdn.jsdelivr.net/npm/halo-admin@1.4.7/dist/js/chunk-026864dc.e818642e.js rel=prefetch><link href=https://cdn.jsdelivr.net/npm/halo-admin@1.4.7/dist/js/chunk-02db1438.a6be90c7.js rel=prefetch><link href=https://cdn.jsdelivr.net/npm/halo-admin@1.4.7/dist/js/chunk-0ba750a2.b33221b7.js rel=prefetch><link href=https://cdn.jsdelivr.net/npm/halo-admin@1.4.7/dist/js/chunk-0c943d6a.83b9abe9.js rel=prefetch><link href=https://cdn.jsdelivr.net/npm/halo-admin@1.4.7/dist/js/chunk-134ef324.725c55f4.js rel=prefetch><link href=https://cdn.jsdelivr.net/npm/halo-admin@1.4.7/dist/js/chunk-156e935e.4f78b2ac.js rel=prefetch><link href=https://cdn.jsdelivr.net/npm/halo-admin@1.4.7/dist/js/chunk-1c5c5806.119abeb2.js rel=prefetch><link href=https://cdn.jsdelivr.net/npm/halo-admin@1.4.7/dist/js/chunk-1e77651d.cf19b666.js rel=prefetch><link href=https://cdn.jsdelivr.net/npm/halo-admin@1.4.7/dist/js/chunk-2269f841.6c0c72b0.js rel=prefetch><link href=https://cdn.jsdelivr.net/npm/halo-admin@1.4.7/dist/js/chunk-256411c5.91531b0b.js rel=prefetch><link href=https://cdn.jsdelivr.net/npm/halo-admin@1.4.7/dist/js/chunk-27659703.5af6fc30.js rel=prefetch><link href=https://cdn.jsdelivr.net/npm/halo-admin@1.4.7/dist/js/chunk-2987faf8.24444d49.js rel=prefetch><link href=https://cdn.jsdelivr.net/npm/halo-admin@1.4.7/dist/js/chunk-2d0b383e.eaf2d371.js rel=prefetch><link href=https://cdn.jsdelivr.net/npm/halo-admin@1.4.7/dist/js/chunk-2d0b64bf.058e8ebb.js rel=prefetch><link href=https://cdn.jsdelivr.net/npm/halo-admin@1.4.7/dist/js/chunk-2d0ba57a.b259b07b.js rel=prefetch><link href=https://cdn.jsdelivr.net/npm/halo-admin@1.4.7/dist/js/chunk-2d0cf13d.3cd17641.js rel=prefetch><link href=https://cdn.jsdelivr.net/npm/halo-admin@1.4.7/dist/js/chunk-2d213307.5ac9bc93.js rel=prefetch><link href=https://cdn.jsdelivr.net/npm/halo-admin@1.4.7/dist/js/chunk-2d2165e6.621778d2.js rel=prefetch><link href=https://cdn.jsdelivr.net/npm/halo-admin@1.4.7/dist/js/chunk-2d221c57.05867b43.js rel=prefetch><link href=https://cdn.jsdelivr.net/npm/halo-admin@1.4.7/dist/js/chunk-2d228c74.8fb572da.js rel=prefetch><link href=https://cdn.jsdelivr.net/npm/halo-admin@1.4.7/dist/js/chunk-2d228d13.88d5b6ae.js rel=prefetch><link href=https://cdn.jsdelivr.net/npm/halo-admin@1.4.7/dist/js/chunk-31267899.a6873ff8.js rel=prefetch><link href=https://cdn.jsdelivr.net/npm/halo-admin@1.4.7/dist/js/chunk-3c38e9a4.28258edf.js rel=prefetch><link href=https://cdn.jsdelivr.net/npm/halo-admin@1.4.7/dist/js/chunk-55c550ac.d84d14f1.js rel=prefetch><link href=https://cdn.jsdelivr.net/npm/halo-admin@1.4.7/dist/js/chunk-602c773e.80131ea4.js rel=prefetch><link href=https://cdn.jsdelivr.net/npm/halo-admin@1.4.7/dist/js/chunk-73e506da.5f85e3b1.js rel=prefetch><link href=https://cdn.jsdelivr.net/npm/halo-admin@1.4.7/dist/js/chunk-9594f996.2738d853.js rel=prefetch><link href=https://cdn.jsdelivr.net/npm/halo-admin@1.4.7/dist/js/chunk-af1962b0.43d86acf.js rel=prefetch><link href=https://cdn.jsdelivr.net/npm/halo-admin@1.4.7/dist/css/app.515eec6c.css rel=preload as=style><link href=https://cdn.jsdelivr.net/npm/halo-admin@1.4.7/dist/css/chunk-vendors.49f5105e.css rel=preload as=style><link href=https://cdn.jsdelivr.net/npm/halo-admin@1.4.7/dist/js/app.f23fdadc.js rel=preload as=script><link href=https://cdn.jsdelivr.net/npm/halo-admin@1.4.7/dist/js/chunk-vendors.87df0722.js rel=preload as=script><link href=https://cdn.jsdelivr.net/npm/halo-admin@1.4.7/dist/css/chunk-vendors.49f5105e.css rel=stylesheet><link href=https://cdn.jsdelivr.net/npm/halo-admin@1.4.7/dist/css/app.515eec6c.css rel=stylesheet></head><body><noscript><strong>We're sorry but halo admin client doesn't work properly without JavaScript enabled. Please enable it to continue.</strong></noscript><div id=app><div id=loader></div></div><script src=https://cdn.jsdelivr.net/npm/halo-admin@1.4.7/dist/js/chunk-vendors.87df0722.js></script><script src=https://cdn.jsdelivr.net/npm/halo-admin@1.4.7/dist/js/app.f23fdadc.js></script></body></html>\n\\ No newline at end of file"
  },
  {
    "sha": "1d1b9c4bf8a67b4e26e4ec97331eba567bd3b028",
    "filename": "src/main/resources/application-demo.yaml",
    "status": "modified",
    "additions": 0,
    "deletions": 54,
    "changes": 54,
    "blob_url": "https://github.com/Esesion/halo/blob/30c50f61f874301105b1810afb3daa7979ab5ab9/src/main/resources/application-demo.yaml",
    "raw_url": "https://github.com/Esesion/halo/raw/30c50f61f874301105b1810afb3daa7979ab5ab9/src/main/resources/application-demo.yaml",
    "contents_url": "https://api.github.com/repos/Esesion/halo/contents/src/main/resources/application-demo.yaml?ref=30c50f61f874301105b1810afb3daa7979ab5ab9",
    "patch": "@@ -6,63 +6,9 @@ server:\n spring:\n   jackson:\n     date-format: yyyy-MM-dd HH:mm:ss\n-  devtools:\n-    add-properties: false\n-  output:\n-    ansi:\n-      enabled: always\n-  datasource:\n-    type: com.zaxxer.hikari.HikariDataSource\n-\n-    # H2 database configuration.\n-    driver-class-name: org.h2.Driver\n-    url: jdbc:h2:file:~/halo-demo/db/halo\n-    username: admin\n-    password: 123456\n-\n-    # MySQL database configuration.\n-  #    driver-class-name: com.mysql.cj.jdbc.Driver\n-  #    url: jdbc:mysql://127.0.0.1:3306/halodb?characterEncoding=utf8&useSSL=false&serverTimezone=Asia/Shanghai&allowPublicKeyRetrieval=true\n-  #    username: root\n-  #    password: 123456\n-\n-  h2:\n-    console:\n-      settings:\n-        web-allow-others: false\n-      path: /h2-console\n-      enabled: false\n-  jpa:\n-    hibernate:\n-      ddl-auto: update\n-    show-sql: false\n-    open-in-view: false\n-  flyway:\n-    enabled: false\n-  servlet:\n-    multipart:\n-      max-file-size: 10240MB\n-      max-request-size: 10240MB\n-management:\n-  endpoints:\n-    web:\n-      base-path: /api/admin/actuator\n-      exposure:\n-        include: [ 'httptrace', 'metrics','env','logfile','health' ]\n-logging:\n-  level:\n-    run.halo.app: INFO\n-  file:\n-    path: ${user.home}/halo-demo/logs\n-\n-springfox:\n-  documentation:\n-    enabled: true\n \n halo:\n   download-timeout: 5m\n-  doc-disabled: false\n-  production-env: false\n   auth-enabled: true\n   mode: demo\n   workDir: ${user.home}/halo-demo/"
  },
  {
    "sha": "524da060b59d74655daf3d7445ef6019eae2b1d2",
    "filename": "src/main/resources/application-dev.yaml",
    "status": "modified",
    "additions": 5,
    "deletions": 8,
    "changes": 13,
    "blob_url": "https://github.com/Esesion/halo/blob/30c50f61f874301105b1810afb3daa7979ab5ab9/src/main/resources/application-dev.yaml",
    "raw_url": "https://github.com/Esesion/halo/raw/30c50f61f874301105b1810afb3daa7979ab5ab9/src/main/resources/application-dev.yaml",
    "contents_url": "https://api.github.com/repos/Esesion/halo/contents/src/main/resources/application-dev.yaml?ref=30c50f61f874301105b1810afb3daa7979ab5ab9",
    "patch": "@@ -2,13 +2,16 @@ server:\n   port: 8090\n   forward-headers-strategy: native\n   compression:\n-    enabled: false\n+    enabled: true\n spring:\n   jackson:\n     date-format: yyyy-MM-dd HH:mm:ss\n   output:\n     ansi:\n       enabled: always\n+  devtools:\n+    restart:\n+      eanbled: true\n   datasource:\n     type: com.zaxxer.hikari.HikariDataSource\n \n@@ -56,15 +59,9 @@ logging:\n     org.hibernate.type.descriptor.sql.BasicBinder: INFO\n     org.hibernate.type.descriptor.sql.BasicExtractor: INFO\n   file:\n-    path: ${user.home}/halo-dev/logs\n-\n-springfox:\n-  documentation:\n-    enabled: true\n+    path: ${halo.work-dir}/newLogs\n \n halo:\n-  doc-disabled: false\n-  production-env: false\n   auth-enabled: true\n   mode: development\n   workDir: ${user.home}/halo-dev/"
  },
  {
    "sha": "37ab072ca7e5a3c5371cc761919b579eb57d4243",
    "filename": "src/main/resources/application-user.yaml",
    "status": "removed",
    "additions": 0,
    "deletions": 36,
    "changes": 36,
    "blob_url": "https://github.com/Esesion/halo/blob/3019fe0d34f6761600bece92d1cc3d287d2527f2/src/main/resources/application-user.yaml",
    "raw_url": "https://github.com/Esesion/halo/raw/3019fe0d34f6761600bece92d1cc3d287d2527f2/src/main/resources/application-user.yaml",
    "contents_url": "https://api.github.com/repos/Esesion/halo/contents/src/main/resources/application-user.yaml?ref=3019fe0d34f6761600bece92d1cc3d287d2527f2",
    "patch": "@@ -1,36 +0,0 @@\n-server:\n-  port: 8090\n-\n-  # Response data gzip.\n-  compression:\n-    enabled: false\n-spring:\n-  datasource:\n-\n-    # H2 database configuration.\n-    driver-class-name: org.h2.Driver\n-    url: jdbc:h2:file:~/.halo/db/halo\n-    username: admin\n-    password: 123456\n-\n-    # MySQL database configuration.\n-  #    driver-class-name: com.mysql.cj.jdbc.Driver\n-  #    url: jdbc:mysql://127.0.0.1:3306/halodb?characterEncoding=utf8&useSSL=false&serverTimezone=Asia/Shanghai&allowPublicKeyRetrieval=true\n-  #    username: root\n-  #    password: 123456\n-\n-  # H2 database console configuration.\n-  h2:\n-    console:\n-      settings:\n-        web-allow-others: false\n-      path: /h2-console\n-      enabled: false\n-\n-halo:\n-\n-  # Your admin client path is https://your-domain/{admin-path}\n-  admin-path: admin\n-\n-  # memory, level, redis\n-  cache: memory"
  },
  {
    "sha": "1fdae9bfd3f12594f26f4c992b555c7e04abaa8d",
    "filename": "src/main/resources/application.yaml",
    "status": "modified",
    "additions": 7,
    "deletions": 16,
    "changes": 23,
    "blob_url": "https://github.com/Esesion/halo/blob/30c50f61f874301105b1810afb3daa7979ab5ab9/src/main/resources/application.yaml",
    "raw_url": "https://github.com/Esesion/halo/raw/30c50f61f874301105b1810afb3daa7979ab5ab9/src/main/resources/application.yaml",
    "contents_url": "https://api.github.com/repos/Esesion/halo/contents/src/main/resources/application.yaml?ref=30c50f61f874301105b1810afb3daa7979ab5ab9",
    "patch": "@@ -3,16 +3,15 @@ server:\n   forward-headers-strategy: native\n   error:\n     include-message: always\n-  compression:\n-    enabled: false\n spring:\n+  devtools:\n+    restart:\n+      eanbled: false\n   mvc:\n     pathmatch:\n       use-suffix-pattern: true\n   jackson:\n     date-format: yyyy-MM-dd HH:mm:ss\n-  devtools:\n-    add-properties: false\n   output:\n     ansi:\n       enabled: always\n@@ -21,20 +20,12 @@ spring:\n \n     # H2 database configuration.\n     driver-class-name: org.h2.Driver\n-    url: jdbc:h2:file:~/.halo/db/halo\n+    url: jdbc:h2:file:${halo.work-dir}/db/halo\n     username: admin\n     password: 123456\n-\n-  h2:\n-    console:\n-      settings:\n-        web-allow-others: false\n-      path: /h2-console\n-      enabled: false\n   jpa:\n     hibernate:\n       ddl-auto: update\n-    show-sql: false\n     open-in-view: false\n   flyway:\n     enabled: false\n@@ -48,20 +39,20 @@ spring:\n     settings:\n       auto_import: /common/macro/global_macro.ftl as global\n     template-loader-path:\n-      - file:///${halo.work-dir}templates/\n+      - file:///${halo.work-dir}/templates/\n       - classpath:/templates/\n management:\n   endpoints:\n     web:\n       base-path: /api/admin/actuator\n       exposure:\n-        include: [ 'httptrace', 'metrics','env','logfile','health' ]\n+        include: [ 'httptrace', 'metrics', 'env', 'logfile', 'health' ]\n logging:\n   level:\n     run.halo.app: INFO\n     org.eclipse.jetty.server.HttpChannel: ERROR\n   file:\n-    path: ${user.home}/.halo/logs\n+    path: ${halo.work-dir}/logs\n \n springfox:\n   documentation:"
  },
  {
    "sha": "2139f15d5aac4c16fd055ef9a60e7caff5871222",
    "filename": "src/main/resources/templates/common/web/rss.ftl",
    "status": "modified",
    "additions": 0,
    "deletions": 1,
    "changes": 1,
    "blob_url": "https://github.com/Esesion/halo/blob/30c50f61f874301105b1810afb3daa7979ab5ab9/src/main/resources/templates/common/web/rss.ftl",
    "raw_url": "https://github.com/Esesion/halo/raw/30c50f61f874301105b1810afb3daa7979ab5ab9/src/main/resources/templates/common/web/rss.ftl",
    "contents_url": "https://api.github.com/repos/Esesion/halo/contents/src/main/resources/templates/common/web/rss.ftl?ref=30c50f61f874301105b1810afb3daa7979ab5ab9",
    "patch": "@@ -20,7 +20,6 @@\n                 <description>${user.description!}</description>\n             </#if>\n         </#if>\n-        <language>zh-CN</language>\n         <generator>Halo ${version!}</generator>\n         <#if posts?? && posts?size gt 0>\n             <#list posts as post>"
  },
  {
    "sha": "a3d1c014dca52b1d6181c568ffb49e9cf870cdde",
    "filename": "src/main/resources/templates/themes/anatole",
    "status": "modified",
    "additions": 1,
    "deletions": 1,
    "changes": 2,
    "blob_url": null,
    "raw_url": null,
    "contents_url": "https://api.github.com/repos/Esesion/halo/contents/src/main/resources/templates/themes/anatole?ref=30c50f61f874301105b1810afb3daa7979ab5ab9",
    "patch": "@@ -1 +1 @@\n-Subproject commit 287bebe0bd3dc5d658537eb5b5bc9b906522cb1d\n+Subproject commit a3d1c014dca52b1d6181c568ffb49e9cf870cdde"
  },
  {
    "sha": "aac15ac35ddb1c5c5ffb3e3457ceb39dbad754ca",
    "filename": "src/test/java/run/halo/app/it/BaseApiTest.java",
    "status": "added",
    "additions": 47,
    "deletions": 0,
    "changes": 47,
    "blob_url": "https://github.com/Esesion/halo/blob/30c50f61f874301105b1810afb3daa7979ab5ab9/src/test/java/run/halo/app/it/BaseApiTest.java",
    "raw_url": "https://github.com/Esesion/halo/raw/30c50f61f874301105b1810afb3daa7979ab5ab9/src/test/java/run/halo/app/it/BaseApiTest.java",
    "contents_url": "https://api.github.com/repos/Esesion/halo/contents/src/test/java/run/halo/app/it/BaseApiTest.java?ref=30c50f61f874301105b1810afb3daa7979ab5ab9",
    "patch": "@@ -0,0 +1,47 @@\n+package run.halo.app.it;\n+\n+import org.junit.jupiter.api.BeforeEach;\n+import org.springframework.beans.factory.annotation.Autowired;\n+import org.springframework.boot.test.context.SpringBootTest;\n+import org.springframework.boot.web.server.LocalServerPort;\n+import org.springframework.test.context.ActiveProfiles;\n+import org.springframework.web.client.RestTemplate;\n+import run.halo.app.model.params.InstallParam;\n+\n+/**\n+ * Base api test.\n+ *\n+ * @author johnniang\n+ */\n+@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\n+@ActiveProfiles(\"test\")\n+class BaseApiTest {\n+\n+    @Autowired\n+    RestTemplate restTemplate;\n+\n+    @LocalServerPort\n+    int port;\n+\n+    String blogUrl;\n+\n+    @BeforeEach\n+    void baseSetUp() {\n+        blogUrl = \"http://localhost:\" + port;\n+    }\n+\n+    void installBlog() {\n+\n+        InstallParam install = new InstallParam();\n+        install.setUsername(\"test\");\n+        install.setNickname(\"test\");\n+        install.setEmail(\"test@test.com\");\n+        install.setPassword(\"opentest\");\n+        install.setUrl(\"http://localhost:\" + port);\n+        install.setTitle(\"Test's Blog\");\n+\n+        restTemplate.postForObject(blogUrl + \"/api/admin/installations\", install,\n+            String.class);\n+    }\n+\n+}"
  },
  {
    "sha": "3aaa6ed84ee1d0507fd873bdb691aabcd735cc33",
    "filename": "src/test/java/run/halo/app/it/IndexPageRequestTest.java",
    "status": "added",
    "additions": 39,
    "deletions": 0,
    "changes": 39,
    "blob_url": "https://github.com/Esesion/halo/blob/30c50f61f874301105b1810afb3daa7979ab5ab9/src/test/java/run/halo/app/it/IndexPageRequestTest.java",
    "raw_url": "https://github.com/Esesion/halo/raw/30c50f61f874301105b1810afb3daa7979ab5ab9/src/test/java/run/halo/app/it/IndexPageRequestTest.java",
    "contents_url": "https://api.github.com/repos/Esesion/halo/contents/src/test/java/run/halo/app/it/IndexPageRequestTest.java?ref=30c50f61f874301105b1810afb3daa7979ab5ab9",
    "patch": "@@ -0,0 +1,39 @@\n+package run.halo.app.it;\n+\n+import static org.junit.jupiter.api.Assertions.assertEquals;\n+\n+import java.io.IOException;\n+import lombok.extern.slf4j.Slf4j;\n+import org.jsoup.Jsoup;\n+import org.jsoup.nodes.Document;\n+import org.jsoup.nodes.Element;\n+import org.junit.jupiter.api.Test;\n+\n+/**\n+ * Index page request test.\n+ *\n+ * @author johnniang\n+ */\n+@Slf4j\n+class IndexPageRequestTest extends BaseApiTest {\n+\n+    @Test\n+    void indexPage() throws IOException {\n+        installBlog();\n+        // validate atom.xml link\n+        Document document = Jsoup.connect(blogUrl).get();\n+        Element atomLink = document.head().getElementsByAttributeValue(\"title\", \"atom 1.0\").get(0);\n+        assertEquals(blogUrl + \"/atom.xml\", atomLink.attr(\"href\"));\n+\n+        // validate title link\n+        Element titleLink = document.body().selectFirst(\".logo-title > .title > h3 > a\");\n+        assertEquals(blogUrl, titleLink.attr(\"href\"));\n+        assertEquals(\"Test's Blog\", titleLink.text());\n+\n+        // validate post link\n+        Element postTitleLink =\n+            document.body().selectFirst(\".content > .post > .post-title > h3 > a\");\n+        assertEquals(blogUrl + \"/archives/hello-halo\", postTitleLink.attr(\"href\"));\n+        assertEquals(\"Hello Halo\", postTitleLink.text());\n+    }\n+}"
  },
  {
    "sha": "693c61d24808f8cbf5e8e579bd38c6416e248c5b",
    "filename": "src/test/resources/application-test.yaml",
    "status": "modified",
    "additions": 0,
    "deletions": 10,
    "changes": 10,
    "blob_url": "https://github.com/Esesion/halo/blob/30c50f61f874301105b1810afb3daa7979ab5ab9/src/test/resources/application-test.yaml",
    "raw_url": "https://github.com/Esesion/halo/raw/30c50f61f874301105b1810afb3daa7979ab5ab9/src/test/resources/application-test.yaml",
    "contents_url": "https://api.github.com/repos/Esesion/halo/contents/src/test/resources/application-test.yaml?ref=30c50f61f874301105b1810afb3daa7979ab5ab9",
    "patch": "@@ -21,18 +21,8 @@ spring:\n     show-sql: true\n   flyway:\n     enabled: false\n-  servlet:\n-    multipart:\n-      max-file-size: 10MB\n-      max-request-size: 10MB\n   cache:\n     type: none\n-management:\n-  endpoints:\n-    web:\n-      base-path: /api/admin/actuator\n-      exposure:\n-        include: [ 'httptrace', 'metrics','env','logfile' ]\n logging:\n   level:\n     run.halo.app: DEBUG"
  }
]
