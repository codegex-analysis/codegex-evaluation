[
  {
    "sha": "9745ed56cba36604d83aac95168c8b90ebae538d",
    "filename": "pom.xml",
    "status": "modified",
    "additions": 2,
    "deletions": 0,
    "changes": 2,
    "blob_url": "https://github.com/typowy1/lekcja29zadanie/blob/6d9ef2105dfe27a7cc67c8afe49aeb2d7d816af3/pom.xml",
    "raw_url": "https://github.com/typowy1/lekcja29zadanie/raw/6d9ef2105dfe27a7cc67c8afe49aeb2d7d816af3/pom.xml",
    "contents_url": "https://api.github.com/repos/typowy1/lekcja29zadanie/contents/pom.xml?ref=6d9ef2105dfe27a7cc67c8afe49aeb2d7d816af3",
    "patch": "@@ -67,12 +67,14 @@\n     </dependencies>\n \n     <build>\n+        <pluginManagement>\n         <plugins>\n             <plugin>\n                 <groupId>org.springframework.boot</groupId>\n                 <artifactId>spring-boot-maven-plugin</artifactId>\n             </plugin>\n         </plugins>\n+        </pluginManagement>\n     </build>\n \n </project>"
  },
  {
    "sha": "7c7e816a16e97348d2a9760fbcc29a32e6643c4e",
    "filename": "src/main/java/pl/javastart/lekcja29zadanie/HomeController.java",
    "status": "added",
    "additions": 14,
    "deletions": 0,
    "changes": 14,
    "blob_url": "https://github.com/typowy1/lekcja29zadanie/blob/6d9ef2105dfe27a7cc67c8afe49aeb2d7d816af3/src/main/java/pl/javastart/lekcja29zadanie/HomeController.java",
    "raw_url": "https://github.com/typowy1/lekcja29zadanie/raw/6d9ef2105dfe27a7cc67c8afe49aeb2d7d816af3/src/main/java/pl/javastart/lekcja29zadanie/HomeController.java",
    "contents_url": "https://api.github.com/repos/typowy1/lekcja29zadanie/contents/src/main/java/pl/javastart/lekcja29zadanie/HomeController.java?ref=6d9ef2105dfe27a7cc67c8afe49aeb2d7d816af3",
    "patch": "@@ -0,0 +1,14 @@\n+package pl.javastart.lekcja29zadanie;\n+\n+import org.springframework.stereotype.Controller;\n+import org.springframework.web.bind.annotation.GetMapping;\n+\n+@Controller\n+public class HomeController {\n+\n+    @GetMapping(\"/\")\n+    public String homepage() {\n+        return \"home\";\n+    }\n+\n+}"
  },
  {
    "sha": "f2adccb1653dbcd9279a205dfca7b84393aec8cc",
    "filename": "src/main/java/pl/javastart/lekcja29zadanie/admin/AdminController.java",
    "status": "added",
    "additions": 28,
    "deletions": 0,
    "changes": 28,
    "blob_url": "https://github.com/typowy1/lekcja29zadanie/blob/6d9ef2105dfe27a7cc67c8afe49aeb2d7d816af3/src/main/java/pl/javastart/lekcja29zadanie/admin/AdminController.java",
    "raw_url": "https://github.com/typowy1/lekcja29zadanie/raw/6d9ef2105dfe27a7cc67c8afe49aeb2d7d816af3/src/main/java/pl/javastart/lekcja29zadanie/admin/AdminController.java",
    "contents_url": "https://api.github.com/repos/typowy1/lekcja29zadanie/contents/src/main/java/pl/javastart/lekcja29zadanie/admin/AdminController.java?ref=6d9ef2105dfe27a7cc67c8afe49aeb2d7d816af3",
    "patch": "@@ -0,0 +1,28 @@\n+package pl.javastart.lekcja29zadanie.admin;\n+\n+import org.springframework.stereotype.Controller;\n+import org.springframework.ui.Model;\n+import org.springframework.web.bind.annotation.GetMapping;\n+import org.springframework.web.bind.annotation.RequestMapping;\n+import pl.javastart.lekcja29zadanie.user.User;\n+import pl.javastart.lekcja29zadanie.user.UserService;\n+\n+import java.util.List;\n+\n+@RequestMapping(\"/admin\")\n+@Controller\n+public class AdminController {\n+\n+    public UserService userService;\n+\n+    public AdminController(UserService userService) {\n+        this.userService = userService;\n+    }\n+\n+    @GetMapping(\"\")\n+    public String adminPage(Model model) {\n+        List<User> users = userService.findAllWithoutCurrentUser();\n+        model.addAttribute(\"users\", users);\n+        return \"admin\";\n+    }\n+}"
  },
  {
    "sha": "f9739725ee1e63c3394850c5c733ff1f0a13cd83",
    "filename": "src/main/java/pl/javastart/lekcja29zadanie/config/MyUserDetailsService.java",
    "status": "added",
    "additions": 43,
    "deletions": 0,
    "changes": 43,
    "blob_url": "https://github.com/typowy1/lekcja29zadanie/blob/6d9ef2105dfe27a7cc67c8afe49aeb2d7d816af3/src/main/java/pl/javastart/lekcja29zadanie/config/MyUserDetailsService.java",
    "raw_url": "https://github.com/typowy1/lekcja29zadanie/raw/6d9ef2105dfe27a7cc67c8afe49aeb2d7d816af3/src/main/java/pl/javastart/lekcja29zadanie/config/MyUserDetailsService.java",
    "contents_url": "https://api.github.com/repos/typowy1/lekcja29zadanie/contents/src/main/java/pl/javastart/lekcja29zadanie/config/MyUserDetailsService.java?ref=6d9ef2105dfe27a7cc67c8afe49aeb2d7d816af3",
    "patch": "@@ -0,0 +1,43 @@\n+package pl.javastart.lekcja29zadanie.config;\n+\n+import org.springframework.security.core.authority.SimpleGrantedAuthority;\n+import org.springframework.security.core.userdetails.UserDetails;\n+import org.springframework.security.core.userdetails.UserDetailsService;\n+import org.springframework.security.core.userdetails.UsernameNotFoundException;\n+import org.springframework.stereotype.Service;\n+import pl.javastart.lekcja29zadanie.user.User;\n+import pl.javastart.lekcja29zadanie.user.UserRepository;\n+\n+import javax.transaction.Transactional;\n+import java.util.Optional;\n+import java.util.Set;\n+import java.util.stream.Collectors;\n+\n+@Service\n+public class MyUserDetailsService implements UserDetailsService {\n+\n+    private UserRepository userRepository;\n+\n+    public MyUserDetailsService(UserRepository userRepository) {\n+        this.userRepository = userRepository;\n+    }\n+\n+    @Transactional\n+    @Override\n+    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n+\n+        Optional<User> userOptional = userRepository.findByUsername(username);\n+        if (userOptional.isPresent()) {\n+            User user = userOptional.get();\n+            Set<SimpleGrantedAuthority> roles = user.getRoles()\n+                    .stream()\n+                    .map(userRole -> new SimpleGrantedAuthority(userRole.getRole().name()))\n+                    .collect(Collectors.toSet());\n+\n+            return new org.springframework.security.core.userdetails.User(user.getUsername(), user.getPassword(), roles);\n+        }\n+\n+        throw new UsernameNotFoundException(\"Username \" + username + \"not found\");\n+    }\n+\n+}"
  },
  {
    "sha": "56d077447dd28c0d6988f5f9ccdbf2ba042a6a19",
    "filename": "src/main/java/pl/javastart/lekcja29zadanie/config/SecurityConfig.java",
    "status": "added",
    "additions": 43,
    "deletions": 0,
    "changes": 43,
    "blob_url": "https://github.com/typowy1/lekcja29zadanie/blob/6d9ef2105dfe27a7cc67c8afe49aeb2d7d816af3/src/main/java/pl/javastart/lekcja29zadanie/config/SecurityConfig.java",
    "raw_url": "https://github.com/typowy1/lekcja29zadanie/raw/6d9ef2105dfe27a7cc67c8afe49aeb2d7d816af3/src/main/java/pl/javastart/lekcja29zadanie/config/SecurityConfig.java",
    "contents_url": "https://api.github.com/repos/typowy1/lekcja29zadanie/contents/src/main/java/pl/javastart/lekcja29zadanie/config/SecurityConfig.java?ref=6d9ef2105dfe27a7cc67c8afe49aeb2d7d816af3",
    "patch": "@@ -0,0 +1,43 @@\n+package pl.javastart.lekcja29zadanie.config;\n+\n+import org.springframework.context.annotation.Bean;\n+import org.springframework.context.annotation.Configuration;\n+import org.springframework.security.config.annotation.web.builders.HttpSecurity;\n+import org.springframework.security.config.annotation.web.builders.WebSecurity;\n+import org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\n+import org.springframework.security.crypto.factory.PasswordEncoderFactories;\n+import org.springframework.security.crypto.password.PasswordEncoder;\n+import org.springframework.security.web.util.matcher.AntPathRequestMatcher;\n+\n+@Configuration\n+public class SecurityConfig extends WebSecurityConfigurerAdapter {\n+\n+    @Bean\n+    public PasswordEncoder passwordEncoder() {\n+        return PasswordEncoderFactories.createDelegatingPasswordEncoder();\n+    }\n+\n+    @Override\n+    protected void configure(HttpSecurity http) throws Exception {\n+        http.authorizeRequests()\n+                .antMatchers(\"/\").permitAll()\n+                .antMatchers(\"/h2-console/**\").permitAll()\n+                .antMatchers(\"/registration\").permitAll()\n+                .antMatchers(\"/user/**\").hasRole(\"USER\")\n+                .antMatchers(\"/admin/**\").hasRole(\"ADMIN\")\n+                .anyRequest().authenticated()\n+                .and()\n+                .formLogin()\n+                .loginPage(\"/login\").permitAll()\n+                .and()\n+                .logout()\n+                .logoutRequestMatcher(new AntPathRequestMatcher(\"/logout\", \"GET\"))\n+                .logoutSuccessUrl(\"/\");\n+    }\n+\n+    @Override\n+    public void configure(WebSecurity web) throws Exception {\n+        web.ignoring()\n+                .antMatchers(\"/h2-console/**\");\n+    }\n+}"
  },
  {
    "sha": "3eb3a17aa1fb0804eb36ccc210f72de79c53bcf7",
    "filename": "src/main/java/pl/javastart/lekcja29zadanie/user/AuthController.java",
    "status": "added",
    "additions": 68,
    "deletions": 0,
    "changes": 68,
    "blob_url": "https://github.com/typowy1/lekcja29zadanie/blob/6d9ef2105dfe27a7cc67c8afe49aeb2d7d816af3/src/main/java/pl/javastart/lekcja29zadanie/user/AuthController.java",
    "raw_url": "https://github.com/typowy1/lekcja29zadanie/raw/6d9ef2105dfe27a7cc67c8afe49aeb2d7d816af3/src/main/java/pl/javastart/lekcja29zadanie/user/AuthController.java",
    "contents_url": "https://api.github.com/repos/typowy1/lekcja29zadanie/contents/src/main/java/pl/javastart/lekcja29zadanie/user/AuthController.java?ref=6d9ef2105dfe27a7cc67c8afe49aeb2d7d816af3",
    "patch": "@@ -0,0 +1,68 @@\n+package pl.javastart.lekcja29zadanie.user;\n+\n+import org.springframework.stereotype.Controller;\n+import org.springframework.ui.Model;\n+import org.springframework.web.bind.annotation.GetMapping;\n+import org.springframework.web.bind.annotation.PostMapping;\n+import org.springframework.web.bind.annotation.RequestParam;\n+import org.springframework.web.servlet.mvc.support.RedirectAttributes;\n+\n+@Controller\n+public class AuthController {\n+\n+    private UserService userService;\n+\n+    public AuthController(UserService userService) {\n+        this.userService = userService;\n+    }\n+\n+    @GetMapping(\"/registration\")\n+    public String registrationPage(Model model) {\n+        model.addAttribute(\"user\", new User());\n+        return \"/registration\";\n+    }\n+\n+    @PostMapping(\"/registration\")\n+    public String register(User user, RedirectAttributes redirectAttrs, @RequestParam(required = false) String error) {\n+        String username = user.getUsername();\n+        String password = user.getPassword();\n+        userService.registerUser(username, password);\n+\n+        boolean showSuccesMessage = false;\n+        if (error == null) {\n+            showSuccesMessage = true;\n+        }\n+        redirectAttrs.addFlashAttribute(\"showSuccesMessage\", showSuccesMessage);\n+\n+        return \"redirect:/login\";\n+    }\n+\n+    @GetMapping(\"/login\")\n+    public String loginForm(@RequestParam(required = false) String error, Model model) {\n+        boolean showErrorMessage = false;\n+\n+        if (error != null) {\n+            showErrorMessage = true;\n+        }\n+        model.addAttribute(\"showErrorMessage\", showErrorMessage);\n+        return \"login\";\n+    }\n+\n+    @GetMapping(\"/user\")\n+    public String userPage() {\n+        return \"user\";\n+    }\n+\n+    @GetMapping(\"/user/edit\")\n+    public String editPage() {\n+        return \"edit\";\n+    }\n+\n+//    @PostMapping(\"/user/edit\")\n+//    public String editUser(User user) {\n+//        String username = user.getUsername();\n+//        String password = user.getPassword();\n+//        userService.updateCurrentUser(username, password);\n+//        return \"redirect:/user\";\n+//    }\n+}"
  },
  {
    "sha": "97e3d4a11337c50354376115b4552d7b5ba86f7e",
    "filename": "src/main/java/pl/javastart/lekcja29zadanie/user/Role.java",
    "status": "added",
    "additions": 6,
    "deletions": 0,
    "changes": 6,
    "blob_url": "https://github.com/typowy1/lekcja29zadanie/blob/6d9ef2105dfe27a7cc67c8afe49aeb2d7d816af3/src/main/java/pl/javastart/lekcja29zadanie/user/Role.java",
    "raw_url": "https://github.com/typowy1/lekcja29zadanie/raw/6d9ef2105dfe27a7cc67c8afe49aeb2d7d816af3/src/main/java/pl/javastart/lekcja29zadanie/user/Role.java",
    "contents_url": "https://api.github.com/repos/typowy1/lekcja29zadanie/contents/src/main/java/pl/javastart/lekcja29zadanie/user/Role.java?ref=6d9ef2105dfe27a7cc67c8afe49aeb2d7d816af3",
    "patch": "@@ -0,0 +1,6 @@\n+package pl.javastart.lekcja29zadanie.user;\n+\n+public enum Role {\n+\n+    ROLE_USER, ROLE_ADMIN\n+}"
  },
  {
    "sha": "db49bb74a80c000dbf2a4ffe54e95a47d4285fbd",
    "filename": "src/main/java/pl/javastart/lekcja29zadanie/user/User.java",
    "status": "added",
    "additions": 51,
    "deletions": 0,
    "changes": 51,
    "blob_url": "https://github.com/typowy1/lekcja29zadanie/blob/6d9ef2105dfe27a7cc67c8afe49aeb2d7d816af3/src/main/java/pl/javastart/lekcja29zadanie/user/User.java",
    "raw_url": "https://github.com/typowy1/lekcja29zadanie/raw/6d9ef2105dfe27a7cc67c8afe49aeb2d7d816af3/src/main/java/pl/javastart/lekcja29zadanie/user/User.java",
    "contents_url": "https://api.github.com/repos/typowy1/lekcja29zadanie/contents/src/main/java/pl/javastart/lekcja29zadanie/user/User.java?ref=6d9ef2105dfe27a7cc67c8afe49aeb2d7d816af3",
    "patch": "@@ -0,0 +1,51 @@\n+package pl.javastart.lekcja29zadanie.user;\n+\n+import javax.persistence.*;\n+import java.util.Set;\n+\n+@Entity\n+public class User {\n+\n+    @Id\n+    @GeneratedValue(strategy = GenerationType.IDENTITY)\n+    private Long id;\n+\n+    private String username;\n+\n+    private String password;\n+\n+    @OneToMany(mappedBy = \"user\", cascade = CascadeType.PERSIST)\n+    private Set<UserRole> roles;\n+\n+    public Long getId() {\n+        return id;\n+    }\n+\n+    public void setId(Long id) {\n+        this.id = id;\n+    }\n+\n+    public String getUsername() {\n+        return username;\n+    }\n+\n+    public void setUsername(String username) {\n+        this.username = username;\n+    }\n+\n+    public String getPassword() {\n+        return password;\n+    }\n+\n+    public void setPassword(String password) {\n+        this.password = password;\n+    }\n+\n+    public Set<UserRole> getRoles() {\n+        return roles;\n+    }\n+\n+    public void setRoles(Set<UserRole> roles) {\n+        this.roles = roles;\n+    }\n+}"
  },
  {
    "sha": "b7049b08fd82e605c0b6db949da7b4f3e2b8bf97",
    "filename": "src/main/java/pl/javastart/lekcja29zadanie/user/UserRepository.java",
    "status": "added",
    "additions": 10,
    "deletions": 0,
    "changes": 10,
    "blob_url": "https://github.com/typowy1/lekcja29zadanie/blob/6d9ef2105dfe27a7cc67c8afe49aeb2d7d816af3/src/main/java/pl/javastart/lekcja29zadanie/user/UserRepository.java",
    "raw_url": "https://github.com/typowy1/lekcja29zadanie/raw/6d9ef2105dfe27a7cc67c8afe49aeb2d7d816af3/src/main/java/pl/javastart/lekcja29zadanie/user/UserRepository.java",
    "contents_url": "https://api.github.com/repos/typowy1/lekcja29zadanie/contents/src/main/java/pl/javastart/lekcja29zadanie/user/UserRepository.java?ref=6d9ef2105dfe27a7cc67c8afe49aeb2d7d816af3",
    "patch": "@@ -0,0 +1,10 @@\n+package pl.javastart.lekcja29zadanie.user;\n+\n+import org.springframework.data.jpa.repository.JpaRepository;\n+\n+import java.util.Optional;\n+\n+public interface UserRepository extends JpaRepository<User, Long> {\n+\n+    Optional<User> findByUsername(String username);\n+}"
  },
  {
    "sha": "0f2676f6423a946e2d9b1c756db819525047f981",
    "filename": "src/main/java/pl/javastart/lekcja29zadanie/user/UserRole.java",
    "status": "added",
    "additions": 49,
    "deletions": 0,
    "changes": 49,
    "blob_url": "https://github.com/typowy1/lekcja29zadanie/blob/6d9ef2105dfe27a7cc67c8afe49aeb2d7d816af3/src/main/java/pl/javastart/lekcja29zadanie/user/UserRole.java",
    "raw_url": "https://github.com/typowy1/lekcja29zadanie/raw/6d9ef2105dfe27a7cc67c8afe49aeb2d7d816af3/src/main/java/pl/javastart/lekcja29zadanie/user/UserRole.java",
    "contents_url": "https://api.github.com/repos/typowy1/lekcja29zadanie/contents/src/main/java/pl/javastart/lekcja29zadanie/user/UserRole.java?ref=6d9ef2105dfe27a7cc67c8afe49aeb2d7d816af3",
    "patch": "@@ -0,0 +1,49 @@\n+package pl.javastart.lekcja29zadanie.user;\n+\n+import javax.persistence.*;\n+\n+@Entity\n+public class UserRole {\n+\n+    @Id\n+    @GeneratedValue(strategy = GenerationType.IDENTITY)\n+    private Long id;\n+\n+    @ManyToOne\n+    private User user;\n+\n+    @Enumerated(EnumType.STRING)\n+    private pl.javastart.lekcja29zadanie.user.Role role;\n+\n+    public UserRole() {\n+    }\n+\n+    public UserRole(User user, pl.javastart.lekcja29zadanie.user.Role role) {\n+        this.user = user;\n+        this.role = role;\n+    }\n+\n+    public Long getId() {\n+        return id;\n+    }\n+\n+    public void setId(Long id) {\n+        this.id = id;\n+    }\n+\n+    public User getUser() {\n+        return user;\n+    }\n+\n+    public void setUser(User user) {\n+        this.user = user;\n+    }\n+\n+    public pl.javastart.lekcja29zadanie.user.Role getRole() {\n+        return role;\n+    }\n+\n+    public void setRole(pl.javastart.lekcja29zadanie.user.Role role) {\n+        this.role = role;\n+    }\n+}"
  },
  {
    "sha": "dc3ef82f7558c5fcfb2a576d4f36cc93c1cf5895",
    "filename": "src/main/java/pl/javastart/lekcja29zadanie/user/UserService.java",
    "status": "added",
    "additions": 57,
    "deletions": 0,
    "changes": 57,
    "blob_url": "https://github.com/typowy1/lekcja29zadanie/blob/6d9ef2105dfe27a7cc67c8afe49aeb2d7d816af3/src/main/java/pl/javastart/lekcja29zadanie/user/UserService.java",
    "raw_url": "https://github.com/typowy1/lekcja29zadanie/raw/6d9ef2105dfe27a7cc67c8afe49aeb2d7d816af3/src/main/java/pl/javastart/lekcja29zadanie/user/UserService.java",
    "contents_url": "https://api.github.com/repos/typowy1/lekcja29zadanie/contents/src/main/java/pl/javastart/lekcja29zadanie/user/UserService.java?ref=6d9ef2105dfe27a7cc67c8afe49aeb2d7d816af3",
    "patch": "@@ -0,0 +1,57 @@\n+package pl.javastart.lekcja29zadanie.user;\n+\n+import org.springframework.security.core.Authentication;\n+import org.springframework.security.core.context.SecurityContextHolder;\n+import org.springframework.security.crypto.password.PasswordEncoder;\n+import org.springframework.stereotype.Service;\n+\n+import java.util.Collections;\n+import java.util.HashSet;\n+import java.util.List;\n+import java.util.stream.Collectors;\n+\n+@Service\n+public class UserService {\n+\n+    private final PasswordEncoder passwordEncoder;\n+    private final UserRepository userRepository;\n+\n+    public UserService(PasswordEncoder passwordEncoder, UserRepository userRepository) {\n+        this.passwordEncoder = passwordEncoder;\n+        this.userRepository = userRepository;\n+    }\n+\n+    public void registerUser(String username, String rawPassword) {\n+        User userToAdd = new User();\n+\n+        userToAdd.setUsername(username);\n+        String encryptedPassword = passwordEncoder.encode(rawPassword);\n+        userToAdd.setPassword(encryptedPassword);\n+\n+        List<UserRole> list = Collections.singletonList(new UserRole(userToAdd, Role.ROLE_USER));\n+        userToAdd.setRoles(new HashSet<>(list));\n+\n+        userRepository.save(userToAdd);\n+    }\n+\n+    public List<User> findAllWithoutCurrentUser() {\n+        Authentication currentUser = SecurityContextHolder.getContext().getAuthentication();\n+\n+        return userRepository.findAll()\n+                .stream()\n+                .filter(user -> !user.getUsername().equals(currentUser.getName()))\n+                .collect(Collectors.toList());\n+    }\n+\n+//    public void updateCurrentUser(String username, String password) {\n+//        Authentication currentUser = SecurityContextHolder.getContext().getAuthentication();\n+//\n+//        List<User> users = userRepository.findAll();\n+//        for (User user : users) {\n+//            if (user.getUsername().equals(currentUser.getName())) {\n+//                user.setUsername(username);\n+//                user.setPassword(password);\n+//            }\n+//        }\n+//    }\n+}"
  },
  {
    "sha": "71c3bde69f7bf50144af89c005c5ae566351c4a5",
    "filename": "src/main/resources/application.properties",
    "status": "modified",
    "additions": 1,
    "deletions": 1,
    "changes": 2,
    "blob_url": "https://github.com/typowy1/lekcja29zadanie/blob/6d9ef2105dfe27a7cc67c8afe49aeb2d7d816af3/src/main/resources/application.properties",
    "raw_url": "https://github.com/typowy1/lekcja29zadanie/raw/6d9ef2105dfe27a7cc67c8afe49aeb2d7d816af3/src/main/resources/application.properties",
    "contents_url": "https://api.github.com/repos/typowy1/lekcja29zadanie/contents/src/main/resources/application.properties?ref=6d9ef2105dfe27a7cc67c8afe49aeb2d7d816af3",
    "patch": "@@ -1 +1 @@\n-\n+spring.datasource.url=jdbc:h2:mem:testdb"
  },
  {
    "sha": "96766758224df9be06fe300f35b539fb45359a98",
    "filename": "src/main/resources/data.sql",
    "status": "added",
    "additions": 10,
    "deletions": 0,
    "changes": 10,
    "blob_url": "https://github.com/typowy1/lekcja29zadanie/blob/6d9ef2105dfe27a7cc67c8afe49aeb2d7d816af3/src/main/resources/data.sql",
    "raw_url": "https://github.com/typowy1/lekcja29zadanie/raw/6d9ef2105dfe27a7cc67c8afe49aeb2d7d816af3/src/main/resources/data.sql",
    "contents_url": "https://api.github.com/repos/typowy1/lekcja29zadanie/contents/src/main/resources/data.sql?ref=6d9ef2105dfe27a7cc67c8afe49aeb2d7d816af3",
    "patch": "@@ -0,0 +1,10 @@\n+INSERT INTO user(id, username, password)\n+VALUES (1, 'admin', '{noop}kkkk'),\n+       (2, 'Rafal', '{noop}kkkk'),\n+       (3, 'Piotr', '{noop}kkkk');\n+\n+INSERT INTO user_role(user_id, role)\n+VALUES (1, 'ROLE_ADMIN'),\n+       (1, 'ROLE_USER'),\n+       (2, 'ROLE_USER'),\n+       (3, 'ROLE_USER');"
  },
  {
    "sha": "a4ad942c79af4295ea19e493482e862d3dede8cf",
    "filename": "src/main/resources/static/style.css",
    "status": "added",
    "additions": 5,
    "deletions": 0,
    "changes": 5,
    "blob_url": "https://github.com/typowy1/lekcja29zadanie/blob/6d9ef2105dfe27a7cc67c8afe49aeb2d7d816af3/src/main/resources/static/style.css",
    "raw_url": "https://github.com/typowy1/lekcja29zadanie/raw/6d9ef2105dfe27a7cc67c8afe49aeb2d7d816af3/src/main/resources/static/style.css",
    "contents_url": "https://api.github.com/repos/typowy1/lekcja29zadanie/contents/src/main/resources/static/style.css?ref=6d9ef2105dfe27a7cc67c8afe49aeb2d7d816af3",
    "patch": "@@ -0,0 +1,5 @@\n+.form{\n+    margin: 0 auto;\n+    width: 100%;\n+    max-width: 500px;\n+}\n\\ No newline at end of file"
  },
  {
    "sha": "c184e094a29e45e90e52599068b07a8d1c870961",
    "filename": "src/main/resources/templates/admin.html",
    "status": "added",
    "additions": 28,
    "deletions": 0,
    "changes": 28,
    "blob_url": "https://github.com/typowy1/lekcja29zadanie/blob/6d9ef2105dfe27a7cc67c8afe49aeb2d7d816af3/src/main/resources/templates/admin.html",
    "raw_url": "https://github.com/typowy1/lekcja29zadanie/raw/6d9ef2105dfe27a7cc67c8afe49aeb2d7d816af3/src/main/resources/templates/admin.html",
    "contents_url": "https://api.github.com/repos/typowy1/lekcja29zadanie/contents/src/main/resources/templates/admin.html?ref=6d9ef2105dfe27a7cc67c8afe49aeb2d7d816af3",
    "patch": "@@ -0,0 +1,28 @@\n+<!DOCTYPE html>\n+<html lang=\"pl\" xmlns:th=\"http://www.thymeleaf.org\">\n+<head>\n+    <meta charset=\"UTF-8\">\n+    <title>Admin</title>\n+    <link rel=\"stylesheet\" href=\"https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css\"\n+          integrity=\"sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T\" crossorigin=\"anonymous\">\n+</head>\n+<body>\n+\n+<div style=\"margin: auto; width: 100%; max-width: 1000px;\">\n+\n+    <a href=\"/logout\">Wyloguj</a></br>\n+    <h1>Panel admina</h1></br>\n+\n+    <h2>Lista użytkowników</h2>\n+\n+    <ul>\n+        <li th:each=\"user: ${users}\">\n+            <span th:text=\"${user.username}\"></span>\n+        </li>\n+    </ul>\n+\n+</div>\n+</a></br>\n+\n+</body>\n+</html>\n\\ No newline at end of file"
  },
  {
    "sha": "212636f9786d3968c47067ad5ebb4bdf9f990332",
    "filename": "src/main/resources/templates/edit.html",
    "status": "added",
    "additions": 31,
    "deletions": 0,
    "changes": 31,
    "blob_url": "https://github.com/typowy1/lekcja29zadanie/blob/6d9ef2105dfe27a7cc67c8afe49aeb2d7d816af3/src/main/resources/templates/edit.html",
    "raw_url": "https://github.com/typowy1/lekcja29zadanie/raw/6d9ef2105dfe27a7cc67c8afe49aeb2d7d816af3/src/main/resources/templates/edit.html",
    "contents_url": "https://api.github.com/repos/typowy1/lekcja29zadanie/contents/src/main/resources/templates/edit.html?ref=6d9ef2105dfe27a7cc67c8afe49aeb2d7d816af3",
    "patch": "@@ -0,0 +1,31 @@\n+<!DOCTYPE html>\n+<html lang=\"pl\" xmlns:th=\"http://www.thymeleaf.org\">>\n+<head>\n+    <meta charset=\"UTF-8\">\n+    <title>Edit</title>\n+    <link rel=\"stylesheet\" href=\"https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css\"\n+          integrity=\"sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T\" crossorigin=\"anonymous\">\n+</head>\n+<body>\n+\n+<div style=\"margin: auto; width: 100%; max-width: 1000px;\">\n+    <a href=\"/logout\">Wyloguj</a></br>\n+    <h2>Edycja danych</h2></br>\n+\n+<!--    <form class=\"form\" method=\"post\" th:action=\"@{/user/edit}\" th:object=\"${user}\">-->\n+<!--        <div class=\"mb-3\">-->\n+<!--            <label for=\"Username\" class=\"form-label\">Username</label>-->\n+<!--            <p th:errors=\"*{username}\">Username errors</p>-->\n+<!--            <input th:field=\"*{username}\" type=\"text\" placeholder=\"Username\" class=\"form-control\" id=\"Username\">-->\n+<!--        </div>-->\n+<!--        <div class=\"mb-3\">-->\n+<!--            <label for=\"Password\" class=\"form-label\">Password</label>-->\n+<!--            <p th:errors=\"*{password}\">Password errors</p>-->\n+<!--            <input th:field=\"*{password}\" type=\"text\" placeholder=\"Password\" class=\"form-control\" id=\"Password\">-->\n+<!--        </div>-->\n+<!--        <button type=\"submit\" class=\"btn btn-primary\">Zarejestryj się</button>-->\n+<!--    </form>-->\n+</div>\n+\n+</body>\n+</html>\n\\ No newline at end of file"
  },
  {
    "sha": "dd236e145f3c91a750441244f252169be40a0b2a",
    "filename": "src/main/resources/templates/home.html",
    "status": "added",
    "additions": 20,
    "deletions": 0,
    "changes": 20,
    "blob_url": "https://github.com/typowy1/lekcja29zadanie/blob/6d9ef2105dfe27a7cc67c8afe49aeb2d7d816af3/src/main/resources/templates/home.html",
    "raw_url": "https://github.com/typowy1/lekcja29zadanie/raw/6d9ef2105dfe27a7cc67c8afe49aeb2d7d816af3/src/main/resources/templates/home.html",
    "contents_url": "https://api.github.com/repos/typowy1/lekcja29zadanie/contents/src/main/resources/templates/home.html?ref=6d9ef2105dfe27a7cc67c8afe49aeb2d7d816af3",
    "patch": "@@ -0,0 +1,20 @@\n+<!DOCTYPE html>\n+<html lang=\"pl\">\n+<head>\n+    <meta charset=\"UTF-8\">\n+    <title>Strona główna</title>\n+    <link rel=\"stylesheet\" href=\"https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css\"\n+          integrity=\"sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T\" crossorigin=\"anonymous\">\n+</head>\n+<body>\n+\n+<div style=\"margin: auto; width: 100%; max-width: 1000px;\">\n+    <a href=\"/registration\">Strona do rejestracji</a></br>\n+    <a href=\"/login\">Strona do logowania</a></br>\n+    <a href=\"/user\">Strona dla zalogowanych userów</a></br>\n+    <a href=\"/admin\">Panel admina</a>\n+</div>\n+</a></br>\n+\n+</body>\n+</html>\n\\ No newline at end of file"
  },
  {
    "sha": "0ba6eba1cff26f8a5e7e222e6745ee161d6c60d8",
    "filename": "src/main/resources/templates/login.html",
    "status": "added",
    "additions": 33,
    "deletions": 0,
    "changes": 33,
    "blob_url": "https://github.com/typowy1/lekcja29zadanie/blob/6d9ef2105dfe27a7cc67c8afe49aeb2d7d816af3/src/main/resources/templates/login.html",
    "raw_url": "https://github.com/typowy1/lekcja29zadanie/raw/6d9ef2105dfe27a7cc67c8afe49aeb2d7d816af3/src/main/resources/templates/login.html",
    "contents_url": "https://api.github.com/repos/typowy1/lekcja29zadanie/contents/src/main/resources/templates/login.html?ref=6d9ef2105dfe27a7cc67c8afe49aeb2d7d816af3",
    "patch": "@@ -0,0 +1,33 @@\n+<!DOCTYPE html>\n+<html lang=\"pl\" xmlns:th=\"http://www.thymeleaf.org\">\n+<head>\n+    <meta charset=\"UTF-8\">\n+    <title>Logowanie</title>\n+    <link rel=\"stylesheet\" href=\"https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css\"\n+          integrity=\"sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T\" crossorigin=\"anonymous\">\n+\n+</head>\n+<body>\n+\n+<div style=\"margin: auto; width: 100%; max-width: 1000px;\">\n+    <h1>Logowanie</h1>\n+\n+    <p th:if=\"${showSuccesMessage}\">Brawo jesteś zarejestrowany!</p>\n+\n+    <p th:if=\"${showErrorMessage}\">Niepoprawne logowanie!</p>\n+\n+    <form class=\"form\" th:action=\"@{/login}\" method=\"post\">\n+        <div class=\"mb-3\">\n+            <label for=\"Username\" class=\"form-label\">Username</label>\n+            <input name=\"username\" placeholder=\"Username\" class=\"form-control\" id=\"Username\">\n+        </div>\n+        <div class=\"mb-3\">\n+            <label for=\"Username\" class=\"form-label\">Password</label>\n+            <input name=\"password\" placeholder=\"Password\" class=\"form-control\" id=\"Password\">\n+        </div>\n+        <button type=\"submit\" class=\"btn btn-primary\">Zaloguj się</button>\n+    </form>\n+</div>\n+\n+</body>\n+</html>\n\\ No newline at end of file"
  },
  {
    "sha": "8d81076716c88cf8f59f71dbb475694687ca1081",
    "filename": "src/main/resources/templates/registration.html",
    "status": "added",
    "additions": 31,
    "deletions": 0,
    "changes": 31,
    "blob_url": "https://github.com/typowy1/lekcja29zadanie/blob/6d9ef2105dfe27a7cc67c8afe49aeb2d7d816af3/src/main/resources/templates/registration.html",
    "raw_url": "https://github.com/typowy1/lekcja29zadanie/raw/6d9ef2105dfe27a7cc67c8afe49aeb2d7d816af3/src/main/resources/templates/registration.html",
    "contents_url": "https://api.github.com/repos/typowy1/lekcja29zadanie/contents/src/main/resources/templates/registration.html?ref=6d9ef2105dfe27a7cc67c8afe49aeb2d7d816af3",
    "patch": "@@ -0,0 +1,31 @@\n+<!DOCTYPE html>\n+<html lang=\"pl\" xmlns:th=\"http://www.thymeleaf.org\">\n+<head>\n+    <meta charset=\"UTF-8\">\n+    <title>Rejestracja</title>\n+    <link rel=\"stylesheet\" href=\"https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css\"\n+          integrity=\"sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T\" crossorigin=\"anonymous\">\n+    <link rel=\"stylesheet\" type=\"text/css\" href=\"/style.css\"/>\n+</head>\n+<body>\n+\n+<div style=\"margin: auto; width: 100%; max-width: 1000px;\">\n+    <h1>Formularz rejestracji</h1>\n+\n+    <form class=\"form\" action=\"#\" method=\"post\" th:action=\"@{/registration}\" th:object=\"${user}\">\n+        <div class=\"mb-3\">\n+            <label for=\"Username\" class=\"form-label\">Username</label>\n+            <p th:errors=\"*{username}\">Username errors</p>\n+            <input th:field=\"*{username}\" type=\"text\" placeholder=\"Username\" class=\"form-control\" id=\"Username\">\n+        </div>\n+        <div class=\"mb-3\">\n+            <label for=\"Password\" class=\"form-label\">Password</label>\n+            <p th:errors=\"*{password}\">Password errors</p>\n+            <input th:field=\"*{password}\" type=\"text\" placeholder=\"Password\" class=\"form-control\" id=\"Password\">\n+        </div>\n+        <button type=\"submit\" class=\"btn btn-primary\">Zarejestryj się</button>\n+    </form>\n+</div>\n+\n+</body>\n+</html>\n\\ No newline at end of file"
  },
  {
    "sha": "a63725aae347cd80ab13326af57b6c8a36634423",
    "filename": "src/main/resources/templates/user.html",
    "status": "added",
    "additions": 21,
    "deletions": 0,
    "changes": 21,
    "blob_url": "https://github.com/typowy1/lekcja29zadanie/blob/6d9ef2105dfe27a7cc67c8afe49aeb2d7d816af3/src/main/resources/templates/user.html",
    "raw_url": "https://github.com/typowy1/lekcja29zadanie/raw/6d9ef2105dfe27a7cc67c8afe49aeb2d7d816af3/src/main/resources/templates/user.html",
    "contents_url": "https://api.github.com/repos/typowy1/lekcja29zadanie/contents/src/main/resources/templates/user.html?ref=6d9ef2105dfe27a7cc67c8afe49aeb2d7d816af3",
    "patch": "@@ -0,0 +1,21 @@\n+<!DOCTYPE html>\n+<html lang=\"pl\">\n+<head>\n+    <meta charset=\"UTF-8\">\n+    <title>User</title>\n+    <link rel=\"stylesheet\" href=\"https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css\"\n+          integrity=\"sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T\" crossorigin=\"anonymous\">\n+</head>\n+<body>\n+\n+<div style=\"margin: auto; width: 100%; max-width: 1000px;\">\n+\n+    <a href=\"/logout\">Wyloguj</a></br>\n+    <h2>Cześć</h2></br>\n+    <a href=\"/user/edit\">Edycja danych</a></br>\n+\n+</div>\n+</a></br>\n+\n+</body>\n+</html>\n\\ No newline at end of file"
  }
]
