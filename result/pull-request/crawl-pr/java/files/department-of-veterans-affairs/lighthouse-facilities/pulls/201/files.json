[
  {
    "sha": "85789566eab9e07428b664b2916982f314df3685",
    "filename": "facilities-api/src/main/java/gov/va/api/lighthouse/facilities/api/pssg/PssgDriveTimeBand.java",
    "status": "modified",
    "additions": 2,
    "deletions": 2,
    "changes": 4,
    "blob_url": "https://github.com/department-of-veterans-affairs/lighthouse-facilities/blob/8a41e5ee5e6b624e28603529d567032051c2fce7/facilities-api/src/main/java/gov/va/api/lighthouse/facilities/api/pssg/PssgDriveTimeBand.java",
    "raw_url": "https://github.com/department-of-veterans-affairs/lighthouse-facilities/raw/8a41e5ee5e6b624e28603529d567032051c2fce7/facilities-api/src/main/java/gov/va/api/lighthouse/facilities/api/pssg/PssgDriveTimeBand.java",
    "contents_url": "https://api.github.com/repos/department-of-veterans-affairs/lighthouse-facilities/contents/facilities-api/src/main/java/gov/va/api/lighthouse/facilities/api/pssg/PssgDriveTimeBand.java?ref=8a41e5ee5e6b624e28603529d567032051c2fce7",
    "patch": "@@ -18,10 +18,10 @@\n @JsonAutoDetect(fieldVisibility = JsonAutoDetect.Visibility.ANY)\n public final class PssgDriveTimeBand {\n   /** The two item list of coordinates, this is the longitude (or x) value. */\n-  public static int INDEX_LONGITUDE = 0;\n+  public static final int INDEX_LONGITUDE = 0;\n \n   /** The two item list of coordinates, this is the latitude (or y) value. */\n-  public static int INDEX_LATITUDE = 1;\n+  public static final int INDEX_LATITUDE = 1;\n \n   Attributes attributes;\n "
  },
  {
    "sha": "27ed6761dd7b2a2059fdea9dec57425dc33a9ed6",
    "filename": "facilities/src/main/java/gov/va/api/lighthouse/facilities/BingResponse.java",
    "status": "modified",
    "additions": 3,
    "deletions": 1,
    "changes": 4,
    "blob_url": "https://github.com/department-of-veterans-affairs/lighthouse-facilities/blob/8a41e5ee5e6b624e28603529d567032051c2fce7/facilities/src/main/java/gov/va/api/lighthouse/facilities/BingResponse.java",
    "raw_url": "https://github.com/department-of-veterans-affairs/lighthouse-facilities/raw/8a41e5ee5e6b624e28603529d567032051c2fce7/facilities/src/main/java/gov/va/api/lighthouse/facilities/BingResponse.java",
    "contents_url": "https://api.github.com/repos/department-of-veterans-affairs/lighthouse-facilities/contents/facilities/src/main/java/gov/va/api/lighthouse/facilities/BingResponse.java?ref=8a41e5ee5e6b624e28603529d567032051c2fce7",
    "patch": "@@ -1,6 +1,7 @@\n package gov.va.api.lighthouse.facilities;\n \n import com.fasterxml.jackson.annotation.JsonIgnoreProperties;\n+import com.fasterxml.jackson.annotation.JsonProperty;\n import java.math.BigDecimal;\n import java.util.ArrayList;\n import java.util.List;\n@@ -29,7 +30,8 @@\n   @Builder\n   @JsonIgnoreProperties(ignoreUnknown = true)\n   static final class Resource {\n-    Point point;\n+    @JsonProperty(\"point\")\n+    Point resourcePoint;\n \n     @JsonIgnoreProperties(ignoreUnknown = true)\n     static final class ResourceBuilder {}"
  },
  {
    "sha": "5eb1afd7cc2edcc0191761ab9add5085bb9c822e",
    "filename": "facilities/src/main/java/gov/va/api/lighthouse/facilities/FacilityEntity.java",
    "status": "modified",
    "additions": 1,
    "deletions": 1,
    "changes": 2,
    "blob_url": "https://github.com/department-of-veterans-affairs/lighthouse-facilities/blob/8a41e5ee5e6b624e28603529d567032051c2fce7/facilities/src/main/java/gov/va/api/lighthouse/facilities/FacilityEntity.java",
    "raw_url": "https://github.com/department-of-veterans-affairs/lighthouse-facilities/raw/8a41e5ee5e6b624e28603529d567032051c2fce7/facilities/src/main/java/gov/va/api/lighthouse/facilities/FacilityEntity.java",
    "contents_url": "https://api.github.com/repos/department-of-veterans-affairs/lighthouse-facilities/contents/facilities/src/main/java/gov/va/api/lighthouse/facilities/FacilityEntity.java?ref=8a41e5ee5e6b624e28603529d567032051c2fce7",
    "patch": "@@ -187,7 +187,7 @@ static Pk fromIdString(@NonNull String typeAndStationNumber) {\n     static Optional<Pk> optionalFromIdString(@NonNull String typeAndStationNumber) {\n       try {\n         return Optional.ofNullable(fromIdString(typeAndStationNumber));\n-      } catch (Exception ex) {\n+      } catch (IllegalArgumentException ex) {\n         return Optional.empty();\n       }\n     }"
  },
  {
    "sha": "4edf381a4344c6fa142de03b4dc146b2fe02114b",
    "filename": "facilities/src/main/java/gov/va/api/lighthouse/facilities/HealthController.java",
    "status": "modified",
    "additions": 5,
    "deletions": 2,
    "changes": 7,
    "blob_url": "https://github.com/department-of-veterans-affairs/lighthouse-facilities/blob/8a41e5ee5e6b624e28603529d567032051c2fce7/facilities/src/main/java/gov/va/api/lighthouse/facilities/HealthController.java",
    "raw_url": "https://github.com/department-of-veterans-affairs/lighthouse-facilities/raw/8a41e5ee5e6b624e28603529d567032051c2fce7/facilities/src/main/java/gov/va/api/lighthouse/facilities/HealthController.java",
    "contents_url": "https://api.github.com/repos/department-of-veterans-affairs/lighthouse-facilities/contents/facilities/src/main/java/gov/va/api/lighthouse/facilities/HealthController.java?ref=8a41e5ee5e6b624e28603529d567032051c2fce7",
    "patch": "@@ -2,6 +2,7 @@\n \n import static com.google.common.base.Preconditions.checkState;\n \n+import com.fasterxml.jackson.core.JsonProcessingException;\n import com.fasterxml.jackson.databind.JsonNode;\n import com.fasterxml.jackson.databind.node.ArrayNode;\n import gov.va.api.health.autoconfig.configuration.JacksonConfig;\n@@ -32,6 +33,7 @@\n import org.springframework.web.bind.annotation.RequestMapping;\n import org.springframework.web.bind.annotation.RestController;\n import org.springframework.web.client.ResourceAccessException;\n+import org.springframework.web.client.RestClientException;\n import org.springframework.web.client.RestTemplate;\n import org.springframework.web.util.UriComponentsBuilder;\n \n@@ -106,8 +108,9 @@ private static Health testHealthJsonList(\n       statusCode = response.getStatusCode();\n       JsonNode root = JacksonConfig.createMapper().readTree(response.getBody());\n       checkState(!((ArrayNode) root).isEmpty(), \"No %s entries\", name);\n-    } catch (Exception e) {\n-      log.info(\"Exception occurred. GET {} message: {}\", url, e.getMessage());\n+    } catch (RestClientException | JsonProcessingException | IllegalArgumentException e) {\n+      log.info(\n+          \"{} occurred. GET {} message: {}\", e.getClass().getSimpleName(), url, e.getMessage());\n       statusCode = HttpStatus.SERVICE_UNAVAILABLE;\n     }\n     return Health.status(new Status(statusCode.is2xxSuccessful() ? \"UP\" : \"DOWN\", name))"
  },
  {
    "sha": "58d18324ccf1e5730c46592df40a47f5a564e366",
    "filename": "facilities/src/main/java/gov/va/api/lighthouse/facilities/NearbyController.java",
    "status": "modified",
    "additions": 1,
    "deletions": 1,
    "changes": 2,
    "blob_url": "https://github.com/department-of-veterans-affairs/lighthouse-facilities/blob/8a41e5ee5e6b624e28603529d567032051c2fce7/facilities/src/main/java/gov/va/api/lighthouse/facilities/NearbyController.java",
    "raw_url": "https://github.com/department-of-veterans-affairs/lighthouse-facilities/raw/8a41e5ee5e6b624e28603529d567032051c2fce7/facilities/src/main/java/gov/va/api/lighthouse/facilities/NearbyController.java",
    "contents_url": "https://api.github.com/repos/department-of-veterans-affairs/lighthouse-facilities/contents/facilities/src/main/java/gov/va/api/lighthouse/facilities/NearbyController.java?ref=8a41e5ee5e6b624e28603529d567032051c2fce7",
    "patch": "@@ -137,7 +137,7 @@ private Coordinates geocodeAddress(\n     Optional<List<BigDecimal>> coordinates =\n         response.resourceSets().stream()\n             .flatMap(rs -> rs.resources().stream())\n-            .map(BingResponse.Resource::point)\n+            .map(BingResponse.Resource::resourcePoint)\n             .filter(Objects::nonNull)\n             .map(BingResponse.Point::coordinates)\n             .filter(c -> c.size() >= 2)"
  },
  {
    "sha": "79dfd7c121e9bae675b59ae10e25e310973b67c8",
    "filename": "facilities/src/main/java/gov/va/api/lighthouse/facilities/Parameters.java",
    "status": "modified",
    "additions": 1,
    "deletions": 1,
    "changes": 2,
    "blob_url": "https://github.com/department-of-veterans-affairs/lighthouse-facilities/blob/8a41e5ee5e6b624e28603529d567032051c2fce7/facilities/src/main/java/gov/va/api/lighthouse/facilities/Parameters.java",
    "raw_url": "https://github.com/department-of-veterans-affairs/lighthouse-facilities/raw/8a41e5ee5e6b624e28603529d567032051c2fce7/facilities/src/main/java/gov/va/api/lighthouse/facilities/Parameters.java",
    "contents_url": "https://api.github.com/repos/department-of-veterans-affairs/lighthouse-facilities/contents/facilities/src/main/java/gov/va/api/lighthouse/facilities/Parameters.java?ref=8a41e5ee5e6b624e28603529d567032051c2fce7",
    "patch": "@@ -41,7 +41,7 @@ Parameters add(String key, @NonNull Object value) {\n   }\n \n   Parameters addAll(String key, List<?> values) {\n-    if (!isEmpty(values)) {\n+    if (values != null && !isEmpty(values)) {\n       for (Object val : values) {\n         checkArgument(val != null);\n         params.add(key, val.toString());"
  },
  {
    "sha": "d9ee80146746c7b07a14222fbf1998776a39a288",
    "filename": "facilities/src/main/java/gov/va/api/lighthouse/facilities/collector/CemeteriesCollector.java",
    "status": "modified",
    "additions": 2,
    "deletions": 2,
    "changes": 4,
    "blob_url": "https://github.com/department-of-veterans-affairs/lighthouse-facilities/blob/8a41e5ee5e6b624e28603529d567032051c2fce7/facilities/src/main/java/gov/va/api/lighthouse/facilities/collector/CemeteriesCollector.java",
    "raw_url": "https://github.com/department-of-veterans-affairs/lighthouse-facilities/raw/8a41e5ee5e6b624e28603529d567032051c2fce7/facilities/src/main/java/gov/va/api/lighthouse/facilities/collector/CemeteriesCollector.java",
    "contents_url": "https://api.github.com/repos/department-of-veterans-affairs/lighthouse-facilities/contents/facilities/src/main/java/gov/va/api/lighthouse/facilities/collector/CemeteriesCollector.java?ref=8a41e5ee5e6b624e28603529d567032051c2fce7",
    "patch": "@@ -78,8 +78,8 @@ static CdwCemetery toCdwCemetery(ResultSet rs) {\n               facility ->\n                   CemeteriesTransformer.builder()\n                       .cdwFacility(facility)\n-                      .facilityName(xmlFacilityName(cemeteries, facility.siteId()))\n-                      .website(xmlOrCsvWebsite(cemeteries, facility.siteId()))\n+                      .externalFacilityName(xmlFacilityName(cemeteries, facility.siteId()))\n+                      .externalWebsite(xmlOrCsvWebsite(cemeteries, facility.siteId()))\n                       .build()\n                       .toFacility())\n           .collect(toList());"
  },
  {
    "sha": "2798f7622ea22b647f00ecd782a982ccf003245c",
    "filename": "facilities/src/main/java/gov/va/api/lighthouse/facilities/collector/CemeteriesTransformer.java",
    "status": "modified",
    "additions": 4,
    "deletions": 4,
    "changes": 8,
    "blob_url": "https://github.com/department-of-veterans-affairs/lighthouse-facilities/blob/8a41e5ee5e6b624e28603529d567032051c2fce7/facilities/src/main/java/gov/va/api/lighthouse/facilities/collector/CemeteriesTransformer.java",
    "raw_url": "https://github.com/department-of-veterans-affairs/lighthouse-facilities/raw/8a41e5ee5e6b624e28603529d567032051c2fce7/facilities/src/main/java/gov/va/api/lighthouse/facilities/collector/CemeteriesTransformer.java",
    "contents_url": "https://api.github.com/repos/department-of-veterans-affairs/lighthouse-facilities/contents/facilities/src/main/java/gov/va/api/lighthouse/facilities/collector/CemeteriesTransformer.java?ref=8a41e5ee5e6b624e28603529d567032051c2fce7",
    "patch": "@@ -14,9 +14,9 @@\n final class CemeteriesTransformer {\n   @NonNull CdwCemetery cdwFacility;\n \n-  String facilityName;\n+  String externalFacilityName;\n \n-  String website;\n+  String externalWebsite;\n \n   private Facility.FacilityAttributes attributes() {\n     return Facility.FacilityAttributes.builder()\n@@ -60,7 +60,7 @@\n   }\n \n   String facilityName(String cdwName) {\n-    return facilityName != null ? facilityName : cdwName;\n+    return externalFacilityName != null ? externalFacilityName : cdwName;\n   }\n \n   private Facility.Phone phone(String attPhone, String attFax) {\n@@ -82,6 +82,6 @@ Facility toFacility() {\n   }\n \n   String website(String cdwUrl) {\n-    return website != null ? website : cdwUrl;\n+    return externalWebsite != null ? externalWebsite : cdwUrl;\n   }\n }"
  },
  {
    "sha": "20cfa9acc1aa42bcf9534c68c8247c22f1c5eaac",
    "filename": "facilities/src/test/java/gov/va/api/lighthouse/facilities/HealthControllerTest.java",
    "status": "modified",
    "additions": 0,
    "deletions": 2,
    "changes": 2,
    "blob_url": "https://github.com/department-of-veterans-affairs/lighthouse-facilities/blob/8a41e5ee5e6b624e28603529d567032051c2fce7/facilities/src/test/java/gov/va/api/lighthouse/facilities/HealthControllerTest.java",
    "raw_url": "https://github.com/department-of-veterans-affairs/lighthouse-facilities/raw/8a41e5ee5e6b624e28603529d567032051c2fce7/facilities/src/test/java/gov/va/api/lighthouse/facilities/HealthControllerTest.java",
    "contents_url": "https://api.github.com/repos/department-of-veterans-affairs/lighthouse-facilities/contents/facilities/src/test/java/gov/va/api/lighthouse/facilities/HealthControllerTest.java?ref=8a41e5ee5e6b624e28603529d567032051c2fce7",
    "patch": "@@ -169,9 +169,7 @@ void collectorBackendHealth_clearCache() {\n             .stateCemeteries(\"UP\")\n             .lastUpdated(\"DOWN\")\n             .build());\n-\n     when(jdbcTemplate.queryForObject(any(String.class), eq(Timestamp.class))).thenReturn(null);\n-\n     response = _controller().collectorBackendHealth();\n     assertThat(response.getStatusCode()).isEqualTo(HttpStatus.SERVICE_UNAVAILABLE);\n     assertStatus("
  },
  {
    "sha": "b4e4db79fa67867e9997c487433a0d08247c4a2a",
    "filename": "facilities/src/test/java/gov/va/api/lighthouse/facilities/NearbyTest.java",
    "status": "modified",
    "additions": 7,
    "deletions": 5,
    "changes": 12,
    "blob_url": "https://github.com/department-of-veterans-affairs/lighthouse-facilities/blob/8a41e5ee5e6b624e28603529d567032051c2fce7/facilities/src/test/java/gov/va/api/lighthouse/facilities/NearbyTest.java",
    "raw_url": "https://github.com/department-of-veterans-affairs/lighthouse-facilities/raw/8a41e5ee5e6b624e28603529d567032051c2fce7/facilities/src/test/java/gov/va/api/lighthouse/facilities/NearbyTest.java",
    "contents_url": "https://api.github.com/repos/department-of-veterans-affairs/lighthouse-facilities/contents/facilities/src/test/java/gov/va/api/lighthouse/facilities/NearbyTest.java?ref=8a41e5ee5e6b624e28603529d567032051c2fce7",
    "patch": "@@ -172,17 +172,18 @@ void address() {\n                                                 List.of(\n                                                     BingResponse.Resource.builder().build(),\n                                                     BingResponse.Resource.builder()\n-                                                        .point(BingResponse.Point.builder().build())\n+                                                        .resourcePoint(\n+                                                            BingResponse.Point.builder().build())\n                                                         .build(),\n                                                     BingResponse.Resource.builder()\n-                                                        .point(\n+                                                        .resourcePoint(\n                                                             BingResponse.Point.builder()\n                                                                 .coordinates(\n                                                                     List.of(BigDecimal.ZERO))\n                                                                 .build())\n                                                         .build(),\n                                                     BingResponse.Resource.builder()\n-                                                        .point(\n+                                                        .resourcePoint(\n                                                             BingResponse.Point.builder()\n                                                                 .coordinates(\n                                                                     List.of(\n@@ -253,10 +254,11 @@ void address_bingNoResults() {\n                                                 List.of(\n                                                     BingResponse.Resource.builder().build(),\n                                                     BingResponse.Resource.builder()\n-                                                        .point(BingResponse.Point.builder().build())\n+                                                        .resourcePoint(\n+                                                            BingResponse.Point.builder().build())\n                                                         .build(),\n                                                     BingResponse.Resource.builder()\n-                                                        .point(\n+                                                        .resourcePoint(\n                                                             BingResponse.Point.builder()\n                                                                 .coordinates(\n                                                                     List.of(BigDecimal.ZERO))"
  },
  {
    "sha": "a60308d6f4a1392717b02cbaeef121b4d9ec7020",
    "filename": "facilities/src/test/java/gov/va/api/lighthouse/facilities/collector/CemeteriesTransformerTest.java",
    "status": "modified",
    "additions": 2,
    "deletions": 2,
    "changes": 4,
    "blob_url": "https://github.com/department-of-veterans-affairs/lighthouse-facilities/blob/8a41e5ee5e6b624e28603529d567032051c2fce7/facilities/src/test/java/gov/va/api/lighthouse/facilities/collector/CemeteriesTransformerTest.java",
    "raw_url": "https://github.com/department-of-veterans-affairs/lighthouse-facilities/raw/8a41e5ee5e6b624e28603529d567032051c2fce7/facilities/src/test/java/gov/va/api/lighthouse/facilities/collector/CemeteriesTransformerTest.java",
    "contents_url": "https://api.github.com/repos/department-of-veterans-affairs/lighthouse-facilities/contents/facilities/src/test/java/gov/va/api/lighthouse/facilities/collector/CemeteriesTransformerTest.java?ref=8a41e5ee5e6b624e28603529d567032051c2fce7",
    "patch": "@@ -34,8 +34,8 @@ private CemeteriesTransformer tx() {\n   private CemeteriesTransformer tx(String xmlWebsite, String xmlFacilityName) {\n     return CemeteriesTransformer.builder()\n         .cdwFacility(CemeteriesSamples.Cdw.create().cdwCemeteries())\n-        .facilityName(xmlFacilityName)\n-        .website(xmlWebsite)\n+        .externalFacilityName(xmlFacilityName)\n+        .externalWebsite(xmlWebsite)\n         .build();\n   }\n "
  }
]
