[
  {
    "sha": "b21c79cd828d752a6f9c6684215e92349d8059a0",
    "filename": "app/build.gradle",
    "status": "modified",
    "additions": 2,
    "deletions": 0,
    "changes": 2,
    "blob_url": "https://github.com/RelinDmitrii/NotesAppDB/blob/7471f36157421f4ee3f19bcc57f9867dbbb46022/app/build.gradle",
    "raw_url": "https://github.com/RelinDmitrii/NotesAppDB/raw/7471f36157421f4ee3f19bcc57f9867dbbb46022/app/build.gradle",
    "contents_url": "https://api.github.com/repos/RelinDmitrii/NotesAppDB/contents/app/build.gradle?ref=7471f36157421f4ee3f19bcc57f9867dbbb46022",
    "patch": "@@ -48,5 +48,7 @@ dependencies {\n     implementation 'com.google.firebase:firebase-analytics:18.0.2'\n     implementation \"androidx.multidex:multidex:2.0.1\"\n \n+    implementation 'com.google.android.material:material:1.2.1'\n+\n }\n apply plugin: 'com.google.gms.google-services'\n\\ No newline at end of file"
  },
  {
    "sha": "62e01611f0b94b2796b61a7eb976b45291a62e1e",
    "filename": "app/src/main/java/com/example/notesappdb/Constants.java",
    "status": "modified",
    "additions": 1,
    "deletions": 0,
    "changes": 1,
    "blob_url": "https://github.com/RelinDmitrii/NotesAppDB/blob/7471f36157421f4ee3f19bcc57f9867dbbb46022/app/src/main/java/com/example/notesappdb/Constants.java",
    "raw_url": "https://github.com/RelinDmitrii/NotesAppDB/raw/7471f36157421f4ee3f19bcc57f9867dbbb46022/app/src/main/java/com/example/notesappdb/Constants.java",
    "contents_url": "https://api.github.com/repos/RelinDmitrii/NotesAppDB/contents/app/src/main/java/com/example/notesappdb/Constants.java?ref=7471f36157421f4ee3f19bcc57f9867dbbb46022",
    "patch": "@@ -3,5 +3,6 @@\n public class Constants {\n \n     public static final String TABLE_NAME_NOTES = \"notes\";\n+\n }\n "
  },
  {
    "sha": "975518b70591b31defc0754f5d3d4a8987e62f31",
    "filename": "app/src/main/java/com/example/notesappdb/MainActivity.java",
    "status": "modified",
    "additions": 8,
    "deletions": 8,
    "changes": 16,
    "blob_url": "https://github.com/RelinDmitrii/NotesAppDB/blob/7471f36157421f4ee3f19bcc57f9867dbbb46022/app/src/main/java/com/example/notesappdb/MainActivity.java",
    "raw_url": "https://github.com/RelinDmitrii/NotesAppDB/raw/7471f36157421f4ee3f19bcc57f9867dbbb46022/app/src/main/java/com/example/notesappdb/MainActivity.java",
    "contents_url": "https://api.github.com/repos/RelinDmitrii/NotesAppDB/contents/app/src/main/java/com/example/notesappdb/MainActivity.java?ref=7471f36157421f4ee3f19bcc57f9867dbbb46022",
    "patch": "@@ -14,12 +14,12 @@\n import android.view.MenuItem;\n import android.widget.Toast;\n \n-import com.example.notesappdb.Novigation.Navigation;\n+import com.example.notesappdb.Support.Support;\n import com.google.android.material.navigation.NavigationView;\n \n public class MainActivity extends AppCompatActivity {\n \n-    private Navigation navigation;\n+    private Support support;\n     private SearchView searchText;\n \n     public SearchView getSearchText() {\n@@ -31,8 +31,8 @@ protected void onCreate(Bundle savedInstanceState) {\n         super.onCreate(savedInstanceState);\n         setContentView(R.layout.activity_main);\n         initView();\n-        navigation = new Navigation(getSupportFragmentManager());\n-        navigation.addFragment(StartFragment.newInstance(), true);\n+        support = new Support(getSupportFragmentManager());\n+        support.addFragment(StartFragment.newInstance(), true);\n     }\n \n     private void initView() {\n@@ -75,11 +75,11 @@ private boolean navigateFragment(int id) {\n         switch (id) {\n             case R.id.action_settings:\n                 SettingFragment settingFragment = new SettingFragment();\n-                navigation.addFragment(settingFragment, true);\n+                support.addFragment(settingFragment, true);\n                 return true;\n             case R.id.action_about:\n                 AboutFragment aboutFragment = new AboutFragment();\n-                navigation.addFragment(aboutFragment, true);\n+                support.addFragment(aboutFragment, true);\n                 return true;\n         }\n         return false;\n@@ -119,7 +119,7 @@ public boolean onOptionsItemSelected(@NonNull MenuItem item) {\n         return true;\n     }\n \n-    public Navigation getNavigation() {\n-        return navigation;\n+    public Support getSupport() {\n+        return support;\n     }\n }"
  },
  {
    "sha": "e37bdf44c3942fa62af9d7b4a926b58ae32a2bfa",
    "filename": "app/src/main/java/com/example/notesappdb/NoteFragmentEdit.java",
    "status": "modified",
    "additions": 11,
    "deletions": 5,
    "changes": 16,
    "blob_url": "https://github.com/RelinDmitrii/NotesAppDB/blob/7471f36157421f4ee3f19bcc57f9867dbbb46022/app/src/main/java/com/example/notesappdb/NoteFragmentEdit.java",
    "raw_url": "https://github.com/RelinDmitrii/NotesAppDB/raw/7471f36157421f4ee3f19bcc57f9867dbbb46022/app/src/main/java/com/example/notesappdb/NoteFragmentEdit.java",
    "contents_url": "https://api.github.com/repos/RelinDmitrii/NotesAppDB/contents/app/src/main/java/com/example/notesappdb/NoteFragmentEdit.java?ref=7471f36157421f4ee3f19bcc57f9867dbbb46022",
    "patch": "@@ -12,23 +12,27 @@\n \n import androidx.annotation.NonNull;\n import androidx.annotation.Nullable;\n+import androidx.fragment.app.DialogFragment;\n import androidx.fragment.app.Fragment;\n \n import com.example.notesappdb.addNote.NoteFirestoreCallbacks;\n import com.example.notesappdb.addNote.NoteRepository;\n import com.example.notesappdb.addNote.NoteRepositoryImpl;\n+import com.google.android.material.bottomsheet.BottomSheetDialogFragment;\n import com.google.android.material.button.MaterialButton;\n \n import java.util.Calendar;\n \n-public class NoteFragmentEdit extends Fragment implements NoteFirestoreCallbacks {\n+public class NoteFragmentEdit extends DialogFragment implements NoteFirestoreCallbacks {\n \n     public static final String ARG_INDEX = \"arg_index_notes_edit_fragment\";\n     private DatePickerDialog picker;\n     private NoteRepositoryImpl noteRepository;\n+    private RefreshNote refreshNote;\n \n-    public static NoteFragmentEdit newInstance(Note note) {\n+    public static NoteFragmentEdit newInstance(Note note, RefreshNote refreshNote) {\n         NoteFragmentEdit fragment = new NoteFragmentEdit();\n+        fragment.refreshNote = refreshNote;\n         Bundle bundle = new Bundle();\n         bundle.putSerializable(\"NoteObject\", note);\n         fragment.setArguments(bundle);\n@@ -58,8 +62,6 @@ public void onActivityCreated(@Nullable Bundle savedInstanceState) {\n             textViewData.setText(note.data);\n             editTextDescription.setText(note.description);\n         }\n-\n-\n     }\n \n     @Override\n@@ -83,14 +85,18 @@ public void clickOnButton() {\n             public void onClick(View v) {\n                 noteRepository = new NoteRepositoryImpl(NoteFragmentEdit.this);\n                 noteRepository.setNote(((Note) getArguments().getSerializable(\"NoteObject\")).id, textViewTitle.getText().toString(), editTextDescription.getText().toString(), textViewData.getText().toString());\n+\n             }\n         });\n     }\n \n     @Override\n     public void onSuccess(@Nullable String message) {\n         Toast.makeText(getContext(), \"Успешно\", Toast.LENGTH_SHORT).show();\n-        getActivity().onBackPressed();\n+        refreshNote.refreshNote(((Note) getArguments().getSerializable(\"NoteObject\")).id);\n+        this.dismiss();\n+\n+\n     }\n \n     @Override"
  },
  {
    "sha": "8230394b17959ab73071e3ff94ef66c124a17ac9",
    "filename": "app/src/main/java/com/example/notesappdb/NotesDetailFragment.java",
    "status": "modified",
    "additions": 40,
    "deletions": 22,
    "changes": 62,
    "blob_url": "https://github.com/RelinDmitrii/NotesAppDB/blob/7471f36157421f4ee3f19bcc57f9867dbbb46022/app/src/main/java/com/example/notesappdb/NotesDetailFragment.java",
    "raw_url": "https://github.com/RelinDmitrii/NotesAppDB/raw/7471f36157421f4ee3f19bcc57f9867dbbb46022/app/src/main/java/com/example/notesappdb/NotesDetailFragment.java",
    "contents_url": "https://api.github.com/repos/RelinDmitrii/NotesAppDB/contents/app/src/main/java/com/example/notesappdb/NotesDetailFragment.java?ref=7471f36157421f4ee3f19bcc57f9867dbbb46022",
    "patch": "@@ -13,11 +13,12 @@\n import androidx.fragment.app.FragmentResultListener;\n \n import com.google.android.gms.tasks.OnSuccessListener;\n+import com.google.android.material.bottomsheet.BottomSheetDialogFragment;\n import com.google.android.material.button.MaterialButton;\n import com.google.firebase.firestore.DocumentSnapshot;\n import com.google.firebase.firestore.FirebaseFirestore;\n \n-public class NotesDetailFragment extends Fragment {\n+public class NotesDetailFragment extends Fragment implements RefreshNote {\n \n     public static final String ARG_INDEX = \"arg_index_notes_detail_fragment\";\n \n@@ -60,8 +61,8 @@ public void clickOnButton() {\n         mbEditNote.setOnClickListener(new View.OnClickListener() {\n             @Override\n             public void onClick(View v) {\n-                NoteFragmentEdit noteFragmentEdit = NoteFragmentEdit.newInstance(noteGoToEdit);\n-                ((MainActivity) getActivity()).getNavigation().addFragment(noteFragmentEdit, true);\n+                NoteFragmentEdit noteFragmentEdit = NoteFragmentEdit.newInstance(noteGoToEdit, NotesDetailFragment.this);\n+                noteFragmentEdit.show(getActivity().getSupportFragmentManager(), \"NoteFragmentEdit\");\n             }\n         });\n     }\n@@ -71,28 +72,22 @@ public void onActivityCreated(@Nullable Bundle savedInstanceState) {\n         super.onActivityCreated(savedInstanceState);\n         ((MainActivity) getActivity()).getSearchText().setVisibility(View.INVISIBLE);\n         if (getArguments() != null) {\n-            firebaseFirestore\n-                    .collection(Constants.TABLE_NAME_NOTES)\n-                    .document(getArguments().getString(ARG_INDEX))\n-                    .get()\n-                    .addOnSuccessListener(new OnSuccessListener<DocumentSnapshot>() {\n-                        @Override\n-                        public void onSuccess(DocumentSnapshot documentSnapshot) {\n-                            titleNotesDetail.setText(documentSnapshot.getString(\"title\"));\n-                            dataNotesDetail.setText(documentSnapshot.getString(\"data\"));\n-                            descriptionNotesDetail.setText(documentSnapshot.getString(\"description\"));\n-                            //Вынести в отдельный метод\n-                            noteGoToEdit = new Note();\n-                            noteGoToEdit.setTitle(documentSnapshot.getString(\"title\"));\n-                            noteGoToEdit.setDescription(documentSnapshot.getString(\"description\"));\n-                            noteGoToEdit.setData(documentSnapshot.getString(\"data\"));\n-                            noteGoToEdit.setId(documentSnapshot.getString(\"id\"));\n-\n-                        }\n-                    });\n+            refreshNote(getArguments().getString(ARG_INDEX));\n         }\n     }\n \n+    @Override\n+    public void onResume() {\n+        getParentFragmentManager().setFragmentResultListener(\"requestKey\", this, new FragmentResultListener() {\n+            @Override\n+            public void onFragmentResult(@NonNull String key, @NonNull Bundle bundle) {\n+                String result = bundle.getString(\"bundleKey\");\n+                descriptionNotesDetail.setText(result);\n+            }\n+        });\n+        super.onResume();\n+    }\n+\n     @Override\n     public void onCreate(@Nullable Bundle savedInstanceState) {\n         super.onCreate(savedInstanceState);\n@@ -104,4 +99,27 @@ public void onFragmentResult(@NonNull String key, @NonNull Bundle bundle) {\n             }\n         });\n     }\n+\n+\n+    public void refreshNote(String id) {\n+        firebaseFirestore\n+                .collection(Constants.TABLE_NAME_NOTES)\n+                .document(id)\n+                .get()\n+                .addOnSuccessListener(new OnSuccessListener<DocumentSnapshot>() {\n+                    @Override\n+                    public void onSuccess(DocumentSnapshot documentSnapshot) {\n+                        titleNotesDetail.setText(documentSnapshot.getString(\"title\"));\n+                        dataNotesDetail.setText(documentSnapshot.getString(\"data\"));\n+                        descriptionNotesDetail.setText(documentSnapshot.getString(\"description\"));\n+                        //Вынести в отдельный метод\n+                        noteGoToEdit = new Note();\n+                        noteGoToEdit.setTitle(documentSnapshot.getString(\"title\"));\n+                        noteGoToEdit.setDescription(documentSnapshot.getString(\"description\"));\n+                        noteGoToEdit.setData(documentSnapshot.getString(\"data\"));\n+                        noteGoToEdit.setId(documentSnapshot.getString(\"id\"));\n+                    }\n+                });\n+    }\n+\n }"
  },
  {
    "sha": "3182d036a419cf4ea9e0929cd2692696426382a3",
    "filename": "app/src/main/java/com/example/notesappdb/Novigation/Navigation.java",
    "status": "removed",
    "additions": 0,
    "deletions": 33,
    "changes": 33,
    "blob_url": "https://github.com/RelinDmitrii/NotesAppDB/blob/6630b043aeb255d29d17c037bb019bc325ff9332/app/src/main/java/com/example/notesappdb/Novigation/Navigation.java",
    "raw_url": "https://github.com/RelinDmitrii/NotesAppDB/raw/6630b043aeb255d29d17c037bb019bc325ff9332/app/src/main/java/com/example/notesappdb/Novigation/Navigation.java",
    "contents_url": "https://api.github.com/repos/RelinDmitrii/NotesAppDB/contents/app/src/main/java/com/example/notesappdb/Novigation/Navigation.java?ref=6630b043aeb255d29d17c037bb019bc325ff9332",
    "patch": "@@ -1,33 +0,0 @@\n-package com.example.notesappdb.Novigation;\n-\n-import android.view.View;\n-\n-import androidx.fragment.app.Fragment;\n-import androidx.fragment.app.FragmentManager;\n-import androidx.fragment.app.FragmentTransaction;\n-\n-import com.example.notesappdb.MainActivity;\n-import com.example.notesappdb.R;\n-import com.example.notesappdb.StartFragment;\n-import com.example.notesappdb.getNotes.NotesFragment;\n-\n-import java.lang.ref.WeakReference;\n-\n-public class Navigation {\n-    private final FragmentManager fragmentManager;\n-\n-    public Navigation(FragmentManager fragmentManager) {\n-        this.fragmentManager = fragmentManager;\n-    }\n-\n-    public void addFragment(Fragment fragment, boolean useBackStack) {\n-        FragmentTransaction fragmentTransaction = fragmentManager.beginTransaction();\n-        fragmentTransaction.replace(R.id.fragment_container, fragment);\n-        if (useBackStack) {\n-            fragmentTransaction.addToBackStack(null);\n-        }\n-        fragmentTransaction.commit();\n-    }\n-\n-\n-}"
  },
  {
    "sha": "6f631b611bf065f43b94978b0b9d49bb4891f44d",
    "filename": "app/src/main/java/com/example/notesappdb/RefreshNote.java",
    "status": "added",
    "additions": 6,
    "deletions": 0,
    "changes": 6,
    "blob_url": "https://github.com/RelinDmitrii/NotesAppDB/blob/7471f36157421f4ee3f19bcc57f9867dbbb46022/app/src/main/java/com/example/notesappdb/RefreshNote.java",
    "raw_url": "https://github.com/RelinDmitrii/NotesAppDB/raw/7471f36157421f4ee3f19bcc57f9867dbbb46022/app/src/main/java/com/example/notesappdb/RefreshNote.java",
    "contents_url": "https://api.github.com/repos/RelinDmitrii/NotesAppDB/contents/app/src/main/java/com/example/notesappdb/RefreshNote.java?ref=7471f36157421f4ee3f19bcc57f9867dbbb46022",
    "patch": "@@ -0,0 +1,6 @@\n+package com.example.notesappdb;\n+\n+public interface RefreshNote {\n+\n+    public void refreshNote (String id);\n+}"
  },
  {
    "sha": "34973f2cdf6557ef93c4597d3ea032f7854be72e",
    "filename": "app/src/main/java/com/example/notesappdb/SettingFragment.java",
    "status": "modified",
    "additions": 0,
    "deletions": 1,
    "changes": 1,
    "blob_url": "https://github.com/RelinDmitrii/NotesAppDB/blob/7471f36157421f4ee3f19bcc57f9867dbbb46022/app/src/main/java/com/example/notesappdb/SettingFragment.java",
    "raw_url": "https://github.com/RelinDmitrii/NotesAppDB/raw/7471f36157421f4ee3f19bcc57f9867dbbb46022/app/src/main/java/com/example/notesappdb/SettingFragment.java",
    "contents_url": "https://api.github.com/repos/RelinDmitrii/NotesAppDB/contents/app/src/main/java/com/example/notesappdb/SettingFragment.java?ref=7471f36157421f4ee3f19bcc57f9867dbbb46022",
    "patch": "@@ -17,7 +17,6 @@ public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup c\n \n         return inflater.inflate(R.layout.settings_fragment, container, false);\n     }\n-\n     @Override\n     public void onActivityCreated(@Nullable Bundle savedInstanceState) {\n         super.onActivityCreated(savedInstanceState);"
  },
  {
    "sha": "1f1de96643117922d6b262d15d72b71f79aace9e",
    "filename": "app/src/main/java/com/example/notesappdb/StartFragment.java",
    "status": "modified",
    "additions": 5,
    "deletions": 5,
    "changes": 10,
    "blob_url": "https://github.com/RelinDmitrii/NotesAppDB/blob/7471f36157421f4ee3f19bcc57f9867dbbb46022/app/src/main/java/com/example/notesappdb/StartFragment.java",
    "raw_url": "https://github.com/RelinDmitrii/NotesAppDB/raw/7471f36157421f4ee3f19bcc57f9867dbbb46022/app/src/main/java/com/example/notesappdb/StartFragment.java",
    "contents_url": "https://api.github.com/repos/RelinDmitrii/NotesAppDB/contents/app/src/main/java/com/example/notesappdb/StartFragment.java?ref=7471f36157421f4ee3f19bcc57f9867dbbb46022",
    "patch": "@@ -13,7 +13,7 @@\n import androidx.annotation.Nullable;\n import androidx.fragment.app.Fragment;\n \n-import com.example.notesappdb.Novigation.Navigation;\n+import com.example.notesappdb.Support.Support;\n import com.example.notesappdb.getNotes.NotesFragment;\n import com.google.android.gms.auth.api.signin.GoogleSignIn;\n import com.google.android.gms.auth.api.signin.GoogleSignInAccount;\n@@ -29,7 +29,7 @@\n     private static final int RC_SIGN_IN = 40404;\n     private static final String TAG = \"GoogleAuth\";\n \n-    private Navigation navigation;\n+    private Support support;\n \n     private GoogleSignInClient googleSignInClient;\n \n@@ -46,12 +46,12 @@ public static StartFragment newInstance() {\n     public void onAttach(@NonNull Context context) {\n         super.onAttach(context);\n         MainActivity activity = (MainActivity) context;\n-        navigation = activity.getNavigation();\n+        support = activity.getSupport();\n     }\n \n     @Override\n     public void onDetach() {\n-        navigation = null;\n+        support = null;\n         super.onDetach();\n     }\n \n@@ -96,7 +96,7 @@ public void onClick(View v) {\n         continueElement.setOnClickListener(new View.OnClickListener() {\n             @Override\n             public void onClick(View v) {\n-                navigation.addFragment(NotesFragment.newInstance(), false);\n+                support.addFragment(NotesFragment.newInstance(), false);\n             }\n         });\n     }"
  },
  {
    "sha": "c36ae0778fec9067ed9e2a10a3d53936c2ab824b",
    "filename": "app/src/main/java/com/example/notesappdb/Support/Support.java",
    "status": "added",
    "additions": 44,
    "deletions": 0,
    "changes": 44,
    "blob_url": "https://github.com/RelinDmitrii/NotesAppDB/blob/7471f36157421f4ee3f19bcc57f9867dbbb46022/app/src/main/java/com/example/notesappdb/Support/Support.java",
    "raw_url": "https://github.com/RelinDmitrii/NotesAppDB/raw/7471f36157421f4ee3f19bcc57f9867dbbb46022/app/src/main/java/com/example/notesappdb/Support/Support.java",
    "contents_url": "https://api.github.com/repos/RelinDmitrii/NotesAppDB/contents/app/src/main/java/com/example/notesappdb/Support/Support.java?ref=7471f36157421f4ee3f19bcc57f9867dbbb46022",
    "patch": "@@ -0,0 +1,44 @@\n+package com.example.notesappdb.Support;\n+\n+import android.content.DialogInterface;\n+\n+import androidx.appcompat.app.AlertDialog;\n+import androidx.fragment.app.Fragment;\n+import androidx.fragment.app.FragmentManager;\n+import androidx.fragment.app.FragmentTransaction;\n+\n+import com.example.notesappdb.R;\n+import com.example.notesappdb.getNotes.NotesFragment;\n+\n+public class Support {\n+    private final FragmentManager fragmentManager;\n+\n+    public Support(FragmentManager fragmentManager) {\n+        this.fragmentManager = fragmentManager;\n+    }\n+\n+    public void addFragment(Fragment fragment, boolean useBackStack) {\n+        FragmentTransaction fragmentTransaction = fragmentManager.beginTransaction();\n+        fragmentTransaction.replace(R.id.fragment_container, fragment);\n+        if (useBackStack) {\n+            fragmentTransaction.addToBackStack(null);\n+        }\n+        fragmentTransaction.commit();\n+    }\n+\n+    public void addAlertDialog(Fragment fragment, String id) {\n+        AlertDialog.Builder builder = new AlertDialog.Builder(fragment.getContext());\n+        builder.setTitle(R.string.exclamation)\n+        .setMessage(R.string.deleteNote)\n+        .setIcon(R.mipmap.ic_launcher_round)\n+        .setCancelable(false)\n+                .setPositiveButton(R.string.buttonYes,\n+                        new DialogInterface.OnClickListener() {\n+                            @Override\n+                            public void onClick(DialogInterface dialog, int which) {\n+                                ((NotesFragment) fragment).deleteItem(id);\n+                            }\n+                        }).create().show();\n+    }\n+\n+}"
  },
  {
    "sha": "4fee4a5e2fcc644d7406f96ae99ab7f3bb06ba0e",
    "filename": "app/src/main/java/com/example/notesappdb/addNote/NoteAddFragment.java",
    "status": "modified",
    "additions": 12,
    "deletions": 2,
    "changes": 14,
    "blob_url": "https://github.com/RelinDmitrii/NotesAppDB/blob/7471f36157421f4ee3f19bcc57f9867dbbb46022/app/src/main/java/com/example/notesappdb/addNote/NoteAddFragment.java",
    "raw_url": "https://github.com/RelinDmitrii/NotesAppDB/raw/7471f36157421f4ee3f19bcc57f9867dbbb46022/app/src/main/java/com/example/notesappdb/addNote/NoteAddFragment.java",
    "contents_url": "https://api.github.com/repos/RelinDmitrii/NotesAppDB/contents/app/src/main/java/com/example/notesappdb/addNote/NoteAddFragment.java?ref=7471f36157421f4ee3f19bcc57f9867dbbb46022",
    "patch": "@@ -13,17 +13,20 @@\n \n import androidx.annotation.NonNull;\n import androidx.annotation.Nullable;\n+import androidx.fragment.app.DialogFragment;\n import androidx.fragment.app.Fragment;\n \n import com.example.notesappdb.MainActivity;\n import com.example.notesappdb.Note;\n import com.example.notesappdb.R;\n+import com.example.notesappdb.getNotes.OnCreateNote;\n+import com.google.android.material.bottomsheet.BottomSheetDialogFragment;\n import com.google.android.material.button.MaterialButton;\n \n import java.util.Calendar;\n import java.util.UUID;\n \n-public class NoteAddFragment extends Fragment implements NoteFirestoreCallbacks {\n+public class NoteAddFragment extends BottomSheetDialogFragment implements NoteFirestoreCallbacks {\n \n     EditText etTitle;\n     TextView etData;\n@@ -34,6 +37,8 @@\n \n     private final NoteRepository repository = new NoteRepositoryImpl(this);\n \n+    private OnCreateNote onCreateNote;\n+\n     @Nullable\n     @Override\n     public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n@@ -88,7 +93,8 @@ public void init(View view) {\n     @Override\n     public void onSuccess(@Nullable String message) {\n         showToastMessage(message);\n-        getActivity().onBackPressed();\n+        onCreateNote.onCreateNote();\n+        this.dismiss();\n     }\n \n     @Override\n@@ -101,4 +107,8 @@ private void showToastMessage(@Nullable String message) {\n             Toast.makeText(requireContext(), message, Toast.LENGTH_SHORT).show();\n         }\n     }\n+\n+    public void setOnCreateNote(OnCreateNote onCreateNote) {\n+        this.onCreateNote = onCreateNote;\n+    }\n }"
  },
  {
    "sha": "b1bc56cf9e08ab1ee26e14d41bf8f65c3d9a5a89",
    "filename": "app/src/main/java/com/example/notesappdb/getNotes/NotesFragment.java",
    "status": "modified",
    "additions": 12,
    "deletions": 4,
    "changes": 16,
    "blob_url": "https://github.com/RelinDmitrii/NotesAppDB/blob/7471f36157421f4ee3f19bcc57f9867dbbb46022/app/src/main/java/com/example/notesappdb/getNotes/NotesFragment.java",
    "raw_url": "https://github.com/RelinDmitrii/NotesAppDB/raw/7471f36157421f4ee3f19bcc57f9867dbbb46022/app/src/main/java/com/example/notesappdb/getNotes/NotesFragment.java",
    "contents_url": "https://api.github.com/repos/RelinDmitrii/NotesAppDB/contents/app/src/main/java/com/example/notesappdb/getNotes/NotesFragment.java?ref=7471f36157421f4ee3f19bcc57f9867dbbb46022",
    "patch": "@@ -33,6 +33,8 @@\n     private final NotesRepository repository = new NotesRepositoryImpl(this);\n     private ItemTouchHelper itemTouchHelper;\n \n+\n+\n     public static NotesFragment newInstance() {\n         NotesFragment fragment = new NotesFragment();\n         return fragment;\n@@ -61,7 +63,10 @@ public void onActivityCreated(@Nullable Bundle savedInstanceState) {\n             @Override\n             public void onClick(View v) {\n                 NoteAddFragment fragment = new NoteAddFragment();\n-                ((MainActivity) getActivity()).getNavigation().addFragment(fragment, true);\n+                fragment.setOnCreateNote(() -> {\n+                    repository.requestNotes();\n+                });\n+                fragment.show(getActivity().getSupportFragmentManager(),\"NoteAddFragment\");\n             }\n         });\n         repository.requestNotes();\n@@ -76,11 +81,12 @@ public void initAdapter(View view) {\n \n     private void startNotesDetailActivity(String index) {\n         NotesDetailFragment fragment = NotesDetailFragment.newInstance(index);\n-        ((MainActivity) getActivity()).getNavigation().addFragment(fragment, true);\n+        ((MainActivity) getActivity()).getSupport().addFragment(fragment, true);\n     }\n \n     @Override\n     public void onItemClick(View view, String position) {\n+\n         startNotesDetailActivity(position);\n     }\n \n@@ -110,13 +116,15 @@ public boolean onMove(@NonNull RecyclerView recyclerView, @NonNull RecyclerView.\n \n             @Override\n             public void onSwiped(@NonNull RecyclerView.ViewHolder viewHolder, int direction) {\n-                repository.onDeleteClicked(notesListRvAdapter.getNote(viewHolder.getAdapterPosition()).id);\n+                ((MainActivity) getActivity()).getSupport().addAlertDialog(NotesFragment.this, notesListRvAdapter.getNote(viewHolder.getAdapterPosition()).id);\n             }\n         });\n         itemTouchHelper.attachToRecyclerView(recyclerView);\n     }\n \n-    ;\n+    public void deleteItem (String id){\n+        repository.onDeleteClicked(id);\n+    }\n \n \n }"
  },
  {
    "sha": "23549b084bc344603276502ec34f78c1759be667",
    "filename": "app/src/main/java/com/example/notesappdb/getNotes/OnCreateNote.java",
    "status": "added",
    "additions": 7,
    "deletions": 0,
    "changes": 7,
    "blob_url": "https://github.com/RelinDmitrii/NotesAppDB/blob/7471f36157421f4ee3f19bcc57f9867dbbb46022/app/src/main/java/com/example/notesappdb/getNotes/OnCreateNote.java",
    "raw_url": "https://github.com/RelinDmitrii/NotesAppDB/raw/7471f36157421f4ee3f19bcc57f9867dbbb46022/app/src/main/java/com/example/notesappdb/getNotes/OnCreateNote.java",
    "contents_url": "https://api.github.com/repos/RelinDmitrii/NotesAppDB/contents/app/src/main/java/com/example/notesappdb/getNotes/OnCreateNote.java?ref=7471f36157421f4ee3f19bcc57f9867dbbb46022",
    "patch": "@@ -0,0 +1,7 @@\n+package com.example.notesappdb.getNotes;\n+\n+public interface OnCreateNote {\n+\n+    public void onCreateNote();\n+\n+}"
  },
  {
    "sha": "d2e8543fd032e098bbcb776b025e220a4a447389",
    "filename": "app/src/main/res/layout/fragment_note_edit.xml",
    "status": "modified",
    "additions": 7,
    "deletions": 6,
    "changes": 13,
    "blob_url": "https://github.com/RelinDmitrii/NotesAppDB/blob/7471f36157421f4ee3f19bcc57f9867dbbb46022/app/src/main/res/layout/fragment_note_edit.xml",
    "raw_url": "https://github.com/RelinDmitrii/NotesAppDB/raw/7471f36157421f4ee3f19bcc57f9867dbbb46022/app/src/main/res/layout/fragment_note_edit.xml",
    "contents_url": "https://api.github.com/repos/RelinDmitrii/NotesAppDB/contents/app/src/main/res/layout/fragment_note_edit.xml?ref=7471f36157421f4ee3f19bcc57f9867dbbb46022",
    "patch": "@@ -2,29 +2,30 @@\n <LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n     xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n     android:id=\"@+id/note_edit_fragment\"\n-    android:layout_width=\"match_parent\"\n-    android:layout_height=\"match_parent\"\n+    android:layout_width=\"300dp\"\n+    android:layout_height=\"wrap_content\"\n     android:orientation=\"vertical\">\n \n \n     <EditText\n         android:id=\"@+id/et_edit_fragment_title\"\n         android:layout_width=\"match_parent\"\n         android:layout_height=\"80dp\"\n-        android:gravity=\"center\" />\n-\n-\n+        android:ems=\"20\"\n+        android:gravity=\"center\"/>\n \n     <TextView\n         android:id=\"@+id/tv_edit_fragment_data\"\n         android:layout_width=\"match_parent\"\n         android:layout_height=\"40dp\"\n+        android:ems=\"20\"\n         android:gravity=\"end\" />\n \n     <EditText\n         android:id=\"@+id/et_edit_fragment_description\"\n         android:layout_width=\"match_parent\"\n-        android:layout_height=\"350dp\"\n+        android:layout_height=\"wrap_content\"\n+        android:ems=\"20\"\n         android:gravity=\"start\" />\n \n "
  },
  {
    "sha": "eed07a59f6b9fbeea6dee86cca040715cd97c1f2",
    "filename": "app/src/main/res/values/strings.xml",
    "status": "modified",
    "additions": 3,
    "deletions": 0,
    "changes": 3,
    "blob_url": "https://github.com/RelinDmitrii/NotesAppDB/blob/7471f36157421f4ee3f19bcc57f9867dbbb46022/app/src/main/res/values/strings.xml",
    "raw_url": "https://github.com/RelinDmitrii/NotesAppDB/raw/7471f36157421f4ee3f19bcc57f9867dbbb46022/app/src/main/res/values/strings.xml",
    "contents_url": "https://api.github.com/repos/RelinDmitrii/NotesAppDB/contents/app/src/main/res/values/strings.xml?ref=7471f36157421f4ee3f19bcc57f9867dbbb46022",
    "patch": "@@ -22,4 +22,7 @@\n     <string name=\"text_in_about_fragment\">Автор данного приложения решил не упоминать свое имя)))</string>\n     <string name=\"sign_out\">Выйти</string>\n     <string name=\"continue_\">Продолжить…</string>\n+    <string name=\"exclamation\">Удалить заметку?</string>\n+    <string name=\"buttonYes\">Да</string>\n+    <string name=\"deleteNote\">УДалить заметку</string>\n </resources>\n\\ No newline at end of file"
  }
]
