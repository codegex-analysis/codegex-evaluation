[
  {
    "sha": "800ba5e3bf703b710688259b0cfdbb15fd611984",
    "filename": "core/src/main/java/com/adobe/aem/commons/assetshare/components/actions/downloadspanel/DownloadsPanel.java",
    "status": "added",
    "additions": 71,
    "deletions": 0,
    "changes": 71,
    "blob_url": "https://github.com/Adobe-Marketing-Cloud/asset-share-commons/blob/105ba8bfb96c4c4af812f7485e0d04c5f3b102b9/core/src/main/java/com/adobe/aem/commons/assetshare/components/actions/downloadspanel/DownloadsPanel.java",
    "raw_url": "https://github.com/Adobe-Marketing-Cloud/asset-share-commons/raw/105ba8bfb96c4c4af812f7485e0d04c5f3b102b9/core/src/main/java/com/adobe/aem/commons/assetshare/components/actions/downloadspanel/DownloadsPanel.java",
    "contents_url": "https://api.github.com/repos/Adobe-Marketing-Cloud/asset-share-commons/contents/core/src/main/java/com/adobe/aem/commons/assetshare/components/actions/downloadspanel/DownloadsPanel.java?ref=105ba8bfb96c4c4af812f7485e0d04c5f3b102b9",
    "patch": "@@ -0,0 +1,71 @@\n+package com.adobe.aem.commons.assetshare.components.actions.downloadspanel;\n+\n+import org.apache.commons.io.FileUtils;\n+import org.osgi.annotation.versioning.ProviderType;\n+\n+import java.util.Collection;\n+import java.util.Collections;\n+import java.util.List;\n+\n+@ProviderType\n+public interface DownloadsPanel {\n+\n+\tdefault List<DownloadStatus> getDownloadStatus() {\n+\t\treturn Collections.EMPTY_LIST;\n+\t}\n+\n+\tclass DownloadStatus {\n+\t\tprivate final String url;\n+\t\tprivate final String downloadId;\n+\t\tprivate final int progress;\n+\t\tprivate final int totalCount;\n+\t\tprivate final String status;\n+\t\tprivate final long size;\n+\t\tprivate final String name;\n+\t\tprivate final Collection<String> assets;\n+\n+\t\tpublic DownloadStatus(String name, String url, long size, String downloadId, int downloadprogress,\n+\t\t\t\tString status, int totalCount, Collection<String> assets) {\n+\t\t\tthis.name = name;\n+\t\t\tthis.url = url;\n+\t\t\tthis.status = status;\n+\t\t\tthis.size = size;\n+\t\t\tthis.progress = downloadprogress;\n+\t\t\tthis.downloadId = downloadId;\n+\t\t\tthis.totalCount = totalCount;\n+\t\t\tthis.assets = assets;\n+\t\t}\n+\n+\t\tpublic Collection<String> getAssets() {\n+\t\t\treturn assets;\n+\t\t}\n+\n+\t\tpublic String getName() {\n+\t\t\treturn name;\n+\t\t}\n+\n+\t\tpublic int getTotalCount() {\n+\t\t\treturn totalCount;\n+\t\t}\n+\n+\t\tpublic String getUrl() {\n+\t\t\treturn url;\n+\t\t}\n+\n+\t\tpublic String getDownloadId() {\n+\t\t\treturn downloadId;\n+\t\t}\n+\n+\t\tpublic int getProgress() {\n+\t\t\treturn progress;\n+\t\t}\n+\n+\t\tpublic String getStatus() {\n+\t\t\treturn status;\n+\t\t}\n+\n+\t\tpublic String getSize() {\n+\t\t\treturn FileUtils.byteCountToDisplaySize(size);\n+\t\t}\n+\t}\n+}"
  },
  {
    "sha": "fb73d63c3537323ec568e8415eb3dd982c087901",
    "filename": "core/src/main/java/com/adobe/aem/commons/assetshare/components/actions/downloadspanel/impl/DownloadsPanelImpl.java",
    "status": "added",
    "additions": 125,
    "deletions": 0,
    "changes": 125,
    "blob_url": "https://github.com/Adobe-Marketing-Cloud/asset-share-commons/blob/105ba8bfb96c4c4af812f7485e0d04c5f3b102b9/core/src/main/java/com/adobe/aem/commons/assetshare/components/actions/downloadspanel/impl/DownloadsPanelImpl.java",
    "raw_url": "https://github.com/Adobe-Marketing-Cloud/asset-share-commons/raw/105ba8bfb96c4c4af812f7485e0d04c5f3b102b9/core/src/main/java/com/adobe/aem/commons/assetshare/components/actions/downloadspanel/impl/DownloadsPanelImpl.java",
    "contents_url": "https://api.github.com/repos/Adobe-Marketing-Cloud/asset-share-commons/contents/core/src/main/java/com/adobe/aem/commons/assetshare/components/actions/downloadspanel/impl/DownloadsPanelImpl.java?ref=105ba8bfb96c4c4af812f7485e0d04c5f3b102b9",
    "patch": "@@ -0,0 +1,125 @@\n+package com.adobe.aem.commons.assetshare.components.actions.downloadspanel.impl;\n+\n+import com.adobe.aem.commons.assetshare.components.actions.ActionHelper;\n+import com.adobe.aem.commons.assetshare.components.actions.downloadspanel.DownloadsPanel;\n+import com.adobe.aem.commons.assetshare.content.async.download.AsyncDownload;\n+import com.adobe.cq.dam.download.api.DownloadArtifact;\n+import com.adobe.cq.dam.download.api.DownloadException;\n+import com.adobe.cq.dam.download.api.DownloadProgress;\n+import com.day.cq.wcm.api.WCMMode;\n+\n+import org.apache.sling.api.SlingHttpServletRequest;\n+import org.apache.sling.api.resource.ResourceResolver;\n+import org.apache.sling.models.annotations.Model;\n+import org.apache.sling.models.annotations.Required;\n+import org.apache.sling.models.annotations.injectorspecific.OSGiService;\n+import org.apache.sling.models.annotations.injectorspecific.Self;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+import javax.annotation.PostConstruct;\n+import java.util.ArrayList;\n+import java.util.Collection;\n+import java.util.Collections;\n+import java.util.List;\n+\n+@Model(adaptables = { SlingHttpServletRequest.class }, adapters = { DownloadsPanel.class })\n+public class DownloadsPanelImpl implements DownloadsPanel {\n+\n+\tprivate static final Logger log = LoggerFactory.getLogger(DownloadsPanelImpl.class);\n+\t\n+\tprivate static final String LABEL_PROCESSING = \"Processing\";\n+\tprivate static final String LABEL_TIMESTAMP_ZIP = \"timestamp.zip\";\n+\n+\t@Self\n+\t@Required\n+\tprivate SlingHttpServletRequest request;\n+\n+\t@OSGiService\n+\tprivate ActionHelper actionHelper;\n+\n+\t@OSGiService\n+\tprivate AsyncDownload asyncDownload;\n+\n+\tprivate Collection<String> paths = new ArrayList<>();\n+\tprivate String[] downloadIds = null;\n+\tprotected List<DownloadStatus> downloadStatusList = null;\n+\n+\t@PostConstruct\n+\tprotected void init() {\n+\t\ttry {\n+\t\t\tString requestDLs = request.getParameter(\"downloadIds\");\n+\t\t\tif (requestDLs != null) {\n+\t\t\t\tdownloadIds = requestDLs.split(\",\");\n+\t\t\t}\n+\t\t} catch (Exception e) {\n+\t\t\tlog.error(\"Error While processing Async download \", e);\n+\t\t}\n+\t}\n+\n+\t@Override\n+\tpublic List<DownloadStatus> getDownloadStatus() {\n+\t\tdownloadStatusList = new ArrayList<>();\n+\n+\t\ttry {\n+\t\t\tif (downloadIds != null) {\n+\t\t\t\tfor (String downloadId : downloadIds) {\n+\t\t\t\t\tDownloadStatus downloadStatus = getDownloadStatusByID(request.getResourceResolver(), downloadId);\n+\t\t\t\t\tdownloadStatusList.add(downloadStatus);\n+\t\t\t\t}\n+\t\t\t} else if (!WCMMode.DISABLED.equals(WCMMode.fromRequest(request))) {\n+\t\t\t\t\tdownloadStatusList = getPlaceholderDownload();\n+\t\t\t}\n+\t\t} catch (Exception e) {\n+\t\t\tlog.error(\"Error while processing downloads info\", e);\n+\t\t}\n+\n+\t\treturn Collections.unmodifiableList(downloadStatusList);\n+\t}\n+\t\n+\tprivate List<DownloadStatus> getPlaceholderDownload(){\n+\t\tdownloadStatusList = new ArrayList<>();\n+\t\tDownloadStatus downloadPlaceholderStatus = getPlaceholderDownloadStatus();\n+\t\tdownloadStatusList.add(downloadPlaceholderStatus);\n+\t\t\n+\t\treturn downloadStatusList;\n+\t}\n+\n+\tprivate DownloadStatus getDownloadStatusByID(ResourceResolver resourceResolver, String downloadId)\n+\t\t\tthrows DownloadException {\n+\n+\t\tDownloadProgress progress = asyncDownload.getDownloadStatus(resourceResolver, downloadId);\n+\t\tDownloadStatus downloadStatus = null;\n+\t\tDownloadArtifact downloadArtifact = getDownloadArtifact(progress);\n+\n+\t\tif (downloadArtifact != null) {\n+\t\t\tdownloadStatus = new DownloadStatus(downloadArtifact.getName(), downloadArtifact.getBinaryURI().toString(),\n+\t\t\t\t\tprogress.getTotalSize(), downloadId, progress.getProgress(), progress.getStatus().toString(),\n+\t\t\t\t\tprogress.getTotalCount(), downloadArtifact.getSuccesses());\n+\t\t} else {\n+\t\t\tdownloadStatus = new DownloadStatus(LABEL_PROCESSING, \"\", 0, downloadId, progress.getProgress(),\n+\t\t\t\t\tprogress.getStatus().toString(), progress.getTotalCount(), null);\n+\t\t}\n+\n+\t\treturn downloadStatus;\n+\t}\n+\t\n+\n+\tpublic final DownloadStatus getPlaceholderDownloadStatus() {\n+\t\tDownloadStatus placeHolderDownloadStatus = null;\n+\t\tplaceHolderDownloadStatus = new DownloadStatus(LABEL_TIMESTAMP_ZIP, \"\", 0, \"\", 0, \"Status\", 0, null);\n+\t\treturn placeHolderDownloadStatus;\n+\t}\n+\n+\tprivate DownloadArtifact getDownloadArtifact(DownloadProgress progress) {\n+\t\tDownloadArtifact returningArtifact = null;\n+\t\t// retrieve successfully generated URIs\n+\t\tfor (DownloadArtifact artifact : progress.getArtifacts()) {\n+\t\t\tif (artifact.getBinaryURI() != null) {\n+\t\t\t\treturningArtifact = artifact;\n+\t\t\t\tbreak;\n+\t\t\t}\n+\t\t}\n+\t\treturn returningArtifact;\n+\t}\n+\n+}\n\\ No newline at end of file"
  },
  {
    "sha": "7d5ace60f2eb820c44cc0f90e4adeec3589e821e",
    "filename": "core/src/main/java/com/adobe/aem/commons/assetshare/components/actions/downloadspanel/package-info.java",
    "status": "added",
    "additions": 23,
    "deletions": 0,
    "changes": 23,
    "blob_url": "https://github.com/Adobe-Marketing-Cloud/asset-share-commons/blob/105ba8bfb96c4c4af812f7485e0d04c5f3b102b9/core/src/main/java/com/adobe/aem/commons/assetshare/components/actions/downloadspanel/package-info.java",
    "raw_url": "https://github.com/Adobe-Marketing-Cloud/asset-share-commons/raw/105ba8bfb96c4c4af812f7485e0d04c5f3b102b9/core/src/main/java/com/adobe/aem/commons/assetshare/components/actions/downloadspanel/package-info.java",
    "contents_url": "https://api.github.com/repos/Adobe-Marketing-Cloud/asset-share-commons/contents/core/src/main/java/com/adobe/aem/commons/assetshare/components/actions/downloadspanel/package-info.java?ref=105ba8bfb96c4c4af812f7485e0d04c5f3b102b9",
    "patch": "@@ -0,0 +1,23 @@\n+/*\n+ * Asset Share Commons\n+ *\n+ * Copyright (C) 2017 Adobe\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *       http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ *\n+ */\n+\n+@Version(\"1.0.0\")\n+package com.adobe.aem.commons.assetshare.components.actions.downloadspanel;\n+\n+import org.osgi.annotation.versioning.Version;\n\\ No newline at end of file"
  },
  {
    "sha": "84d520eabcda7cb6d2860f4bc233149b5c0eb9fc",
    "filename": "pom.xml",
    "status": "modified",
    "additions": 6,
    "deletions": 0,
    "changes": 6,
    "blob_url": "https://github.com/Adobe-Marketing-Cloud/asset-share-commons/blob/105ba8bfb96c4c4af812f7485e0d04c5f3b102b9/pom.xml",
    "raw_url": "https://github.com/Adobe-Marketing-Cloud/asset-share-commons/raw/105ba8bfb96c4c4af812f7485e0d04c5f3b102b9/pom.xml",
    "contents_url": "https://api.github.com/repos/Adobe-Marketing-Cloud/asset-share-commons/contents/pom.xml?ref=105ba8bfb96c4c4af812f7485e0d04c5f3b102b9",
    "patch": "@@ -731,6 +731,12 @@\n                 <version>${aem.sdk.api}</version>\n                 <scope>provided</scope>\n             </dependency>\n+            <dependency>\n+                <groupId>com.adobe.aem</groupId>\n+                <artifactId>aem-sdk-api</artifactId>\n+                <version>2021.2.4914.20210211T090746Z-210128</version>\n+                <scope>provided</scope>\n+            </dependency>\n             <dependency>\n                 <groupId>com.adobe.cq</groupId>\n                 <artifactId>core.wcm.components.core</artifactId>"
  },
  {
    "sha": "cc2acd5b1fce211abaaad7e08934deec714ec959",
    "filename": "ui.apps/src/main/content/jcr_root/apps/asset-share-commons/components/modals/downloads-panel/.content.xml",
    "status": "added",
    "additions": 8,
    "deletions": 0,
    "changes": 8,
    "blob_url": "https://github.com/Adobe-Marketing-Cloud/asset-share-commons/blob/105ba8bfb96c4c4af812f7485e0d04c5f3b102b9/ui.apps/src/main/content/jcr_root/apps/asset-share-commons/components/modals/downloads-panel/.content.xml",
    "raw_url": "https://github.com/Adobe-Marketing-Cloud/asset-share-commons/raw/105ba8bfb96c4c4af812f7485e0d04c5f3b102b9/ui.apps/src/main/content/jcr_root/apps/asset-share-commons/components/modals/downloads-panel/.content.xml",
    "contents_url": "https://api.github.com/repos/Adobe-Marketing-Cloud/asset-share-commons/contents/ui.apps/src/main/content/jcr_root/apps/asset-share-commons/components/modals/downloads-panel/.content.xml?ref=105ba8bfb96c4c4af812f7485e0d04c5f3b102b9",
    "patch": "@@ -0,0 +1,8 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<jcr:root xmlns:sling=\"http://sling.apache.org/jcr/sling/1.0\" xmlns:cq=\"http://www.day.com/jcr/cq/1.0\" xmlns:jcr=\"http://www.jcp.org/jcr/1.0\"\n+    cq:icon=\"download\"\n+    jcr:description=\"Allows a user to download archive files\"\n+    jcr:primaryType=\"cq:Component\"\n+    jcr:title=\"Downloads Panel Modal\"\n+    sling:resourceSuperType=\"asset-share-commons/actions/download\"\n+    componentGroup=\"Asset Share Commons - Modals\"/>"
  },
  {
    "sha": "fc88bd41710d7aeeaa24d3c96954006de159403c",
    "filename": "ui.apps/src/main/content/jcr_root/apps/asset-share-commons/components/modals/downloads-panel/_cq_dialog/.content.xml",
    "status": "added",
    "additions": 99,
    "deletions": 0,
    "changes": 99,
    "blob_url": "https://github.com/Adobe-Marketing-Cloud/asset-share-commons/blob/105ba8bfb96c4c4af812f7485e0d04c5f3b102b9/ui.apps/src/main/content/jcr_root/apps/asset-share-commons/components/modals/downloads-panel/_cq_dialog/.content.xml",
    "raw_url": "https://github.com/Adobe-Marketing-Cloud/asset-share-commons/raw/105ba8bfb96c4c4af812f7485e0d04c5f3b102b9/ui.apps/src/main/content/jcr_root/apps/asset-share-commons/components/modals/downloads-panel/_cq_dialog/.content.xml",
    "contents_url": "https://api.github.com/repos/Adobe-Marketing-Cloud/asset-share-commons/contents/ui.apps/src/main/content/jcr_root/apps/asset-share-commons/components/modals/downloads-panel/_cq_dialog/.content.xml?ref=105ba8bfb96c4c4af812f7485e0d04c5f3b102b9",
    "patch": "@@ -0,0 +1,99 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<jcr:root xmlns:sling=\"http://sling.apache.org/jcr/sling/1.0\" xmlns:granite=\"http://www.adobe.com/jcr/granite/1.0\" xmlns:cq=\"http://www.day.com/jcr/cq/1.0\" xmlns:jcr=\"http://www.jcp.org/jcr/1.0\" xmlns:nt=\"http://www.jcp.org/jcr/nt/1.0\"\n+    jcr:primaryType=\"nt:unstructured\"\n+    jcr:title=\"Downloads Panel Modal\"\n+    sling:resourceType=\"cq/gui/components/authoring/dialog\"\n+    extraClientlibs=\"[asset-share-commons.author.dialog.legacy]\"\n+    helpPath=\"https://adobe-marketing-cloud.github.io/asset-share-commons/pages/actions/download/\">\n+    <content\n+        granite:class=\"asset-share-commons__dialog--legacy-support\"\n+        jcr:primaryType=\"nt:unstructured\"\n+        sling:resourceType=\"granite/ui/components/coral/foundation/container\">\n+        <items jcr:primaryType=\"nt:unstructured\">\n+            <tabs\n+                jcr:primaryType=\"nt:unstructured\"\n+                sling:resourceType=\"granite/ui/components/coral/foundation/tabs\"\n+                maxmized=\"{Boolean}true\">\n+                <items jcr:primaryType=\"nt:unstructured\">\n+                    <tab-1\n+                        jcr:primaryType=\"nt:unstructured\"\n+                        jcr:title=\"Labels\"\n+                        sling:resourceType=\"granite/ui/components/coral/foundation/fixedcolumns\"\n+                        margin=\"{Boolean}true\">\n+                        <items jcr:primaryType=\"nt:unstructured\">\n+                            <column\n+                                jcr:primaryType=\"nt:unstructured\"\n+                                sling:resourceType=\"granite/ui/components/coral/foundation/container\">\n+                                <items jcr:primaryType=\"nt:unstructured\">\n+                                    <modal-title\n+                                        jcr:primaryType=\"nt:unstructured\"\n+                                        sling:resourceType=\"granite/ui/components/coral/foundation/form/textfield\"\n+                                        emptyText=\"Download\"\n+                                        fieldLabel=\"Modal Title\"\n+                                        name=\"./modalTitle\"\n+                                        required=\"{Boolean}true\"/>\n+                                    <asset-list-title\n+                                        jcr:primaryType=\"nt:unstructured\"\n+                                        sling:resourceType=\"granite/ui/components/coral/foundation/form/textfield\"\n+                                        emptyText=\"Assets\"\n+                                        fieldLabel=\"Asset List Title\"\n+                                        name=\"./assetListTitle\"\n+                                        required=\"{Boolean}true\"/>\n+                                    <download-zip\n+                                        jcr:primaryType=\"nt:unstructured\"\n+                                        sling:resourceType=\"granite/ui/components/coral/foundation/form/textfield\"\n+                                        emptyText=\"Download Zip File\"\n+                                        fieldLabel=\"Download Zip Label\"\n+                                        name=\"./downloadZip\"\n+                                        required=\"{Boolean}true\"/>\n+                                    <file-size\n+                                        jcr:primaryType=\"nt:unstructured\"\n+                                        sling:resourceType=\"granite/ui/components/coral/foundation/form/textfield\"\n+                                        emptyText=\"File Size\"\n+                                        fieldLabel=\"File Size Label\"\n+                                        name=\"./fileSize\"\n+                                        required=\"{Boolean}true\"/>\n+                                    <assets-count\n+                                        jcr:primaryType=\"nt:unstructured\"\n+                                        sling:resourceType=\"granite/ui/components/coral/foundation/form/textfield\"\n+                                        emptyText=\"Total Assets Count\"\n+                                        fieldLabel=\"Asset Count Label\"\n+                                        name=\"./assetsCount\"\n+                                        required=\"{Boolean}true\"/>\n+                                    <status\n+                                        jcr:primaryType=\"nt:unstructured\"\n+                                        sling:resourceType=\"granite/ui/components/coral/foundation/form/textfield\"\n+                                        emptyText=\"Status\"\n+                                        fieldLabel=\"Status Label\"\n+                                        name=\"./status\"\n+                                        required=\"{Boolean}true\"/>\n+                                    <clear\n+                                        jcr:primaryType=\"nt:unstructured\"\n+                                        sling:resourceType=\"granite/ui/components/coral/foundation/form/textfield\"\n+                                        emptyText=\"Clear\"\n+                                        fieldLabel=\"Clear Label\"\n+                                        name=\"./clear\"\n+                                        required=\"{Boolean}true\"/>\n+                                    <progress\n+                                        jcr:primaryType=\"nt:unstructured\"\n+                                        sling:resourceType=\"granite/ui/components/coral/foundation/form/textfield\"\n+                                        emptyText=\"Progress\"\n+                                        fieldLabel=\"Progress Label\"\n+                                        name=\"./progress\"\n+                                        required=\"{Boolean}true\"/>\n+                                    <no-content\n+                                        jcr:primaryType=\"nt:unstructured\"\n+                                        sling:resourceType=\"granite/ui/components/coral/foundation/form/textfield\"\n+                                        emptyText=\"Sorry, could not find any downloadable files \"\n+                                        fieldLabel=\"No Content Message\"\n+                                        name=\"./noContentMessage\"\n+                                        required=\"{Boolean}true\"/>\n+                                </items>\n+                            </column>\n+                        </items>\n+                    </tab-1>\n+                </items>\n+            </tabs>\n+        </items>\n+    </content>\n+</jcr:root>"
  },
  {
    "sha": "d2a28fbc1887961dc1bbd91362fb171efb42bb3b",
    "filename": "ui.apps/src/main/content/jcr_root/apps/asset-share-commons/components/modals/downloads-panel/_cq_htmlTag/.content.xml",
    "status": "added",
    "additions": 5,
    "deletions": 0,
    "changes": 5,
    "blob_url": "https://github.com/Adobe-Marketing-Cloud/asset-share-commons/blob/105ba8bfb96c4c4af812f7485e0d04c5f3b102b9/ui.apps/src/main/content/jcr_root/apps/asset-share-commons/components/modals/downloads-panel/_cq_htmlTag/.content.xml",
    "raw_url": "https://github.com/Adobe-Marketing-Cloud/asset-share-commons/raw/105ba8bfb96c4c4af812f7485e0d04c5f3b102b9/ui.apps/src/main/content/jcr_root/apps/asset-share-commons/components/modals/downloads-panel/_cq_htmlTag/.content.xml",
    "contents_url": "https://api.github.com/repos/Adobe-Marketing-Cloud/asset-share-commons/contents/ui.apps/src/main/content/jcr_root/apps/asset-share-commons/components/modals/downloads-panel/_cq_htmlTag/.content.xml?ref=105ba8bfb96c4c4af812f7485e0d04c5f3b102b9",
    "patch": "@@ -0,0 +1,5 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<jcr:root xmlns:cq=\"http://www.day.com/jcr/cq/1.0\" xmlns:jcr=\"http://www.jcp.org/jcr/1.0\" xmlns:nt=\"http://www.jcp.org/jcr/nt/1.0\"\n+    cq:tagName=\"div\"\n+    jcr:primaryType=\"nt:unstructured\"\n+    class=\"cmp cmp-modal-downloads-panel\"/>"
  },
  {
    "sha": "31cd25e778ee38718d82178f2cd248934e05897f",
    "filename": "ui.apps/src/main/content/jcr_root/apps/asset-share-commons/components/modals/downloads-panel/_cq_template/.content.xml",
    "status": "added",
    "additions": 34,
    "deletions": 0,
    "changes": 34,
    "blob_url": "https://github.com/Adobe-Marketing-Cloud/asset-share-commons/blob/105ba8bfb96c4c4af812f7485e0d04c5f3b102b9/ui.apps/src/main/content/jcr_root/apps/asset-share-commons/components/modals/downloads-panel/_cq_template/.content.xml",
    "raw_url": "https://github.com/Adobe-Marketing-Cloud/asset-share-commons/raw/105ba8bfb96c4c4af812f7485e0d04c5f3b102b9/ui.apps/src/main/content/jcr_root/apps/asset-share-commons/components/modals/downloads-panel/_cq_template/.content.xml",
    "contents_url": "https://api.github.com/repos/Adobe-Marketing-Cloud/asset-share-commons/contents/ui.apps/src/main/content/jcr_root/apps/asset-share-commons/components/modals/downloads-panel/_cq_template/.content.xml?ref=105ba8bfb96c4c4af812f7485e0d04c5f3b102b9",
    "patch": "@@ -0,0 +1,34 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<jcr:root xmlns:cq=\"http://www.day.com/jcr/cq/1.0\" xmlns:jcr=\"http://www.jcp.org/jcr/1.0\" xmlns:nt=\"http://www.jcp.org/jcr/nt/1.0\"\n+    jcr:primaryType=\"nt:unstructured\"\n+    assetListTitle=\"Assets\"\n+    cancelButton=\"Cancel\"\n+    downloadButton=\"Download\"\n+    downloadOptionsTitle=\"Download options\"\n+    fileName=\"Assets\"\n+    maxContentSizeMessage=\"Maximum content size of download exceeded.\"\n+    modalTitle=\"Download\"\n+    noContentFileName=\"NO DOWNLOADABLE RENDITIONS.txt\"\n+    noContentMessage=\"Sorry, we could not find any downloadable files for the selected assets/renditions combinations.\"\n+    selectAllLabel=\"Select all\">\n+    <asset-renditions-groups jcr:primaryType=\"nt:unstructured\">\n+        <items jcr:primaryType=\"nt:unstructured\">\n+            <item0\n+                jcr:primaryType=\"nt:unstructured\"\n+                assetRenditionsGroupTitle=\"Image renditions\">\n+                <asset-renditions jcr:primaryType=\"nt:unstructured\">\n+                    <items jcr:primaryType=\"nt:unstructured\">\n+                        <item0\n+                            jcr:primaryType=\"nt:unstructured\"\n+                            text=\"Web\"\n+                            value=\"web\"/>\n+                        <item1\n+                            jcr:primaryType=\"nt:unstructured\"\n+                            text=\"Original\"\n+                            value=\"original\"/>\n+                    </items>\n+                </asset-renditions>\n+            </item0>\n+        </items>\n+    </asset-renditions-groups>\n+</jcr:root>"
  },
  {
    "sha": "491392d5391e676bf44a39606c61657199cad3f0",
    "filename": "ui.apps/src/main/content/jcr_root/apps/asset-share-commons/components/modals/downloads-panel/clientlibs/.content.xml",
    "status": "added",
    "additions": 3,
    "deletions": 0,
    "changes": 3,
    "blob_url": "https://github.com/Adobe-Marketing-Cloud/asset-share-commons/blob/105ba8bfb96c4c4af812f7485e0d04c5f3b102b9/ui.apps/src/main/content/jcr_root/apps/asset-share-commons/components/modals/downloads-panel/clientlibs/.content.xml",
    "raw_url": "https://github.com/Adobe-Marketing-Cloud/asset-share-commons/raw/105ba8bfb96c4c4af812f7485e0d04c5f3b102b9/ui.apps/src/main/content/jcr_root/apps/asset-share-commons/components/modals/downloads-panel/clientlibs/.content.xml",
    "contents_url": "https://api.github.com/repos/Adobe-Marketing-Cloud/asset-share-commons/contents/ui.apps/src/main/content/jcr_root/apps/asset-share-commons/components/modals/downloads-panel/clientlibs/.content.xml?ref=105ba8bfb96c4c4af812f7485e0d04c5f3b102b9",
    "patch": "@@ -0,0 +1,3 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<jcr:root xmlns:sling=\"http://sling.apache.org/jcr/sling/1.0\" xmlns:jcr=\"http://www.jcp.org/jcr/1.0\"\n+    jcr:primaryType=\"sling:Folder\"/>"
  },
  {
    "sha": "13d1abe766bd9f870119afca07c03a92812da8ab",
    "filename": "ui.apps/src/main/content/jcr_root/apps/asset-share-commons/components/modals/downloads-panel/clientlibs/site/.content.xml",
    "status": "added",
    "additions": 6,
    "deletions": 0,
    "changes": 6,
    "blob_url": "https://github.com/Adobe-Marketing-Cloud/asset-share-commons/blob/105ba8bfb96c4c4af812f7485e0d04c5f3b102b9/ui.apps/src/main/content/jcr_root/apps/asset-share-commons/components/modals/downloads-panel/clientlibs/site/.content.xml",
    "raw_url": "https://github.com/Adobe-Marketing-Cloud/asset-share-commons/raw/105ba8bfb96c4c4af812f7485e0d04c5f3b102b9/ui.apps/src/main/content/jcr_root/apps/asset-share-commons/components/modals/downloads-panel/clientlibs/site/.content.xml",
    "contents_url": "https://api.github.com/repos/Adobe-Marketing-Cloud/asset-share-commons/contents/ui.apps/src/main/content/jcr_root/apps/asset-share-commons/components/modals/downloads-panel/clientlibs/site/.content.xml?ref=105ba8bfb96c4c4af812f7485e0d04c5f3b102b9",
    "patch": "@@ -0,0 +1,6 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<jcr:root xmlns:cq=\"http://www.day.com/jcr/cq/1.0\" xmlns:jcr=\"http://www.jcp.org/jcr/1.0\"\n+    jcr:primaryType=\"cq:ClientLibraryFolder\"\n+    categories=\"[asset-share-commons.site.semantic-ui.components,asset-share-commons.site.semantic-ui.components.modals.download]\"\n+    dependencies=\"[asset-share-commons.common,asset-share-commons.site.semantic-ui.modal,asset-share-commons.site.semantic-ui.components.modals.license]\"\n+    jsProcessor=\"[min:gcc,default:none]\"/>"
  },
  {
    "sha": "9348db6601b8b083e628e3adc66ea5f2acc42a1e",
    "filename": "ui.apps/src/main/content/jcr_root/apps/asset-share-commons/components/modals/downloads-panel/clientlibs/site/css.txt",
    "status": "added",
    "additions": 3,
    "deletions": 0,
    "changes": 3,
    "blob_url": "https://github.com/Adobe-Marketing-Cloud/asset-share-commons/blob/105ba8bfb96c4c4af812f7485e0d04c5f3b102b9/ui.apps/src/main/content/jcr_root/apps/asset-share-commons/components/modals/downloads-panel/clientlibs/site/css.txt",
    "raw_url": "https://github.com/Adobe-Marketing-Cloud/asset-share-commons/raw/105ba8bfb96c4c4af812f7485e0d04c5f3b102b9/ui.apps/src/main/content/jcr_root/apps/asset-share-commons/components/modals/downloads-panel/clientlibs/site/css.txt",
    "contents_url": "https://api.github.com/repos/Adobe-Marketing-Cloud/asset-share-commons/contents/ui.apps/src/main/content/jcr_root/apps/asset-share-commons/components/modals/downloads-panel/clientlibs/site/css.txt?ref=105ba8bfb96c4c4af812f7485e0d04c5f3b102b9",
    "patch": "@@ -0,0 +1,3 @@\n+#base=less\n+\n+modal.less"
  },
  {
    "sha": "656c15e2f762b425d066bbd1cce8ea99f643e5a8",
    "filename": "ui.apps/src/main/content/jcr_root/apps/asset-share-commons/components/modals/downloads-panel/clientlibs/site/js.txt",
    "status": "added",
    "additions": 3,
    "deletions": 0,
    "changes": 3,
    "blob_url": "https://github.com/Adobe-Marketing-Cloud/asset-share-commons/blob/105ba8bfb96c4c4af812f7485e0d04c5f3b102b9/ui.apps/src/main/content/jcr_root/apps/asset-share-commons/components/modals/downloads-panel/clientlibs/site/js.txt",
    "raw_url": "https://github.com/Adobe-Marketing-Cloud/asset-share-commons/raw/105ba8bfb96c4c4af812f7485e0d04c5f3b102b9/ui.apps/src/main/content/jcr_root/apps/asset-share-commons/components/modals/downloads-panel/clientlibs/site/js.txt",
    "contents_url": "https://api.github.com/repos/Adobe-Marketing-Cloud/asset-share-commons/contents/ui.apps/src/main/content/jcr_root/apps/asset-share-commons/components/modals/downloads-panel/clientlibs/site/js.txt?ref=105ba8bfb96c4c4af812f7485e0d04c5f3b102b9",
    "patch": "@@ -0,0 +1,3 @@\n+#base=js\n+\n+downloads-panel.js\n\\ No newline at end of file"
  },
  {
    "sha": "f9533a38e768fa4b1b8673f9a30bb9b73be07074",
    "filename": "ui.apps/src/main/content/jcr_root/apps/asset-share-commons/components/modals/downloads-panel/clientlibs/site/js/downloads-panel.js",
    "status": "added",
    "additions": 102,
    "deletions": 0,
    "changes": 102,
    "blob_url": "https://github.com/Adobe-Marketing-Cloud/asset-share-commons/blob/105ba8bfb96c4c4af812f7485e0d04c5f3b102b9/ui.apps/src/main/content/jcr_root/apps/asset-share-commons/components/modals/downloads-panel/clientlibs/site/js/downloads-panel.js",
    "raw_url": "https://github.com/Adobe-Marketing-Cloud/asset-share-commons/raw/105ba8bfb96c4c4af812f7485e0d04c5f3b102b9/ui.apps/src/main/content/jcr_root/apps/asset-share-commons/components/modals/downloads-panel/clientlibs/site/js/downloads-panel.js",
    "contents_url": "https://api.github.com/repos/Adobe-Marketing-Cloud/asset-share-commons/contents/ui.apps/src/main/content/jcr_root/apps/asset-share-commons/components/modals/downloads-panel/clientlibs/site/js/downloads-panel.js?ref=105ba8bfb96c4c4af812f7485e0d04c5f3b102b9",
    "patch": "@@ -0,0 +1,102 @@\n+/*\n+ * Asset Share Commons\n+ *\n+ * Copyright [2017]  Adobe\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+/*global jQuery: false, AssetShare: false*/\n+\n+jQuery((function($, ns, semanticModal, licenseModal, downloads) {\n+\t\"use strict\";\n+\tAssetShare.SemanticUI.Modals.DownloadsPanelModal = (function() {\n+\t\tvar DOWNLOAD_PANEL_URL = ns.Data.val(\"downloads-panel-url\"), DOWNLOAD_PANEL_MODAL_ID = \"downloadspanel-modal\", DOWNLOAD_PANEL_BUTTON_ID = \"download-asset\";\n+\n+\t\tfunction getId() {\n+\t\t\treturn DOWNLOAD_PANEL_MODAL_ID;\n+\t\t}\n+\n+\t\tfunction getUrl() {\n+\t\t\treturn DOWNLOAD_PANEL_URL;\n+\t\t}\n+\n+\t\tfunction getDownloadPanel() {\n+\t\t\tvar data = getDownloadIds();\n+\t\t\tvar downloadModal = {\n+\t\t\t\t\tid : DOWNLOAD_PANEL_MODAL_ID,\n+\t\t\t\t\turl : DOWNLOAD_PANEL_URL,\n+\t\t\t\t\tdata : data,\n+\t\t\t\t\toptions : {}\n+\t\t\t};\n+\n+\t\t\treturn downloadModal;\n+\t\t}\n+\n+\t\tfunction getDownloadIds() {\n+\t\t\tvar downloadIdData = {};\n+\t\t\tdownloadIdData.downloadIds = sessionStorage.getItem(\"downloadIds\");\n+\n+\t\t\treturn downloadIdData;\n+\t\t}\n+\n+\t\tfunction refresh(e) {\n+\t\t\te.preventDefault();\n+\t\t\te.stopPropagation();\n+\t\t\tupdatePanelModal();\n+\t\t}\n+\n+\t\tfunction clear(e) {\n+\t\t\te.preventDefault();\n+\t\t\te.stopPropagation();\n+\t\t\tsessionStorage.removeItem(\"downloadIds\");\n+\t\t\tns.Elements.element(\"downloads-count\").text(0);\n+\t\t\tupdatePanelModal();\n+\t\t\tdownloads.clearDownloads();\n+\t\t}\n+\n+\t\tfunction updatePanelModal() {\n+\t\t\tvar data = getDownloadIds();\n+\t\t\t$.post(DOWNLOAD_PANEL_URL, data).then(function(htmlResponse) {\n+\t\t\t\tns.Elements.update(htmlResponse, 'downloads-update');\n+\t\t\t});\n+\t\t}\n+\n+\t\tfunction showDownloadsPanel(e) {\n+\t\t\tvar downloadPanelModal = getDownloadPanel();\n+\t\t\te.preventDefault();\n+\t\t\te.stopPropagation();\n+\t\t\tsemanticModal.show([ downloadPanelModal ]);\n+\t\t}\n+\n+\t\t/** REGISTER EVENTS WHEN DOCUMENT IS READY * */\n+\t\t$((function registerEvents() {\n+\n+\t\t\t$(\"body\").on(\"click\",\n+\t\t\t\t\tns.Elements.selector([ \"refresh-downloads\" ]), refresh);\n+\t\t\t$(\"body\").on(\"click\", ns.Elements.selector([ \"clear-downloads\" ]),\n+\t\t\t\t\tclear);\n+\t\t\t$(\"body\").on(\"click\",\n+\t\t\t\t\tns.Elements.selector([ \"show-downloadspanel\" ]),\n+\t\t\t\t\tshowDownloadsPanel);\n+\n+\t\t}()));\n+\n+\t\treturn {\n+\t\t\tid : getId,\n+\t\t\turl : getUrl,\n+\t\t\tmodal : getDownloadPanel\n+\t\t};\n+\t}());\n+}(jQuery, AssetShare, AssetShare.SemanticUI.Modal,\n+\t\tAssetShare.SemanticUI.Modals.LicenseModal, AssetShare.Downloads)));\n\\ No newline at end of file"
  },
  {
    "sha": "6a98c1aa823620a35de8941370bb05f619af7608",
    "filename": "ui.apps/src/main/content/jcr_root/apps/asset-share-commons/components/modals/downloads-panel/clientlibs/site/less/modal.less",
    "status": "added",
    "additions": 33,
    "deletions": 0,
    "changes": 33,
    "blob_url": "https://github.com/Adobe-Marketing-Cloud/asset-share-commons/blob/105ba8bfb96c4c4af812f7485e0d04c5f3b102b9/ui.apps/src/main/content/jcr_root/apps/asset-share-commons/components/modals/downloads-panel/clientlibs/site/less/modal.less",
    "raw_url": "https://github.com/Adobe-Marketing-Cloud/asset-share-commons/raw/105ba8bfb96c4c4af812f7485e0d04c5f3b102b9/ui.apps/src/main/content/jcr_root/apps/asset-share-commons/components/modals/downloads-panel/clientlibs/site/less/modal.less",
    "contents_url": "https://api.github.com/repos/Adobe-Marketing-Cloud/asset-share-commons/contents/ui.apps/src/main/content/jcr_root/apps/asset-share-commons/components/modals/downloads-panel/clientlibs/site/less/modal.less?ref=105ba8bfb96c4c4af812f7485e0d04c5f3b102b9",
    "patch": "@@ -0,0 +1,33 @@\n+/*\n+ * Asset Share Commons\n+ *\n+ * Copyright [2017]  Adobe\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+/* applies to all modals */\n+\n+.right-align{\n+float:right;\n+padding-right:10px;\n+}\n+\n+.ui.styled.accordion, .ui.styled.accordion .accordion{\n+box-shadow:0 1px 2px 0 rgb(34 36 38 / 15%), 0 0 0 1px rgb(34 36 38 / 15%)!important;\n+}\n+\n+.ui.modal .scrolling.content {\n+max-height: calc(70vh);\n+overflow: auto;\n+}\n\\ No newline at end of file"
  },
  {
    "sha": "070235c192406e482a781f4287c17b92044651a0",
    "filename": "ui.apps/src/main/content/jcr_root/apps/asset-share-commons/components/modals/downloads-panel/downloads-panel.html",
    "status": "added",
    "additions": 109,
    "deletions": 0,
    "changes": 109,
    "blob_url": "https://github.com/Adobe-Marketing-Cloud/asset-share-commons/blob/105ba8bfb96c4c4af812f7485e0d04c5f3b102b9/ui.apps/src/main/content/jcr_root/apps/asset-share-commons/components/modals/downloads-panel/downloads-panel.html",
    "raw_url": "https://github.com/Adobe-Marketing-Cloud/asset-share-commons/raw/105ba8bfb96c4c4af812f7485e0d04c5f3b102b9/ui.apps/src/main/content/jcr_root/apps/asset-share-commons/components/modals/downloads-panel/downloads-panel.html",
    "contents_url": "https://api.github.com/repos/Adobe-Marketing-Cloud/asset-share-commons/contents/ui.apps/src/main/content/jcr_root/apps/asset-share-commons/components/modals/downloads-panel/downloads-panel.html?ref=105ba8bfb96c4c4af812f7485e0d04c5f3b102b9",
    "patch": "@@ -0,0 +1,109 @@\n+<!--/*\n+  ~ Asset Share Commons\n+  ~\n+  ~ Copyright [2017]  Adobe\n+  ~\n+  ~ Licensed under the Apache License, Version 2.0 (the \"License\");\n+  ~ you may not use this file except in compliance with the License.\n+  ~ You may obtain a copy of the License at\n+  ~\n+  ~     http://www.apache.org/licenses/LICENSE-2.0\n+  ~\n+  ~ Unless required by applicable law or agreed to in writing, software\n+  ~ distributed under the License is distributed on an \"AS IS\" BASIS,\n+  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+  ~ See the License for the specific language governing permissions and\n+  ~ limitations under the License.\n+ */-->\n+\n+<sly\n+\tdata-sly-use.modelCache=\"com.adobe.aem.commons.assetshare.util.ModelCache\"\n+\tdata-sly-test.config=\"${modelCache['com.adobe.aem.commons.assetshare.configuration.Config']}\"\n+\tdata-sly-use.downloadsPanel=\"com.adobe.aem.commons.assetshare.components.actions.downloadspanel.DownloadsPanel\"\n+\tdata-sly-use.placeholderTemplate=\"core/wcm/components/commons/v1/templates.html\"></sly>\n+\n+<style data-sly-test=\"${!wccmode.disabled}\">\n+.cmp-modal-downloads-panel .ui.modal {\n+\tposition: relative !important;\n+\tdisplay: block !important;;\n+\ttop: 0 !important;;\n+}\n+</style>\n+<div data-asset-share-id=\"downloadspanel-modal\" id=\"downloads-panel\"\n+\tdata-asset-share-status=\"${downloadsPanel.status}\"\n+\tdata-asset-share-update-method=\"replace\"\n+\tdata-asset-share-update-when=\"downloads-update\"\n+\tclass=\"ui long modal cmp-modal-downloadPanel--wrapper cmp-modal\">\n+\t<i class=\"close icon\"></i>\n+\t<div class=\"header\">\n+\t\t${properties['modalTitle']} <span\n+\t\t\tdata-sly-test=\"${downloadsPanel.downloadStatus.size > 0}\"\n+\t\t\tclass=\"right-align\" data-asset-share-id=\"refresh-downloads\"> <a\n+\t\t\thref=\"\">Refresh</a>\n+\t\t</span> <span class=\"right-align\" data-asset-share-id=\"clear-downloads\">\n+\t\t\t<a href=\"\">${properties['clear']}</a>\n+\t\t</span>\n+\n+\t</div>\n+\t<div class=\"cmp-content scrolling content\">\n+\t\t<!-- The Modal -->\n+\t\t<div id=\"FileDownloadsPanelModal\" class=\"downloadsPanelModal\">\n+\t\t\t<!-- Modal content -->\n+\t\t\t<div class=\"modal-content\">\n+\t\t\t\t<div id=\"downloadsPanel\" class=\"container\">\n+\t\t\t\t\t<!--<span class=\"close\">&times;</span>-->\n+\t\t\t\t\t<div class=\"ui container\">\n+\t\t\t\t\t\t<div class=\"ui styled accordion\" style=\"width: 100%;\"\n+\t\t\t\t\t\t\tdata-sly-test=\"${downloadsPanel.downloadStatus.size > 0}\">\n+\t\t\t\t\t\t\t<div\n+\t\t\t\t\t\t\t\tdata-sly-list.downloadStatus=\"${downloadsPanel.downloadStatus}\">\n+\t\t\t\t\t\t\t\t<div class=\"title\">\n+\t\t\t\t\t\t\t\t\t<i class=\"file archive icon\"></i> ${downloadStatus.name} <span\n+\t\t\t\t\t\t\t\t\t\tclass=\"right-align\"> ${properties['progress']} -\n+\t\t\t\t\t\t\t\t\t\t${downloadStatus.progress}% </span>\n+\t\t\t\t\t\t\t\t</div>\n+\t\t\t\t\t\t\t\t<div>\n+\t\t\t\t\t\t\t\t\t<div class=\"content\">\n+\n+\t\t\t\t\t\t\t\t\t\t<div data-asset-share-id=\"download-archive\"\n+\t\t\t\t\t\t\t\t\t\t\tid=\"${downloadStatus.downloadId}\"\n+\t\t\t\t\t\t\t\t\t\t\tdata-sly-test=\"${downloadStatus.status == 'SUCCESSFUL'}\">\n+\t\t\t\t\t\t\t\t\t\t\t<a href=\"${downloadStatus.url}\">\n+\t\t\t\t\t\t\t\t\t\t\t\t${properties['downloadZip']}</a><br>\n+\t\t\t\t\t\t\t\t\t\t\t${properties['fileSize']}: ${downloadStatus.size}<br>\n+\t\t\t\t\t\t\t\t\t\t</div>\n+\t\t\t\t\t\t\t\t\t\t${properties['assetsCount']}: ${downloadStatus.totalCount}<br>\n+\t\t\t\t\t\t\t\t\t\t${properties['status']}: ${downloadStatus.status}<br>\n+\t\t\t\t\t\t\t\t\t\t<div class=\"accordion\">\n+\t\t\t\t\t\t\t\t\t\t\t<div class=\" title\">\n+\t\t\t\t\t\t\t\t\t\t\t\t<i class=\"dropdown icon\"></i>\n+\t\t\t\t\t\t\t\t\t\t\t\t${properties['assetListTitle']}\n+\t\t\t\t\t\t\t\t\t\t\t</div>\n+\t\t\t\t\t\t\t\t\t\t\t<div class=\" content\">\n+\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"ui ordered list\"\n+\t\t\t\t\t\t\t\t\t\t\t\t\tdata-sly-list.downloadedAsset=\"${downloadStatus.assets}\">\n+\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"item \">\n+\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p>\n+\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t${downloadedAsset}<br>\n+\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n+\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n+\t\t\t\t\t\t\t\t\t\t\t\t</div>\n+\t\t\t\t\t\t\t\t\t\t\t</div>\n+\t\t\t\t\t\t\t\t\t\t</div>\n+\n+\t\t\t\t\t\t\t\t\t</div>\n+\t\t\t\t\t\t\t\t</div>\n+\n+\t\t\t\t\t\t\t</div>\n+\t\t\t\t\t\t</div>\n+\t\t\t\t\t</div>\n+\t\t\t\t</div>\n+\t\t\t</div>\n+\t\t\t<p data-sly-test=\"${downloadsPanel.downloadStatus.size == 0}\">\n+\t\t\t\t${properties['noContentMessage']}</p>\n+\t\t</div>\n+\t</div>\n+\t<script>\n+\t\t$('.ui.accordion').accordion();\n+\t</script>\n+</div>\n\\ No newline at end of file"
  },
  {
    "sha": "dc801efa4c873165f70c29481603f1c073c6d5b0",
    "filename": "ui.apps/src/main/content/jcr_root/apps/asset-share-commons/components/structure/header/header.html",
    "status": "modified",
    "additions": 10,
    "deletions": 1,
    "changes": 11,
    "blob_url": "https://github.com/Adobe-Marketing-Cloud/asset-share-commons/blob/105ba8bfb96c4c4af812f7485e0d04c5f3b102b9/ui.apps/src/main/content/jcr_root/apps/asset-share-commons/components/structure/header/header.html",
    "raw_url": "https://github.com/Adobe-Marketing-Cloud/asset-share-commons/raw/105ba8bfb96c4c4af812f7485e0d04c5f3b102b9/ui.apps/src/main/content/jcr_root/apps/asset-share-commons/components/structure/header/header.html",
    "contents_url": "https://api.github.com/repos/Adobe-Marketing-Cloud/asset-share-commons/contents/ui.apps/src/main/content/jcr_root/apps/asset-share-commons/components/structure/header/header.html?ref=105ba8bfb96c4c4af812f7485e0d04c5f3b102b9",
    "patch": "@@ -50,7 +50,16 @@ <h1 class=\"cmp-header-title\" data-sly-test=\"${header.siteTitle}\">${header.siteTi\n                         ${navItem.text}\n                     </a>\n                 </sly>\n-                  <a   class=\"item cmp-mobile__cart\"\n+\n+                                     <!--/* Download panel */-->\n+                    <a class=\"item 12 cmp-mobile__cart\" \n+                       data-sly-test=\"${config.downloadsPanelEnabled}\"\n+                       data-asset-share-id=\"show-downloadspanel\">\n+                        <i class=\"big download icon\"></i>\n+                        <div class=\"floating ui primary circular label\"\n+                             data-asset-share-id=\"downloads-count\"></div>\n+                    </a>\n+                  <a   class=\"item 12 cmp-mobile__cart\"\n                        data-sly-test=\"${config.cartEnabled}\"\n                        data-asset-share-id=\"show-cart\">\n                         <i class=\"big cart icon\"></i>"
  },
  {
    "sha": "448cc03e5ff3a44c4cbde5b796103bf353e24fcb",
    "filename": "ui.apps/src/main/content/jcr_root/apps/asset-share-commons/components/structure/user-menu/clientlibs/site/js.txt",
    "status": "modified",
    "additions": 1,
    "deletions": 0,
    "changes": 1,
    "blob_url": "https://github.com/Adobe-Marketing-Cloud/asset-share-commons/blob/105ba8bfb96c4c4af812f7485e0d04c5f3b102b9/ui.apps/src/main/content/jcr_root/apps/asset-share-commons/components/structure/user-menu/clientlibs/site/js.txt",
    "raw_url": "https://github.com/Adobe-Marketing-Cloud/asset-share-commons/raw/105ba8bfb96c4c4af812f7485e0d04c5f3b102b9/ui.apps/src/main/content/jcr_root/apps/asset-share-commons/components/structure/user-menu/clientlibs/site/js.txt",
    "contents_url": "https://api.github.com/repos/Adobe-Marketing-Cloud/asset-share-commons/contents/ui.apps/src/main/content/jcr_root/apps/asset-share-commons/components/structure/user-menu/clientlibs/site/js.txt?ref=105ba8bfb96c4c4af812f7485e0d04c5f3b102b9",
    "patch": "@@ -1,4 +1,5 @@\n #base=js\n \n cart-badge.js\n+downloads-badge.js\n profile.js\n\\ No newline at end of file"
  },
  {
    "sha": "ba993913a4c9212e3fa66ba1415029f87004c149",
    "filename": "ui.apps/src/main/content/jcr_root/apps/asset-share-commons/components/structure/user-menu/clientlibs/site/js/downloads-badge.js",
    "status": "added",
    "additions": 42,
    "deletions": 0,
    "changes": 42,
    "blob_url": "https://github.com/Adobe-Marketing-Cloud/asset-share-commons/blob/105ba8bfb96c4c4af812f7485e0d04c5f3b102b9/ui.apps/src/main/content/jcr_root/apps/asset-share-commons/components/structure/user-menu/clientlibs/site/js/downloads-badge.js",
    "raw_url": "https://github.com/Adobe-Marketing-Cloud/asset-share-commons/raw/105ba8bfb96c4c4af812f7485e0d04c5f3b102b9/ui.apps/src/main/content/jcr_root/apps/asset-share-commons/components/structure/user-menu/clientlibs/site/js/downloads-badge.js",
    "contents_url": "https://api.github.com/repos/Adobe-Marketing-Cloud/asset-share-commons/contents/ui.apps/src/main/content/jcr_root/apps/asset-share-commons/components/structure/user-menu/clientlibs/site/js/downloads-badge.js?ref=105ba8bfb96c4c4af812f7485e0d04c5f3b102b9",
    "patch": "@@ -0,0 +1,42 @@\n+/*\n+ * Asset Share Commons\n+ *\n+ * Copyright [2017]  Adobe\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+/*global jQuery: false, AssetShare: false, ContextHub: false*/\n+\n+jQuery((function($, ns, cart) {\n+\t\"use strict\";\n+\n+\tfunction updateDownlaodCountBadge() {\n+\t\tvar downloadIds = sessionStorage.getItem(\"downloadIds\");\n+\t\tif (downloadIds) {\n+\t\t\tvar count = downloadIds.split(',').length;\n+\t\t\tns.Elements.element(\"downloads-count\").text(count);\n+\t\t} else {\n+\t\t\tns.Elements.element(\"downloads-count\").text(0);\n+\t\t}\n+\n+\t}\n+\n+\t// Page init\n+\tfunction init() {\n+\t\tupdateDownlaodCountBadge();\n+\t}\n+\n+\tinit();\n+\n+}(jQuery, AssetShare, AssetShare.Cart)));\n\\ No newline at end of file"
  },
  {
    "sha": "0d264cc32dd761aed5825a40c83561dfb5132194",
    "filename": "ui.apps/src/main/content/jcr_root/apps/asset-share-commons/components/structure/user-menu/user-menu.html",
    "status": "modified",
    "additions": 13,
    "deletions": 1,
    "changes": 14,
    "blob_url": "https://github.com/Adobe-Marketing-Cloud/asset-share-commons/blob/105ba8bfb96c4c4af812f7485e0d04c5f3b102b9/ui.apps/src/main/content/jcr_root/apps/asset-share-commons/components/structure/user-menu/user-menu.html",
    "raw_url": "https://github.com/Adobe-Marketing-Cloud/asset-share-commons/raw/105ba8bfb96c4c4af812f7485e0d04c5f3b102b9/ui.apps/src/main/content/jcr_root/apps/asset-share-commons/components/structure/user-menu/user-menu.html",
    "contents_url": "https://api.github.com/repos/Adobe-Marketing-Cloud/asset-share-commons/contents/ui.apps/src/main/content/jcr_root/apps/asset-share-commons/components/structure/user-menu/user-menu.html?ref=105ba8bfb96c4c4af812f7485e0d04c5f3b102b9",
    "patch": "@@ -35,7 +35,19 @@\n                 <div class=\"ui secondary right icon menu\"\n                      style=\"float:right\">\n \n-                    <!--/* Cart */-->\n+\n+\n+\n+                    <!--/* Download panel */-->\n+\t\t\t\t<a class=\"item\" data-sly-test=\"${config.downloadsPanelEnabled}\"\n+\t\t\t\t\tdata-asset-share-id=\"show-downloadspanel\"> <i\n+\t\t\t\t\tclass=\"big download icon\"></i>\n+\t\t\t\t\t<div class=\"floating ui primary circular label\"\n+\t\t\t\t\t\tdata-asset-share-id=\"downloads-count\"></div>\n+\t\t\t\t</a>\n+\n+\n+\t\t\t\t<!--/* Cart */-->\n                     <a class=\"item\"\n                        data-sly-test=\"${config.cartEnabled}\"\n                        data-asset-share-id=\"show-cart\">"
  }
]
