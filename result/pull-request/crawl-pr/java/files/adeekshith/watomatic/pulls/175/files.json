[
  {
    "sha": "cabc59c148db70545b3e0a2a78b6b7a20e92c398",
    "filename": "app/src/main/AndroidManifest.xml",
    "status": "modified",
    "additions": 12,
    "deletions": 0,
    "changes": 12,
    "blob_url": "https://github.com/adeekshith/watomatic/blob/35481e4853c477fa345bb884f42b0e16e2361872/app/src/main/AndroidManifest.xml",
    "raw_url": "https://github.com/adeekshith/watomatic/raw/35481e4853c477fa345bb884f42b0e16e2361872/app/src/main/AndroidManifest.xml",
    "contents_url": "https://api.github.com/repos/adeekshith/watomatic/contents/app/src/main/AndroidManifest.xml?ref=35481e4853c477fa345bb884f42b0e16e2361872",
    "patch": "@@ -2,6 +2,7 @@\n <manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n     package=\"com.parishod.watomatic\">\n \n+\n     <application\n         android:allowBackup=\"true\"\n         android:icon=\"@mipmap/ic_launcher\"\n@@ -46,6 +47,17 @@\n                 <action android:name=\"android.service.notification.NotificationListenerService\" />\n             </intent-filter>\n         </service>\n+\n+        <provider\n+            android:name=\"androidx.core.content.FileProvider\"\n+            android:authorities=\"${applicationId}.provider\"\n+            android:exported=\"false\"\n+            android:grantUriPermissions=\"true\">\n+            <meta-data\n+                android:name=\"android.support.FILE_PROVIDER_PATHS\"\n+                android:resource=\"@xml/paths\"/>\n+        </provider>\n+\n     </application>\n \n </manifest>\n\\ No newline at end of file"
  },
  {
    "sha": "9788ab968494d50aa93a62b4593107b49360519e",
    "filename": "app/src/main/java/com/parishod/watomatic/NotificationService.java",
    "status": "modified",
    "additions": 55,
    "deletions": 1,
    "changes": 56,
    "blob_url": "https://github.com/adeekshith/watomatic/blob/35481e4853c477fa345bb884f42b0e16e2361872/app/src/main/java/com/parishod/watomatic/NotificationService.java",
    "raw_url": "https://github.com/adeekshith/watomatic/raw/35481e4853c477fa345bb884f42b0e16e2361872/app/src/main/java/com/parishod/watomatic/NotificationService.java",
    "contents_url": "https://api.github.com/repos/adeekshith/watomatic/contents/app/src/main/java/com/parishod/watomatic/NotificationService.java?ref=35481e4853c477fa345bb884f42b0e16e2361872",
    "patch": "@@ -1,5 +1,6 @@\n package com.parishod.watomatic;\n \n+import android.app.Notification;\n import android.app.PendingIntent;\n import android.content.Intent;\n import android.os.Bundle;\n@@ -11,6 +12,7 @@\n import androidx.core.app.RemoteInput;\n \n import com.parishod.watomatic.model.CustomRepliesData;\n+import com.parishod.watomatic.model.logs.AppLogs;\n import com.parishod.watomatic.model.logs.AppPackage;\n import com.parishod.watomatic.model.logs.MessageLog;\n import com.parishod.watomatic.model.logs.MessageLogsDB;\n@@ -35,9 +37,11 @@\n     @Override\n     public void onNotificationPosted(StatusBarNotification sbn) {\n         super.onNotificationPosted(sbn);\n+        AppLogs.getInstance(getApplicationContext()).writeToSDFile(\"===== Notification Received =======\\n\");\n         if(canReply(sbn)) {\n             sendReply(sbn);\n         }\n+        AppLogs.getInstance(getApplicationContext()).writeToSDFile(\"===== Notification End =======\\n\\n\");\n     }\n \n     private boolean canReply(StatusBarNotification sbn){\n@@ -56,7 +60,13 @@ public int onStartCommand(Intent intent, int flags, int startId) {\n     }\n \n     private void sendReply(StatusBarNotification sbn) {\n-        NotificationWear notificationWear = extractWearNotification(sbn);\n+        AppLogs.getInstance(getApplicationContext()).writeToSDFile(\"\\tsendReply start\\n\");\n+        NotificationWear notificationWear;\n+        if(android.os.Build.VERSION.SDK_INT >= android.os.Build.VERSION_CODES.O){\n+            notificationWear = extractQuickReplyNotification(sbn);\n+        }else{\n+            notificationWear = extractWearNotification(sbn);\n+        }\n         // Possibly transient or non-user notification from WhatsApp like\n         // \"Checking for new messages\" or \"WhatsApp web is Active\"\n         if (notificationWear.getRemoteInputs().isEmpty()) { return;}\n@@ -82,12 +92,47 @@ private void sendReply(StatusBarNotification sbn) {\n             if (notificationWear.getPendingIntent() != null) {\n                 logReply(sbn);\n                 notificationWear.getPendingIntent().send(this, 0, localIntent);\n+                AppLogs.getInstance(getApplicationContext()).writeToSDFile(\"\\tsendReply success \\n\");\n+                if(PreferencesManager.getPreferencesInstance(this).isDismissNotificationEnabled()){\n+                    cancelNotification(sbn.getKey());\n+                }\n             }\n         } catch (PendingIntent.CanceledException e) {\n             Log.e(TAG, \"replyToLastNotification error: \" + e.getLocalizedMessage());\n+            AppLogs.getInstance(getApplicationContext()).writeToSDFile(\"\\tsendReply error: \" + e.getLocalizedMessage() + \"\\n\");\n         }\n     }\n \n+    private static NotificationWear extractQuickReplyNotification(StatusBarNotification sbn) {\n+        Notification notification = sbn.getNotification();\n+        List<NotificationCompat.Action> actions = new ArrayList<>();\n+        for(int i = 0; i < NotificationCompat.getActionCount(notification); i++) {\n+            NotificationCompat.Action action = NotificationCompat.getAction(notification, i);\n+            actions.add(action);\n+        }\n+        List<RemoteInput> remoteInputs = new ArrayList<>();\n+        PendingIntent pendingIntent = null;\n+        for(NotificationCompat.Action act : actions) {\n+            if(act != null && act.getRemoteInputs() != null) {\n+                for(int x = 0; x < act.getRemoteInputs().length; x++) {\n+                    RemoteInput remoteInput = act.getRemoteInputs()[x];\n+                    remoteInputs.add(remoteInput);\n+                    pendingIntent = act.actionIntent;\n+                }\n+            }\n+        }\n+\n+        return new NotificationWear(\n+                sbn.getPackageName(),\n+                pendingIntent,\n+                remoteInputs,\n+                null,\n+                sbn.getNotification().extras,\n+                sbn.getTag(),\n+                UUID.randomUUID().toString()\n+        );\n+    }\n+\n     //unused for now\n     private void getDetailsOfNotification(RemoteInput remoteInput) {\n         //Some more details of RemoteInput... no idea what for but maybe it will be useful at some point\n@@ -136,13 +181,21 @@ private NotificationWear extractWearNotification(StatusBarNotification statusBar\n     }\n \n     private boolean isSupportedPackage(StatusBarNotification sbn) {\n+        AppLogs.getInstance(getApplicationContext()).writeToSDFile(\"\\tMessage from App: \" + sbn.getPackageName() + \"\\n\");\n         return PreferencesManager.getPreferencesInstance(this)\n                 .getEnabledApps()\n                 .contains(sbn.getPackageName());\n     }\n \n     private boolean canSendReplyNow(StatusBarNotification sbn){\n         String title = sbn.getNotification().extras.getString(\"android.title\");\n+        if(title != null){\n+            AppLogs.getInstance(getApplicationContext()).writeToSDFile(\"\\tMessage from: \" + title + \"\\n\");\n+        }\n+        String selfDisplayName = sbn.getNotification().extras.getString(\"android.selfDisplayName\");\n+        if(title.equalsIgnoreCase(selfDisplayName)){ //to protect double reply in case where if notification is not dismissed and existing notification is updated with our reply\n+            return false;\n+        }\n         messageLogsDB = MessageLogsDB.getInstance(getApplicationContext());\n         long timeDelay = PreferencesManager.getPreferencesInstance(this).getAutoReplyDelay();\n         return (System.currentTimeMillis() - messageLogsDB.logsDao().getLastReplyTimeStamp(title, sbn.getPackageName()) >= max(timeDelay, DELAY_BETWEEN_REPLY_IN_MILLISEC));\n@@ -170,6 +223,7 @@ private boolean isGroupMessageAndReplyAllowed(StatusBarNotification sbn){\n     }\n \n     private boolean isServiceEnabled(){\n+        AppLogs.getInstance(getApplicationContext()).writeToSDFile(\"\\tisServiceEnabled: \" + PreferencesManager.getPreferencesInstance(this).isServiceEnabled() + \"\\n\");\n         return PreferencesManager.getPreferencesInstance(this).isServiceEnabled();\n     }\n "
  },
  {
    "sha": "691520402cb26c22dc244504cfcb360efb33d27e",
    "filename": "app/src/main/java/com/parishod/watomatic/activity/main/MainActivity.java",
    "status": "modified",
    "additions": 0,
    "deletions": 1,
    "changes": 1,
    "blob_url": "https://github.com/adeekshith/watomatic/blob/35481e4853c477fa345bb884f42b0e16e2361872/app/src/main/java/com/parishod/watomatic/activity/main/MainActivity.java",
    "raw_url": "https://github.com/adeekshith/watomatic/raw/35481e4853c477fa345bb884f42b0e16e2361872/app/src/main/java/com/parishod/watomatic/activity/main/MainActivity.java",
    "contents_url": "https://api.github.com/repos/adeekshith/watomatic/contents/app/src/main/java/com/parishod/watomatic/activity/main/MainActivity.java?ref=35481e4853c477fa345bb884f42b0e16e2361872",
    "patch": "@@ -2,7 +2,6 @@\n \n import android.os.Bundle;\n \n-\n import com.parishod.watomatic.R;\n import com.parishod.watomatic.activity.BaseActivity;\n "
  },
  {
    "sha": "2976b24bdbddbdfc9d988882385cfe9c43153b78",
    "filename": "app/src/main/java/com/parishod/watomatic/fragment/NotificationSettingsFragment.kt",
    "status": "added",
    "additions": 35,
    "deletions": 0,
    "changes": 35,
    "blob_url": "https://github.com/adeekshith/watomatic/blob/35481e4853c477fa345bb884f42b0e16e2361872/app/src/main/java/com/parishod/watomatic/fragment/NotificationSettingsFragment.kt",
    "raw_url": "https://github.com/adeekshith/watomatic/raw/35481e4853c477fa345bb884f42b0e16e2361872/app/src/main/java/com/parishod/watomatic/fragment/NotificationSettingsFragment.kt",
    "contents_url": "https://api.github.com/repos/adeekshith/watomatic/contents/app/src/main/java/com/parishod/watomatic/fragment/NotificationSettingsFragment.kt?ref=35481e4853c477fa345bb884f42b0e16e2361872",
    "patch": "@@ -0,0 +1,35 @@\n+package com.parishod.watomatic.fragment\n+\n+import android.os.Bundle\n+import android.view.LayoutInflater\n+import android.view.View\n+import android.view.ViewGroup\n+import android.widget.TextView\n+import androidx.fragment.app.Fragment\n+import com.google.android.material.switchmaterial.SwitchMaterial\n+import com.parishod.watomatic.R\n+import com.parishod.watomatic.model.preferences.PreferencesManager\n+\n+class NotificationSettingsFragment: Fragment() {\n+    lateinit var dismissNotificationSwitch: SwitchMaterial\n+    lateinit var dismissNotificationInfoText: TextView\n+    private lateinit var preferencesManager: PreferencesManager\n+\n+    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n+        val view = inflater.inflate(R.layout.fragment_notification_settings, container, false)\n+\n+        preferencesManager = PreferencesManager.getPreferencesInstance(activity)\n+\n+        dismissNotificationSwitch = view.findViewById(R.id.dismissNotificationSwitch)\n+        dismissNotificationSwitch.isChecked = preferencesManager.isDismissNotificationEnabled\n+\n+        dismissNotificationInfoText = view.findViewById(R.id.dismissNotificationInfoText)\n+        dismissNotificationInfoText.setText(if(preferencesManager.isDismissNotificationEnabled) R.string.dismiss_notification_switch_on_text else R.string.dismiss_notification_switch_off_text)\n+\n+        dismissNotificationSwitch.setOnCheckedChangeListener {buttonView, isChecked ->\n+            dismissNotificationInfoText.setText(if(isChecked) R.string.dismiss_notification_switch_on_text else R.string.dismiss_notification_switch_off_text)\n+            preferencesManager.setDismissNotificationPref(isChecked)\n+        }\n+        return view\n+    }\n+}\n\\ No newline at end of file"
  },
  {
    "sha": "792040491b185499ce03aabd17f76af8cbbb7db8",
    "filename": "app/src/main/java/com/parishod/watomatic/fragment/SettingsFragment.java",
    "status": "modified",
    "additions": 30,
    "deletions": 0,
    "changes": 30,
    "blob_url": "https://github.com/adeekshith/watomatic/blob/35481e4853c477fa345bb884f42b0e16e2361872/app/src/main/java/com/parishod/watomatic/fragment/SettingsFragment.java",
    "raw_url": "https://github.com/adeekshith/watomatic/raw/35481e4853c477fa345bb884f42b0e16e2361872/app/src/main/java/com/parishod/watomatic/fragment/SettingsFragment.java",
    "contents_url": "https://api.github.com/repos/adeekshith/watomatic/contents/app/src/main/java/com/parishod/watomatic/fragment/SettingsFragment.java?ref=35481e4853c477fa345bb884f42b0e16e2361872",
    "patch": "@@ -1,8 +1,11 @@\n package com.parishod.watomatic.fragment;\n \n import android.content.Intent;\n+import android.net.Uri;\n import android.os.Bundle;\n+import android.widget.Toast;\n \n+import androidx.core.content.FileProvider;\n import androidx.preference.ListPreference;\n import androidx.preference.Preference;\n import androidx.preference.PreferenceFragmentCompat;\n@@ -11,8 +14,11 @@\n import com.parishod.watomatic.activity.main.MainActivity;\n import com.parishod.watomatic.model.preferences.PreferencesManager;\n \n+import java.io.File;\n+\n public class SettingsFragment extends PreferenceFragmentCompat {\n     private ListPreference languagePref;\n+    private Preference shareLogsPref;\n \n     @Override\n     public void onCreatePreferences(Bundle savedInstanceState, String rootKey) {\n@@ -31,6 +37,30 @@ public boolean onPreferenceChange(Preference preference, Object newValue) {\n                 return true;\n             }\n         });\n+\n+        shareLogsPref = findPreference(getString(R.string.pref_share_logs));\n+        shareLogsPref.setOnPreferenceClickListener(preference -> {\n+            shareAppLogs();\n+            return true;\n+        });\n+    }\n+\n+    private void shareAppLogs() {\n+        Uri uri= FileProvider.getUriForFile(getActivity(),\n+                getActivity().getPackageName() + \".provider\",\n+                new File(getActivity().getFilesDir(), getString(R.string.app_logs_file_name)));\n+\n+        Intent shareIntent = new Intent(Intent.ACTION_SEND);\n+        shareIntent.setType(\"text/plain\");\n+        shareIntent.putExtra(Intent.EXTRA_STREAM, uri);\n+        shareIntent.putExtra(Intent.EXTRA_EMAIL  , new String[]{getString(R.string.share_email_id)});\n+        shareIntent.putExtra(Intent.EXTRA_SUBJECT,getString(R.string.share_email_subject));\n+        shareIntent.putExtra(Intent.EXTRA_TEXT, getString(R.string.share_email_body));\n+        if(shareIntent.resolveActivity(getActivity().getPackageManager()) != null){\n+            startActivity(Intent.createChooser(shareIntent, \"Send Email\"));\n+        }else{\n+            Toast.makeText(getActivity(), getString(R.string.share_email_err_msg), Toast.LENGTH_SHORT).show();\n+        }\n     }\n \n     private void restartApp() {"
  },
  {
    "sha": "b40e3c887deb9cd3a291944bc6e59dec7b26d70c",
    "filename": "app/src/main/java/com/parishod/watomatic/model/logs/AppLogs.java",
    "status": "added",
    "additions": 64,
    "deletions": 0,
    "changes": 64,
    "blob_url": "https://github.com/adeekshith/watomatic/blob/35481e4853c477fa345bb884f42b0e16e2361872/app/src/main/java/com/parishod/watomatic/model/logs/AppLogs.java",
    "raw_url": "https://github.com/adeekshith/watomatic/raw/35481e4853c477fa345bb884f42b0e16e2361872/app/src/main/java/com/parishod/watomatic/model/logs/AppLogs.java",
    "contents_url": "https://api.github.com/repos/adeekshith/watomatic/contents/app/src/main/java/com/parishod/watomatic/model/logs/AppLogs.java?ref=35481e4853c477fa345bb884f42b0e16e2361872",
    "patch": "@@ -0,0 +1,64 @@\n+package com.parishod.watomatic.model.logs;\n+\n+import android.content.Context;\n+\n+import com.parishod.watomatic.R;\n+import java.io.BufferedReader;\n+import java.io.FileInputStream;\n+import java.io.FileNotFoundException;\n+import java.io.FileOutputStream;\n+import java.io.IOException;\n+import java.io.InputStreamReader;\n+\n+public class AppLogs {\n+    private static AppLogs _instance;\n+    private Context thisContext;\n+    private String logsFileName;\n+    public AppLogs(Context context){\n+        thisContext = context;\n+        logsFileName = thisContext.getString(R.string.app_logs_file_name);\n+    }\n+\n+    public static AppLogs getInstance(Context context){\n+        if(_instance == null){\n+            _instance = new AppLogs(context);\n+        }\n+        return _instance;\n+    }\n+\n+    public void writeToSDFile(String msg){\n+        FileOutputStream fos = null;\n+        try {\n+            fos = thisContext.openFileOutput(logsFileName, Context.MODE_APPEND);\n+            fos.write(msg.getBytes());\n+        } catch (IOException e) {\n+            e.printStackTrace();\n+        }finally {\n+            if (fos!= null){\n+                try {\n+                    fos.close();\n+                } catch (IOException e) {\n+                    e.printStackTrace();\n+                }\n+            }\n+        }\n+    }\n+\n+    public void readFile(){\n+        try {\n+            FileInputStream in = thisContext.openFileInput(logsFileName);\n+            InputStreamReader inputStreamReader = new InputStreamReader(in);\n+            BufferedReader bufferedReader = new BufferedReader(inputStreamReader);\n+            StringBuilder sb = new StringBuilder();\n+            String line;\n+            while ((line = bufferedReader.readLine()) != null) {\n+                sb.append(line);\n+            }\n+            inputStreamReader.close();\n+        } catch (FileNotFoundException e) {\n+            e.printStackTrace();\n+        }catch (IOException e) {\n+            e.printStackTrace();\n+        }\n+    }\n+}"
  },
  {
    "sha": "f1553d0729f0e115e8a9525fcd59a14ba8a651bd",
    "filename": "app/src/main/java/com/parishod/watomatic/model/preferences/PreferencesManager.java",
    "status": "modified",
    "additions": 18,
    "deletions": 0,
    "changes": 18,
    "blob_url": "https://github.com/adeekshith/watomatic/blob/35481e4853c477fa345bb884f42b0e16e2361872/app/src/main/java/com/parishod/watomatic/model/preferences/PreferencesManager.java",
    "raw_url": "https://github.com/adeekshith/watomatic/raw/35481e4853c477fa345bb884f42b0e16e2361872/app/src/main/java/com/parishod/watomatic/model/preferences/PreferencesManager.java",
    "contents_url": "https://api.github.com/repos/adeekshith/watomatic/contents/app/src/main/java/com/parishod/watomatic/model/preferences/PreferencesManager.java?ref=35481e4853c477fa345bb884f42b0e16e2361872",
    "patch": "@@ -25,6 +25,7 @@\n     private final String KEY_AUTO_REPLY_THROTTLE_TIME_MS = \"pref_auto_reply_throttle_time_ms\";\n     private final String KEY_SELECTED_APPS_ARR = \"pref_selected_apps_arr\";\n     private final String KEY_IS_APPEND_WATOMATIC_ATTRIBUTION = \"pref_is_append_watomatic_attribution\";\n+    private final String KEY_DISMISS_NOTIFICATION = \"pref_dismiss_notification\";\n     private String KEY_SELECTED_APP_LANGUAGE;\n     private static PreferencesManager _instance;\n     private SharedPreferences _sharedPrefs;\n@@ -61,6 +62,13 @@ private void init () {\n             }\n         }\n \n+        //for existing users preserve dismissing notification behaviour\n+        boolean existingUser = _sharedPrefs.contains(KEY_SERVICE_ENABLED)\n+                && !_sharedPrefs.contains(KEY_DISMISS_NOTIFICATION);\n+        if (existingUser) {\n+            setDismissNotificationPref(true);\n+        }\n+\n         if (isFirstInstall(thisAppContext)) {\n             // Set Append Watomatic attribution checked for new installs\n             if (!_sharedPrefs.contains(KEY_IS_APPEND_WATOMATIC_ATTRIBUTION)) {\n@@ -186,4 +194,14 @@ public Locale getSelectedLocale () {\n                 ? new Locale(languageSplit[0], languageSplit[1])\n                 : new Locale(languageSplit[0]);\n     }\n+\n+    public boolean isDismissNotificationEnabled(){\n+        return _sharedPrefs.getBoolean(KEY_DISMISS_NOTIFICATION,false);\n+    }\n+\n+    public void setDismissNotificationPref(boolean enabled){\n+        SharedPreferences.Editor editor = _sharedPrefs.edit();\n+        editor.putBoolean(KEY_DISMISS_NOTIFICATION, enabled);\n+        editor.apply();\n+    }\n }"
  },
  {
    "sha": "29406ead898f8a3c078b3e93c9bf1c39f3cecb0a",
    "filename": "app/src/main/res/layout/activity_main.xml",
    "status": "modified",
    "additions": 25,
    "deletions": 21,
    "changes": 46,
    "blob_url": "https://github.com/adeekshith/watomatic/blob/35481e4853c477fa345bb884f42b0e16e2361872/app/src/main/res/layout/activity_main.xml",
    "raw_url": "https://github.com/adeekshith/watomatic/raw/35481e4853c477fa345bb884f42b0e16e2361872/app/src/main/res/layout/activity_main.xml",
    "contents_url": "https://api.github.com/repos/adeekshith/watomatic/contents/app/src/main/res/layout/activity_main.xml?ref=35481e4853c477fa345bb884f42b0e16e2361872",
    "patch": "@@ -1,31 +1,35 @@\n <?xml version=\"1.0\" encoding=\"utf-8\"?>\n <ScrollView xmlns:android=\"http://schemas.android.com/apk/res/android\"\n-    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n     xmlns:tools=\"http://schemas.android.com/tools\"\n     android:layout_width=\"match_parent\"\n     android:layout_height=\"match_parent\"\n     android:fillViewport=\"true\">\n-<androidx.constraintlayout.widget.ConstraintLayout\n-    android:layout_width=\"match_parent\"\n-    android:layout_height=\"wrap_content\"\n-    tools:context=\".activity.main.MainActivity\">\n-\n-    <androidx.fragment.app.FragmentContainerView\n-        android:id=\"@+id/main_frame_layout\"\n-        android:name=\"com.parishod.watomatic.fragment.MainFragment\"\n-        android:layout_width=\"match_parent\"\n-        android:layout_height=\"match_parent\"\n-        app:layout_constraintTop_toTopOf=\"parent\"\n-        app:layout_constraintBottom_toTopOf=\"@+id/branding_frame_layout\"\n-        />\n-\n-    <androidx.fragment.app.FragmentContainerView\n-        android:id=\"@+id/branding_frame_layout\"\n-        android:name=\"com.parishod.watomatic.fragment.BrandingFragment\"\n+    <LinearLayout\n         android:layout_width=\"match_parent\"\n         android:layout_height=\"wrap_content\"\n-        app:layout_constraintBottom_toBottomOf=\"parent\"\n-        />\n+        tools:context=\".activity.main.MainActivity\"\n+        android:orientation=\"vertical\">\n+\n+        <androidx.fragment.app.FragmentContainerView\n+            android:id=\"@+id/main_frame_layout\"\n+            android:name=\"com.parishod.watomatic.fragment.MainFragment\"\n+            android:layout_width=\"match_parent\"\n+            android:layout_height=\"wrap_content\"\n+            />\n+\n+        <androidx.fragment.app.FragmentContainerView\n+            android:id=\"@+id/notification_settings_frame_layout\"\n+            android:name=\"com.parishod.watomatic.fragment.NotificationSettingsFragment\"\n+            android:layout_width=\"match_parent\"\n+            android:layout_height=\"wrap_content\"\n+            />\n+\n+        <androidx.fragment.app.FragmentContainerView\n+            android:id=\"@+id/branding_frame_layout\"\n+            android:name=\"com.parishod.watomatic.fragment.BrandingFragment\"\n+            android:layout_width=\"match_parent\"\n+            android:layout_height=\"wrap_content\"\n+            />\n \n-</androidx.constraintlayout.widget.ConstraintLayout>\n+    </LinearLayout>\n </ScrollView>\n\\ No newline at end of file"
  },
  {
    "sha": "5e8f8b6e3ff49773f0b8f1a080f82d797970e616",
    "filename": "app/src/main/res/layout/fragment_notification_settings.xml",
    "status": "added",
    "additions": 39,
    "deletions": 0,
    "changes": 39,
    "blob_url": "https://github.com/adeekshith/watomatic/blob/35481e4853c477fa345bb884f42b0e16e2361872/app/src/main/res/layout/fragment_notification_settings.xml",
    "raw_url": "https://github.com/adeekshith/watomatic/raw/35481e4853c477fa345bb884f42b0e16e2361872/app/src/main/res/layout/fragment_notification_settings.xml",
    "contents_url": "https://api.github.com/repos/adeekshith/watomatic/contents/app/src/main/res/layout/fragment_notification_settings.xml?ref=35481e4853c477fa345bb884f42b0e16e2361872",
    "patch": "@@ -0,0 +1,39 @@\n+<?xml version=\"1.0\" encoding=\"utf-8\"?>\n+<androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n+    android:layout_width=\"match_parent\"\n+    android:layout_height=\"wrap_content\"\n+    xmlns:app=\"http://schemas.android.com/apk/res-auto\">\n+\n+    <com.google.android.material.card.MaterialCardView\n+        android:id=\"@+id/dismissNotificationSwitchCardView\"\n+        android:layout_width=\"match_parent\"\n+        android:layout_height=\"wrap_content\"\n+        android:layout_margin=\"10dp\"\n+        app:layout_constraintTop_toTopOf=\"parent\"\n+        app:layout_constraintBottom_toBottomOf=\"parent\"\n+        >\n+        <LinearLayout\n+            android:layout_width=\"match_parent\"\n+            android:layout_height=\"wrap_content\"\n+            android:orientation=\"vertical\"\n+            >\n+            <com.google.android.material.switchmaterial.SwitchMaterial\n+                android:id=\"@+id/dismissNotificationSwitch\"\n+                android:layout_width=\"match_parent\"\n+                android:layout_height=\"wrap_content\"\n+                android:padding=\"20dp\"\n+                android:text=\"@string/dismiss_notification_switch_label\"\n+                />\n+\n+            <TextView\n+                android:id=\"@+id/dismissNotificationInfoText\"\n+                android:layout_width=\"match_parent\"\n+                android:layout_height=\"wrap_content\"\n+                android:text=\"@string/dismiss_notification_switch_off_text\"\n+                android:layout_marginStart=\"20dp\"\n+                android:layout_marginBottom=\"10dp\"/>\n+        </LinearLayout>\n+\n+    </com.google.android.material.card.MaterialCardView>\n+\n+</androidx.constraintlayout.widget.ConstraintLayout>\n\\ No newline at end of file"
  },
  {
    "sha": "31d04ad6aef14d2774a4b0ea53092f9521cd7467",
    "filename": "app/src/main/res/values/strings.xml",
    "status": "modified",
    "additions": 22,
    "deletions": 0,
    "changes": 22,
    "blob_url": "https://github.com/adeekshith/watomatic/blob/35481e4853c477fa345bb884f42b0e16e2361872/app/src/main/res/values/strings.xml",
    "raw_url": "https://github.com/adeekshith/watomatic/raw/35481e4853c477fa345bb884f42b0e16e2361872/app/src/main/res/values/strings.xml",
    "contents_url": "https://api.github.com/repos/adeekshith/watomatic/contents/app/src/main/res/values/strings.xml?ref=35481e4853c477fa345bb884f42b0e16e2361872",
    "patch": "@@ -23,6 +23,9 @@\n     <string name=\"permission_dialog_msg\">This app requires Notification Access permissions to work.</string>\n     <string name=\"permission_dialog_denied_title\">Permission Denied</string>\n     <string name=\"permission_dialog_denied_msg\">Without this permission app is unable to auto-reply to the notifications. Are you sure you want to deny the permission?</string>\n+    <string name=\"dismiss_notification_switch_label\">Dismiss Notification\\n*(Works on Oreo+ devices)</string>\n+    <string name=\"dismiss_notification_switch_on_text\">All the Replied Notifications will be dismissed</string>\n+    <string name=\"dismiss_notification_switch_off_text\">Turn this ON to dismiss auto replied notifications</string>\n \n     <!-- Select apps to auto reply -->\n     <string name=\"enable_for_apps\">Enable for apps</string>\n@@ -55,8 +58,16 @@\n     <string name=\"watomatic_github_url\" translatable=\"false\">https://github.com/adeekshith/watomatic</string>\n     <string name=\"watomatic_wato_message_url\" translatable=\"false\">https://www.reddit.com/r/watomatic/comments/lrkn7j/fellow_watos_share_your_creative_wato_message/</string>\n \n+    <!-- Share debug logs -->\n+    <string name=\"app_logs_file_name\">WatomaticLogs.txt</string>\n+    <string name=\"share_email_body\">Hi Team Watomatic,\\nPlease find the attachment of the app logs.</string>\n+    <string name=\"share_email_subject\">Watomatic AppLogs</string>\n+    <string name=\"share_email_id\">watomatic@deekshith.in</string>\n+    <string name=\"share_email_err_msg\">Couldnot find any application to process this request</string>\n+\n     <!-- keys and app internal strings -->\n     <string name=\"key_pref_app_language\" translatable=\"false\">pref_app_language</string>\n+    <string name=\"pref_share_logs\" translatable=\"false\">pref_share_logs</string>\n \n     <!-- Local language names (non translatable) -->\n     <string name=\"lang_en\" translatable=\"false\">English (en)</string>\n@@ -74,4 +85,15 @@\n \n     <!-- App Language selection -->\n     <string name=\"app_language\">App Language</string>\n+    <string-array name=\"app_language\">\n+        <item>English (en)</item>\n+        <item>Dutch (nl-rNL)</item>\n+        <item>Portuguese (pt-rBR)</item>\n+    </string-array>\n+\n+    <string-array name=\"app_language_value\">\n+        <item>@string/lang_code_en</item>\n+        <item>@string/lang_code_nl_rNL</item>\n+        <item>@string/lang_code_pt_rBR</item>\n+    </string-array>\n </resources>\n\\ No newline at end of file"
  },
  {
    "sha": "65b1cf304a3f6aeb656e97ae154ec85d44903422",
    "filename": "app/src/main/res/xml/fragment_settings.xml",
    "status": "modified",
    "additions": 4,
    "deletions": 0,
    "changes": 4,
    "blob_url": "https://github.com/adeekshith/watomatic/blob/35481e4853c477fa345bb884f42b0e16e2361872/app/src/main/res/xml/fragment_settings.xml",
    "raw_url": "https://github.com/adeekshith/watomatic/raw/35481e4853c477fa345bb884f42b0e16e2361872/app/src/main/res/xml/fragment_settings.xml",
    "contents_url": "https://api.github.com/repos/adeekshith/watomatic/contents/app/src/main/res/xml/fragment_settings.xml?ref=35481e4853c477fa345bb884f42b0e16e2361872",
    "patch": "@@ -9,4 +9,8 @@\n         android:entryValues=\"@array/app_language_value\"\n         app:useSimpleSummaryProvider=\"true\"/>\n \n+    <Preference android:title=\"Share Logs\"\n+        app:icon=\"@drawable/ic_share\"\n+        android:key=\"@string/pref_share_logs\"/>\n+\n </PreferenceScreen>\n\\ No newline at end of file"
  },
  {
    "sha": "ce0e29ca03b34c9db46e3b1a73f01ee271fe34cf",
    "filename": "app/src/main/res/xml/paths.xml",
    "status": "added",
    "additions": 4,
    "deletions": 0,
    "changes": 4,
    "blob_url": "https://github.com/adeekshith/watomatic/blob/35481e4853c477fa345bb884f42b0e16e2361872/app/src/main/res/xml/paths.xml",
    "raw_url": "https://github.com/adeekshith/watomatic/raw/35481e4853c477fa345bb884f42b0e16e2361872/app/src/main/res/xml/paths.xml",
    "contents_url": "https://api.github.com/repos/adeekshith/watomatic/contents/app/src/main/res/xml/paths.xml?ref=35481e4853c477fa345bb884f42b0e16e2361872",
    "patch": "@@ -0,0 +1,4 @@\n+<?xml version=\"1.0\" encoding=\"utf-8\"?>\n+<paths>\n+    <files-path name=\"files\" path=\".\" />\n+</paths>\n\\ No newline at end of file"
  }
]
