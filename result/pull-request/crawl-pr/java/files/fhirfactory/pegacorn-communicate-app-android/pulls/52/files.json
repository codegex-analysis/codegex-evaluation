[
  {
    "sha": "743713d58fa0e03bbaed652813ad7cc60989a678",
    "filename": "build.gradle",
    "status": "modified",
    "additions": 5,
    "deletions": 4,
    "changes": 9,
    "blob_url": "https://github.com/fhirfactory/pegacorn-communicate-app-android/blob/0717e61c105178652c8c1d1d54cc7fa8252dba48/build.gradle",
    "raw_url": "https://github.com/fhirfactory/pegacorn-communicate-app-android/raw/0717e61c105178652c8c1d1d54cc7fa8252dba48/build.gradle",
    "contents_url": "https://api.github.com/repos/fhirfactory/pegacorn-communicate-app-android/contents/build.gradle?ref=0717e61c105178652c8c1d1d54cc7fa8252dba48",
    "patch": "@@ -11,20 +11,21 @@ buildscript {\n         jcenter()\n     }\n     dependencies {\n-        classpath 'com.android.tools.build:gradle:4.1.0'\n+        classpath 'com.android.tools.build:gradle:4.1.1'\n         classpath 'com.google.gms:google-services:4.3.3'\n         classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n         classpath 'org.sonarsource.scanner.gradle:sonarqube-gradle-plugin:2.6.2'\n-\n+        def nav_version = \"2.3.1\"\n+        classpath \"androidx.navigation:navigation-safe-args-gradle-plugin:$nav_version\"\n         // NOTE: Do not place your application dependencies here; they belong\n         // in the individual module build.gradle files\n     }\n }\n \n // global properties used in sub modules\n ext {\n-    versionCodeProp = 90913\n-    versionNameProp = \"0.9.13-dev\"\n+    versionCodeProp = 90915\n+    versionNameProp = \"0.9.15-dev\"\n     versionBuild = System.getenv(\"BUILD_NUMBER\") as Integer ?: 0\n     buildNumberProp = \"${versionBuild}\"\n }"
  },
  {
    "sha": "480f67e05460d074e6455b87ea4930fb537f2576",
    "filename": "vector/build.gradle",
    "status": "modified",
    "additions": 29,
    "deletions": 4,
    "changes": 33,
    "blob_url": "https://github.com/fhirfactory/pegacorn-communicate-app-android/blob/0717e61c105178652c8c1d1d54cc7fa8252dba48/vector/build.gradle",
    "raw_url": "https://github.com/fhirfactory/pegacorn-communicate-app-android/raw/0717e61c105178652c8c1d1d54cc7fa8252dba48/vector/build.gradle",
    "contents_url": "https://api.github.com/repos/fhirfactory/pegacorn-communicate-app-android/contents/vector/build.gradle?ref=0717e61c105178652c8c1d1d54cc7fa8252dba48",
    "patch": "@@ -5,6 +5,7 @@ apply plugin: 'kotlin-android'\n apply plugin: 'kotlin-kapt'\n apply plugin: 'realm-android'\n apply plugin: 'kotlin-android-extensions'\n+apply plugin: \"androidx.navigation.safeargs.kotlin\"\n \n buildscript {\n     repositories {\n@@ -46,6 +47,10 @@ android {\n         jvmTarget = JavaVersion.VERSION_1_8.toString()\n     }\n \n+    dataBinding {\n+        enabled = true\n+    }\n+\n     defaultConfig {\n         applicationId \"im.vector\"\n         minSdkVersion 16\n@@ -221,8 +226,6 @@ dependencies {\n     // Kotlin KTX\n     implementation 'androidx.core:core-ktx:1.0.2'\n \n-    // Kotlin coroutines\n-    implementation 'org.jetbrains.kotlinx:kotlinx-coroutines-core:1.1.1'\n     implementation \"org.jetbrains.anko:anko-commons:0.10.8\"\n \n     // Note: do not upgrade to 1.0.3 because it lead to crashes at startup on Android 16\n@@ -231,13 +234,12 @@ dependencies {\n     implementation 'me.leolin:ShortcutBadger:1.1.2@aar'\n \n     implementation 'androidx.appcompat:appcompat:1.0.2'\n-    implementation 'com.google.android.material:material:1.2.0'\n+    implementation 'com.google.android.material:material:1.2.1'\n     implementation 'androidx.cardview:cardview:1.0.0'\n     implementation 'androidx.recyclerview:recyclerview:1.0.0'\n     implementation 'androidx.preference:preference:1.0.0'\n     implementation 'androidx.legacy:legacy-preference-v14:1.0.0'\n     implementation 'com.jakewharton:butterknife:10.1.0'\n-    implementation 'androidx.lifecycle:lifecycle-extensions:2.0.0'\n     implementation 'androidx.legacy:legacy-support-v4:1.0.0'\n     kapt 'com.jakewharton:butterknife-compiler:10.1.0'\n \n@@ -281,6 +283,13 @@ dependencies {\n     //Alerter\n     implementation 'com.tapadoo.android:alerter:4.0.3'\n \n+    //jetpack navigation\n+    def nav_version = \"2.3.1\"\n+    implementation \"androidx.navigation:navigation-fragment-ktx:$nav_version\"\n+    implementation \"androidx.navigation:navigation-ui-ktx:$nav_version\"\n+    implementation \"androidx.navigation:navigation-fragment:$nav_version\"\n+    implementation \"androidx.navigation:navigation-ui:$nav_version\"\n+\n     /************* Matrix SDK management **************/\n     // update settings.gradle\n     // use the matrix SDK as external dependency\n@@ -307,6 +316,22 @@ dependencies {\n         exclude group: 'com.google.firebase', module: 'firebase-measurement-connector'\n     }\n \n+    // -- Lifecycle Components (ViewModel, LiveData and ReactiveStreams)\n+    def lifecycle_version = \"2.2.0\"\n+    implementation \"androidx.lifecycle:lifecycle-runtime-ktx:$lifecycle_version\"\n+    implementation \"android.arch.lifecycle:extensions:$lifecycle_version\"\n+    implementation \"androidx.lifecycle:lifecycle-viewmodel-ktx:$lifecycle_version\"\n+    implementation \"androidx.lifecycle:lifecycle-common-java8:$lifecycle_version\"\n+\n+    // -- Coroutines\n+    def coroutines_version = \"1.3.8\"\n+    implementation \"org.jetbrains.kotlinx:kotlinx-coroutines-core:$coroutines_version\"\n+    implementation \"org.jetbrains.kotlinx:kotlinx-coroutines-android:$coroutines_version\"\n+\n+    // LiveData Coroutines\n+    implementation \"androidx.lifecycle:lifecycle-livedata-ktx:$lifecycle_version\"\n+\n+\n     // appfdroid flavor only\n \n     // Test"
  },
  {
    "sha": "615f22cd365854c6e33a893b947582536b085afc",
    "filename": "vector/src/act/res/layout/activity_home.xml",
    "status": "modified",
    "additions": 2,
    "deletions": 2,
    "changes": 4,
    "blob_url": "https://github.com/fhirfactory/pegacorn-communicate-app-android/blob/0717e61c105178652c8c1d1d54cc7fa8252dba48/vector/src/act/res/layout/activity_home.xml",
    "raw_url": "https://github.com/fhirfactory/pegacorn-communicate-app-android/raw/0717e61c105178652c8c1d1d54cc7fa8252dba48/vector/src/act/res/layout/activity_home.xml",
    "contents_url": "https://api.github.com/repos/fhirfactory/pegacorn-communicate-app-android/contents/vector/src/act/res/layout/activity_home.xml?ref=0717e61c105178652c8c1d1d54cc7fa8252dba48",
    "patch": "@@ -126,7 +126,7 @@\n                 android:id=\"@+id/button_create_room\"\n                 android:layout_width=\"wrap_content\"\n                 android:layout_height=\"wrap_content\"\n-                app:fab_icon=\"@drawable/ic_add_white\"\n+                app:fab_icon=\"@drawable/riot_tab_groups\"\n                 app:fab_size=\"mini\"\n                 app:fab_title=\"@string/room_recents_create_room\"\n                 tools:fab_colorNormal=\"?attr/colorAccent\"\n@@ -136,7 +136,7 @@\n                 android:id=\"@+id/button_join_room\"\n                 android:layout_width=\"wrap_content\"\n                 android:layout_height=\"wrap_content\"\n-                app:fab_icon=\"@drawable/riot_tab_rooms\"\n+                app:fab_icon=\"@drawable/ic_add_white\"\n                 app:fab_size=\"mini\"\n                 app:fab_title=\"@string/room_recents_join_room\"\n                 tools:fab_colorNormal=\"?attr/colorAccent\""
  },
  {
    "sha": "6d159fac83d1e094ba54ccbf8a0ebf1f76a9891e",
    "filename": "vector/src/act/res/layout/activity_member_details.xml",
    "status": "modified",
    "additions": 25,
    "deletions": 11,
    "changes": 36,
    "blob_url": "https://github.com/fhirfactory/pegacorn-communicate-app-android/blob/0717e61c105178652c8c1d1d54cc7fa8252dba48/vector/src/act/res/layout/activity_member_details.xml",
    "raw_url": "https://github.com/fhirfactory/pegacorn-communicate-app-android/raw/0717e61c105178652c8c1d1d54cc7fa8252dba48/vector/src/act/res/layout/activity_member_details.xml",
    "contents_url": "https://api.github.com/repos/fhirfactory/pegacorn-communicate-app-android/contents/vector/src/act/res/layout/activity_member_details.xml?ref=0717e61c105178652c8c1d1d54cc7fa8252dba48",
    "patch": "@@ -20,6 +20,7 @@\n             android:layout_height=\"wrap_content\"\n             android:layout_gravity=\"center_horizontal\"\n             android:layout_marginTop=\"16dp\"\n+            android:layout_marginBottom=\"16dp\"\n             android:visibility=\"visible\">\n \n             <!-- the member avatar-->\n@@ -68,51 +69,64 @@\n                 android:layout_centerHorizontal=\"true\"\n                 android:gravity=\"center_horizontal\"\n                 android:paddingLeft=\"10dp\"\n-                android:paddingTop=\"10dp\"\n+                android:layout_marginTop=\"8dp\"\n                 android:paddingRight=\"10dp\"\n                 android:paddingBottom=\"2dp\"\n                 android:singleLine=\"true\"\n                 android:textColor=\"@android:color/white\"\n                 android:textSize=\"20sp\"\n                 tools:text=\"Display Name\" />\n \n-            <!-- the member name -->\n-            <!-- keep singleLine=\"true\" because maxLines=\"1\" truncation is not the expected one.-->\n             <TextView\n-                android:id=\"@+id/member_details_user_id\"\n+                android:id=\"@+id/member_details_display_role\"\n                 android:layout_width=\"wrap_content\"\n                 android:layout_height=\"wrap_content\"\n                 android:layout_below=\"@id/member_details_display_name\"\n                 android:layout_centerHorizontal=\"true\"\n                 android:gravity=\"center_horizontal\"\n                 android:paddingLeft=\"10dp\"\n-                android:paddingTop=\"2dp\"\n-                android:visibility=\"gone\"\n+                android:layout_marginTop=\"4dp\"\n                 android:paddingRight=\"10dp\"\n-                android:paddingBottom=\"6dp\"\n+                android:paddingBottom=\"2dp\"\n                 android:singleLine=\"true\"\n                 android:textColor=\"@android:color/white\"\n                 android:textSize=\"16sp\"\n-                tools:text=\"\\@userId:matrix.org\" />\n+                tools:text=\"Display Name\" />\n \n             <!-- the member presence -->\n             <TextView\n                 android:id=\"@+id/member_details_presence\"\n                 android:layout_width=\"wrap_content\"\n                 android:layout_height=\"wrap_content\"\n-                android:layout_below=\"@id/member_details_user_id\"\n+                android:layout_below=\"@id/member_details_display_role\"\n                 android:layout_centerHorizontal=\"true\"\n                 android:ellipsize=\"end\"\n+                android:layout_marginTop=\"2dp\"\n                 android:gravity=\"center_horizontal\"\n                 android:maxLines=\"1\"\n                 android:paddingLeft=\"10dp\"\n-                android:paddingTop=\"6dp\"\n                 android:paddingRight=\"10dp\"\n-                android:paddingBottom=\"16dp\"\n                 android:textColor=\"?android:attr/textColorSecondary\"\n                 android:textSize=\"14sp\"\n                 tools:text=\"User presence\" />\n \n+            <!-- the member name -->\n+            <!-- keep singleLine=\"true\" because maxLines=\"1\" truncation is not the expected one.-->\n+            <TextView\n+                android:id=\"@+id/member_details_user_id\"\n+                android:layout_width=\"wrap_content\"\n+                android:layout_height=\"wrap_content\"\n+                android:layout_below=\"@id/member_details_presence\"\n+                android:layout_centerHorizontal=\"true\"\n+                android:gravity=\"center_horizontal\"\n+                android:paddingLeft=\"10dp\"\n+                android:layout_marginTop=\"2dp\"\n+                android:paddingRight=\"10dp\"\n+                android:singleLine=\"true\"\n+                android:textColor=\"?android:attr/textColorSecondary\"\n+                android:textSize=\"16sp\"\n+                tools:text=\"\\@userId:matrix.org\" />\n+\n         </RelativeLayout>\n \n         <androidx.appcompat.widget.Toolbar"
  },
  {
    "sha": "c2db8f53db3b56bd9a1347daf1668df282a193e5",
    "filename": "vector/src/act/res/layout/activity_vector_login.xml",
    "status": "modified",
    "additions": 48,
    "deletions": 35,
    "changes": 83,
    "blob_url": "https://github.com/fhirfactory/pegacorn-communicate-app-android/blob/0717e61c105178652c8c1d1d54cc7fa8252dba48/vector/src/act/res/layout/activity_vector_login.xml",
    "raw_url": "https://github.com/fhirfactory/pegacorn-communicate-app-android/raw/0717e61c105178652c8c1d1d54cc7fa8252dba48/vector/src/act/res/layout/activity_vector_login.xml",
    "contents_url": "https://api.github.com/repos/fhirfactory/pegacorn-communicate-app-android/contents/vector/src/act/res/layout/activity_vector_login.xml?ref=0717e61c105178652c8c1d1d54cc7fa8252dba48",
    "patch": "@@ -37,7 +37,7 @@\n                 android:layout_marginRight=\"16dp\"\n                 android:orientation=\"vertical\">\n \n-                <LinearLayout\n+                <androidx.constraintlayout.widget.ConstraintLayout\n                     android:id=\"@+id/login_inputs_layout\"\n                     android:layout_width=\"match_parent\"\n                     android:layout_height=\"wrap_content\"\n@@ -51,7 +51,10 @@\n                         android:layout_width=\"match_parent\"\n                         style=\"@style/EditTextStyle\"\n                         android:layout_height=\"wrap_content\"\n-                        android:textColorHint=\"?attr/vctr_default_text_hint_color\">\n+                        android:textColorHint=\"?attr/vctr_default_text_hint_color\"\n+                        app:layout_constraintTop_toTopOf=\"parent\"\n+                        app:layout_constraintStart_toStartOf=\"parent\"\n+                        app:layout_constraintEnd_toEndOf=\"parent\">\n \n                         <com.google.android.material.textfield.TextInputEditText\n                             android:id=\"@+id/login_user_name\"\n@@ -65,25 +68,29 @@\n                     </com.google.android.material.textfield.TextInputLayout>\n \n                     <TextView\n+                        android:id=\"@+id/login_or\"\n                         android:layout_width=\"wrap_content\"\n                         android:layout_height=\"wrap_content\"\n                         android:layout_marginStart=\"4dp\"\n                         android:layout_marginLeft=\"4dp\"\n                         android:text=\"@string/or\"\n-                        android:textSize=\"16sp\" />\n+                        android:textSize=\"16sp\"\n+                        app:layout_constraintStart_toStartOf=\"@+id/login_phone_number\"\n+                        app:layout_constraintTop_toBottomOf=\"@+id/login_user_name_til\" />\n \n                     <LinearLayout\n                         android:id=\"@+id/login_phone_number\"\n                         android:layout_width=\"match_parent\"\n                         android:layout_height=\"wrap_content\"\n-                        android:orientation=\"horizontal\">\n+                        android:orientation=\"horizontal\"\n+                        app:layout_constraintTop_toBottomOf=\"@+id/login_or\">\n \n                         <!-- Add marginTop for better alignment with TextInputLayout. Using baseline does not work -->\n                         <EditText\n-                            android:layout_gravity=\"center_vertical\"\n                             android:id=\"@+id/login_phone_number_country\"\n                             android:layout_width=\"wrap_content\"\n                             android:layout_height=\"wrap_content\"\n+                            android:layout_gravity=\"center_vertical\"\n                             android:layout_marginTop=\"10dp\"\n                             android:layout_marginEnd=\"6dp\"\n                             android:layout_marginRight=\"6dp\"\n@@ -100,9 +107,9 @@\n \n                         <com.google.android.material.textfield.TextInputLayout\n                             android:id=\"@+id/login_phone_number_value_til\"\n+                            style=\"@style/EditTextStyle\"\n                             android:layout_width=\"match_parent\"\n                             android:layout_height=\"wrap_content\"\n-                            style=\"@style/EditTextStyle\"\n                             android:textColorHint=\"?attr/vctr_default_text_hint_color\">\n \n                             <com.google.android.material.textfield.TextInputEditText\n@@ -124,7 +131,8 @@\n                         android:layout_height=\"wrap_content\"\n                         android:layout_marginTop=\"10dp\"\n                         style=\"@style/EditTextStyle\"\n-                        android:textColorHint=\"?attr/vctr_default_text_hint_color\">\n+                        android:textColorHint=\"?attr/vctr_default_text_hint_color\"\n+                        app:layout_constraintTop_toBottomOf=\"@+id/login_phone_number\">\n \n                         <com.google.android.material.textfield.TextInputEditText\n                             android:id=\"@+id/login_password\"\n@@ -137,7 +145,7 @@\n \n                     </com.google.android.material.textfield.TextInputLayout>\n \n-                </LinearLayout>\n+                </androidx.constraintlayout.widget.ConstraintLayout>\n \n                 <LinearLayout\n                     android:id=\"@+id/forget_password_inputs_layout\"\n@@ -461,29 +469,32 @@\n             android:layout_height=\"1dp\"\n             android:background=\"?vctr_list_divider_color\" />\n \n-        <RelativeLayout\n+        <androidx.constraintlayout.widget.ConstraintLayout\n+            android:id=\"@+id/relativeLayout\"\n             android:layout_width=\"match_parent\"\n             android:layout_height=\"wrap_content\"\n             android:layout_marginTop=\"10dp\">\n \n             <Button\n                 android:id=\"@+id/button_login\"\n                 style=\"@style/VectorButtonStyle\"\n-                android:layout_alignParentEnd=\"true\"\n-                android:layout_alignParentRight=\"true\"\n                 android:layout_marginEnd=\"@dimen/layout_horizontal_margin\"\n                 android:layout_marginRight=\"@dimen/layout_horizontal_margin\"\n-                android:text=\"@string/auth_login\" />\n+                android:text=\"@string/auth_login\"\n+                app:layout_constraintEnd_toEndOf=\"parent\"\n+                app:layout_constraintRight_toRightOf=\"parent\"\n+                app:layout_constraintTop_toTopOf=\"parent\" />\n \n             <Button\n                 android:id=\"@+id/button_switch_to_register\"\n                 style=\"@style/VectorButtonStyleFlat\"\n                 android:layout_marginEnd=\"@dimen/layout_horizontal_margin\"\n                 android:layout_marginRight=\"@dimen/layout_horizontal_margin\"\n-                android:layout_toStartOf=\"@+id/button_login\"\n-                android:layout_toLeftOf=\"@+id/button_login\"\n                 android:text=\"@string/auth_register\"\n-                android:textAllCaps=\"true\" />\n+                android:textAllCaps=\"true\"\n+                app:layout_constraintEnd_toStartOf=\"@+id/button_login\"\n+                app:layout_constraintRight_toLeftOf=\"@+id/button_login\"\n+                app:layout_constraintTop_toTopOf=\"parent\" />\n \n             <Button\n                 android:id=\"@+id/button_register\"\n@@ -494,80 +505,82 @@\n                 android:layout_marginRight=\"@dimen/layout_horizontal_margin\"\n                 android:text=\"@string/auth_register\"\n                 android:textAllCaps=\"true\"\n-                tools:layout_marginTop=\"48dp\" />\n+                app:layout_constraintEnd_toEndOf=\"parent\"\n+                app:layout_constraintRight_toRightOf=\"parent\"\n+                app:layout_constraintTop_toBottomOf=\"@+id/button_login\"/>\n \n             <Button\n                 android:id=\"@+id/button_switch_to_login\"\n                 style=\"@style/VectorButtonStyleFlat\"\n                 android:layout_marginEnd=\"@dimen/layout_horizontal_margin\"\n                 android:layout_marginRight=\"@dimen/layout_horizontal_margin\"\n-                android:layout_toStartOf=\"@+id/button_register\"\n-                android:layout_toLeftOf=\"@+id/button_register\"\n                 android:text=\"@string/auth_login\"\n                 android:textAllCaps=\"true\"\n-                tools:layout_marginTop=\"48dp\" />\n+                app:layout_constraintEnd_toStartOf=\"@+id/button_register\"\n+                app:layout_constraintRight_toLeftOf=\"@+id/button_register\"\n+                app:layout_constraintTop_toTopOf=\"@+id/button_register\"/>\n \n             <Button\n                 android:id=\"@+id/button_reset_password\"\n                 style=\"@style/VectorButtonStyle\"\n-                android:layout_alignParentEnd=\"true\"\n-                android:layout_alignParentRight=\"true\"\n                 android:layout_marginEnd=\"@dimen/layout_horizontal_margin\"\n                 android:layout_marginRight=\"@dimen/layout_horizontal_margin\"\n                 android:text=\"@string/auth_send_reset_email\"\n                 android:visibility=\"gone\"\n-                tools:layout_marginTop=\"92dp\"\n+                app:layout_constraintEnd_toEndOf=\"parent\"\n+                app:layout_constraintRight_toRightOf=\"parent\"\n+                app:layout_constraintTop_toBottomOf=\"@+id/button_register\"\n                 tools:visibility=\"visible\" />\n \n             <Button\n                 android:id=\"@+id/button_forgot_email_validate\"\n                 style=\"@style/VectorButtonStyle\"\n-                android:layout_alignParentEnd=\"true\"\n-                android:layout_alignParentRight=\"true\"\n                 android:layout_marginEnd=\"@dimen/layout_horizontal_margin\"\n                 android:layout_marginRight=\"@dimen/layout_horizontal_margin\"\n                 android:visibility=\"gone\"\n-                tools:layout_marginTop=\"138dp\"\n+                app:layout_constraintEnd_toEndOf=\"parent\"\n+                app:layout_constraintRight_toRightOf=\"parent\"\n+                app:layout_constraintTop_toBottomOf=\"@+id/button_reset_password\"\n                 tools:text=\"@string/auth_reset_password_next_step_button\"\n                 tools:visibility=\"visible\" />\n \n             <Button\n                 android:id=\"@+id/button_submit_three_pid\"\n                 style=\"@style/VectorButtonStyle\"\n-                android:layout_alignParentEnd=\"true\"\n-                android:layout_alignParentRight=\"true\"\n                 android:layout_marginEnd=\"@dimen/layout_horizontal_margin\"\n                 android:layout_marginRight=\"@dimen/layout_horizontal_margin\"\n                 android:minWidth=\"94dp\"\n                 android:text=\"@string/auth_submit\"\n                 android:visibility=\"gone\"\n-                tools:layout_marginTop=\"184dp\"\n+                app:layout_constraintEnd_toEndOf=\"parent\"\n+                app:layout_constraintRight_toRightOf=\"parent\"\n+                app:layout_constraintTop_toBottomOf=\"@+id/button_forgot_email_validate\"\n                 tools:visibility=\"visible\" />\n \n             <Button\n                 android:id=\"@+id/button_skip_three_pid\"\n                 style=\"@style/VectorButtonStyle\"\n                 android:layout_marginEnd=\"@dimen/layout_horizontal_margin\"\n                 android:layout_marginRight=\"@dimen/layout_horizontal_margin\"\n-                android:layout_toStartOf=\"@id/button_submit_three_pid\"\n-                android:layout_toLeftOf=\"@id/button_submit_three_pid\"\n                 android:minWidth=\"94dp\"\n                 android:text=\"@string/auth_skip\"\n                 android:visibility=\"gone\"\n-                tools:layout_marginTop=\"184dp\"\n+                app:layout_constraintEnd_toStartOf=\"@id/button_submit_three_pid\"\n+                app:layout_constraintRight_toLeftOf=\"@id/button_submit_three_pid\"\n+                app:layout_constraintTop_toTopOf=\"@+id/button_submit_three_pid\"\n                 tools:visibility=\"visible\" />\n \n             <Button\n                 android:id=\"@+id/button_login_sso\"\n                 style=\"@style/VectorButtonStyle\"\n-                android:layout_alignParentEnd=\"true\"\n-                android:layout_alignParentRight=\"true\"\n                 android:layout_marginEnd=\"@dimen/layout_horizontal_margin\"\n                 android:layout_marginRight=\"@dimen/layout_horizontal_margin\"\n                 android:text=\"@string/auth_login_sso\"\n-                tools:layout_marginTop=\"230dp\" />\n+                app:layout_constraintEnd_toEndOf=\"parent\"\n+                app:layout_constraintRight_toRightOf=\"parent\"\n+                app:layout_constraintTop_toBottomOf=\"@+id/button_submit_three_pid\"/>\n \n-        </RelativeLayout>\n+        </androidx.constraintlayout.widget.ConstraintLayout>\n \n         <View\n             android:layout_width=\"match_parent\""
  },
  {
    "sha": "7e7a94ff121d7f27cf835db1ae2ded65ada5f300",
    "filename": "vector/src/act/res/menu/bottom_navigation_main.xml",
    "status": "modified",
    "additions": 8,
    "deletions": 9,
    "changes": 17,
    "blob_url": "https://github.com/fhirfactory/pegacorn-communicate-app-android/blob/0717e61c105178652c8c1d1d54cc7fa8252dba48/vector/src/act/res/menu/bottom_navigation_main.xml",
    "raw_url": "https://github.com/fhirfactory/pegacorn-communicate-app-android/raw/0717e61c105178652c8c1d1d54cc7fa8252dba48/vector/src/act/res/menu/bottom_navigation_main.xml",
    "contents_url": "https://api.github.com/repos/fhirfactory/pegacorn-communicate-app-android/contents/vector/src/act/res/menu/bottom_navigation_main.xml?ref=0717e61c105178652c8c1d1d54cc7fa8252dba48",
    "patch": "@@ -9,32 +9,31 @@\n         android:title=\"\" />\n \n     <item\n-        android:id=\"@+id/bottom_action_favourites\"\n-        android:contentDescription=\"@string/bottom_action_favourites\"\n+        android:id=\"@+id/bottom_action_people\"\n+        android:contentDescription=\"@string/bottom_action_people\"\n         android:enabled=\"true\"\n-        android:visible=\"false\"\n-        android:icon=\"@drawable/ic_star_black_24dp\"\n+        android:icon=\"@drawable/ic_person_black_24dp\"\n         android:title=\"\" />\n \n     <item\n-        android:id=\"@+id/bottom_action_people\"\n-        android:contentDescription=\"@string/bottom_action_people\"\n+        android:id=\"@+id/bottom_action_favourites\"\n+        android:contentDescription=\"@string/bottom_action_favourites\"\n         android:enabled=\"true\"\n-        android:icon=\"@drawable/ic_person_black_24dp\"\n+        android:icon=\"@drawable/ic_collections\"\n         android:title=\"\" />\n \n     <item\n         android:id=\"@+id/bottom_action_rooms\"\n         android:contentDescription=\"@string/bottom_action_rooms\"\n         android:enabled=\"true\"\n-        android:icon=\"@drawable/riot_tab_rooms\"\n+        android:icon=\"@drawable/ic_material_call_white\"\n         android:title=\"\" />\n \n     <item\n         android:id=\"@+id/bottom_action_groups\"\n         android:contentDescription=\"@string/bottom_action_groups\"\n         android:enabled=\"true\"\n-        android:icon=\"@drawable/riot_tab_groups\"\n+        android:icon=\"@drawable/ic_notifications\"\n         android:title=\"\" />\n \n </menu>"
  },
  {
    "sha": "b7a393431f7e911ac754203e531ffd65c70b9ba2",
    "filename": "vector/src/act/res/values/config.xml",
    "status": "modified",
    "additions": 13,
    "deletions": 9,
    "changes": 22,
    "blob_url": "https://github.com/fhirfactory/pegacorn-communicate-app-android/blob/0717e61c105178652c8c1d1d54cc7fa8252dba48/vector/src/act/res/values/config.xml",
    "raw_url": "https://github.com/fhirfactory/pegacorn-communicate-app-android/raw/0717e61c105178652c8c1d1d54cc7fa8252dba48/vector/src/act/res/values/config.xml",
    "contents_url": "https://api.github.com/repos/fhirfactory/pegacorn-communicate-app-android/contents/vector/src/act/res/values/config.xml?ref=0717e61c105178652c8c1d1d54cc7fa8252dba48",
    "patch": "@@ -4,21 +4,23 @@\n     <string name=\"riot_app_name\" translatable=\"false\">Lingo</string>\n \n     <!-- server urls -->\n-    <string name=\"vector_im_server_url\" translatable=\"false\">https://vector.im</string>\n-    <string name=\"matrix_org_server_url\" translatable=\"false\">https://matrix.org</string>\n-    <string name=\"default_hs_server_url\" translatable=\"false\">https://matrix.org</string>\n-    <string name=\"default_identity_server_url\" translatable=\"false\">https://vector.im</string>\n+<!--    <string name=\"matrix_org_server_url\" translatable=\"false\">http://110.33.26.21:8008</string>-->\n+<!--    <string name=\"default_hs_server_url\" translatable=\"false\">http://110.33.26.21:8008</string>-->\n+<!--    <string name=\"matrix_org_server_url\" translatable=\"false\">https://matrix.org</string>-->\n+<!--    <string name=\"default_hs_server_url\" translatable=\"false\">https://matrix.org</string>-->\n+    <string name=\"matrix_org_server_url\" translatable=\"false\">https://lingo-server.health.test.act.gov.au</string>\n+    <string name=\"default_hs_server_url\" translatable=\"false\">https://lingo-server.health.test.act.gov.au</string>\n+<!--    <string name=\"default_identity_server_url\" translatable=\"false\">https://vector.im</string>-->\n+    <string name=\"default_identity_server_url\" translatable=\"false\">https://lingo-server.health.test.act.gov.au</string>\n     <string name=\"matomo_server_url\" translatable=\"false\">https://matomo.riot.im</string>\n     <string name=\"matomo_site_id\" translatable=\"false\">13</string>\n     <string name=\"matomo_tracker_name\" translatable=\"false\">AndroidMatomoTracker</string>\n     <string name=\"bug_report_url\" translatable=\"false\">https://riot.im/bugreports/submit</string>\n     <string name=\"default_stun_server\" translatable=\"false\">turn.matrix.org</string>\n-\n-    <!-- Widget urls -->\n+    <string name=\"vector_im_server_url\" translatable=\"false\">https://vector.im</string>\n     <string name=\"integrations_ui_url\" translatable=\"false\">\"https://scalar.vector.im/\"</string>\n     <string name=\"integrations_rest_url\" translatable=\"false\">\"https://scalar.vector.im/api\"</string>\n     <string name=\"integrations_jitsi_widget_url\" translatable=\"false\">\"https://scalar.vector.im/api/widgets/jitsi.html\"</string>\n-\n     <string-array name=\"integrations_widgets_urls\" translatable=\"false\">\n         <item>https://scalar.vector.im/_matrix/integrations/v1</item>\n         <item>https://scalar.vector.im/api</item>\n@@ -90,7 +92,7 @@\n     <bool name=\"settings_set_ringtone_visible\">true</bool>\n     <bool name=\"settings_acknowledgement_visible\">true</bool>\n     <bool name=\"settings_theme_visible\">false</bool>\n-    <bool name=\"settings_font_visible\">false</bool>\n+    <bool name=\"settings_font_visible\">true</bool>\n     <bool name=\"settings_pin_missed_notification_visible\">false</bool>\n     <bool name=\"settings_pin_missed_notification_default_value\">false</bool>\n     <bool name=\"settings_vibrate_mention_user_visible\">false</bool>\n@@ -109,7 +111,7 @@\n     <bool name=\"show_custom_url_login\">false</bool>\n \n     <!--default values-->\n-    <bool name=\"settings_native_camera_use_default_value\">false</bool>\n+    <bool name=\"settings_native_camera_use_default_value\">true</bool>\n \n     <bool name=\"show_exit_navigation_bar\">false</bool>\n     <bool name=\"show_sign_out_navigation_bar\">true</bool>\n@@ -144,6 +146,8 @@\n     <bool name=\"show_camera_icon_in_place_of_file_icon\">true</bool>\n \n     <bool name=\"show_add_matrix_app_menu_item\">false</bool>\n+    <bool name=\"use_riot_invite_activity\">false</bool>\n+    <bool name=\"use_riot_create_room_activity\">false</bool>\n     <bool name=\"show_image_share_items\">false</bool>\n     <bool name=\"show_permalink_menu_item\">false</bool>\n     <bool name=\"show_albums_in_camera\">false</bool>"
  },
  {
    "sha": "4cbc826d9d261f3176dfe0f15632ae786ac4ce7b",
    "filename": "vector/src/act/res/values/strings.xml",
    "status": "modified",
    "additions": 24,
    "deletions": 7,
    "changes": 31,
    "blob_url": "https://github.com/fhirfactory/pegacorn-communicate-app-android/blob/0717e61c105178652c8c1d1d54cc7fa8252dba48/vector/src/act/res/values/strings.xml",
    "raw_url": "https://github.com/fhirfactory/pegacorn-communicate-app-android/raw/0717e61c105178652c8c1d1d54cc7fa8252dba48/vector/src/act/res/values/strings.xml",
    "contents_url": "https://api.github.com/repos/fhirfactory/pegacorn-communicate-app-android/contents/vector/src/act/res/values/strings.xml?ref=0717e61c105178652c8c1d1d54cc7fa8252dba48",
    "patch": "@@ -83,6 +83,8 @@\n     <string name=\"ongoing_conference_call\">Ongoing conference call.\\nJoin as %1$s or %2$s</string>\n     <string name=\"ongoing_conference_call_voice\">Voice</string>\n     <string name=\"ongoing_conference_call_video\">Video</string>\n+    <string name=\"video\">Video</string>\n+    <string name=\"chat\">Chat</string>\n     <string name=\"cannot_start_call\">Cannot start the call, please try later</string>\n     <string name=\"missing_permissions_warning\">\"Due to missing permissions, some features may be missing…</string>\n     <string name=\"missing_permissions_error\">\"Due to missing permissions, this action is not possible.</string>\n@@ -94,7 +96,7 @@\n     <string name=\"send_anyway\">Send Anyway</string>\n     <string name=\"or\">or</string>\n     <string name=\"invite\">Invite</string>\n-    <string name=\"offline\">Offline</string>\n+    <string name=\"offline\">Online</string>\n     <string name=\"online\">Online</string>\n     <string name=\"busy\">Busy</string>\n     <string name=\"accept\">Accept</string>\n@@ -451,7 +453,7 @@\n     <string name=\"room_participants_create\">Create</string>\n \n     <string name=\"room_participants_online\">Online</string>\n-    <string name=\"room_participants_offline\">Offline</string>\n+    <string name=\"room_participants_offline\">Online</string>\n     <string name=\"room_participants_idle\">Idle</string>\n     <!--The variable is one of \"Online\", \"Offline\" or \"Idle\" states above.-->\n     <string name=\"room_participants_now\">%1$s now</string>\n@@ -550,7 +552,7 @@\n \n     <!-- Room Details -->\n     <string name=\"room_details_title\">Room Details</string>\n-    <string name=\"room_details_people\">People</string>\n+    <string name=\"room_details_people\">Members</string>\n     <string name=\"room_details_files\">Files</string>\n     <string name=\"room_details_settings\">Settings</string>\n     <plurals name=\"room_details_selected\">\n@@ -569,7 +571,7 @@\n \n     <!-- Search -->\n     <string name=\"search_hint\">Search</string>\n-    <string name=\"search_members_hint\">Filter room members</string>\n+    <string name=\"search_members_hint\">Search room members</string>\n     <string name=\"search_no_results\">No results</string>\n     <string name=\"tab_title_search_rooms\">ROOMS</string>\n     <string name=\"tab_title_search_messages\">MESSAGES</string>\n@@ -583,9 +585,9 @@\n     <string name=\"room_recents_conversations\">ROOMS</string>\n     <string name=\"room_recents_low_priority\">LOW PRIORITY</string>\n     <string name=\"room_recents_invites\">INVITES</string>\n-    <string name=\"room_recents_start_chat\">Start chat</string>\n-    <string name=\"room_recents_create_room\">Create room</string>\n-    <string name=\"room_recents_join_room\">Join room</string>\n+    <string name=\"room_recents_start_chat\">Create Chat</string>\n+    <string name=\"room_recents_create_room\">Create Group Chat</string>\n+    <string name=\"room_recents_join_room\">Join Chat</string>\n     <string name=\"room_recents_join_room_title\">Join a room</string>\n     <string name=\"room_recents_join_room_prompt\">Type a room id or a room alias</string>\n \n@@ -1584,12 +1586,25 @@ Why choose Riot.im?\n     <string name=\"privacy_policy_url\">https://www.act.gov.au/privacy</string>\n     <string name=\"sliding_acknowledgement_url\">https://www.act.gov.au/privacy</string>\n \n+    <string name=\"role_filled\">Filled</string>\n+    <string name=\"role_unfilled\">Unfilled</string>\n+\n     <!--Directory Tabs-->\n     <string-array name=\"directory_tabs\">\n         <item>Roles</item>\n         <item>People</item>\n     </string-array>\n \n+    <string-array name=\"create_chat_tabs\">\n+        <item>Roles</item>\n+        <item>People</item>\n+    </string-array>\n+\n+    <string-array name=\"call_tabs\">\n+        <item>Recent</item>\n+        <item>Dialer</item>\n+    </string-array>\n+    \n     <string-array name=\"home_tabs\">\n         <item>Invites</item>\n         <item>Favourites</item>\n@@ -1602,6 +1617,7 @@ Why choose Riot.im?\n     <string name=\"accepting\">Accepting the invitation</string>\n     <string name=\"invite_menu_title\">Invites</string>\n     <string name=\"invite_title\">Invites</string>\n+    <string name=\"create_chat_title\">Create Chat</string>\n     <string name=\"total_notification\">Total Notifications</string>\n     <string name=\"total_number_of_room\"> Rooms: </string>\n     <string name=\"total_number_of_invite\">Invites: </string>\n@@ -1616,6 +1632,7 @@ Why choose Riot.im?\n     <string name=\"title_activity_role_detail\">Role Detail</string>\n     <string name=\"search_people\">Search for people</string>\n     <string name=\"title_activity_people_detail\">Person Detail</string>\n+    <string name=\"title_activity_service_detail\">Service Detail</string>\n     <string name=\"short_text\">Short text</string>\n     <string name=\"long_text\">very long text very long text very long text very long text very long text very long text very long text</string>\n </resources>"
  },
  {
    "sha": "eb1b77c6c22aa65515386190f735630e404df8e6",
    "filename": "vector/src/actcwd/res/layout/activity_home.xml",
    "status": "modified",
    "additions": 2,
    "deletions": 2,
    "changes": 4,
    "blob_url": "https://github.com/fhirfactory/pegacorn-communicate-app-android/blob/0717e61c105178652c8c1d1d54cc7fa8252dba48/vector/src/actcwd/res/layout/activity_home.xml",
    "raw_url": "https://github.com/fhirfactory/pegacorn-communicate-app-android/raw/0717e61c105178652c8c1d1d54cc7fa8252dba48/vector/src/actcwd/res/layout/activity_home.xml",
    "contents_url": "https://api.github.com/repos/fhirfactory/pegacorn-communicate-app-android/contents/vector/src/actcwd/res/layout/activity_home.xml?ref=0717e61c105178652c8c1d1d54cc7fa8252dba48",
    "patch": "@@ -135,7 +135,7 @@\n                 android:id=\"@+id/button_create_room\"\n                 android:layout_width=\"wrap_content\"\n                 android:layout_height=\"wrap_content\"\n-                app:fab_icon=\"@drawable/ic_add_white\"\n+                app:fab_icon=\"@drawable/riot_tab_groups\"\n                 app:fab_size=\"mini\"\n                 app:fab_title=\"@string/room_recents_create_room\"\n                 tools:fab_colorNormal=\"?attr/colorAccent\"\n@@ -145,7 +145,7 @@\n                 android:id=\"@+id/button_join_room\"\n                 android:layout_width=\"wrap_content\"\n                 android:layout_height=\"wrap_content\"\n-                app:fab_icon=\"@drawable/riot_tab_rooms\"\n+                app:fab_icon=\"@drawable/ic_add_white\"\n                 app:fab_size=\"mini\"\n                 app:fab_title=\"@string/room_recents_join_room\"\n                 tools:fab_colorNormal=\"?attr/colorAccent\""
  },
  {
    "sha": "977b833f8f5b16eef28009bc95dd2dab3ad21e93",
    "filename": "vector/src/actcwd/res/layout/activity_vector_login.xml",
    "status": "modified",
    "additions": 35,
    "deletions": 30,
    "changes": 65,
    "blob_url": "https://github.com/fhirfactory/pegacorn-communicate-app-android/blob/0717e61c105178652c8c1d1d54cc7fa8252dba48/vector/src/actcwd/res/layout/activity_vector_login.xml",
    "raw_url": "https://github.com/fhirfactory/pegacorn-communicate-app-android/raw/0717e61c105178652c8c1d1d54cc7fa8252dba48/vector/src/actcwd/res/layout/activity_vector_login.xml",
    "contents_url": "https://api.github.com/repos/fhirfactory/pegacorn-communicate-app-android/contents/vector/src/actcwd/res/layout/activity_vector_login.xml?ref=0717e61c105178652c8c1d1d54cc7fa8252dba48",
    "patch": "@@ -70,7 +70,8 @@\n                         android:layout_marginStart=\"4dp\"\n                         android:layout_marginLeft=\"4dp\"\n                         android:text=\"@string/or\"\n-                        android:textSize=\"16sp\" />\n+                        android:textSize=\"16sp\"\n+                        android:id=\"@+id/login_or\"/>\n \n                     <LinearLayout\n                         android:id=\"@+id/login_phone_number\"\n@@ -461,29 +462,32 @@\n             android:layout_height=\"1dp\"\n             android:background=\"?vctr_list_divider_color\" />\n \n-        <RelativeLayout\n+        <androidx.constraintlayout.widget.ConstraintLayout\n+            android:id=\"@+id/relativeLayout\"\n             android:layout_width=\"match_parent\"\n             android:layout_height=\"wrap_content\"\n             android:layout_marginTop=\"10dp\">\n \n             <Button\n                 android:id=\"@+id/button_login\"\n                 style=\"@style/VectorButtonStyle\"\n-                android:layout_alignParentEnd=\"true\"\n-                android:layout_alignParentRight=\"true\"\n                 android:layout_marginEnd=\"@dimen/layout_horizontal_margin\"\n                 android:layout_marginRight=\"@dimen/layout_horizontal_margin\"\n-                android:text=\"@string/auth_login\" />\n+                android:text=\"@string/auth_login\"\n+                app:layout_constraintEnd_toEndOf=\"parent\"\n+                app:layout_constraintRight_toRightOf=\"parent\"\n+                app:layout_constraintTop_toTopOf=\"parent\" />\n \n             <Button\n                 android:id=\"@+id/button_switch_to_register\"\n                 style=\"@style/VectorButtonStyleFlat\"\n                 android:layout_marginEnd=\"@dimen/layout_horizontal_margin\"\n                 android:layout_marginRight=\"@dimen/layout_horizontal_margin\"\n-                android:layout_toStartOf=\"@+id/button_login\"\n-                android:layout_toLeftOf=\"@+id/button_login\"\n                 android:text=\"@string/auth_register\"\n-                android:textAllCaps=\"true\" />\n+                android:textAllCaps=\"true\"\n+                app:layout_constraintEnd_toStartOf=\"@+id/button_login\"\n+                app:layout_constraintRight_toLeftOf=\"@+id/button_login\"\n+                app:layout_constraintTop_toTopOf=\"parent\" />\n \n             <Button\n                 android:id=\"@+id/button_register\"\n@@ -494,80 +498,82 @@\n                 android:layout_marginRight=\"@dimen/layout_horizontal_margin\"\n                 android:text=\"@string/auth_register\"\n                 android:textAllCaps=\"true\"\n-                tools:layout_marginTop=\"48dp\" />\n+                app:layout_constraintEnd_toEndOf=\"parent\"\n+                app:layout_constraintRight_toRightOf=\"parent\"\n+                app:layout_constraintTop_toBottomOf=\"@+id/button_login\"/>\n \n             <Button\n                 android:id=\"@+id/button_switch_to_login\"\n                 style=\"@style/VectorButtonStyleFlat\"\n                 android:layout_marginEnd=\"@dimen/layout_horizontal_margin\"\n                 android:layout_marginRight=\"@dimen/layout_horizontal_margin\"\n-                android:layout_toStartOf=\"@+id/button_register\"\n-                android:layout_toLeftOf=\"@+id/button_register\"\n                 android:text=\"@string/auth_login\"\n                 android:textAllCaps=\"true\"\n-                tools:layout_marginTop=\"48dp\" />\n+                app:layout_constraintEnd_toStartOf=\"@+id/button_register\"\n+                app:layout_constraintRight_toLeftOf=\"@+id/button_register\"\n+                app:layout_constraintTop_toTopOf=\"@+id/button_register\"/>\n \n             <Button\n                 android:id=\"@+id/button_reset_password\"\n                 style=\"@style/VectorButtonStyle\"\n-                android:layout_alignParentEnd=\"true\"\n-                android:layout_alignParentRight=\"true\"\n                 android:layout_marginEnd=\"@dimen/layout_horizontal_margin\"\n                 android:layout_marginRight=\"@dimen/layout_horizontal_margin\"\n                 android:text=\"@string/auth_send_reset_email\"\n                 android:visibility=\"gone\"\n-                tools:layout_marginTop=\"92dp\"\n+                app:layout_constraintEnd_toEndOf=\"parent\"\n+                app:layout_constraintRight_toRightOf=\"parent\"\n+                app:layout_constraintTop_toBottomOf=\"@+id/button_register\"\n                 tools:visibility=\"visible\" />\n \n             <Button\n                 android:id=\"@+id/button_forgot_email_validate\"\n                 style=\"@style/VectorButtonStyle\"\n-                android:layout_alignParentEnd=\"true\"\n-                android:layout_alignParentRight=\"true\"\n                 android:layout_marginEnd=\"@dimen/layout_horizontal_margin\"\n                 android:layout_marginRight=\"@dimen/layout_horizontal_margin\"\n                 android:visibility=\"gone\"\n-                tools:layout_marginTop=\"138dp\"\n+                app:layout_constraintEnd_toEndOf=\"parent\"\n+                app:layout_constraintRight_toRightOf=\"parent\"\n+                app:layout_constraintTop_toBottomOf=\"@+id/button_reset_password\"\n                 tools:text=\"@string/auth_reset_password_next_step_button\"\n                 tools:visibility=\"visible\" />\n \n             <Button\n                 android:id=\"@+id/button_submit_three_pid\"\n                 style=\"@style/VectorButtonStyle\"\n-                android:layout_alignParentEnd=\"true\"\n-                android:layout_alignParentRight=\"true\"\n                 android:layout_marginEnd=\"@dimen/layout_horizontal_margin\"\n                 android:layout_marginRight=\"@dimen/layout_horizontal_margin\"\n                 android:minWidth=\"94dp\"\n                 android:text=\"@string/auth_submit\"\n                 android:visibility=\"gone\"\n-                tools:layout_marginTop=\"184dp\"\n+                app:layout_constraintEnd_toEndOf=\"parent\"\n+                app:layout_constraintRight_toRightOf=\"parent\"\n+                app:layout_constraintTop_toBottomOf=\"@+id/button_forgot_email_validate\"\n                 tools:visibility=\"visible\" />\n \n             <Button\n                 android:id=\"@+id/button_skip_three_pid\"\n                 style=\"@style/VectorButtonStyle\"\n                 android:layout_marginEnd=\"@dimen/layout_horizontal_margin\"\n                 android:layout_marginRight=\"@dimen/layout_horizontal_margin\"\n-                android:layout_toStartOf=\"@id/button_submit_three_pid\"\n-                android:layout_toLeftOf=\"@id/button_submit_three_pid\"\n                 android:minWidth=\"94dp\"\n                 android:text=\"@string/auth_skip\"\n                 android:visibility=\"gone\"\n-                tools:layout_marginTop=\"184dp\"\n+                app:layout_constraintEnd_toStartOf=\"@id/button_submit_three_pid\"\n+                app:layout_constraintRight_toLeftOf=\"@id/button_submit_three_pid\"\n+                app:layout_constraintTop_toTopOf=\"@+id/button_submit_three_pid\"\n                 tools:visibility=\"visible\" />\n \n             <Button\n                 android:id=\"@+id/button_login_sso\"\n                 style=\"@style/VectorButtonStyle\"\n-                android:layout_alignParentEnd=\"true\"\n-                android:layout_alignParentRight=\"true\"\n                 android:layout_marginEnd=\"@dimen/layout_horizontal_margin\"\n                 android:layout_marginRight=\"@dimen/layout_horizontal_margin\"\n                 android:text=\"@string/auth_login_sso\"\n-                tools:layout_marginTop=\"230dp\" />\n+                app:layout_constraintEnd_toEndOf=\"parent\"\n+                app:layout_constraintRight_toRightOf=\"parent\"\n+                app:layout_constraintTop_toBottomOf=\"@+id/button_submit_three_pid\"/>\n \n-        </RelativeLayout>\n+        </androidx.constraintlayout.widget.ConstraintLayout>\n \n         <View\n             android:layout_width=\"match_parent\"\n@@ -594,5 +600,4 @@\n             android:indeterminate=\"true\" />\n     </RelativeLayout>\n \n-</RelativeLayout>\n-\n+</RelativeLayout>\n\\ No newline at end of file"
  },
  {
    "sha": "0639211badeaf1d48937818d47354ad9aba4e9e5",
    "filename": "vector/src/actcwd/res/menu/bottom_navigation_main.xml",
    "status": "modified",
    "additions": 7,
    "deletions": 8,
    "changes": 15,
    "blob_url": "https://github.com/fhirfactory/pegacorn-communicate-app-android/blob/0717e61c105178652c8c1d1d54cc7fa8252dba48/vector/src/actcwd/res/menu/bottom_navigation_main.xml",
    "raw_url": "https://github.com/fhirfactory/pegacorn-communicate-app-android/raw/0717e61c105178652c8c1d1d54cc7fa8252dba48/vector/src/actcwd/res/menu/bottom_navigation_main.xml",
    "contents_url": "https://api.github.com/repos/fhirfactory/pegacorn-communicate-app-android/contents/vector/src/actcwd/res/menu/bottom_navigation_main.xml?ref=0717e61c105178652c8c1d1d54cc7fa8252dba48",
    "patch": "@@ -9,25 +9,24 @@\n         android:title=\"\" />\n \n     <item\n-        android:id=\"@+id/bottom_action_favourites\"\n-        android:contentDescription=\"@string/bottom_action_favourites\"\n+        android:id=\"@+id/bottom_action_people\"\n+        android:contentDescription=\"@string/bottom_action_people\"\n         android:enabled=\"true\"\n-        android:visible=\"false\"\n-        android:icon=\"@drawable/ic_star_black_24dp\"\n+        android:icon=\"@drawable/ic_person_black_24dp\"\n         android:title=\"\" />\n \n     <item\n-        android:id=\"@+id/bottom_action_people\"\n-        android:contentDescription=\"@string/bottom_action_people\"\n+        android:id=\"@+id/bottom_action_favourites\"\n+        android:contentDescription=\"@string/bottom_action_favourites\"\n         android:enabled=\"true\"\n-        android:icon=\"@drawable/ic_person_black_24dp\"\n+        android:icon=\"@drawable/ic_collections\"\n         android:title=\"\" />\n \n     <item\n         android:id=\"@+id/bottom_action_rooms\"\n         android:contentDescription=\"@string/bottom_action_rooms\"\n         android:enabled=\"true\"\n-        android:icon=\"@drawable/riot_tab_rooms\"\n+        android:icon=\"@drawable/ic_material_call_white\"\n         android:title=\"\" />\n \n     <item"
  },
  {
    "sha": "8ccf5a1626a0cfcd6aefb10af0f637e0861d048a",
    "filename": "vector/src/actcwd/res/values/config.xml",
    "status": "modified",
    "additions": 3,
    "deletions": 1,
    "changes": 4,
    "blob_url": "https://github.com/fhirfactory/pegacorn-communicate-app-android/blob/0717e61c105178652c8c1d1d54cc7fa8252dba48/vector/src/actcwd/res/values/config.xml",
    "raw_url": "https://github.com/fhirfactory/pegacorn-communicate-app-android/raw/0717e61c105178652c8c1d1d54cc7fa8252dba48/vector/src/actcwd/res/values/config.xml",
    "contents_url": "https://api.github.com/repos/fhirfactory/pegacorn-communicate-app-android/contents/vector/src/actcwd/res/values/config.xml?ref=0717e61c105178652c8c1d1d54cc7fa8252dba48",
    "patch": "@@ -90,7 +90,7 @@\n     <bool name=\"settings_set_ringtone_visible\">false</bool>\n     <bool name=\"settings_acknowledgement_visible\">true</bool>\n     <bool name=\"settings_theme_visible\">false</bool>\n-    <bool name=\"settings_font_visible\">false</bool>\n+    <bool name=\"settings_font_visible\">true</bool>\n     <bool name=\"settings_pin_missed_notification_visible\">false</bool>\n     <bool name=\"settings_pin_missed_notification_default_value\">false</bool>\n     <bool name=\"settings_vibrate_mention_user_visible\">false</bool>\n@@ -144,6 +144,8 @@\n     <bool name=\"show_camera_icon_in_place_of_file_icon\">true</bool>\n \n     <bool name=\"show_add_matrix_app_menu_item\">false</bool>\n+    <bool name=\"use_riot_invite_activity\">false</bool>\n+    <bool name=\"use_riot_create_room_activity\">false</bool>\n     <bool name=\"show_image_share_items\">false</bool>\n     <bool name=\"show_permalink_menu_item\">false</bool>\n     <bool name=\"show_albums_in_camera\">false</bool>"
  },
  {
    "sha": "8c6e7931826385bbac502a49b2ca9745768a4107",
    "filename": "vector/src/actcwd/res/values/strings.xml",
    "status": "modified",
    "additions": 8,
    "deletions": 5,
    "changes": 13,
    "blob_url": "https://github.com/fhirfactory/pegacorn-communicate-app-android/blob/0717e61c105178652c8c1d1d54cc7fa8252dba48/vector/src/actcwd/res/values/strings.xml",
    "raw_url": "https://github.com/fhirfactory/pegacorn-communicate-app-android/raw/0717e61c105178652c8c1d1d54cc7fa8252dba48/vector/src/actcwd/res/values/strings.xml",
    "contents_url": "https://api.github.com/repos/fhirfactory/pegacorn-communicate-app-android/contents/vector/src/actcwd/res/values/strings.xml?ref=0717e61c105178652c8c1d1d54cc7fa8252dba48",
    "patch": "@@ -83,6 +83,8 @@\n     <string name=\"ongoing_conference_call\">Ongoing conference call.\\nJoin as %1$s or %2$s</string>\n     <string name=\"ongoing_conference_call_voice\">Voice</string>\n     <string name=\"ongoing_conference_call_video\">Video</string>\n+    <string name=\"video\">Video</string>\n+    <string name=\"chat\">Chat</string>\n     <string name=\"cannot_start_call\">Cannot start the call, please try later</string>\n     <string name=\"missing_permissions_warning\">\"Due to missing permissions, some features may be missing…</string>\n     <string name=\"missing_permissions_error\">\"Due to missing permissions, this action is not possible.</string>\n@@ -550,7 +552,7 @@\n \n     <!-- Room Details -->\n     <string name=\"room_details_title\">Room Details</string>\n-    <string name=\"room_details_people\">People</string>\n+    <string name=\"room_details_people\">Members</string>\n     <string name=\"room_details_files\">Files</string>\n     <string name=\"room_details_settings\">Settings</string>\n     <plurals name=\"room_details_selected\">\n@@ -569,7 +571,7 @@\n \n     <!-- Search -->\n     <string name=\"search_hint\">Search</string>\n-    <string name=\"search_members_hint\">Filter room members</string>\n+    <string name=\"search_members_hint\">Search room members</string>\n     <string name=\"search_no_results\">No results</string>\n     <string name=\"tab_title_search_rooms\">ROOMS</string>\n     <string name=\"tab_title_search_messages\">MESSAGES</string>\n@@ -583,9 +585,9 @@\n     <string name=\"room_recents_conversations\">ROOMS</string>\n     <string name=\"room_recents_low_priority\">LOW PRIORITY</string>\n     <string name=\"room_recents_invites\">INVITES</string>\n-    <string name=\"room_recents_start_chat\">Start chat</string>\n-    <string name=\"room_recents_create_room\">Create room</string>\n-    <string name=\"room_recents_join_room\">Join room</string>\n+    <string name=\"room_recents_start_chat\">Create Chat</string>\n+    <string name=\"room_recents_create_room\">Create Group Chat</string>\n+    <string name=\"room_recents_join_room\">Join Chat</string>\n     <string name=\"room_recents_join_room_title\">Join a room</string>\n     <string name=\"room_recents_join_room_prompt\">Type a room id or a room alias</string>\n \n@@ -1616,6 +1618,7 @@ Why choose Riot.im?\n     <string name=\"title_activity_role_detail\">Role Detail</string>\n     <string name=\"search_people\">Search for people</string>\n     <string name=\"title_activity_people_detail\">Person Detail</string>\n+    <string name=\"title_activity_service_detail\">Service Detail</string>\n     <string name=\"short_text\">Short text</string>\n     <string name=\"long_text\">very long text very long text very long text very long text very long text very long text very long text</string>\n </resources>"
  },
  {
    "sha": "32552573ec0f512ac317dbc1d388521c90b18ebe",
    "filename": "vector/src/debug/java/im.vector.activity/TestLinkifyActivity.kt",
    "status": "modified",
    "additions": 2,
    "deletions": 1,
    "changes": 3,
    "blob_url": "https://github.com/fhirfactory/pegacorn-communicate-app-android/blob/0717e61c105178652c8c1d1d54cc7fa8252dba48/vector/src/debug/java/im.vector.activity/TestLinkifyActivity.kt",
    "raw_url": "https://github.com/fhirfactory/pegacorn-communicate-app-android/raw/0717e61c105178652c8c1d1d54cc7fa8252dba48/vector/src/debug/java/im.vector.activity/TestLinkifyActivity.kt",
    "contents_url": "https://api.github.com/repos/fhirfactory/pegacorn-communicate-app-android/contents/vector/src/debug/java/im.vector.activity/TestLinkifyActivity.kt?ref=0717e61c105178652c8c1d1d54cc7fa8252dba48",
    "patch": "@@ -33,6 +33,7 @@ import im.vector.util.MatrixLinkMovementMethod\n import im.vector.util.openUrlInExternalBrowser\n import im.vector.util.vectorCustomLinkify\n import org.matrix.androidsdk.crypto.data.MXDeviceInfo\n+import org.matrix.androidsdk.data.RoomSummary\n import org.matrix.androidsdk.rest.model.Event\n \n \n@@ -204,7 +205,7 @@ abstract class MockMessageAdapterActionListener : IMessagesAdapterActionsListene\n         TODO(\"not implemented\")\n     }\n \n-    override fun onEventAction(event: Event?, textMsg: String?, action: Int) {\n+    override fun onEventAction(event: Event?, textMsg: String?, action: Int, summary: RoomSummary?) {\n         TODO(\"not implemented\")\n     }\n "
  },
  {
    "sha": "c9673d3a763d5447d76eff1bd45731a264f1cafc",
    "filename": "vector/src/main/AndroidManifest.xml",
    "status": "modified",
    "additions": 16,
    "deletions": 0,
    "changes": 16,
    "blob_url": "https://github.com/fhirfactory/pegacorn-communicate-app-android/blob/0717e61c105178652c8c1d1d54cc7fa8252dba48/vector/src/main/AndroidManifest.xml",
    "raw_url": "https://github.com/fhirfactory/pegacorn-communicate-app-android/raw/0717e61c105178652c8c1d1d54cc7fa8252dba48/vector/src/main/AndroidManifest.xml",
    "contents_url": "https://api.github.com/repos/fhirfactory/pegacorn-communicate-app-android/contents/vector/src/main/AndroidManifest.xml?ref=0717e61c105178652c8c1d1d54cc7fa8252dba48",
    "patch": "@@ -163,6 +163,14 @@\n             android:configChanges=\"orientation|screenSize\"\n             android:windowSoftInputMode=\"stateHidden|adjustResize\"\n             android:label=\"@string/invite\"/>\n+        <activity\n+            android:name=\".chat.ChatCreateActivity\"\n+            android:configChanges=\"orientation|screenSize\"\n+            android:windowSoftInputMode=\"stateHidden|adjustResize\"/>\n+        <activity\n+            android:name=\".code.detail.CodeEventDetailActivity\"\n+            android:configChanges=\"orientation|screenSize\"\n+            android:windowSoftInputMode=\"stateHidden|adjustResize\" />\n         <activity\n             android:name=\".activity.AccountCreationCaptchaActivity\"\n             android:configChanges=\"orientation|screenSize\"\n@@ -179,6 +187,10 @@\n             android:name=\".directory.role.detail.RoleDetailActivity\"\n             android:configChanges=\"orientation|screenSize\"\n             android:label=\"@string/title_activity_role_detail\" />\n+        <activity\n+            android:name=\".directory.service.detail.ServiceDetailActivity\"\n+            android:configChanges=\"orientation|screenSize\"\n+            android:label=\"@string/title_activity_service_detail\" />\n         <activity\n             android:name=\".directory.people.detail.PeopleDetailActivity\"\n             android:configChanges=\"orientation|screenSize\"\n@@ -418,6 +430,10 @@\n             android:name=\".activity.RoomDirectoryPickerActivity\"\n             android:configChanges=\"orientation|screenSize\"\n             android:label=\"@string/select_room_directory\" />\n+        <activity\n+            android:name=\".patient.PatientTagActivity\"\n+            android:configChanges=\"orientation|screenSize\"\n+            android:label=\"@string/patient_tag_title\" />\n         <activity\n             android:name=\".activity.PhoneNumberVerificationActivity\"\n             android:configChanges=\"orientation|screenSize\""
  },
  {
    "sha": "bdd290db206971c504b746237f9b062e9f4eab8c",
    "filename": "vector/src/main/java/im/vector/activity/CommonActivityUtils.java",
    "status": "modified",
    "additions": 64,
    "deletions": 53,
    "changes": 117,
    "blob_url": "https://github.com/fhirfactory/pegacorn-communicate-app-android/blob/0717e61c105178652c8c1d1d54cc7fa8252dba48/vector/src/main/java/im/vector/activity/CommonActivityUtils.java",
    "raw_url": "https://github.com/fhirfactory/pegacorn-communicate-app-android/raw/0717e61c105178652c8c1d1d54cc7fa8252dba48/vector/src/main/java/im/vector/activity/CommonActivityUtils.java",
    "contents_url": "https://api.github.com/repos/fhirfactory/pegacorn-communicate-app-android/contents/vector/src/main/java/im/vector/activity/CommonActivityUtils.java?ref=0717e61c105178652c8c1d1d54cc7fa8252dba48",
    "patch": "@@ -111,6 +111,10 @@\n     public static final float UTILS_POWER_LEVEL_MODERATOR = 50;\n     private static final int ROOM_SIZE_ONE_TO_ONE = 2;\n \n+    // power names\n+    public static final String UTILS_POWER_LEVEL_ADMIN_NAME = \"Admin\";\n+    public static final String UTILS_POWER_LEVEL_MODERATOR_NAME = \"Moderator\";\n+\n     /**\n      * Logout a sessions list\n      *\n@@ -816,9 +820,9 @@ public void onSuccess(Void info) {\n      * @param fromActivity the caller activity\n      * @param intent       the intent param\n      */\n-    public static void sendFilesTo(final Activity fromActivity, final Intent intent) {\n+    public static void sendFilesTo(final Activity fromActivity, final Intent intent, final RoomSummary roomsummary) {\n         if (Matrix.getMXSessions(fromActivity).size() == 1) {\n-            sendFilesTo(fromActivity, intent, Matrix.getMXSession(fromActivity, null));\n+            sendFilesTo(fromActivity, intent, Matrix.getMXSession(fromActivity, null), roomsummary);\n         } else if (fromActivity instanceof FragmentActivity) {\n             // TBD\n         }\n@@ -831,74 +835,81 @@ public static void sendFilesTo(final Activity fromActivity, final Intent intent)\n      * @param intent       the intent param\n      * @param session      the session/\n      */\n-    private static void sendFilesTo(final Activity fromActivity, final Intent intent, final MXSession session) {\n+    private static void sendFilesTo(final Activity fromActivity, final Intent intent, final MXSession session, final RoomSummary roomsummary) {\n         // sanity check\n         if ((null == session) || !session.isAlive() || fromActivity.isFinishing()) {\n             return;\n         }\n \n-        List<RoomSummary> mergedSummaries = new ArrayList<>(session.getDataHandler().getStore().getSummaries());\n-\n-        // keep only the joined room\n-        for (int index = 0; index < mergedSummaries.size(); index++) {\n-            RoomSummary summary = mergedSummaries.get(index);\n-            Room room = session.getDataHandler().getRoom(summary.getRoomId());\n+        if(roomsummary!=null){\n+            goToRoomPage(fromActivity, session, prepareMap(roomsummary, intent, session));\n+        }else {\n \n-            if ((null == room) || room.isInvited() || room.isConferenceUserRoom()) {\n-                mergedSummaries.remove(index);\n-                index--;\n-            }\n-        }\n+            List<RoomSummary> mergedSummaries = new ArrayList<>(session.getDataHandler().getStore().getSummaries());\n \n-        Collections.sort(mergedSummaries, new Comparator<RoomSummary>() {\n-            @Override\n-            public int compare(RoomSummary lhs, RoomSummary rhs) {\n-                if (lhs == null || lhs.getLatestReceivedEvent() == null) {\n-                    return 1;\n-                } else if (rhs == null || rhs.getLatestReceivedEvent() == null) {\n-                    return -1;\n-                }\n+            // keep only the joined room\n+            for (int index = 0; index < mergedSummaries.size(); index++) {\n+                RoomSummary summary = mergedSummaries.get(index);\n+                Room room = session.getDataHandler().getRoom(summary.getRoomId());\n \n-                if (lhs.getLatestReceivedEvent().getOriginServerTs() > rhs.getLatestReceivedEvent().getOriginServerTs()) {\n-                    return -1;\n-                } else if (lhs.getLatestReceivedEvent().getOriginServerTs() < rhs.getLatestReceivedEvent().getOriginServerTs()) {\n-                    return 1;\n+                if ((null == room) || room.isInvited() || room.isConferenceUserRoom()) {\n+                    mergedSummaries.remove(index);\n+                    index--;\n                 }\n-                return 0;\n             }\n-        });\n \n-        VectorRoomsSelectionAdapter adapter = new VectorRoomsSelectionAdapter(fromActivity, R.layout.adapter_item_vector_recent_room, session);\n-        adapter.addAll(mergedSummaries);\n+            Collections.sort(mergedSummaries, new Comparator<RoomSummary>() {\n+                @Override\n+                public int compare(RoomSummary lhs, RoomSummary rhs) {\n+                    if (lhs == null || lhs.getLatestReceivedEvent() == null) {\n+                        return 1;\n+                    } else if (rhs == null || rhs.getLatestReceivedEvent() == null) {\n+                        return -1;\n+                    }\n \n-        final List<RoomSummary> fMergedSummaries = mergedSummaries;\n+                    if (lhs.getLatestReceivedEvent().getOriginServerTs() > rhs.getLatestReceivedEvent().getOriginServerTs()) {\n+                        return -1;\n+                    } else if (lhs.getLatestReceivedEvent().getOriginServerTs() < rhs.getLatestReceivedEvent().getOriginServerTs()) {\n+                        return 1;\n+                    }\n+                    return 0;\n+                }\n+            });\n \n-        new AlertDialog.Builder(fromActivity)\n-                .setTitle(R.string.send_files_in)\n-                .setNegativeButton(R.string.cancel, null)\n-                .setAdapter(adapter,\n-                        new DialogInterface.OnClickListener() {\n+            VectorRoomsSelectionAdapter adapter = new VectorRoomsSelectionAdapter(fromActivity, R.layout.adapter_item_vector_recent_room, session);\n+            adapter.addAll(mergedSummaries);\n \n-                            @Override\n-                            public void onClick(DialogInterface dialog, final int which) {\n-                                dialog.dismiss();\n+            final List<RoomSummary> fMergedSummaries = mergedSummaries;\n \n-                                fromActivity.runOnUiThread(new Runnable() {\n-                                    @Override\n-                                    public void run() {\n-                                        RoomSummary summary = fMergedSummaries.get(which);\n+            new AlertDialog.Builder(fromActivity)\n+                    .setTitle(R.string.send_files_in)\n+                    .setNegativeButton(R.string.cancel, null)\n+                    .setAdapter(adapter,\n+                            new DialogInterface.OnClickListener() {\n \n-                                        Map<String, Object> params = new HashMap<>();\n-                                        params.put(VectorRoomActivity.EXTRA_MATRIX_ID, session.getMyUserId());\n-                                        params.put(VectorRoomActivity.EXTRA_ROOM_ID, summary.getRoomId());\n-                                        params.put(VectorRoomActivity.EXTRA_ROOM_INTENT, intent);\n+                                @Override\n+                                public void onClick(DialogInterface dialog, final int which) {\n+                                    dialog.dismiss();\n+\n+                                    fromActivity.runOnUiThread(new Runnable() {\n+                                        @Override\n+                                        public void run() {\n+                                            RoomSummary summary = fMergedSummaries.get(which);\n+                                            goToRoomPage(fromActivity, session, prepareMap(summary, intent, session));\n+                                        }\n+                                    });\n+                                }\n+                            })\n+                    .show();\n+        }\n+    }\n \n-                                        goToRoomPage(fromActivity, session, params);\n-                                    }\n-                                });\n-                            }\n-                        })\n-                .show();\n+    private static Map<String, Object> prepareMap(final RoomSummary summary, final Intent intent, final MXSession session){\n+        Map<String, Object> params = new HashMap<>();\n+        params.put(VectorRoomActivity.EXTRA_MATRIX_ID, session.getMyUserId());\n+        params.put(VectorRoomActivity.EXTRA_ROOM_ID, summary.getRoomId());\n+        params.put(VectorRoomActivity.EXTRA_ROOM_INTENT, intent);\n+        return params;\n     }\n \n     //=============================================================================================================="
  },
  {
    "sha": "c862d6534ea88edeef328f59fdf8ace21e918157",
    "filename": "vector/src/main/java/im/vector/activity/FallbackAuthenticationActivity.kt",
    "status": "modified",
    "additions": 70,
    "deletions": 3,
    "changes": 73,
    "blob_url": "https://github.com/fhirfactory/pegacorn-communicate-app-android/blob/0717e61c105178652c8c1d1d54cc7fa8252dba48/vector/src/main/java/im/vector/activity/FallbackAuthenticationActivity.kt",
    "raw_url": "https://github.com/fhirfactory/pegacorn-communicate-app-android/raw/0717e61c105178652c8c1d1d54cc7fa8252dba48/vector/src/main/java/im/vector/activity/FallbackAuthenticationActivity.kt",
    "contents_url": "https://api.github.com/repos/fhirfactory/pegacorn-communicate-app-android/contents/vector/src/main/java/im/vector/activity/FallbackAuthenticationActivity.kt?ref=0717e61c105178652c8c1d1d54cc7fa8252dba48",
    "patch": "@@ -20,6 +20,7 @@ import android.content.Context\n import android.content.DialogInterface\n import android.content.Intent\n import android.graphics.Bitmap\n+import android.net.UrlQuerySanitizer\n import android.net.http.SslError\n import android.os.Build\n import android.text.TextUtils\n@@ -32,11 +33,26 @@ import butterknife.BindView\n import com.google.gson.internal.LinkedTreeMap\n import com.google.gson.reflect.TypeToken\n import im.vector.R\n+import im.vector.activity.sso.SSOLoginAPI\n+import im.vector.activity.sso.SSORequestParameters\n+import im.vector.activity.sso.SSORequestResponse\n import org.matrix.androidsdk.core.JsonUtils\n import org.matrix.androidsdk.core.Log\n import org.matrix.androidsdk.rest.model.login.Credentials\n+import retrofit2.Call\n+import retrofit2.Callback\n+import retrofit2.Response\n+import retrofit2.Retrofit\n+import retrofit2.converter.gson.GsonConverterFactory\n+import java.io.DataOutputStream\n+import java.io.FileNotFoundException\n+import java.net.URL\n+import java.net.URLConnection\n import java.net.URLDecoder\n+import java.net.URLEncoder\n+import java.nio.charset.StandardCharsets\n import java.util.*\n+import javax.net.ssl.HttpsURLConnection\n \n /**\n  * FallbackAuthenticationActivity is the fallback login or create account activity\n@@ -55,7 +71,7 @@ class FallbackAuthenticationActivity : VectorAppCompatActivity() {\n \n     override fun getLayoutRes() = R.layout.activity_authentication_fallback\n \n-    override fun getTitleRes() = if (mMode == MODE_LOGIN) R.string.login else R.string.create_account\n+    override fun getTitleRes() = if (mMode == MODE_REGISTER) R.string.create_account else R.string.login\n \n     override fun initUiAndData() {\n         configureToolbar()\n@@ -117,6 +133,9 @@ class FallbackAuthenticationActivity : VectorAppCompatActivity() {\n     private fun launchWebView() {\n         if (mMode == MODE_LOGIN) {\n             mWebView.loadUrl(mHomeServerUrl!! + \"_matrix/static/client/login/\")\n+        } else if (mMode == MODE_SSO){\n+            val serverurl = mHomeServerUrl!! + \"_matrix/client/r0/login/sso/redirect?redirectUrl=\" + URLEncoder.encode(SSORedirectURL)\n+            mWebView.loadUrl(serverurl)\n         } else {\n             // MODE_REGISTER\n             mWebView.loadUrl(mHomeServerUrl!! + \"_matrix/static/client/register/\")\n@@ -212,16 +231,54 @@ class FallbackAuthenticationActivity : VectorAppCompatActivity() {\n              * @return\n              */\n             override fun shouldOverrideUrlLoading(view: WebView, url: String?): Boolean {\n+                if (null != url && url.startsWith(SSORedirectURL)){\n+                    val token = UrlQuerySanitizer(url).getValue(\"loginToken\").removeSuffix(\"#\")\n+                    val requestURL = URL(mHomeServerUrl!! + \"_matrix/client/r0/login\")\n+                    val retrofit = Retrofit.Builder()\n+                            .baseUrl(mHomeServerUrl!!)\n+                            .addConverterFactory(GsonConverterFactory.create())\n+                            .build()\n+\n+                    // Create Service\n+                    val service = retrofit.create(SSOLoginAPI::class.java)\n+                    val response = service.login(SSORequestParameters(token))\n+                    response.enqueue(object: Callback<SSORequestResponse>{\n+                        override fun onFailure(call: Call<SSORequestResponse>, t: Throwable) {\n+                            TODO(\"Not yet implemented\")\n+                        }\n+\n+                        override fun onResponse(call: Call<SSORequestResponse>, response: Response<SSORequestResponse>) {\n+                            val body = response.body()\n+                            if (null != body) {\n+                                val credentials = Credentials()\n+\n+                                credentials.userId = body.userID\n+                                credentials.accessToken = body.accessToken\n+                                credentials.homeServer = body.homeServer\n+                                credentials.deviceId = body.deviceId\n+\n+                                runOnUiThread {\n+                                    val returnIntent = Intent()\n+                                    returnIntent.putExtra(EXTRA_OUT_SERIALIZED_CREDENTIALS, JsonUtils.getBasicGson().toJson(credentials))\n+                                    setResult(RESULT_OK, returnIntent)\n+\n+                                    finish()\n+                                }\n+                            }\n+                        }\n+\n+                    })\n+                    return true\n+                }\n                 if (null != url && url.startsWith(\"js:\")) {\n                     var json = url.substring(3)\n                     var parameters: Map<String, Any>? = null\n \n                     try {\n                         // URL decode\n                         json = URLDecoder.decode(json, \"UTF-8\")\n-                        parameters = JsonUtils.getBasicGson().fromJson<Map<String, Any>>(json, object : TypeToken<HashMap<String, Any>>() {\n+                        parameters = JsonUtils.getBasicGson().fromJson<Map<String, Any>>(json, object : TypeToken<HashMap<String, Any>>() {}.type)\n \n-                        }.type)\n                     } catch (e: Exception) {\n                         Log.e(LOG_TAG, \"## shouldOverrideUrlLoading() : fromJson failed \" + e.message, e)\n                     }\n@@ -315,11 +372,14 @@ class FallbackAuthenticationActivity : VectorAppCompatActivity() {\n \n         private const val MODE_LOGIN = 1\n         private const val MODE_REGISTER = 2\n+        private const val MODE_SSO = 3\n \n         private const val EXTRA_IN_MODE = \"FallbackAuthenticationActivity.EXTRA_IN_MODE\"\n         private const val EXTRA_IN_HOME_SERVER_URL = \"FallbackAuthenticationActivity.EXTRA_IN_HOME_SERVER_URL\"\n         private const val EXTRA_OUT_SERIALIZED_CREDENTIALS = \"FallbackAuthenticationActivity.EXTRA_OUT_SERIALIZED_CREDENTIALS\"\n \n+        private const val SSORedirectURL = \"lingo://login\";\n+\n         /* ==========================================================================================\n          * IN\n          * ========================================================================================== */\n@@ -331,6 +391,13 @@ class FallbackAuthenticationActivity : VectorAppCompatActivity() {\n             return intent\n         }\n \n+        fun getIntentToLoginWithSSO(context: Context, homeserverUrl: String): Intent {\n+            val intent = Intent(context, FallbackAuthenticationActivity::class.java)\n+            intent.putExtra(EXTRA_IN_MODE, MODE_SSO)\n+            intent.putExtra(EXTRA_IN_HOME_SERVER_URL, homeserverUrl)\n+            return intent\n+        }\n+\n         fun getIntentToRegister(context: Context, homeserverUrl: String): Intent {\n             val intent = Intent(context, FallbackAuthenticationActivity::class.java)\n             intent.putExtra(EXTRA_IN_MODE, MODE_REGISTER)"
  },
  {
    "sha": "f19104d6430b1c53fbe0b4b5bb195788447cfbaa",
    "filename": "vector/src/main/java/im/vector/activity/LoginActivity.java",
    "status": "modified",
    "additions": 49,
    "deletions": 11,
    "changes": 60,
    "blob_url": "https://github.com/fhirfactory/pegacorn-communicate-app-android/blob/0717e61c105178652c8c1d1d54cc7fa8252dba48/vector/src/main/java/im/vector/activity/LoginActivity.java",
    "raw_url": "https://github.com/fhirfactory/pegacorn-communicate-app-android/raw/0717e61c105178652c8c1d1d54cc7fa8252dba48/vector/src/main/java/im/vector/activity/LoginActivity.java",
    "contents_url": "https://api.github.com/repos/fhirfactory/pegacorn-communicate-app-android/contents/vector/src/main/java/im/vector/activity/LoginActivity.java?ref=0717e61c105178652c8c1d1d54cc7fa8252dba48",
    "patch": "@@ -128,10 +128,10 @@\n     private static final int MODE_UNKNOWN = 0;\n     private static final int MODE_LOGIN = 1;\n     private static final int MODE_LOGIN_SSO = 2;\n-    private static final int MODE_ACCOUNT_CREATION = 3;\n-    private static final int MODE_FORGOT_PASSWORD = 4;\n-    private static final int MODE_FORGOT_PASSWORD_WAITING_VALIDATION = 5;\n-    private static final int MODE_ACCOUNT_CREATION_THREE_PID = 6;\n+    private static final int MODE_ACCOUNT_CREATION = 4;\n+    private static final int MODE_FORGOT_PASSWORD = 8;\n+    private static final int MODE_FORGOT_PASSWORD_WAITING_VALIDATION = 16;\n+    private static final int MODE_ACCOUNT_CREATION_THREE_PID = 32;\n \n     // saved parameters index\n     // creation\n@@ -224,6 +224,9 @@\n     @BindView(R.id.login_actions_bar)\n     View mButtonsView;\n \n+    @BindView(R.id.login_or)\n+    TextView mLoginOr;\n+\n     // if the taps on login button\n     // after updating the IS / HS urls\n     // without selecting another item\n@@ -472,6 +475,13 @@ public int getLayoutRes() {\n         return R.layout.activity_vector_login;\n     }\n \n+    private void removePhoneOptions(){\n+        //mLoginPhoneNumberCountryCode.setVisibility(View.GONE);\n+        mLoginPhoneNumber.setVisibility(View.GONE);\n+        mLoginOr.setVisibility(View.GONE);\n+        mSwitchToRegisterButton.setVisibility(View.GONE);\n+    }\n+\n     @Override\n     public void initUiAndData() {\n         if (null == getIntent()) {\n@@ -743,6 +753,7 @@ public void afterTextChanged(Editable s) {\n         }else{\n             customServerUrlLayout.setVisibility(View.GONE);\n         }\n+        removePhoneOptions();\n     }\n \n     private void tryAutoDiscover(String possibleDomain) {\n@@ -813,6 +824,8 @@ private void onAutoDiscoveryRetrieved(String domain, AutoDiscovery.DiscoveredCli\n                         mHomeServerText.setText(null);\n                         mIdentityServerText.setText(null);\n                         mUseCustomHomeServersCheckbox.performClick();\n+                        mRegistrationNotAllowed = false;\n+                        mHasCheckedRegistrationFlows = false;\n                     }\n                 } else {\n                     if (!mUseCustomHomeServersCheckbox.isChecked()\n@@ -1202,7 +1215,8 @@ private void checkFlows() {\n         if (mMode == MODE_LOGIN\n                 || mMode == MODE_LOGIN_SSO\n                 || mMode == MODE_FORGOT_PASSWORD\n-                || mMode == MODE_FORGOT_PASSWORD_WAITING_VALIDATION) {\n+                || mMode == MODE_FORGOT_PASSWORD_WAITING_VALIDATION\n+                || mMode == (MODE_LOGIN | MODE_LOGIN_SSO)) {\n             checkLoginFlows();\n         } else {\n             checkRegistrationFlows();\n@@ -1770,9 +1784,10 @@ public void run() {\n     private void checkRegistrationFlows() {\n         Log.d(LOG_TAG, \"## checkRegistrationFlows(): IN\");\n         // should only check registration flows\n-        if (mMode != MODE_ACCOUNT_CREATION) {\n+        if (mMode != MODE_ACCOUNT_CREATION && mHasCheckedRegistrationFlows) {\n             return;\n         }\n+        mHasCheckedRegistrationFlows = true;\n \n         if (!mRegistrationManager.hasRegistrationResponse()) {\n             try {\n@@ -1852,6 +1867,8 @@ public void onMatrixError(MatrixError e) {\n \n                                 // start Login due to a pending email validation\n                                 checkIfMailValidationPending();\n+                            } else if (e.mStatus == 403) {\n+                                onRegistrationNotAllowed();\n                             }\n                         }\n                     });\n@@ -1865,8 +1882,13 @@ public void onMatrixError(MatrixError e) {\n         }\n     }\n \n+    private boolean mHasCheckedRegistrationFlows = false;\n+    private boolean mRegistrationNotAllowed = false;\n+\n     private void onRegistrationNotAllowed() {\n         // Registration not supported by the server\n+        enableLoadingScreen(false);\n+        mRegistrationNotAllowed = true;\n         mMode = MODE_LOGIN;\n         refreshDisplay(true);\n \n@@ -1914,8 +1936,9 @@ void openLoginFallback() {\n         final HomeServerConnectionConfig hsConfig = getHsConfig();\n \n         Intent intent = FallbackAuthenticationActivity.Companion\n-                .getIntentToLogin(LoginActivity.this, hsConfig.getHomeserverUri().toString());\n+                .getIntentToLoginWithSSO(LoginActivity.this, hsConfig.getHomeserverUri().toString());\n         startActivityForResult(intent, RequestCodesKt.FALLBACK_AUTHENTICATION_ACTIVITY_REQUEST_CODE);\n+\n     }\n \n     /**\n@@ -2209,7 +2232,14 @@ public void onSuccess(List<LoginFlow> flows) {\n \n                             if (isSsoDetected) {\n                                 // SSO has priority over password\n-                                mMode = MODE_LOGIN_SSO;\n+                                if (!isTypePasswordDetected) {\n+                                    final HomeServerConnectionConfig hsConfig = getHsConfig();\n+\n+                                    Intent intent = FallbackAuthenticationActivity.Companion\n+                                            .getIntentToLoginWithSSO(LoginActivity.this, hsConfig.getHomeserverUri().toString());\n+                                    startActivityForResult(intent, RequestCodesKt.FALLBACK_AUTHENTICATION_ACTIVITY_REQUEST_CODE);\n+                                }\n+                                mMode = MODE_LOGIN_SSO | (isTypePasswordDetected ? MODE_LOGIN : 0);\n                                 refreshDisplay(true);\n                             } else if (isTypePasswordDetected) {\n                                 // In case we were previously in SSO mode\n@@ -2222,6 +2252,8 @@ public void onSuccess(List<LoginFlow> flows) {\n                                 openLoginFallback();\n                             }\n                         }\n+\n+                        checkRegistrationFlows();\n                     }\n \n                     private void onError(String errorMessage) {\n@@ -2335,6 +2367,11 @@ private void refreshDisplay(boolean checkFlow) {\n         // home server\n         mHomeServerUrlsLayout.setVisibility(mUseCustomHomeServersCheckbox.isChecked() ? View.VISIBLE : View.GONE);\n \n+        if (mUseCustomHomeServersCheckbox.isChecked()) {\n+            mRegistrationNotAllowed = false;\n+            mHasCheckedRegistrationFlows = false;\n+        }\n+\n         // Hide views\n         mLoginLayout.setVisibility(View.GONE);\n         mCreationLayout.setVisibility(View.GONE);\n@@ -2359,12 +2396,13 @@ private void refreshDisplay(boolean checkFlow) {\n \n         // Then show them depending on mode\n         switch (mMode) {\n+            case MODE_LOGIN|MODE_LOGIN_SSO:\n             case MODE_LOGIN:\n                 mLoginLayout.setVisibility(View.VISIBLE);\n                 mPasswordForgottenTxtView.setVisibility(View.VISIBLE);\n                 mLoginButton.setVisibility(View.VISIBLE);\n-                mSwitchToRegisterButton.setVisibility(View.VISIBLE);\n-                break;\n+                mSwitchToRegisterButton.setVisibility(mRegistrationNotAllowed ? View.GONE : View.VISIBLE);\n+                if (mMode==MODE_LOGIN) break;\n             case MODE_LOGIN_SSO:\n                 mLoginSsoButton.setVisibility(View.VISIBLE);\n                 break;\n@@ -2568,7 +2606,7 @@ protected void onActivityResult(int requestCode, int resultCode, Intent data) {\n                 mHomeserverConnectionConfig = null;\n                 mRegistrationManager.reset();\n \n-                if (mMode != MODE_LOGIN_SSO) {\n+                if ((mMode & MODE_LOGIN_SSO) == 0) {\n                     mHomeServerText.setText(null);\n                     setActionButtonsEnabled(false);\n                     checkFlows();"
  },
  {
    "sha": "1a14b3af2e625e60594ce640a6f1603f8bf2e892",
    "filename": "vector/src/main/java/im/vector/activity/MXCActionBarActivity.java",
    "status": "modified",
    "additions": 1,
    "deletions": 1,
    "changes": 2,
    "blob_url": "https://github.com/fhirfactory/pegacorn-communicate-app-android/blob/0717e61c105178652c8c1d1d54cc7fa8252dba48/vector/src/main/java/im/vector/activity/MXCActionBarActivity.java",
    "raw_url": "https://github.com/fhirfactory/pegacorn-communicate-app-android/raw/0717e61c105178652c8c1d1d54cc7fa8252dba48/vector/src/main/java/im/vector/activity/MXCActionBarActivity.java",
    "contents_url": "https://api.github.com/repos/fhirfactory/pegacorn-communicate-app-android/contents/vector/src/main/java/im/vector/activity/MXCActionBarActivity.java?ref=0717e61c105178652c8c1d1d54cc7fa8252dba48",
    "patch": "@@ -42,7 +42,7 @@\n /**\n  * extends ActionBarActivity to manage the rageshake\n  */\n-public abstract class MXCActionBarActivity extends VectorAppCompatActivity {\n+public abstract class   MXCActionBarActivity extends VectorAppCompatActivity {\n     // TODO Make this protected\n     public static final String EXTRA_MATRIX_ID = \"MXCActionBarActivity.EXTRA_MATRIX_ID\";\n "
  },
  {
    "sha": "8d6fc04ca25f68fc67a693693447ff8fa9af5e99",
    "filename": "vector/src/main/java/im/vector/activity/SimpleFragmentActivity.kt",
    "status": "modified",
    "additions": 9,
    "deletions": 0,
    "changes": 9,
    "blob_url": "https://github.com/fhirfactory/pegacorn-communicate-app-android/blob/0717e61c105178652c8c1d1d54cc7fa8252dba48/vector/src/main/java/im/vector/activity/SimpleFragmentActivity.kt",
    "raw_url": "https://github.com/fhirfactory/pegacorn-communicate-app-android/raw/0717e61c105178652c8c1d1d54cc7fa8252dba48/vector/src/main/java/im/vector/activity/SimpleFragmentActivity.kt",
    "contents_url": "https://api.github.com/repos/fhirfactory/pegacorn-communicate-app-android/contents/vector/src/main/java/im/vector/activity/SimpleFragmentActivity.kt?ref=0717e61c105178652c8c1d1d54cc7fa8252dba48",
    "patch": "@@ -16,6 +16,7 @@\n package im.vector.activity\n \n import android.view.View\n+import android.view.inputmethod.InputMethodManager\n import android.widget.ProgressBar\n import android.widget.TextView\n import androidx.core.view.isGone\n@@ -89,6 +90,14 @@ abstract class SimpleFragmentActivity : MXCActionBarActivity() , SimpleFragmentA\n         super.hideWaitingView()\n     }\n \n+    override fun hideKeyboard() {\n+        val view = currentFocus\n+        if (view != null) {\n+            val inputMethodManager = getSystemService(INPUT_METHOD_SERVICE) as InputMethodManager\n+            inputMethodManager.hideSoftInputFromWindow(view.windowToken, 0)\n+        }\n+    }\n+\n     override fun onBackPressed() {\n         if (waitingView!!.isVisible) {\n             // ignore"
  },
  {
    "sha": "076464883191aa9a9fd4a5b277cd27736066d96a",
    "filename": "vector/src/main/java/im/vector/activity/SimpleFragmentActivityListener.kt",
    "status": "modified",
    "additions": 1,
    "deletions": 0,
    "changes": 1,
    "blob_url": "https://github.com/fhirfactory/pegacorn-communicate-app-android/blob/0717e61c105178652c8c1d1d54cc7fa8252dba48/vector/src/main/java/im/vector/activity/SimpleFragmentActivityListener.kt",
    "raw_url": "https://github.com/fhirfactory/pegacorn-communicate-app-android/raw/0717e61c105178652c8c1d1d54cc7fa8252dba48/vector/src/main/java/im/vector/activity/SimpleFragmentActivityListener.kt",
    "contents_url": "https://api.github.com/repos/fhirfactory/pegacorn-communicate-app-android/contents/vector/src/main/java/im/vector/activity/SimpleFragmentActivityListener.kt?ref=0717e61c105178652c8c1d1d54cc7fa8252dba48",
    "patch": "@@ -6,4 +6,5 @@ interface SimpleFragmentActivityListener {\n     fun showWaitingView()\n     fun hideWaitingView()\n     fun updateWaitingView(data: WaitingViewData?)\n+    fun hideKeyboard()\n }\n\\ No newline at end of file"
  },
  {
    "sha": "40b3e12840521cf822cb334bcd0f970d4a6702ef",
    "filename": "vector/src/main/java/im/vector/activity/VectorBaseSearchActivity.java",
    "status": "modified",
    "additions": 2,
    "deletions": 2,
    "changes": 4,
    "blob_url": "https://github.com/fhirfactory/pegacorn-communicate-app-android/blob/0717e61c105178652c8c1d1d54cc7fa8252dba48/vector/src/main/java/im/vector/activity/VectorBaseSearchActivity.java",
    "raw_url": "https://github.com/fhirfactory/pegacorn-communicate-app-android/raw/0717e61c105178652c8c1d1d54cc7fa8252dba48/vector/src/main/java/im/vector/activity/VectorBaseSearchActivity.java",
    "contents_url": "https://api.github.com/repos/fhirfactory/pegacorn-communicate-app-android/contents/vector/src/main/java/im/vector/activity/VectorBaseSearchActivity.java?ref=0717e61c105178652c8c1d1d54cc7fa8252dba48",
    "patch": "@@ -61,7 +61,7 @@\n     private static final int SPEECH_REQUEST_CODE = 1234;\n \n     private ActionBar mActionBar;\n-    EditText mPatternToSearchEditText;\n+    public EditText mPatternToSearchEditText;\n \n     private MenuItem mMicroMenuItem;\n     private MenuItem mClearEditTextMenuItem;\n@@ -191,7 +191,7 @@ public void run() {\n      *\n      * @param isTypingUpdate true when the pattern has been updated while typing.\n      */\n-    void onPatternUpdate(boolean isTypingUpdate) {\n+    protected void onPatternUpdate(boolean isTypingUpdate) {\n         // do something here\n     }\n "
  },
  {
    "sha": "89df550ab8712e41fc7d42d56389e4d22fbbc17d",
    "filename": "vector/src/main/java/im/vector/activity/VectorHomeActivity.java",
    "status": "modified",
    "additions": 122,
    "deletions": 76,
    "changes": 198,
    "blob_url": "https://github.com/fhirfactory/pegacorn-communicate-app-android/blob/0717e61c105178652c8c1d1d54cc7fa8252dba48/vector/src/main/java/im/vector/activity/VectorHomeActivity.java",
    "raw_url": "https://github.com/fhirfactory/pegacorn-communicate-app-android/raw/0717e61c105178652c8c1d1d54cc7fa8252dba48/vector/src/main/java/im/vector/activity/VectorHomeActivity.java",
    "contents_url": "https://api.github.com/repos/fhirfactory/pegacorn-communicate-app-android/contents/vector/src/main/java/im/vector/activity/VectorHomeActivity.java?ref=0717e61c105178652c8c1d1d54cc7fa8252dba48",
    "patch": "@@ -53,6 +53,7 @@\n import android.widget.Toast;\n \n import androidx.annotation.NonNull;\n+import androidx.annotation.StringRes;\n import androidx.appcompat.app.ActionBarDrawerToggle;\n import androidx.appcompat.app.AlertDialog;\n import androidx.appcompat.widget.SearchView;\n@@ -107,6 +108,7 @@\n import java.util.HashSet;\n import java.util.List;\n import java.util.Map;\n+import java.util.Objects;\n import java.util.Set;\n \n import butterknife.BindView;\n@@ -119,15 +121,21 @@\n import im.vector.VectorApp;\n import im.vector.adapters.RolesInNavigationBarAdapter;\n import im.vector.adapters.model.UserRole;\n+import im.vector.chat.CHAT_TYPE;\n+import im.vector.chat.ChatCreateActivity;\n+import im.vector.calls.CallsFragment;\n+import im.vector.directory.DirectoryFragment;\n+import im.vector.code.CodeEventFragment;\n import im.vector.extensions.ViewExtensionsKt;\n import im.vector.features.logout.ProposeLogout;\n import im.vector.fragments.AbsHomeFragment;\n-import im.vector.fragments.FavouritesFragment;\n import im.vector.fragments.GroupsFragment;\n-import im.vector.fragments.PeopleFragment;\n import im.vector.fragments.RoomsFragment;\n+import im.vector.fragments.VectorSearchRoomFilesListFragment;\n+import im.vector.fragments.VectorSearchRoomsFilesListFragment;\n import im.vector.fragments.signout.SignOutBottomSheetDialogFragment;\n import im.vector.fragments.signout.SignOutViewModel;\n+import im.vector.gallery.GalleryFragment;\n import im.vector.home.CommunicateHomeFragment;\n import im.vector.invite.InviteActivity;\n import im.vector.push.PushManager;\n@@ -523,7 +531,7 @@ public void onSuccess(String roomId) {\n                         @Override\n                         public void run() {\n                             Log.d(LOG_TAG, \"shared intent : The store is ready -> display sendFilesTo\");\n-                            CommonActivityUtils.sendFilesTo(VectorHomeActivity.this, sharedFilesIntent);\n+                            CommonActivityUtils.sendFilesTo(VectorHomeActivity.this, sharedFilesIntent, null);\n                         }\n                     });\n                 } else {\n@@ -573,7 +581,7 @@ public void run() {\n      * Display the Floating Action Menu if it is required\n      */\n     private void showFloatingActionMenuIfRequired() {\n-        if ((mCurrentMenuId == R.id.bottom_action_favourites) || (mCurrentMenuId == R.id.bottom_action_groups)) {\n+        if ((mCurrentMenuId == R.id.bottom_action_favourites) || (mCurrentMenuId == R.id.bottom_action_groups) || (mCurrentMenuId == R.id.bottom_action_rooms)) {\n             concealFloatingActionMenu();\n         } else {\n             revealFloatingActionMenu();\n@@ -767,7 +775,7 @@ public boolean onPrepareOptionsMenu(Menu menu) {\n             return false;\n         }\n \n-        if(!getResources().getBoolean(R.bool.enable_riot_search_view)) {\n+        if (!getResources().getBoolean(R.bool.enable_riot_search_view)) {\n             MenuItem searchMenuItem = menu.findItem(R.id.action_search);\n             mSearchView = (SearchView) searchMenuItem.getActionView();\n             setUpSearchView();\n@@ -971,44 +979,60 @@ private void updateSelectedFragment(final MenuItem item) {\n                     fragment = new CommunicateHomeFragment();\n                 }\n                 mCurrentFragmentTag = TAG_FRAGMENT_HOME;\n+                setActionBarTitle(R.string.riot_app_name);\n                 setQueryHint(R.string.home_filter_placeholder_home, R.string.search_chats);\n                 break;\n             case R.id.bottom_action_favourites:\n                 Log.d(LOG_TAG, \"onNavigationItemSelected FAVOURITES\");\n                 fragment = mFragmentManager.findFragmentByTag(TAG_FRAGMENT_FAVOURITES);\n                 if (fragment == null) {\n-                    fragment = FavouritesFragment.newInstance();\n+                    fragment = new GalleryFragment();//VectorSearchRoomFilesListFragment.newInstance(mSession.getMyUserId(),\"!HdSQgdQYAGKNMuYUPk:matrix.org\",R.layout.fragment_matrix_message_list_fragment);\n                 }\n                 mCurrentFragmentTag = TAG_FRAGMENT_FAVOURITES;\n+                setActionBarTitle(R.string.bottom_action_gallery);\n+                mSearchView.setVisibility(View.GONE);\n                 setQueryHint(R.string.home_filter_placeholder_favorites, R.string.search_chats);\n                 break;\n             case R.id.bottom_action_people:\n                 Log.d(LOG_TAG, \"onNavigationItemSelected PEOPLE\");\n                 fragment = mFragmentManager.findFragmentByTag(TAG_FRAGMENT_PEOPLE);\n                 if (fragment == null) {\n-                    fragment = PeopleFragment.newInstance();\n+                    fragment = new DirectoryFragment();\n                 }\n                 mCurrentFragmentTag = TAG_FRAGMENT_PEOPLE;\n-                setQueryHint(R.string.home_filter_placeholder_people, R.string.search_chats);\n+                mSearchView.setVisibility(View.GONE);\n+                setActionBarTitle(R.string.directory_title);\n                 break;\n             case R.id.bottom_action_rooms:\n                 Log.d(LOG_TAG, \"onNavigationItemSelected ROOMS\");\n                 fragment = mFragmentManager.findFragmentByTag(TAG_FRAGMENT_ROOMS);\n                 if (fragment == null) {\n-                    fragment = RoomsFragment.newInstance();\n+                    fragment = new CallsFragment();\n                 }\n                 mCurrentFragmentTag = TAG_FRAGMENT_ROOMS;\n-                setQueryHint(R.string.home_filter_placeholder_rooms, R.string.search_chats);\n+                mSearchView.setVisibility(View.GONE);\n+                setActionBarTitle(R.string.calls_title);\n                 break;\n             case R.id.bottom_action_groups:\n                 Log.d(LOG_TAG, \"onNavigationItemSelected GROUPS\");\n                 fragment = mFragmentManager.findFragmentByTag(TAG_FRAGMENT_GROUPS);\n                 if (fragment == null) {\n-                    fragment = GroupsFragment.newInstance();\n+                    fragment = new CodeEventFragment();\n                 }\n                 mCurrentFragmentTag = TAG_FRAGMENT_GROUPS;\n-                setQueryHint(R.string.home_filter_placeholder_groups, R.string.search_chats);\n                 break;\n+            /*case R.id.bottom_action_favourites:\n+                Log.d(LOG_TAG, \"onNavigationItemSelected ROLE\");\n+                fragment = mFragmentManager.findFragmentByTag(TAG_FRAGMENT_ROLES);\n+                if (fragment == null) {\n+                    fragment = new DirectoryRoleFragment();\n+                }\n+                mCurrentFragmentTag = TAG_FRAGMENT_ROLES;\n+                mSearchView.setVisibility(View.GONE);\n+                if (null != getSupportActionBar()) {\n+                    getSupportActionBar().setTitle(getString(R.string.roles_title));\n+                }\n+                break;*/\n         }\n \n         if (mShowFloatingActionButtonRunnable != null && mFloatingActionsMenu != null) {\n@@ -1036,8 +1060,14 @@ private void updateSelectedFragment(final MenuItem item) {\n         }\n     }\n \n-    private void setQueryHint(int riotHintResource, int actHintResource){\n-        if (mSearchView != null){\n+    private void setActionBarTitle(@StringRes int res) {\n+        if (null != getSupportActionBar()) {\n+            getSupportActionBar().setTitle(getString(res));\n+        }\n+    }\n+\n+    private void setQueryHint(int riotHintResource, int actHintResource) {\n+        if (mSearchView != null) {\n             mSearchView.setQueryHint(getString(getResources().getBoolean(R.bool.enable_riot_search_view) ? riotHintResource : actHintResource));\n         }\n     }\n@@ -1061,7 +1091,7 @@ public void updateTabStyle(final int primaryColor,\n         mToolbar.setBackgroundResource(R.drawable.act_gradient);\n \n         mVectorPendingCallView.updateBackgroundColor(primaryColor);\n-        if(!getResources().getBoolean(R.bool.use_progressbar_original_background)) {\n+        if (!getResources().getBoolean(R.bool.use_progressbar_original_background)) {\n             mSyncInProgressView.setBackgroundColor(primaryColor);\n         }\n         // Apply secondary color\n@@ -1083,7 +1113,7 @@ public void updateTabStyle(final int primaryColor,\n         }\n \n         // FAB button\n-        if(!getResources().getBoolean(R.bool.use_fab_color_as_accent_color)) {\n+        if (!getResources().getBoolean(R.bool.use_fab_color_as_accent_color)) {\n             if (fabColor != -1) {\n                 Class menuClass = FloatingActionsMenu.class;\n                 try {\n@@ -1111,16 +1141,16 @@ public void updateTabStyle(final int primaryColor,\n         }\n \n         // Set color of toolbar search view\n-        if(getResources().getBoolean(R.bool.enable_riot_search_view)) {\n-            EditText edit = mSearchView.findViewById(com.google.android.material.R.id.search_src_text);\n+        if (getResources().getBoolean(R.bool.enable_riot_search_view)) {\n+            EditText edit = mSearchView.findViewById(R.id.search_src_text);\n             edit.setTextColor(ThemeUtils.INSTANCE.getColor(this, R.attr.vctr_toolbar_primary_text_color));\n             edit.setHintTextColor(ThemeUtils.INSTANCE.getColor(this, R.attr.vctr_primary_hint_text_color));\n         }\n     }\n \n \n-    private void setUpSearchView(){\n-        if(mSearchView!=null) {\n+    private void setUpSearchView() {\n+        if (mSearchView != null) {\n             // init the search view\n             SearchManager searchManager = (SearchManager) getSystemService(Context.SEARCH_SERVICE);\n             // Remove unwanted left margin\n@@ -1143,7 +1173,7 @@ private void setUpSearchView(){\n                     setQueryHint(R.string.home_filter_placeholder_favorites, R.string.search_chats);\n                     break;\n                 case R.id.bottom_action_people:\n-                    setQueryHint(R.string.home_filter_placeholder_people, R.string.search_chats);\n+                    setQueryHint(R.string.home_filter_placeholder_people, R.string.search_directory);\n                     break;\n                 case R.id.bottom_action_rooms:\n                     setQueryHint(R.string.home_filter_placeholder_rooms, R.string.search_chats);\n@@ -1197,17 +1227,19 @@ public void run() {\n         }\n \n         mFabStartChat.setIconDrawable(ThemeUtils.INSTANCE.tintDrawableWithColor(\n-                ContextCompat.getDrawable(this, R.drawable.ic_person_black_24dp),\n+                Objects.requireNonNull(ContextCompat.getDrawable(this, R.drawable.ic_person_black_24dp)),\n                 ContextCompat.getColor(this, android.R.color.white)\n         ));\n \n         mFabCreateRoom.setIconDrawable(ThemeUtils.INSTANCE.tintDrawableWithColor(\n-                ContextCompat.getDrawable(this, R.drawable.ic_add_white),\n+                //ACT specific\n+                Objects.requireNonNull(ContextCompat.getDrawable(this, R.drawable.riot_tab_groups)),\n                 ContextCompat.getColor(this, android.R.color.white)\n         ));\n \n         mFabJoinRoom.setIconDrawable(ThemeUtils.INSTANCE.tintDrawableWithColor(\n-                ContextCompat.getDrawable(this, R.drawable.riot_tab_rooms),\n+                //ACT specific\n+                Objects.requireNonNull(ContextCompat.getDrawable(this, R.drawable.ic_add_white)),\n                 ContextCompat.getColor(this, android.R.color.white)\n         ));\n \n@@ -1500,64 +1532,72 @@ public View getFloatingActionButton() {\n      * Open the room creation with inviting people.\n      */\n     private void invitePeopleToNewRoom() {\n-        final Intent settingsIntent = new Intent(VectorHomeActivity.this, VectorRoomCreationActivity.class);\n-        settingsIntent.putExtra(MXCActionBarActivity.EXTRA_MATRIX_ID, mSession.getMyUserId());\n-        startActivity(settingsIntent);\n+        if (getResources().getBoolean(R.bool.use_riot_invite_activity)) {\n+            final Intent settingsIntent = new Intent(VectorHomeActivity.this, VectorRoomCreationActivity.class);\n+            settingsIntent.putExtra(MXCActionBarActivity.EXTRA_MATRIX_ID, mSession.getMyUserId());\n+            startActivity(settingsIntent);\n+        } else {\n+            startActivity(ChatCreateActivity.Companion.intent(this, CHAT_TYPE.ONE_TO_ONE));\n+        }\n     }\n \n     /**\n      * Create a room and open the dedicated activity\n      */\n     private void createRoom() {\n-        showWaitingView();\n-        mSession.createRoom(new SimpleApiCallback<String>(VectorHomeActivity.this) {\n-            @Override\n-            public void onSuccess(final String roomId) {\n-                mToolbar.post(new Runnable() {\n-                    @Override\n-                    public void run() {\n-                        hideWaitingView();\n-\n-                        Map<String, Object> params = new HashMap<>();\n-                        params.put(VectorRoomActivity.EXTRA_MATRIX_ID, mSession.getMyUserId());\n-                        params.put(VectorRoomActivity.EXTRA_ROOM_ID, roomId);\n-                        params.put(VectorRoomActivity.EXTRA_EXPAND_ROOM_HEADER, true);\n-                        CommonActivityUtils.goToRoomPage(VectorHomeActivity.this, mSession, params);\n-                    }\n-                });\n-            }\n+        if (getResources().getBoolean(R.bool.use_riot_create_room_activity)) {\n+            showWaitingView();\n+            mSession.createRoom(new SimpleApiCallback<String>(VectorHomeActivity.this) {\n+                @Override\n+                public void onSuccess(final String roomId) {\n+                    mToolbar.post(new Runnable() {\n+                        @Override\n+                        public void run() {\n+                            hideWaitingView();\n \n-            private void onError(final String message) {\n-                mToolbar.post(new Runnable() {\n-                    @Override\n-                    public void run() {\n-                        if (null != message) {\n-                            Toast.makeText(VectorHomeActivity.this, message, Toast.LENGTH_LONG).show();\n+                            Map<String, Object> params = new HashMap<>();\n+                            params.put(VectorRoomActivity.EXTRA_MATRIX_ID, mSession.getMyUserId());\n+                            params.put(VectorRoomActivity.EXTRA_ROOM_ID, roomId);\n+                            params.put(VectorRoomActivity.EXTRA_EXPAND_ROOM_HEADER, true);\n+                            CommonActivityUtils.goToRoomPage(VectorHomeActivity.this, mSession, params);\n                         }\n-                        hideWaitingView();\n-                    }\n-                });\n-            }\n+                    });\n+                }\n \n-            @Override\n-            public void onNetworkError(Exception e) {\n-                onError(e.getLocalizedMessage());\n-            }\n+                private void onError(final String message) {\n+                    mToolbar.post(new Runnable() {\n+                        @Override\n+                        public void run() {\n+                            if (null != message) {\n+                                Toast.makeText(VectorHomeActivity.this, message, Toast.LENGTH_LONG).show();\n+                            }\n+                            hideWaitingView();\n+                        }\n+                    });\n+                }\n \n-            @Override\n-            public void onMatrixError(final MatrixError e) {\n-                if (MatrixError.M_CONSENT_NOT_GIVEN.equals(e.errcode)) {\n-                    getConsentNotGivenHelper().displayDialog(e);\n-                } else {\n+                @Override\n+                public void onNetworkError(Exception e) {\n                     onError(e.getLocalizedMessage());\n                 }\n-            }\n \n-            @Override\n-            public void onUnexpectedError(final Exception e) {\n-                onError(e.getLocalizedMessage());\n-            }\n-        });\n+                @Override\n+                public void onMatrixError(final MatrixError e) {\n+                    if (MatrixError.M_CONSENT_NOT_GIVEN.equals(e.errcode)) {\n+                        getConsentNotGivenHelper().displayDialog(e);\n+                    } else {\n+                        onError(e.getLocalizedMessage());\n+                    }\n+                }\n+\n+                @Override\n+                public void onUnexpectedError(final Exception e) {\n+                    onError(e.getLocalizedMessage());\n+                }\n+            });\n+        } else {\n+            startActivity(ChatCreateActivity.Companion.intent(this, CHAT_TYPE.GROUP));\n+        }\n     }\n \n     /**\n@@ -1876,6 +1916,11 @@ private void initSlidingMenu() {\n             @Override\n             public void onDrawerClosed(View view) {\n                 switch (mSlidingMenuIndex) {\n+                    case R.id.sliding_menu_roles: {\n+                        mBottomNavigationView.setSelectedItemId(R.id.bottom_action_favourites);\n+                        break;\n+                    }\n+\n                     case R.id.sliding_menu_messages: {\n                         // no action\n                         break;\n@@ -2075,9 +2120,10 @@ public void run() {\n \n             //test data\n             List<UserRole> roles = new ArrayList<>();\n-            roles.add(new UserRole(false, \"Registrar\"));\n-            roles.add(new UserRole(false, \"Ward Nurse\"));\n-            roles.add(new UserRole(false, \"Consultant\"));\n+            //roles.add(new UserRole(false, \"Med Reg\"));\n+            roles.add(new UserRole(false, \"ED AO\"));\n+            //roles.add(new UserRole(false, \"Registrar\"));\n+            //roles.add(new UserRole(false, \"Consultant\"));\n             rolesInNavigationBarAdapter.setData(roles);\n         }\n     }\n@@ -2287,7 +2333,7 @@ public void refreshUnreadBadges() {\n         }\n \n         Set<Integer> menuIndexes = new HashSet<>(mBadgeViewByIndex.keySet());\n-        \n+\n         for (Integer id : menuIndexes) {\n             int highlightCount = 0;\n             int roomCount = 0;\n@@ -2358,15 +2404,15 @@ public void refreshUnreadBadges() {\n         }\n     }\n \n-    private void filterFavoriteRoomSet(Set<String> filteredRoomIdsSet){\n+    private void filterFavoriteRoomSet(Set<String> filteredRoomIdsSet) {\n         List<Room> favRooms = mSession.roomsWithTag(RoomTag.ROOM_TAG_FAVOURITE);\n \n         for (Room room : favRooms) {\n             filteredRoomIdsSet.add(room.getRoomId());\n         }\n     }\n \n-    private void filterNormalRoomSet(Set<String> filteredRoomIdsSet, Set<String> directChatInvitations, Map<Room, RoomSummary> roomSummaryByRoom){\n+    private void filterNormalRoomSet(Set<String> filteredRoomIdsSet, Set<String> directChatInvitations, Map<Room, RoomSummary> roomSummaryByRoom) {\n         Set<String> directChatRoomIds = new HashSet<>(mSession.getDataHandler().getDirectChatRoomIdsList());\n         Set<String> lowPriorityRoomIds = new HashSet<>(mSession.roomIdsWithTag(RoomTag.ROOM_TAG_LOW_PRIORITY));\n \n@@ -2527,7 +2573,7 @@ public void onStoreReady() {\n \n                 if (null != mSharedFilesIntent) {\n                     Log.d(LOG_TAG, \"shared intent : the store is now ready, display sendFilesTo\");\n-                    CommonActivityUtils.sendFilesTo(VectorHomeActivity.this, mSharedFilesIntent);\n+                    CommonActivityUtils.sendFilesTo(VectorHomeActivity.this, mSharedFilesIntent, null);\n                     mSharedFilesIntent = null;\n                 }\n             }"
  },
  {
    "sha": "6ae4b022b0448daa2b5321c0e040e24af667c9a9",
    "filename": "vector/src/main/java/im/vector/activity/VectorMediaViewerActivity.java",
    "status": "modified",
    "additions": 152,
    "deletions": 0,
    "changes": 152,
    "blob_url": "https://github.com/fhirfactory/pegacorn-communicate-app-android/blob/0717e61c105178652c8c1d1d54cc7fa8252dba48/vector/src/main/java/im/vector/activity/VectorMediaViewerActivity.java",
    "raw_url": "https://github.com/fhirfactory/pegacorn-communicate-app-android/raw/0717e61c105178652c8c1d1d54cc7fa8252dba48/vector/src/main/java/im/vector/activity/VectorMediaViewerActivity.java",
    "contents_url": "https://api.github.com/repos/fhirfactory/pegacorn-communicate-app-android/contents/vector/src/main/java/im/vector/activity/VectorMediaViewerActivity.java?ref=0717e61c105178652c8c1d1d54cc7fa8252dba48",
    "patch": "@@ -17,14 +17,17 @@\n \n package im.vector.activity;\n \n+import android.content.DialogInterface;\n import android.content.Intent;\n import android.net.Uri;\n+import android.text.TextUtils;\n import android.view.Menu;\n import android.view.MenuItem;\n import android.view.View;\n import android.widget.Toast;\n \n import androidx.annotation.NonNull;\n+import androidx.appcompat.app.AlertDialog;\n import androidx.core.content.FileProvider;\n import androidx.viewpager.widget.ViewPager;\n \n@@ -35,20 +38,44 @@\n import org.matrix.androidsdk.core.Log;\n import org.matrix.androidsdk.core.callback.SimpleApiCallback;\n import org.matrix.androidsdk.core.model.MatrixError;\n+import org.matrix.androidsdk.data.Room;\n+import org.matrix.androidsdk.data.RoomSummary;\n import org.matrix.androidsdk.db.MXMediaCache;\n import org.matrix.androidsdk.listeners.MXMediaDownloadListener;\n+import org.matrix.androidsdk.rest.model.Event;\n+import org.matrix.androidsdk.rest.model.PowerLevels;\n \n import java.io.File;\n+import java.util.ArrayList;\n+import java.util.Collections;\n+import java.util.Comparator;\n import java.util.List;\n \n import im.vector.BuildConfig;\n import im.vector.Matrix;\n import im.vector.R;\n import im.vector.VectorApp;\n import im.vector.adapters.VectorMediaViewerAdapter;\n+import im.vector.adapters.VectorRoomsSelectionAdapter;\n import im.vector.util.PermissionsToolsKt;\n import im.vector.util.SlidableMediaInfo;\n \n+import static org.matrix.androidsdk.rest.model.Event.EVENT_TYPE_STATE_CANONICAL_ALIAS;\n+import static org.matrix.androidsdk.rest.model.Event.EVENT_TYPE_STATE_HISTORY_VISIBILITY;\n+import static org.matrix.androidsdk.rest.model.Event.EVENT_TYPE_STATE_PINNED_EVENT;\n+import static org.matrix.androidsdk.rest.model.Event.EVENT_TYPE_STATE_RELATED_GROUPS;\n+import static org.matrix.androidsdk.rest.model.Event.EVENT_TYPE_STATE_ROOM_ALIASES;\n+import static org.matrix.androidsdk.rest.model.Event.EVENT_TYPE_STATE_ROOM_AVATAR;\n+import static org.matrix.androidsdk.rest.model.Event.EVENT_TYPE_STATE_ROOM_CREATE;\n+import static org.matrix.androidsdk.rest.model.Event.EVENT_TYPE_STATE_ROOM_GUEST_ACCESS;\n+import static org.matrix.androidsdk.rest.model.Event.EVENT_TYPE_STATE_ROOM_JOIN_RULES;\n+import static org.matrix.androidsdk.rest.model.Event.EVENT_TYPE_STATE_ROOM_MEMBER;\n+import static org.matrix.androidsdk.rest.model.Event.EVENT_TYPE_STATE_ROOM_NAME;\n+import static org.matrix.androidsdk.rest.model.Event.EVENT_TYPE_STATE_ROOM_POWER_LEVELS;\n+import static org.matrix.androidsdk.rest.model.Event.EVENT_TYPE_STATE_ROOM_THIRD_PARTY_INVITE;\n+import static org.matrix.androidsdk.rest.model.Event.EVENT_TYPE_STATE_ROOM_TOMBSTONE;\n+import static org.matrix.androidsdk.rest.model.Event.EVENT_TYPE_STATE_ROOM_TOPIC;\n+\n /**\n  * Display a medias list.\n  */\n@@ -62,6 +89,9 @@\n     public static final String KEY_THUMBNAIL_HEIGHT = \"ImageSliderActivity.KEY_THUMBNAIL_HEIGHT\";\n \n     public static final String EXTRA_MATRIX_ID = \"ImageSliderActivity.EXTRA_MATRIX_ID\";\n+    public static final String SELECTED_EVENT = \"SELECTED_EVENT\";\n+    public static final String SELECTED_ROOM_TO_FORWARD = \"SELECTED_ROOM_TO_FORWARD\";\n+    public static final String SELECTED_EVENT_TO_TAG = \"SELECTED_EVENT_TO_TAG\";\n \n     // session\n     private MXSession mSession;\n@@ -221,6 +251,11 @@ public boolean onPrepareOptionsMenu(Menu menu) {\n             // disable shared for encrypted files as they are saved in a tmp folder\n             shareMenuItem.setVisible(null == mMediasList.get(mViewPager.getCurrentItem()).mEncryptedFileInfo && getResources().getBoolean(R.bool.show_image_share_items));\n         }\n+        MenuItem deleteMenuItem = menu.findItem(R.id.ic_action_delete);\n+        if (null != deleteMenuItem) {\n+            // disable shared for encrypted files as they are saved in a tmp folder\n+            deleteMenuItem.setVisible(mMediasList.get(mViewPager.getCurrentItem()).event != null && isEventRemovable(mMediasList.get(mViewPager.getCurrentItem()).event));\n+        }\n         menu.findItem(R.id.ic_action_download).setVisible(getResources().getBoolean(R.bool.show_image_share_items));\n         return true;\n     }\n@@ -319,6 +354,99 @@ public void onDownloadComplete(String aDownloadId) {\n         }\n     }\n \n+    private boolean isEventRemovable(Event event) {\n+        // test if the event can be redacted\n+        boolean canBeRedacted = !TextUtils.equals(event.getType(), Event.EVENT_TYPE_MESSAGE_ENCRYPTION);\n+\n+        if (canBeRedacted) {\n+            // oneself message -> can redact it\n+            if (TextUtils.equals(event.sender, mSession.getMyUserId())) {\n+                canBeRedacted = true;\n+            } else {\n+                // need the minimum power level to redact an event\n+                Room room = mSession.getDataHandler().getRoom(event.roomId);\n+\n+                if ((null != room) && (null != room.getState().getPowerLevels())) {\n+                    PowerLevels powerLevels = room.getState().getPowerLevels();\n+                    canBeRedacted = powerLevels.getUserPowerLevel(mSession.getMyUserId()) >= powerLevels.redact;\n+                }\n+            }\n+        }\n+\n+        //Hiding the \"Remove\" option from the system messages\n+        if (getResources().getBoolean(R.bool.hide_remove_from_system_message) && (event.getType().equals(EVENT_TYPE_STATE_ROOM_NAME) || event.getType().equals(EVENT_TYPE_STATE_ROOM_TOPIC) || event.getType().equals(EVENT_TYPE_STATE_ROOM_AVATAR)\n+                || event.getType().equals(EVENT_TYPE_STATE_ROOM_MEMBER) || event.getType().equals(EVENT_TYPE_STATE_ROOM_THIRD_PARTY_INVITE) || event.getType().equals(EVENT_TYPE_STATE_ROOM_CREATE)\n+                || event.getType().equals(EVENT_TYPE_STATE_ROOM_JOIN_RULES) || event.getType().equals(EVENT_TYPE_STATE_ROOM_GUEST_ACCESS) || event.getType().equals(EVENT_TYPE_STATE_ROOM_POWER_LEVELS)\n+                || event.getType().equals(EVENT_TYPE_STATE_ROOM_ALIASES) || event.getType().equals(EVENT_TYPE_STATE_ROOM_TOMBSTONE) || event.getType().equals(EVENT_TYPE_STATE_CANONICAL_ALIAS)\n+                || event.getType().equals(EVENT_TYPE_STATE_HISTORY_VISIBILITY) || event.getType().equals(EVENT_TYPE_STATE_RELATED_GROUPS) || event.getType().equals(EVENT_TYPE_STATE_PINNED_EVENT))) {\n+            canBeRedacted = false;\n+        }\n+        return canBeRedacted;\n+    }\n+\n+    private void showRoomListToForward() {\n+        // sanity check\n+        if ((null == mSession) || !mSession.isAlive() || isFinishing()) {\n+            return;\n+        }\n+\n+        List<RoomSummary> mergedSummaries = new ArrayList<>(mSession.getDataHandler().getStore().getSummaries());\n+\n+        // keep only the joined room\n+        for (int index = 0; index < mergedSummaries.size(); index++) {\n+            RoomSummary summary = mergedSummaries.get(index);\n+            Room room = mSession.getDataHandler().getRoom(summary.getRoomId());\n+\n+            if (room.isInvited() || room.isConferenceUserRoom()) {\n+                mergedSummaries.remove(index);\n+                index--;\n+            }\n+        }\n+\n+        Collections.sort(mergedSummaries, new Comparator<RoomSummary>() {\n+            @Override\n+            public int compare(RoomSummary lhs, RoomSummary rhs) {\n+                if (lhs == null || lhs.getLatestReceivedEvent() == null) {\n+                    return 1;\n+                } else if (rhs == null || rhs.getLatestReceivedEvent() == null) {\n+                    return -1;\n+                }\n+\n+                if (lhs.getLatestReceivedEvent().getOriginServerTs() > rhs.getLatestReceivedEvent().getOriginServerTs()) {\n+                    return -1;\n+                } else if (lhs.getLatestReceivedEvent().getOriginServerTs() < rhs.getLatestReceivedEvent().getOriginServerTs()) {\n+                    return 1;\n+                }\n+                return 0;\n+            }\n+        });\n+\n+        VectorRoomsSelectionAdapter adapter = new VectorRoomsSelectionAdapter(this, R.layout.adapter_item_vector_recent_room, mSession);\n+        adapter.addAll(mergedSummaries);\n+\n+        final List<RoomSummary> fMergedSummaries = mergedSummaries;\n+\n+        new AlertDialog.Builder(this)\n+                .setTitle(R.string.send_files_in)\n+                .setNegativeButton(R.string.cancel, null)\n+                .setAdapter(adapter,\n+                        (dialog, which) -> {\n+                            dialog.dismiss();\n+\n+                            runOnUiThread(new Runnable() {\n+                                @Override\n+                                public void run() {\n+                                    RoomSummary summary = fMergedSummaries.get(which);\n+                                    Intent intent = new Intent();\n+                                    intent.putExtra(SELECTED_EVENT, mMediasList.get(mViewPager.getCurrentItem()).event);\n+                                    intent.putExtra(SELECTED_ROOM_TO_FORWARD, summary);\n+                                    setResult(RESULT_OK, intent);\n+                                    finish();\n+                                }\n+                            });\n+                        })\n+                .show();\n+    }\n \n     @Override\n     public boolean onOptionsItemSelected(MenuItem item) {\n@@ -327,6 +455,30 @@ public boolean onOptionsItemSelected(MenuItem item) {\n             case R.id.ic_action_download:\n                 onAction(mViewPager.getCurrentItem(), item.getItemId());\n                 return true;\n+            case R.id.ic_action_delete:\n+                new AlertDialog.Builder(this)\n+                        .setMessage(getString(R.string.redact) + \" ?\")\n+                        .setCancelable(false)\n+                        .setPositiveButton(R.string.ok,\n+                                (dialog, id) -> {\n+                                    Intent intent = new Intent();\n+                                    intent.putExtra(SELECTED_EVENT, mMediasList.get(mViewPager.getCurrentItem()).event);\n+                                    setResult(RESULT_OK, intent);\n+                                    finish();\n+                                })\n+                        .setNegativeButton(R.string.cancel, null)\n+                        .show();\n+                return true;\n+            case R.id.ic_action_forward:\n+                showRoomListToForward();\n+                return true;\n+            case R.id.ic_action_tag:\n+                Intent intent = new Intent();\n+                intent.putExtra(SELECTED_EVENT, mMediasList.get(mViewPager.getCurrentItem()).event);\n+                intent.putExtra(SELECTED_EVENT_TO_TAG, true);\n+                setResult(RESULT_OK, intent);\n+                finish();\n+                return true;\n         }\n \n         return super.onOptionsItemSelected(item);"
  },
  {
    "sha": "8f8edc507a7e026eff4a57678ee80f151cd5a1be",
    "filename": "vector/src/main/java/im/vector/activity/VectorMemberDetailsActivity.java",
    "status": "modified",
    "additions": 51,
    "deletions": 10,
    "changes": 61,
    "blob_url": "https://github.com/fhirfactory/pegacorn-communicate-app-android/blob/0717e61c105178652c8c1d1d54cc7fa8252dba48/vector/src/main/java/im/vector/activity/VectorMemberDetailsActivity.java",
    "raw_url": "https://github.com/fhirfactory/pegacorn-communicate-app-android/raw/0717e61c105178652c8c1d1d54cc7fa8252dba48/vector/src/main/java/im/vector/activity/VectorMemberDetailsActivity.java",
    "contents_url": "https://api.github.com/repos/fhirfactory/pegacorn-communicate-app-android/contents/vector/src/main/java/im/vector/activity/VectorMemberDetailsActivity.java?ref=0717e61c105178652c8c1d1d54cc7fa8252dba48",
    "patch": "@@ -139,6 +139,8 @@\n     TextView mMemberUserIdTextView;\n     @BindView(R.id.member_details_presence)\n     TextView mPresenceTextView;\n+    @BindView(R.id.member_details_display_role)\n+    TextView mRoleTextView;\n \n     // listview\n     @BindView(R.id.member_details_actions_list_view)\n@@ -1438,7 +1440,9 @@ private void updateUi() {\n             mMemberDisplayNameTextView.setText(mUser.displayname);\n         }\n \n-        mMemberUserIdTextView.setText(mMemberId);\n+        // TODO\n+        mRoleTextView.setText(getText(R.string.roles));\n+        //mMemberUserIdTextView.setText(mMemberId);\n \n         // do not display the activity name in the action bar\n         setTitle(\"\");\n@@ -1449,6 +1453,7 @@ private void updateUi() {\n         // UI updates\n         updateMemberAvatarUi();\n         updatePresenceInfoUi();\n+        updatePowerLevelUI();\n \n         // Update adapter list view:\n         // notify the list view to update the items that could\n@@ -1459,22 +1464,58 @@ private void updateUi() {\n         }\n     }\n \n+    private void updatePowerLevelUI(){\n+        PowerLevels powerLevels = null;\n+        if (null != mRoom) {\n+            if (null != (powerLevels = mRoom.getState().getPowerLevels())) {\n+                if (powerLevels.getUserPowerLevel(mMemberId) >= CommonActivityUtils.UTILS_POWER_LEVEL_ADMIN) {\n+                    mMemberUserIdTextView.setVisibility(View.VISIBLE);\n+                    mMemberUserIdTextView.setText(CommonActivityUtils.UTILS_POWER_LEVEL_ADMIN_NAME.concat(\" in \" + mRoom.getRoomDisplayName(this)));\n+                } else if (powerLevels.getUserPowerLevel(mMemberId) >= CommonActivityUtils.UTILS_POWER_LEVEL_MODERATOR) {\n+                    mMemberUserIdTextView.setVisibility(View.VISIBLE);\n+                    mMemberUserIdTextView.setText(CommonActivityUtils.UTILS_POWER_LEVEL_MODERATOR_NAME.concat(\" in \" + mRoom.getRoomDisplayName(this)));\n+                } else {\n+                    mMemberUserIdTextView.setVisibility(View.GONE);\n+                }\n+            } else {\n+                mMemberUserIdTextView.setVisibility(View.GONE);\n+            }\n+        } else {\n+            mMemberUserIdTextView.setVisibility(View.GONE);\n+        }\n+    }\n+\n+    private void updatePresenceTexts(User user){\n+        mPresenceTextView.setText(VectorUtils.getPresenceText(this, user));\n+        statusIndicator.setBackgroundResource(VectorUtils.getPresenceIndicator(user));\n+    }\n+\n     private void updatePresenceInfoUi() {\n         // sanity check\n         if (null != mPresenceTextView) {\n-            String status = VectorUtils.getUserOnlineStatus(this, mSession, mMemberId, new SimpleApiCallback<Void>() {\n+            User user = VectorUtils.getUser(VectorMemberDetailsActivity.this, mSession, mMemberId, new SimpleApiCallback<Void>() {\n                 @Override\n                 public void onSuccess(Void info) {\n-                    mPresenceTextView.setText(VectorUtils.getUserOnlineStatus(VectorMemberDetailsActivity.this, mSession, mMemberId, null));\n+                    User user = VectorUtils.getUser(VectorMemberDetailsActivity.this, mSession, mMemberId, null);\n+                    updatePresenceTexts(user);\n                 }\n             });\n-            mPresenceTextView.setText(status);\n-            // \"online\" / \"offline\" is expected from the server response\n-            if(status.compareToIgnoreCase(\"online\")==0){\n-                statusIndicator.setImageResource(R.drawable.avatar_indicator_online);\n-            }else{\n-                statusIndicator.setImageResource(R.drawable.avatar_indicator_offline);\n-            }\n+            updatePresenceTexts(user);\n+//\n+//\n+//            String status = VectorUtils.getUserOnlineStatus(this, mSession, mMemberId, new SimpleApiCallback<Void>() {\n+//                @Override\n+//                public void onSuccess(Void info) {\n+//                    mPresenceTextView.setText(VectorUtils.getUserOnlineStatus(VectorMemberDetailsActivity.this, mSession, mMemberId, null));\n+//                }\n+//            });\n+//            mPresenceTextView.setText(status);\n+//            // \"online\" / \"offline\" is expected from the server response\n+//            if(status.compareToIgnoreCase(\"online\")==0){\n+//                statusIndicator.setImageResource(R.drawable.avatar_indicator_online);\n+//            }else{\n+//                statusIndicator.setImageResource(R.drawable.avatar_indicator_offline);\n+//            }\n         }\n     }\n "
  },
  {
    "sha": "21d87363dba49cc213405126bf871eccd8d383e2",
    "filename": "vector/src/main/java/im/vector/activity/VectorRoomActivity.java",
    "status": "modified",
    "additions": 64,
    "deletions": 8,
    "changes": 72,
    "blob_url": "https://github.com/fhirfactory/pegacorn-communicate-app-android/blob/0717e61c105178652c8c1d1d54cc7fa8252dba48/vector/src/main/java/im/vector/activity/VectorRoomActivity.java",
    "raw_url": "https://github.com/fhirfactory/pegacorn-communicate-app-android/raw/0717e61c105178652c8c1d1d54cc7fa8252dba48/vector/src/main/java/im/vector/activity/VectorRoomActivity.java",
    "contents_url": "https://api.github.com/repos/fhirfactory/pegacorn-communicate-app-android/contents/vector/src/main/java/im/vector/activity/VectorRoomActivity.java?ref=0717e61c105178652c8c1d1d54cc7fa8252dba48",
    "patch": "@@ -120,6 +120,8 @@\n import im.vector.fragments.VectorUnknownDevicesFragment;\n import im.vector.fragments.roomwidgets.RoomWidgetPermissionBottomSheet;\n import im.vector.listeners.IMessagesAdapterActionsListener;\n+import im.vector.patient.DemoPatient;\n+import im.vector.patient.PatientTagActivity;\n import im.vector.util.CallsManager;\n import im.vector.util.ExternalApplicationsUtilKt;\n import im.vector.util.MatrixURLSpan;\n@@ -141,6 +143,9 @@\n import im.vector.widgets.model.JitsiWidgetProperties;\n import kotlin.Unit;\n \n+import static im.vector.patient.PatientTagActivity.ROOM_MEDIA_MESSAGE_ARRAY_EXTRA;\n+import static im.vector.patient.PatientTagFragment.PATIENT_EXTRA;\n+\n /**\n  * Displays a single room with messages.\n  */\n@@ -193,6 +198,7 @@\n     private static final int INVITE_USER_REQUEST_CODE = 4;\n     public static final int UNREAD_PREVIEW_REQUEST_CODE = 5;\n     private static final int RECORD_AUDIO_REQUEST_CODE = 6;\n+    private static final int PATIENT_TAG_REQUEST_CODE = 8;\n \n     // media selection\n     private static final int MEDIA_SOURCE_FILE = 1;\n@@ -202,6 +208,8 @@\n     private static final int MEDIA_SOURCE_VIDEO = 5;\n \n     private static final String CAMERA_VALUE_TITLE = \"attachment\"; // Samsung devices need a filepath to write to or else won't return a Uri (!!!)\n+    private static final String IMAGE_VALUE_TITLE = \"image\"; // Samsung devices need a filepath to write to or else won't return a Uri (!!!)\n+    private static final String VIDEO_VALUE_TITLE = \"video\"; // Samsung devices need a filepath to write to or else won't return a Uri (!!!)\n     private String mLatestTakePictureCameraUri = null; // has to be String not Uri because of Serializable\n \n     public static final int CONFIRM_MEDIA_REQUEST_CODE = 7;\n@@ -801,7 +809,7 @@ public void onTextChanged(CharSequence s, int start, int before, int count) {\n                     ? VectorMessageListFragment.PREVIEW_MODE_UNREAD_MESSAGE : null) : VectorMessageListFragment.PREVIEW_MODE_READ_ONLY;\n             mVectorMessageListFragment = VectorMessageListFragment.newInstance(mMyUserId, roomId, mEventId,\n                     previewMode,\n-                    org.matrix.androidsdk.R.layout.fragment_matrix_message_list_fragment);\n+                    R.layout.fragment_matrix_message_list_fragment);\n             fm.beginTransaction().add(R.id.anchor_fragment_messages, mVectorMessageListFragment, TAG_FRAGMENT_MATRIX_MESSAGE_LIST).commit();\n         } else {\n             Log.d(LOG_TAG, \"Reuse VectorMessageListFragment\");\n@@ -1281,8 +1289,11 @@ protected void onActivityResult(int requestCode, int resultCode, final Intent da\n \n         if (resultCode == RESULT_OK) {\n             switch (requestCode) {\n-                case REQUEST_FILES_REQUEST_CODE:\n                 case TAKE_IMAGE_REQUEST_CODE:\n+                    //sendMediasIntent(data);\n+                    getPatientData(data);\n+                    break;\n+                case REQUEST_FILES_REQUEST_CODE:\n                 case RECORD_AUDIO_REQUEST_CODE:\n                     sendMediasIntent(data);\n                     break;\n@@ -1305,10 +1316,34 @@ protected void onActivityResult(int requestCode, int resultCode, final Intent da\n                     }\n                     mVectorRoomMediasSender.sendMedias(sharedDataItems);\n                     break;\n+                case PATIENT_TAG_REQUEST_CODE:\n+                    sendPatientMediasIntent(data);\n+                    break;\n             }\n         }\n     }\n \n+    private void getPatientData(Intent intent) {\n+        // sanity check\n+        if ((null == intent) && (null == mLatestTakePictureCameraUri)) {\n+            return;\n+        }\n+\n+        ArrayList<RoomMediaMessage> sharedDataItems = new ArrayList<>();\n+\n+        if (null != intent) {\n+            sharedDataItems = new ArrayList<>(RoomMediaMessage.listRoomMediaMessages(intent));\n+        }\n+\n+        if (sharedDataItems.size() > 0) {\n+            startActivityForResult(PatientTagActivity.Companion.intent(this, sharedDataItems), PATIENT_TAG_REQUEST_CODE);\n+        } else if (mLatestTakePictureCameraUri != null) {\n+            startActivityForResult(PatientTagActivity.Companion.intent(this, mLatestTakePictureCameraUri), PATIENT_TAG_REQUEST_CODE);\n+        } else {\n+            Toast.makeText(this, R.string.no_image, Toast.LENGTH_LONG).show();\n+        }\n+    }\n+\n     //================================================================================\n     // IEventSendingListener\n     //================================================================================\n@@ -2014,6 +2049,26 @@ public void sendEmote(String emote, String formattedEmote, String format) {\n         }\n     }\n \n+    private void sendPatientMediasIntent(Intent intent) {\n+        if (null != intent) {\n+            Bundle bundle = intent.getExtras();\n+            // sanity checks\n+            if (null != bundle) {\n+                if (bundle.containsKey(PATIENT_EXTRA)) {\n+                    DemoPatient patient = bundle.getParcelable(PATIENT_EXTRA);\n+                    Toast.makeText(this, patient == null ? \"No Patient Tagged\" : patient.getName(), Toast.LENGTH_LONG).show();\n+                } else {\n+                    Toast.makeText(this,\"No Patient Tagged\", Toast.LENGTH_LONG).show();\n+                }\n+\n+                if (bundle.containsKey(ROOM_MEDIA_MESSAGE_ARRAY_EXTRA)) {\n+                    ArrayList<RoomMediaMessage> sharedDataItems = bundle.getParcelableArrayList(ROOM_MEDIA_MESSAGE_ARRAY_EXTRA);\n+                    sendMediaMessages(intent, sharedDataItems==null? new ArrayList<>() : sharedDataItems);\n+                }\n+            }\n+        }\n+    }\n+\n     /**\n      * Send the medias defined in the intent.\n      * They are listed, checked and sent when it is possible.\n@@ -2030,13 +2085,16 @@ private void sendMediasIntent(Intent intent) {\n         if (null != intent) {\n             sharedDataItems = new ArrayList<>(RoomMediaMessage.listRoomMediaMessages(intent));\n         }\n+        sendMediaMessages(intent, sharedDataItems);\n+    }\n \n+    private void sendMediaMessages(Intent intent, List<RoomMediaMessage> sharedDataItems){\n         // check the extras\n         if ((0 == sharedDataItems.size()) && (null != intent)) {\n             Bundle bundle = intent.getExtras();\n             // sanity checks\n             if (null != bundle) {\n-                if (bundle.containsKey(Intent.EXTRA_TEXT)) {\n+                if (bundle.containsKey(Intent.EXTRA_TEXT) && bundle.getString(Intent.EXTRA_TEXT)!=null) {\n                     mEditText.append(bundle.getString(Intent.EXTRA_TEXT));\n \n                     mEditText.post(new Runnable() {\n@@ -2366,17 +2424,15 @@ public void onClick(DialogInterface dialog, int which) {\n      */\n     private void launchNativeVideoRecorder() {\n         enableActionBarHeader(HIDE_ACTION_BAR_HEADER);\n-\n-        ExternalApplicationsUtilKt.openVideoRecorder(this, TAKE_IMAGE_REQUEST_CODE);\n+        ExternalApplicationsUtilKt.openCameraWithoutSavingVideoToGallery(this, VIDEO_VALUE_TITLE, TAKE_IMAGE_REQUEST_CODE);\n     }\n \n     /**\n      * Launch the camera\n      */\n     private void launchNativeCamera() {\n         enableActionBarHeader(HIDE_ACTION_BAR_HEADER);\n-\n-        mLatestTakePictureCameraUri = ExternalApplicationsUtilKt.openCamera(this, CAMERA_VALUE_TITLE, TAKE_IMAGE_REQUEST_CODE);\n+        mLatestTakePictureCameraUri = ExternalApplicationsUtilKt.openCameraWithoutSavingImageToGallery(this, IMAGE_VALUE_TITLE, TAKE_IMAGE_REQUEST_CODE);\n     }\n \n     /**\n@@ -2461,7 +2517,7 @@ public void onRequestPermissionsResult(int requestCode, @NonNull String[] permis\n      * Display UI buttons according to user input text.\n      */\n     private void manageSendMoreButtons() {\n-        int img = getResources().getBoolean(R.bool.show_camera_icon_in_place_of_file_icon) ? R.drawable.ic_material_camera: R.drawable.ic_material_file;\n+        int img = getResources().getBoolean(R.bool.show_camera_icon_in_place_of_file_icon) ? R.drawable.ic_material_camera : R.drawable.ic_material_file;\n         if (!PreferencesManager.sendMessageWithEnter(this) && mEditText.getText().length() > 0) {\n             img = R.drawable.ic_material_send_green;\n         } else {"
  },
  {
    "sha": "dafde6981c477c7436023fdb85547f30d3132879",
    "filename": "vector/src/main/java/im/vector/activity/VectorRoomDetailsActivity.java",
    "status": "modified",
    "additions": 1,
    "deletions": 1,
    "changes": 2,
    "blob_url": "https://github.com/fhirfactory/pegacorn-communicate-app-android/blob/0717e61c105178652c8c1d1d54cc7fa8252dba48/vector/src/main/java/im/vector/activity/VectorRoomDetailsActivity.java",
    "raw_url": "https://github.com/fhirfactory/pegacorn-communicate-app-android/raw/0717e61c105178652c8c1d1d54cc7fa8252dba48/vector/src/main/java/im/vector/activity/VectorRoomDetailsActivity.java",
    "contents_url": "https://api.github.com/repos/fhirfactory/pegacorn-communicate-app-android/contents/vector/src/main/java/im/vector/activity/VectorRoomDetailsActivity.java?ref=0717e61c105178652c8c1d1d54cc7fa8252dba48",
    "patch": "@@ -336,7 +336,7 @@ private void onTabSelected(int tabIndex) {\n             mSearchFilesFragment = (VectorSearchRoomFilesListFragment) getSupportFragmentManager().findFragmentByTag(TAG_FRAGMENT_FILES_DETAILS);\n             if (null == mSearchFilesFragment) {\n                 mSearchFilesFragment = VectorSearchRoomFilesListFragment.newInstance(mSession.getCredentials().userId,\n-                        mRoomId, org.matrix.androidsdk.R.layout.fragment_matrix_message_list_fragment);\n+                        mRoomId, R.layout.fragment_matrix_message_list_fragment);\n                 ft.replace(R.id.room_details_fragment_container, mSearchFilesFragment, TAG_FRAGMENT_FILES_DETAILS);\n                 Log.d(LOG_TAG, \"## onTabSelected() file frag replace\");\n             } else {"
  },
  {
    "sha": "cb36f3ad40237dfc938a7a3c7c06cae5753f1dc6",
    "filename": "vector/src/main/java/im/vector/activity/sso/SSOLoginAPI.kt",
    "status": "added",
    "additions": 21,
    "deletions": 0,
    "changes": 21,
    "blob_url": "https://github.com/fhirfactory/pegacorn-communicate-app-android/blob/0717e61c105178652c8c1d1d54cc7fa8252dba48/vector/src/main/java/im/vector/activity/sso/SSOLoginAPI.kt",
    "raw_url": "https://github.com/fhirfactory/pegacorn-communicate-app-android/raw/0717e61c105178652c8c1d1d54cc7fa8252dba48/vector/src/main/java/im/vector/activity/sso/SSOLoginAPI.kt",
    "contents_url": "https://api.github.com/repos/fhirfactory/pegacorn-communicate-app-android/contents/vector/src/main/java/im/vector/activity/sso/SSOLoginAPI.kt?ref=0717e61c105178652c8c1d1d54cc7fa8252dba48",
    "patch": "@@ -0,0 +1,21 @@\n+package im.vector.activity.sso\n+\n+import org.matrix.androidsdk.rest.model.identityserver.IdentityAccountResponse\n+import org.matrix.androidsdk.rest.model.identityserver.IdentityServerRegisterResponse\n+import org.matrix.androidsdk.rest.model.openid.RequestOpenIdTokenResponse\n+import retrofit2.Call\n+import retrofit2.http.Body\n+import retrofit2.http.GET\n+import retrofit2.http.POST\n+\n+interface SSOLoginAPI {\n+\n+    /**\n+     * register to the server\n+     *\n+     * @param body the body content\n+     */\n+    @POST(\"_matrix/client/r0/login\")\n+    fun login(@Body SSOLoginParameters: SSORequestParameters): Call<SSORequestResponse>\n+\n+}\n\\ No newline at end of file"
  },
  {
    "sha": "bac66974eb3746199f814561d3ed0a420e625e5a",
    "filename": "vector/src/main/java/im/vector/activity/sso/SSORequestParameters.kt",
    "status": "added",
    "additions": 12,
    "deletions": 0,
    "changes": 12,
    "blob_url": "https://github.com/fhirfactory/pegacorn-communicate-app-android/blob/0717e61c105178652c8c1d1d54cc7fa8252dba48/vector/src/main/java/im/vector/activity/sso/SSORequestParameters.kt",
    "raw_url": "https://github.com/fhirfactory/pegacorn-communicate-app-android/raw/0717e61c105178652c8c1d1d54cc7fa8252dba48/vector/src/main/java/im/vector/activity/sso/SSORequestParameters.kt",
    "contents_url": "https://api.github.com/repos/fhirfactory/pegacorn-communicate-app-android/contents/vector/src/main/java/im/vector/activity/sso/SSORequestParameters.kt?ref=0717e61c105178652c8c1d1d54cc7fa8252dba48",
    "patch": "@@ -0,0 +1,12 @@\n+package im.vector.activity.sso\n+\n+import com.google.gson.annotations.SerializedName\n+\n+data class SSORequestParameters (\n+        @JvmField\n+        @SerializedName(\"token\")\n+        val token: String,\n+        @JvmField\n+        @SerializedName(\"type\")\n+        val type: String = \"m.login.token\"\n+)\n\\ No newline at end of file"
  },
  {
    "sha": "eaa5545300a51a792981329f777865909d1b427c",
    "filename": "vector/src/main/java/im/vector/activity/sso/SSORequestResponse.kt",
    "status": "added",
    "additions": 18,
    "deletions": 0,
    "changes": 18,
    "blob_url": "https://github.com/fhirfactory/pegacorn-communicate-app-android/blob/0717e61c105178652c8c1d1d54cc7fa8252dba48/vector/src/main/java/im/vector/activity/sso/SSORequestResponse.kt",
    "raw_url": "https://github.com/fhirfactory/pegacorn-communicate-app-android/raw/0717e61c105178652c8c1d1d54cc7fa8252dba48/vector/src/main/java/im/vector/activity/sso/SSORequestResponse.kt",
    "contents_url": "https://api.github.com/repos/fhirfactory/pegacorn-communicate-app-android/contents/vector/src/main/java/im/vector/activity/sso/SSORequestResponse.kt?ref=0717e61c105178652c8c1d1d54cc7fa8252dba48",
    "patch": "@@ -0,0 +1,18 @@\n+package im.vector.activity.sso\n+\n+import com.google.gson.annotations.SerializedName\n+\n+data class SSORequestResponse(\n+        @JvmField\n+        @SerializedName(\"user_id\")\n+        val userID: String,\n+        @JvmField\n+        @SerializedName(\"access_token\")\n+        val accessToken: String,\n+        @JvmField\n+        @SerializedName(\"home_server\")\n+        val homeServer: String,\n+        @JvmField\n+        @SerializedName(\"device_id\")\n+        val deviceId: String\n+)\n\\ No newline at end of file"
  }
]
