[
  {
    "sha": "7a642f51a1e7e25ba66af9b4345112cbc40eb88d",
    "filename": "docker/build/conf/dolphinscheduler/common.properties.tpl",
    "status": "modified",
    "additions": 0,
    "deletions": 1,
    "changes": 1,
    "blob_url": "https://github.com/apache/incubator-dolphinscheduler/blob/fa9aa2c18c34b77c09aef7e4b38de428f001384d/docker/build/conf/dolphinscheduler/common.properties.tpl",
    "raw_url": "https://github.com/apache/incubator-dolphinscheduler/raw/fa9aa2c18c34b77c09aef7e4b38de428f001384d/docker/build/conf/dolphinscheduler/common.properties.tpl",
    "contents_url": "https://api.github.com/repos/apache/incubator-dolphinscheduler/contents/docker/build/conf/dolphinscheduler/common.properties.tpl?ref=fa9aa2c18c34b77c09aef7e4b38de428f001384d",
    "patch": "@@ -65,7 +65,6 @@ yarn.job.history.status.address=http://ds1:19888/ws/v1/history/mapreduce/jobs/%s\n \n # system env path, If you want to set your own path, you need to set this env file to an absolute path\n #dolphinscheduler.env.path=env/dolphinscheduler_env.sh\n-development.state=false\n \n # kerberos tgt expire time, unit is hours\n kerberos.expire.time=2"
  },
  {
    "sha": "d11254bfec99ba2d495b78fc3d1bc6d8024d5ca3",
    "filename": "dolphinscheduler-common/src/main/java/org/apache/dolphinscheduler/common/Constants.java",
    "status": "modified",
    "additions": 0,
    "deletions": 6,
    "changes": 6,
    "blob_url": "https://github.com/apache/incubator-dolphinscheduler/blob/fa9aa2c18c34b77c09aef7e4b38de428f001384d/dolphinscheduler-common/src/main/java/org/apache/dolphinscheduler/common/Constants.java",
    "raw_url": "https://github.com/apache/incubator-dolphinscheduler/raw/fa9aa2c18c34b77c09aef7e4b38de428f001384d/dolphinscheduler-common/src/main/java/org/apache/dolphinscheduler/common/Constants.java",
    "contents_url": "https://api.github.com/repos/apache/incubator-dolphinscheduler/contents/dolphinscheduler-common/src/main/java/org/apache/dolphinscheduler/common/Constants.java?ref=fa9aa2c18c34b77c09aef7e4b38de428f001384d",
    "patch": "@@ -149,12 +149,6 @@ private Constants() {\n \n     public static final String RESOURCE_VIEW_SUFFIXS_DEFAULT_VALUE = \"txt,log,sh,bat,conf,cfg,py,java,sql,xml,hql,properties,json,yml,yaml,ini,js\";\n \n-    /**\n-     * development.state\n-     */\n-    public static final String DEVELOPMENT_STATE = \"development.state\";\n-    public static final String DEVELOPMENT_STATE_DEFAULT_VALUE = \"true\";\n-\n     /**\n      * string true\n      */"
  },
  {
    "sha": "dd7451fd455eedefe446dde1fd012d3a97e37aad",
    "filename": "dolphinscheduler-common/src/main/java/org/apache/dolphinscheduler/common/utils/CommonUtils.java",
    "status": "modified",
    "additions": 0,
    "deletions": 7,
    "changes": 7,
    "blob_url": "https://github.com/apache/incubator-dolphinscheduler/blob/fa9aa2c18c34b77c09aef7e4b38de428f001384d/dolphinscheduler-common/src/main/java/org/apache/dolphinscheduler/common/utils/CommonUtils.java",
    "raw_url": "https://github.com/apache/incubator-dolphinscheduler/raw/fa9aa2c18c34b77c09aef7e4b38de428f001384d/dolphinscheduler-common/src/main/java/org/apache/dolphinscheduler/common/utils/CommonUtils.java",
    "contents_url": "https://api.github.com/repos/apache/incubator-dolphinscheduler/contents/dolphinscheduler-common/src/main/java/org/apache/dolphinscheduler/common/utils/CommonUtils.java?ref=fa9aa2c18c34b77c09aef7e4b38de428f001384d",
    "patch": "@@ -61,13 +61,6 @@ public static String getSystemEnvPath() {\n         return envPath;\n     }\n \n-    /**\n-     * @return is develop mode\n-     */\n-    public static boolean isDevelopMode() {\n-        return PropertyUtils.getBoolean(Constants.DEVELOPMENT_STATE, true);\n-    }\n-\n     /**\n      * if upload resource is HDFS and kerberos startup is true , else false\n      *"
  },
  {
    "sha": "21eb3ddc10ef77cb5ee32f80af5845054c1231cb",
    "filename": "dolphinscheduler-common/src/main/java/org/apache/dolphinscheduler/common/utils/FileUtils.java",
    "status": "modified",
    "additions": 0,
    "deletions": 19,
    "changes": 19,
    "blob_url": "https://github.com/apache/incubator-dolphinscheduler/blob/fa9aa2c18c34b77c09aef7e4b38de428f001384d/dolphinscheduler-common/src/main/java/org/apache/dolphinscheduler/common/utils/FileUtils.java",
    "raw_url": "https://github.com/apache/incubator-dolphinscheduler/raw/fa9aa2c18c34b77c09aef7e4b38de428f001384d/dolphinscheduler-common/src/main/java/org/apache/dolphinscheduler/common/utils/FileUtils.java",
    "contents_url": "https://api.github.com/repos/apache/incubator-dolphinscheduler/contents/dolphinscheduler-common/src/main/java/org/apache/dolphinscheduler/common/utils/FileUtils.java?ref=fa9aa2c18c34b77c09aef7e4b38de428f001384d",
    "patch": "@@ -131,25 +131,6 @@ public static String getProcessExecDir(int projectId, int processDefineId, int p\n         return fileName;\n     }\n \n-    /**\n-     * directory of process instances\n-     *\n-     * @param projectId project id\n-     * @param processDefineId process definition id\n-     * @param processInstanceId process instance id\n-     * @return directory of process instances\n-     */\n-    public static String getProcessExecDir(int projectId, int processDefineId, int processInstanceId) {\n-        String fileName = String.format(\"%s/exec/process/%s/%s/%s\", DATA_BASEDIR, Integer.toString(projectId),\n-                Integer.toString(processDefineId), Integer.toString(processInstanceId));\n-        File file = new File(fileName);\n-        if (!file.getParentFile().exists()) {\n-            file.getParentFile().mkdirs();\n-        }\n-\n-        return fileName;\n-    }\n-\n     /**\n      * @return get suffixes for resource files that support online viewing\n      */"
  },
  {
    "sha": "5ff12d469e05f523b20e7dd80b3b9df986d35e2b",
    "filename": "dolphinscheduler-common/src/main/resources/common.properties",
    "status": "modified",
    "additions": 0,
    "deletions": 1,
    "changes": 1,
    "blob_url": "https://github.com/apache/incubator-dolphinscheduler/blob/fa9aa2c18c34b77c09aef7e4b38de428f001384d/dolphinscheduler-common/src/main/resources/common.properties",
    "raw_url": "https://github.com/apache/incubator-dolphinscheduler/raw/fa9aa2c18c34b77c09aef7e4b38de428f001384d/dolphinscheduler-common/src/main/resources/common.properties",
    "contents_url": "https://api.github.com/repos/apache/incubator-dolphinscheduler/contents/dolphinscheduler-common/src/main/resources/common.properties?ref=fa9aa2c18c34b77c09aef7e4b38de428f001384d",
    "patch": "@@ -65,7 +65,6 @@ yarn.job.history.status.address=http://ds1:19888/ws/v1/history/mapreduce/jobs/%s\n \n # system env path, If you want to set your own path, you need to set this env file to an absolute path\n #dolphinscheduler.env.path=env/dolphinscheduler_env.sh\n-development.state=false\n \n # kerberos tgt expire time, unit is hours\n kerberos.expire.time=2"
  },
  {
    "sha": "b41a5198e345713b5b5757509abcd82115044059",
    "filename": "dolphinscheduler-common/src/test/java/org/apache/dolphinscheduler/common/utils/CommonUtilsTest.java",
    "status": "modified",
    "additions": 1,
    "deletions": 5,
    "changes": 6,
    "blob_url": "https://github.com/apache/incubator-dolphinscheduler/blob/fa9aa2c18c34b77c09aef7e4b38de428f001384d/dolphinscheduler-common/src/test/java/org/apache/dolphinscheduler/common/utils/CommonUtilsTest.java",
    "raw_url": "https://github.com/apache/incubator-dolphinscheduler/raw/fa9aa2c18c34b77c09aef7e4b38de428f001384d/dolphinscheduler-common/src/test/java/org/apache/dolphinscheduler/common/utils/CommonUtilsTest.java",
    "contents_url": "https://api.github.com/repos/apache/incubator-dolphinscheduler/contents/dolphinscheduler-common/src/test/java/org/apache/dolphinscheduler/common/utils/CommonUtilsTest.java?ref=fa9aa2c18c34b77c09aef7e4b38de428f001384d",
    "patch": "@@ -35,11 +35,7 @@ public void getSystemEnvPath() {\n         logger.info(CommonUtils.getSystemEnvPath());\n         Assert.assertTrue(true);\n     }\n-    @Test\n-    public void isDevelopMode() {\n-        logger.info(\"develop mode: {}\",CommonUtils.isDevelopMode());\n-        Assert.assertTrue(true);\n-    }\n+\n     @Test\n     public void getKerberosStartupState(){\n         logger.info(\"kerberos startup state: {}\",CommonUtils.getKerberosStartupState());"
  },
  {
    "sha": "e4d1c39e2ad661b286160e0e70aeb99881f6a96d",
    "filename": "dolphinscheduler-common/src/test/java/org/apache/dolphinscheduler/common/utils/FileUtilsTest.java",
    "status": "modified",
    "additions": 0,
    "deletions": 2,
    "changes": 2,
    "blob_url": "https://github.com/apache/incubator-dolphinscheduler/blob/fa9aa2c18c34b77c09aef7e4b38de428f001384d/dolphinscheduler-common/src/test/java/org/apache/dolphinscheduler/common/utils/FileUtilsTest.java",
    "raw_url": "https://github.com/apache/incubator-dolphinscheduler/raw/fa9aa2c18c34b77c09aef7e4b38de428f001384d/dolphinscheduler-common/src/test/java/org/apache/dolphinscheduler/common/utils/FileUtilsTest.java",
    "contents_url": "https://api.github.com/repos/apache/incubator-dolphinscheduler/contents/dolphinscheduler-common/src/test/java/org/apache/dolphinscheduler/common/utils/FileUtilsTest.java?ref=fa9aa2c18c34b77c09aef7e4b38de428f001384d",
    "patch": "@@ -62,8 +62,6 @@ public void testGetUploadFilename() {\n     public void testGetProcessExecDir() {\n         String dir = FileUtils.getProcessExecDir(1,2,3, 4);\n         Assert.assertEquals(\"/tmp/dolphinscheduler/exec/process/1/2/3/4\", dir);\n-        dir = FileUtils.getProcessExecDir(1,2,3);\n-        Assert.assertEquals(\"/tmp/dolphinscheduler/exec/process/1/2/3\", dir);\n     }\n \n     @Test"
  },
  {
    "sha": "0c7494cf282dadc6850caea38422ececbbaa3093",
    "filename": "dolphinscheduler-server/src/main/java/org/apache/dolphinscheduler/server/master/runner/MasterExecThread.java",
    "status": "modified",
    "additions": 0,
    "deletions": 29,
    "changes": 29,
    "blob_url": "https://github.com/apache/incubator-dolphinscheduler/blob/fa9aa2c18c34b77c09aef7e4b38de428f001384d/dolphinscheduler-server/src/main/java/org/apache/dolphinscheduler/server/master/runner/MasterExecThread.java",
    "raw_url": "https://github.com/apache/incubator-dolphinscheduler/raw/fa9aa2c18c34b77c09aef7e4b38de428f001384d/dolphinscheduler-server/src/main/java/org/apache/dolphinscheduler/server/master/runner/MasterExecThread.java",
    "contents_url": "https://api.github.com/repos/apache/incubator-dolphinscheduler/contents/dolphinscheduler-server/src/main/java/org/apache/dolphinscheduler/server/master/runner/MasterExecThread.java?ref=fa9aa2c18c34b77c09aef7e4b38de428f001384d",
    "patch": "@@ -42,7 +42,6 @@\n import org.apache.dolphinscheduler.common.thread.Stopper;\n import org.apache.dolphinscheduler.common.thread.ThreadUtils;\n import org.apache.dolphinscheduler.common.utils.CollectionUtils;\n-import org.apache.dolphinscheduler.common.utils.CommonUtils;\n import org.apache.dolphinscheduler.common.utils.DateUtils;\n import org.apache.dolphinscheduler.common.utils.JSONUtils;\n import org.apache.dolphinscheduler.common.utils.OSUtils;\n@@ -61,10 +60,6 @@\n import org.apache.dolphinscheduler.service.quartz.cron.CronUtils;\n import org.apache.dolphinscheduler.service.queue.PeerTaskInstancePriorityQueue;\n \n-import org.apache.commons.io.FileUtils;\n-\n-import java.io.File;\n-import java.io.IOException;\n import java.text.ParseException;\n import java.util.ArrayList;\n import java.util.Arrays;\n@@ -236,8 +231,6 @@ public void run() {\n             processService.updateProcessInstance(processInstance);\n         } finally {\n             taskExecService.shutdown();\n-            // post handle\n-            postHandle();\n         }\n     }\n \n@@ -427,27 +420,6 @@ private void initTaskQueue() {\n         }\n     }\n \n-    /**\n-     * process post handle\n-     */\n-    private void postHandle() {\n-        logger.info(\"develop mode is: {}\", CommonUtils.isDevelopMode());\n-\n-        if (!CommonUtils.isDevelopMode()) {\n-            // get exec dir\n-            String execLocalPath = org.apache.dolphinscheduler.common.utils.FileUtils\n-                    .getProcessExecDir(processInstance.getProcessDefinition().getProjectId(),\n-                            processInstance.getProcessDefinitionId(),\n-                            processInstance.getId());\n-\n-            try {\n-                FileUtils.deleteDirectory(new File(execLocalPath));\n-            } catch (IOException e) {\n-                logger.error(\"delete exec dir failed \", e);\n-            }\n-        }\n-    }\n-\n     /**\n      * submit task to execute\n      *\n@@ -902,7 +874,6 @@ private void updateProcessInstanceState() {\n \n             ProcessInstance instance = processService.findProcessInstanceById(processInstance.getId());\n             instance.setState(state);\n-            instance.setProcessDefinition(processInstance.getProcessDefinition());\n             processService.updateProcessInstance(instance);\n             processInstance = instance;\n         }"
  },
  {
    "sha": "e0884d81148eba3c3055db6456a4bc26fd55ceed",
    "filename": "dolphinscheduler-server/src/test/java/org/apache/dolphinscheduler/server/master/MasterExecThreadTest.java",
    "status": "modified",
    "additions": 0,
    "deletions": 1,
    "changes": 1,
    "blob_url": "https://github.com/apache/incubator-dolphinscheduler/blob/fa9aa2c18c34b77c09aef7e4b38de428f001384d/dolphinscheduler-server/src/test/java/org/apache/dolphinscheduler/server/master/MasterExecThreadTest.java",
    "raw_url": "https://github.com/apache/incubator-dolphinscheduler/raw/fa9aa2c18c34b77c09aef7e4b38de428f001384d/dolphinscheduler-server/src/test/java/org/apache/dolphinscheduler/server/master/MasterExecThreadTest.java",
    "contents_url": "https://api.github.com/repos/apache/incubator-dolphinscheduler/contents/dolphinscheduler-server/src/test/java/org/apache/dolphinscheduler/server/master/MasterExecThreadTest.java?ref=fa9aa2c18c34b77c09aef7e4b38de428f001384d",
    "patch": "@@ -111,7 +111,6 @@ public void init() throws Exception {\n         dag.setAccessible(true);\n         dag.set(masterExecThread, new DAG());\n         PowerMockito.doNothing().when(masterExecThread, \"executeProcess\");\n-        PowerMockito.doNothing().when(masterExecThread, \"postHandle\");\n         PowerMockito.doNothing().when(masterExecThread, \"prepareProcess\");\n         PowerMockito.doNothing().when(masterExecThread, \"runProcess\");\n         PowerMockito.doNothing().when(masterExecThread, \"endProcess\");"
  }
]
