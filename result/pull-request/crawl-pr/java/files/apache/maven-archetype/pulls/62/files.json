[
  {
    "sha": "032c24902020c3dea7e0bba2c83bf234492cb5c1",
    "filename": "archetype-common/pom.xml",
    "status": "modified",
    "additions": 12,
    "deletions": 9,
    "changes": 21,
    "blob_url": "https://github.com/apache/maven-archetype/blob/53b9b48824e5a6398f1baee8d157e38a312ef577/archetype-common/pom.xml",
    "raw_url": "https://github.com/apache/maven-archetype/raw/53b9b48824e5a6398f1baee8d157e38a312ef577/archetype-common/pom.xml",
    "contents_url": "https://api.github.com/repos/apache/maven-archetype/contents/archetype-common/pom.xml?ref=53b9b48824e5a6398f1baee8d157e38a312ef577",
    "patch": "@@ -107,13 +107,9 @@\n     <dependency>\n       <groupId>org.apache.maven</groupId>\n       <artifactId>maven-aether-provider</artifactId>\n-      <version>3.0</version>\n+      <version>3.1.1</version>\n       <scope>runtime</scope>\n     </dependency>\n-    <dependency>\n-      <groupId>org.apache.maven.shared</groupId>\n-      <artifactId>maven-artifact-transfer</artifactId>\n-    </dependency>\n     <dependency>\n       <groupId>org.codehaus.plexus</groupId>\n       <artifactId>plexus-utils</artifactId>\n@@ -127,10 +123,11 @@\n       <artifactId>commons-collections</artifactId>\n     </dependency>\n     <dependency>\n-      <groupId>org.sonatype.aether</groupId>\n+      <groupId>org.eclipse.aether</groupId>\n       <artifactId>aether-impl</artifactId>\n-      <version>1.7</version>\n+      <version>1.1.0</version>\n     </dependency>\n+\n     <dependency>\n       <groupId>org.codehaus.plexus</groupId>\n       <artifactId>plexus-velocity</artifactId>\n@@ -159,12 +156,12 @@\n       <scope>test</scope>\n     </dependency>\n     <dependency>\n-      <groupId>org.sonatype.aether</groupId>\n+      <groupId>org.eclipse.aether</groupId>\n       <artifactId>aether-connector-file</artifactId>\n       <scope>test</scope>\n     </dependency>\n     <dependency>\n-      <groupId>org.sonatype.aether</groupId>\n+      <groupId>org.eclipse.aether</groupId>\n       <artifactId>aether-connector-wagon</artifactId>\n       <scope>test</scope>\n     </dependency>\n@@ -178,6 +175,12 @@\n       <artifactId>xmlunit-matchers</artifactId>\n       <scope>test</scope>\n     </dependency>\n+    <dependency>\n+      <groupId>org.eclipse.aether</groupId>\n+      <artifactId>aether-api</artifactId>\n+      <version>1.1.0</version>\n+    </dependency>\n+\n   </dependencies>\n \n   <build>"
  },
  {
    "sha": "767342a43ba808f280b1239d691635eea5459063",
    "filename": "archetype-common/src/main/java/org/apache/maven/archetype/downloader/DefaultDownloader.java",
    "status": "modified",
    "additions": 23,
    "deletions": 27,
    "changes": 50,
    "blob_url": "https://github.com/apache/maven-archetype/blob/53b9b48824e5a6398f1baee8d157e38a312ef577/archetype-common/src/main/java/org/apache/maven/archetype/downloader/DefaultDownloader.java",
    "raw_url": "https://github.com/apache/maven-archetype/raw/53b9b48824e5a6398f1baee8d157e38a312ef577/archetype-common/src/main/java/org/apache/maven/archetype/downloader/DefaultDownloader.java",
    "contents_url": "https://api.github.com/repos/apache/maven-archetype/contents/archetype-common/src/main/java/org/apache/maven/archetype/downloader/DefaultDownloader.java?ref=53b9b48824e5a6398f1baee8d157e38a312ef577",
    "patch": "@@ -23,14 +23,16 @@\n import java.util.ArrayList;\n import java.util.List;\n \n-import org.apache.maven.artifact.Artifact;\n import org.apache.maven.artifact.repository.ArtifactRepository;\n import org.apache.maven.project.ProjectBuildingRequest;\n-import org.apache.maven.shared.transfer.artifact.DefaultArtifactCoordinate;\n-import org.apache.maven.shared.transfer.artifact.resolve.ArtifactResolver;\n-import org.apache.maven.shared.transfer.artifact.resolve.ArtifactResolverException;\n import org.codehaus.plexus.component.annotations.Component;\n import org.codehaus.plexus.component.annotations.Requirement;\n+import org.eclipse.aether.DefaultRepositorySystemSession;\n+import org.eclipse.aether.artifact.Artifact;\n+import org.eclipse.aether.artifact.DefaultArtifact;\n+import org.eclipse.aether.impl.ArtifactResolver;\n+import org.eclipse.aether.resolution.ArtifactRequest;\n+import org.eclipse.aether.resolution.ArtifactResolutionException;\n \n /**\n  * @author Jason van Zyl\n@@ -48,16 +50,10 @@ public File download( String groupId, String artifactId, String version, Artifac\n                           ProjectBuildingRequest buildingRequest )\n         throws DownloadException, DownloadNotFoundException\n    {\n-        DefaultArtifactCoordinate jarCoordinate = new DefaultArtifactCoordinate();\n-        jarCoordinate.setGroupId( groupId );\n-        jarCoordinate.setArtifactId( artifactId );\n-        jarCoordinate.setVersion( version );\n-        \n-        DefaultArtifactCoordinate pomCoordinate = new DefaultArtifactCoordinate();\n-        pomCoordinate.setGroupId( groupId );\n-        pomCoordinate.setArtifactId( artifactId );\n-        pomCoordinate.setVersion( version );\n-        pomCoordinate.setExtension( \"pom\" );\n+       ArtifactRequest request = new ArtifactRequest();\n+       Artifact defaultArtifact = new DefaultArtifact( groupId, artifactId, \"pom\", version );\n+       request.setArtifact( defaultArtifact );\n+       DefaultRepositorySystemSession drss = new DefaultRepositorySystemSession();\n \n         List<ArtifactRepository> repositories = new ArrayList<>( remoteRepositories );\n         if ( repositories.isEmpty() && archetypeRepository != null )\n@@ -77,21 +73,21 @@ else if ( repositories.isEmpty() && localRepository != null )\n         Artifact artifact;\n         try\n         {\n-            artifact = artifactResolver.resolveArtifact( buildingRequest, jarCoordinate ).getArtifact();\n+            artifact = artifactResolver.resolveArtifact( drss, request ).getArtifact();\n         }\n-        catch ( ArtifactResolverException e )\n+        catch ( ArtifactResolutionException e )\n         {\n-            throw new DownloadException( \"Error downloading \" + jarCoordinate + \".\", e );\n+            throw new DownloadException( \"Error downloading \" + defaultArtifact + \".\", e );\n         }\n \n         // still required???\n         try\n         {\n-            artifactResolver.resolveArtifact( buildingRequest, pomCoordinate );\n+            artifactResolver.resolveArtifact( drss, request );\n         }\n-        catch ( ArtifactResolverException e )\n+        catch ( ArtifactResolutionException e )\n         {\n-            throw new DownloadException( \"Error downloading POM for \" + artifact.getId() + \".\", e );\n+            throw new DownloadException( \"Error downloading POM for \" + artifact.getArtifactId() + \".\", e );\n         }\n \n         return artifact.getFile();\n@@ -103,18 +99,18 @@ public File downloadOld( String groupId, String artifactId, String version, Arti\n                              ProjectBuildingRequest buildingRequest )\n         throws DownloadException, DownloadNotFoundException\n     {\n-        DefaultArtifactCoordinate jarCoordinate = new DefaultArtifactCoordinate();\n-        jarCoordinate.setGroupId( groupId );\n-        jarCoordinate.setArtifactId( artifactId );\n-        jarCoordinate.setVersion( version );\n+        ArtifactRequest request = new ArtifactRequest();\n+        Artifact defaultArtifact = new DefaultArtifact( groupId, artifactId, null, version );\n+        request.setArtifact( defaultArtifact );\n+        DefaultRepositorySystemSession drss = new DefaultRepositorySystemSession();\n         \n         try\n         {\n-            return artifactResolver.resolveArtifact( buildingRequest, jarCoordinate ).getArtifact().getFile();\n+            return artifactResolver.resolveArtifact( drss, request ).getArtifact().getFile();\n         }\n-        catch ( ArtifactResolverException e )\n+        catch ( ArtifactResolutionException e )\n         {\n-            throw new DownloadException( \"Error downloading \" + jarCoordinate + \".\", e );\n+            throw new DownloadException( \"Error downloading \" + request.toString() + \".\", e );\n         }\n     }\n }"
  },
  {
    "sha": "89f3451f876071eb7fc4a230d37527635f81f983",
    "filename": "archetype-common/src/main/java/org/apache/maven/archetype/source/LocalCatalogArchetypeDataSource.java",
    "status": "modified",
    "additions": 13,
    "deletions": 10,
    "changes": 23,
    "blob_url": "https://github.com/apache/maven-archetype/blob/53b9b48824e5a6398f1baee8d157e38a312ef577/archetype-common/src/main/java/org/apache/maven/archetype/source/LocalCatalogArchetypeDataSource.java",
    "raw_url": "https://github.com/apache/maven-archetype/raw/53b9b48824e5a6398f1baee8d157e38a312ef577/archetype-common/src/main/java/org/apache/maven/archetype/source/LocalCatalogArchetypeDataSource.java",
    "contents_url": "https://api.github.com/repos/apache/maven-archetype/contents/archetype-common/src/main/java/org/apache/maven/archetype/source/LocalCatalogArchetypeDataSource.java?ref=53b9b48824e5a6398f1baee8d157e38a312ef577",
    "patch": "@@ -19,32 +19,35 @@\n  * under the License.\n  */\n \n-import java.io.File;\n-import java.io.FileNotFoundException;\n-import java.io.IOException;\n-import java.util.Iterator;\n-\n import org.apache.maven.archetype.catalog.Archetype;\n import org.apache.maven.archetype.catalog.ArchetypeCatalog;\n import org.apache.maven.project.ProjectBuildingRequest;\n-import org.apache.maven.shared.transfer.repository.RepositoryManager;\n-\n import org.codehaus.plexus.component.annotations.Component;\n import org.codehaus.plexus.component.annotations.Requirement;\n import org.codehaus.plexus.util.ReaderFactory;\n+import org.eclipse.aether.RepositorySystemSession;\n+\n+import java.io.File;\n+import java.io.FileNotFoundException;\n+import java.io.IOException;\n+import java.util.Iterator;\n \n @Component( role = ArchetypeDataSource.class, hint = \"catalog\" )\n public class LocalCatalogArchetypeDataSource\n     extends CatalogArchetypeDataSource\n {\n     @Requirement\n-    private RepositoryManager repositoryManager;\n+    private final RepositorySystemSession session;\n+\n+    public LocalCatalogArchetypeDataSource(RepositorySystemSession session) {\n+        this.session = session;\n+    }\n \n     @Override\n     public void updateCatalog( ProjectBuildingRequest buildingRequest, Archetype archetype )\n         throws ArchetypeDataSourceException\n     {\n-        File localRepo = repositoryManager.getLocalRepositoryBasedir( buildingRequest );\n+        File localRepo = session.getLocalRepository().getBasedir();\n \n         File catalogFile = new File( localRepo, ARCHETYPE_CATALOG_FILENAME );\n \n@@ -105,7 +108,7 @@ public void updateCatalog( ProjectBuildingRequest buildingRequest, Archetype arc\n     public ArchetypeCatalog getArchetypeCatalog( ProjectBuildingRequest buildingRequest )\n         throws ArchetypeDataSourceException\n     {\n-        File localRepo = repositoryManager.getLocalRepositoryBasedir( buildingRequest );\n+        File localRepo = session.getLocalRepository().getBasedir();\n \n         File catalogFile = new File( localRepo, ARCHETYPE_CATALOG_FILENAME );\n "
  },
  {
    "sha": "deafa333974ebcbbc9376787bfdce2da0cf16645",
    "filename": "archetype-common/src/test/java/org/apache/maven/archetype/generator/DefaultArchetypeGeneratorTest.java",
    "status": "modified",
    "additions": 3,
    "deletions": 4,
    "changes": 7,
    "blob_url": "https://github.com/apache/maven-archetype/blob/53b9b48824e5a6398f1baee8d157e38a312ef577/archetype-common/src/test/java/org/apache/maven/archetype/generator/DefaultArchetypeGeneratorTest.java",
    "raw_url": "https://github.com/apache/maven-archetype/raw/53b9b48824e5a6398f1baee8d157e38a312ef577/archetype-common/src/test/java/org/apache/maven/archetype/generator/DefaultArchetypeGeneratorTest.java",
    "contents_url": "https://api.github.com/repos/apache/maven-archetype/contents/archetype-common/src/test/java/org/apache/maven/archetype/generator/DefaultArchetypeGeneratorTest.java?ref=53b9b48824e5a6398f1baee8d157e38a312ef577",
    "patch": "@@ -37,11 +37,10 @@\n import org.apache.maven.plugin.testing.AbstractMojoTestCase;\n import org.apache.maven.project.DefaultProjectBuildingRequest;\n import org.apache.maven.project.ProjectBuildingRequest;\n-import org.apache.maven.repository.internal.MavenRepositorySystemSession;\n import org.codehaus.plexus.util.FileUtils;\n import org.codehaus.plexus.util.ReaderFactory;\n import org.codehaus.plexus.util.xml.pull.XmlPullParserException;\n-import org.sonatype.aether.impl.internal.SimpleLocalRepositoryManager;\n+import org.eclipse.aether.DefaultRepositorySystemSession;\n \n public class DefaultArchetypeGeneratorTest\n     extends AbstractMojoTestCase\n@@ -564,8 +563,8 @@ private ArchetypeGenerationRequest createArchetypeGenerationRequest( String proj\n         request.setProperties( ADDITIONAL_PROPERTIES );\n         \n         ProjectBuildingRequest buildingRequest = new DefaultProjectBuildingRequest();\n-        MavenRepositorySystemSession repositorySession = new MavenRepositorySystemSession();\n-        repositorySession.setLocalRepositoryManager( new SimpleLocalRepositoryManager( localRepository.getBasedir() ) );\n+        DefaultRepositorySystemSession repositorySession = new DefaultRepositorySystemSession();\n+        //repositorySession.setLocalRepositoryManager( new SimpleLocalRepositoryManager( localRepository.getBasedir() ) );\n         buildingRequest.setRepositorySession( repositorySession );\n         request.setProjectBuildingRequest( buildingRequest );\n "
  },
  {
    "sha": "03377d4ebb16ebaec7d462c471618b27dab8a7b3",
    "filename": "archetype-common/src/test/java/org/apache/maven/archetype/old/ArchetypeTest.java",
    "status": "modified",
    "additions": 3,
    "deletions": 4,
    "changes": 7,
    "blob_url": "https://github.com/apache/maven-archetype/blob/53b9b48824e5a6398f1baee8d157e38a312ef577/archetype-common/src/test/java/org/apache/maven/archetype/old/ArchetypeTest.java",
    "raw_url": "https://github.com/apache/maven-archetype/raw/53b9b48824e5a6398f1baee8d157e38a312ef577/archetype-common/src/test/java/org/apache/maven/archetype/old/ArchetypeTest.java",
    "contents_url": "https://api.github.com/repos/apache/maven-archetype/contents/archetype-common/src/test/java/org/apache/maven/archetype/old/ArchetypeTest.java?ref=53b9b48824e5a6398f1baee8d157e38a312ef577",
    "patch": "@@ -42,14 +42,13 @@\n import org.apache.maven.model.io.xpp3.MavenXpp3Reader;\n import org.apache.maven.project.DefaultProjectBuildingRequest;\n import org.apache.maven.project.ProjectBuildingRequest;\n-import org.apache.maven.repository.internal.MavenRepositorySystemSession;\n import org.apache.velocity.VelocityContext;\n import org.apache.velocity.context.Context;\n import org.codehaus.plexus.PlexusTestCase;\n import org.codehaus.plexus.util.FileUtils;\n import org.codehaus.plexus.util.xml.pull.XmlPullParserException;\n import org.codehaus.plexus.velocity.VelocityComponent;\n-import org.sonatype.aether.impl.internal.SimpleLocalRepositoryManager;\n+import org.eclipse.aether.DefaultRepositorySystemSession;\n \n import static org.hamcrest.MatcherAssert.assertThat;\n import static org.xmlunit.matchers.CompareMatcher.isIdenticalTo;\n@@ -89,8 +88,8 @@ public void testArchetype()\n         \n         ProjectBuildingRequest buildingRequest = new DefaultProjectBuildingRequest();\n         buildingRequest.setRemoteRepositories( remoteRepositories );\n-        MavenRepositorySystemSession repositorySession = new MavenRepositorySystemSession();\n-        repositorySession.setLocalRepositoryManager( new SimpleLocalRepositoryManager( localRepository.getBasedir() ) );\n+        DefaultRepositorySystemSession repositorySession = new DefaultRepositorySystemSession();\n+        //repositorySession.setLocalRepositoryManager( new SimpleLocalRepositoryManager( localRepository.getBasedir() ) );\n         buildingRequest.setRepositorySession( repositorySession );\n \n         ArchetypeGenerationRequest request = new ArchetypeGenerationRequest()"
  },
  {
    "sha": "ab4592a3e309e282c10cdf52c71acc273d92daa7",
    "filename": "archetype-common/src/test/java/org/apache/maven/archetype/source/LocalCatalogArchetypeDataSourceTest.java",
    "status": "modified",
    "additions": 11,
    "deletions": 10,
    "changes": 21,
    "blob_url": "https://github.com/apache/maven-archetype/blob/53b9b48824e5a6398f1baee8d157e38a312ef577/archetype-common/src/test/java/org/apache/maven/archetype/source/LocalCatalogArchetypeDataSourceTest.java",
    "raw_url": "https://github.com/apache/maven-archetype/raw/53b9b48824e5a6398f1baee8d157e38a312ef577/archetype-common/src/test/java/org/apache/maven/archetype/source/LocalCatalogArchetypeDataSourceTest.java",
    "contents_url": "https://api.github.com/repos/apache/maven-archetype/contents/archetype-common/src/test/java/org/apache/maven/archetype/source/LocalCatalogArchetypeDataSourceTest.java?ref=53b9b48824e5a6398f1baee8d157e38a312ef577",
    "patch": "@@ -17,19 +17,19 @@\n  *  under the License.\n  */\n \n-import java.io.File;\n-import java.io.FileWriter;\n-import java.io.Writer;\n-\n import org.apache.maven.archetype.ArchetypeManager;\n import org.apache.maven.archetype.catalog.Archetype;\n import org.apache.maven.archetype.catalog.ArchetypeCatalog;\n import org.apache.maven.archetype.catalog.io.xpp3.ArchetypeCatalogXpp3Writer;\n import org.apache.maven.project.DefaultProjectBuildingRequest;\n import org.apache.maven.project.ProjectBuildingRequest;\n-import org.apache.maven.repository.internal.MavenRepositorySystemSession;\n import org.codehaus.plexus.PlexusTestCase;\n-import org.sonatype.aether.impl.internal.SimpleLocalRepositoryManager;\n+import org.eclipse.aether.DefaultRepositorySystemSession;\n+import org.eclipse.aether.repository.LocalRepositoryManager;\n+\n+import java.io.File;\n+import java.io.FileWriter;\n+import java.io.Writer;\n \n public class LocalCatalogArchetypeDataSourceTest extends PlexusTestCase\n {\n@@ -63,11 +63,12 @@ public void testLocalCatalog()\n                     throws Exception\n     {\n         ArchetypeManager archetype = lookup( ArchetypeManager.class );\n-\n+        DefaultRepositorySystemSession drss = new DefaultRepositorySystemSession();\n+        LocalRepositoryManager localRepositoryManager = drss.getLocalRepositoryManager();\n         ProjectBuildingRequest buildingRequest = new DefaultProjectBuildingRequest();\n-        MavenRepositorySystemSession repositorySession = new MavenRepositorySystemSession();\n-        repositorySession.setLocalRepositoryManager( new SimpleLocalRepositoryManager( getTestFile( \"target/test-classes/repositories/test-catalog\" ) ) );\n-        buildingRequest.setRepositorySession( repositorySession );\n+//        MavenRepositorySystemSession repositorySession = new MavenRepositorySystemSession();\n+//        drss.setLocalRepositoryManager((LocalRepositoryManager) new SimpleLocalRepositoryManager( getTestFile( \"target/test-classes/repositories/test-catalog\" ) ));\n+        buildingRequest.setRepositorySession( drss );\n         \n         \n         ArchetypeCatalog result = archetype.getLocalCatalog( buildingRequest );"
  },
  {
    "sha": "9d0575ac2d5885025652ad59f4958ba5afbcdf4c",
    "filename": "archetype-common/src/test/java/org/apache/maven/archetype/test/ArchetypeGenerationTest.java",
    "status": "modified",
    "additions": 6,
    "deletions": 8,
    "changes": 14,
    "blob_url": "https://github.com/apache/maven-archetype/blob/53b9b48824e5a6398f1baee8d157e38a312ef577/archetype-common/src/test/java/org/apache/maven/archetype/test/ArchetypeGenerationTest.java",
    "raw_url": "https://github.com/apache/maven-archetype/raw/53b9b48824e5a6398f1baee8d157e38a312ef577/archetype-common/src/test/java/org/apache/maven/archetype/test/ArchetypeGenerationTest.java",
    "contents_url": "https://api.github.com/repos/apache/maven-archetype/contents/archetype-common/src/test/java/org/apache/maven/archetype/test/ArchetypeGenerationTest.java?ref=53b9b48824e5a6398f1baee8d157e38a312ef577",
    "patch": "@@ -22,23 +22,21 @@\n import org.apache.maven.archetype.ArchetypeGenerationRequest;\n import org.apache.maven.archetype.ArchetypeGenerationResult;\n import org.apache.maven.archetype.ArchetypeManager;\n+import org.apache.maven.archetype.catalog.Archetype;\n+import org.apache.maven.archetype.catalog.ArchetypeCatalog;\n import org.apache.maven.artifact.repository.ArtifactRepository;\n import org.apache.maven.artifact.repository.ArtifactRepositoryPolicy;\n import org.apache.maven.artifact.repository.MavenArtifactRepository;\n import org.apache.maven.artifact.repository.layout.DefaultRepositoryLayout;\n import org.apache.maven.project.DefaultProjectBuildingRequest;\n import org.apache.maven.project.ProjectBuildingRequest;\n-import org.apache.maven.repository.internal.MavenRepositorySystemSession;\n import org.codehaus.plexus.PlexusTestCase;\n+import org.codehaus.plexus.util.FileUtils;\n+import org.eclipse.aether.DefaultRepositorySystemSession;\n \n import java.io.File;\n import java.util.Properties;\n \n-import org.apache.maven.archetype.catalog.Archetype;\n-import org.apache.maven.archetype.catalog.ArchetypeCatalog;\n-import org.codehaus.plexus.util.FileUtils;\n-import org.sonatype.aether.impl.internal.SimpleLocalRepositoryManager;\n-\n /** @author Jason van Zyl */\n public class ArchetypeGenerationTest\n     extends PlexusTestCase\n@@ -56,8 +54,8 @@ public void testProjectGenerationFromAnArchetype()\n                 .toURI().toURL().toExternalForm(), \"local-repo\" );\n         \n         ProjectBuildingRequest buildingRequest = new DefaultProjectBuildingRequest();\n-        MavenRepositorySystemSession repositorySession = new MavenRepositorySystemSession();\n-        repositorySession.setLocalRepositoryManager( new SimpleLocalRepositoryManager( \"target/test-classes/repositories/central\" ) );\n+        DefaultRepositorySystemSession repositorySession = new DefaultRepositorySystemSession();\n+//        repositorySession.setLocalRepositoryManager( new SimpleLocalRepositoryManager( \"target/test-classes/repositories/central\" ) );\n         buildingRequest.setRepositorySession( repositorySession );\n \n         ArchetypeCatalog catalog = archetype.getLocalCatalog( buildingRequest );"
  },
  {
    "sha": "7c4b012111c3bda176f93f72146a5c91070b1ec8",
    "filename": "archetype-common/src/test/java/org/apache/maven/archetype/test/InternalCatalogArchetypesVerificationTest.java",
    "status": "modified",
    "additions": 4,
    "deletions": 4,
    "changes": 8,
    "blob_url": "https://github.com/apache/maven-archetype/blob/53b9b48824e5a6398f1baee8d157e38a312ef577/archetype-common/src/test/java/org/apache/maven/archetype/test/InternalCatalogArchetypesVerificationTest.java",
    "raw_url": "https://github.com/apache/maven-archetype/raw/53b9b48824e5a6398f1baee8d157e38a312ef577/archetype-common/src/test/java/org/apache/maven/archetype/test/InternalCatalogArchetypesVerificationTest.java",
    "contents_url": "https://api.github.com/repos/apache/maven-archetype/contents/archetype-common/src/test/java/org/apache/maven/archetype/test/InternalCatalogArchetypesVerificationTest.java?ref=53b9b48824e5a6398f1baee8d157e38a312ef577",
    "patch": "@@ -32,10 +32,9 @@\n import org.apache.maven.artifact.repository.layout.DefaultRepositoryLayout;\n import org.apache.maven.project.DefaultProjectBuildingRequest;\n import org.apache.maven.project.ProjectBuildingRequest;\n-import org.apache.maven.repository.internal.MavenRepositorySystemSession;\n import org.codehaus.plexus.PlexusTestCase;\n import org.codehaus.plexus.util.FileUtils;\n-import org.sonatype.aether.impl.internal.SimpleLocalRepositoryManager;\n+import org.eclipse.aether.DefaultRepositorySystemSession;\n \n /**\n  *\n@@ -87,8 +86,9 @@ public void testInternalCatalog()\n                 .setLocalRepository( localRepository );\n             \n             ProjectBuildingRequest buildingRequest = new DefaultProjectBuildingRequest();\n-            MavenRepositorySystemSession repositorySession = new MavenRepositorySystemSession();\n-            repositorySession.setLocalRepositoryManager( new SimpleLocalRepositoryManager( localRepository.getBasedir() ) );\n+            DefaultRepositorySystemSession repositorySession = new DefaultRepositorySystemSession();\n+//            SimpleLocalRepositoryManager slrm = new SimpleLocalRepositoryManager( localRepository.getBasedir();\n+//            repositorySession.setLocalRepositoryManager( new SimpleLocalRepositoryManager( localRepository.getBasedir() ) );\n             buildingRequest.setRepositorySession( repositorySession );\n             request.setProjectBuildingRequest( buildingRequest );\n "
  },
  {
    "sha": "f00da15fb8c665acf1e267f225c8d9b2e29dd8f0",
    "filename": "maven-archetype-plugin/pom.xml",
    "status": "modified",
    "additions": 0,
    "deletions": 4,
    "changes": 4,
    "blob_url": "https://github.com/apache/maven-archetype/blob/53b9b48824e5a6398f1baee8d157e38a312ef577/maven-archetype-plugin/pom.xml",
    "raw_url": "https://github.com/apache/maven-archetype/raw/53b9b48824e5a6398f1baee8d157e38a312ef577/maven-archetype-plugin/pom.xml",
    "contents_url": "https://api.github.com/repos/apache/maven-archetype/contents/maven-archetype-plugin/pom.xml?ref=53b9b48824e5a6398f1baee8d157e38a312ef577",
    "patch": "@@ -126,10 +126,6 @@\n       <groupId>org.apache.maven.shared</groupId>\n       <artifactId>maven-invoker</artifactId>\n     </dependency>\n-    <dependency>\n-      <groupId>org.apache.maven.shared</groupId>\n-      <artifactId>maven-artifact-transfer</artifactId>\n-    </dependency>\n     <dependency>\n       <groupId>commons-lang</groupId>\n       <artifactId>commons-lang</artifactId>"
  },
  {
    "sha": "f2bd52ab3d10f61882b8dc580c2dd7709357d79a",
    "filename": "pom.xml",
    "status": "modified",
    "additions": 11,
    "deletions": 13,
    "changes": 24,
    "blob_url": "https://github.com/apache/maven-archetype/blob/53b9b48824e5a6398f1baee8d157e38a312ef577/pom.xml",
    "raw_url": "https://github.com/apache/maven-archetype/raw/53b9b48824e5a6398f1baee8d157e38a312ef577/pom.xml",
    "contents_url": "https://api.github.com/repos/apache/maven-archetype/contents/pom.xml?ref=53b9b48824e5a6398f1baee8d157e38a312ef577",
    "patch": "@@ -74,7 +74,7 @@\n \n   <properties>\n     <maven.archetype.scm.devConnection>scm:git:https://gitbox.apache.org/repos/asf/maven-archetype.git</maven.archetype.scm.devConnection>\n-    <mavenVersion>3.0</mavenVersion>\n+    <mavenVersion>3.1.1</mavenVersion>\n     <javaVersion>7</javaVersion>\n     <netbeans.hint.useExternalMaven>true</netbeans.hint.useExternalMaven>\n     <wagonVersion>3.3.3</wagonVersion>\n@@ -145,11 +145,6 @@\n         <artifactId>maven-invoker</artifactId>\n         <version>3.0.1</version>\n       </dependency>\n-      <dependency>\n-        <groupId>org.apache.maven.shared</groupId>\n-        <artifactId>maven-artifact-transfer</artifactId>\n-        <version>0.12.0</version>\n-      </dependency>\n       <dependency>\n         <groupId>org.codehaus.plexus</groupId>\n         <artifactId>plexus-utils</artifactId>\n@@ -231,14 +226,14 @@\n         <version>${wagonVersion}</version>\n       </dependency>\n       <dependency>\n-        <groupId>org.sonatype.aether</groupId>\n+        <groupId>org.eclipse.aether</groupId>\n         <artifactId>aether-connector-file</artifactId>\n-        <version>1.7</version>\n+        <version>0.9.0.M2</version>\n       </dependency>\n       <dependency>\n-        <groupId>org.sonatype.aether</groupId>\n+        <groupId>org.eclipse.aether</groupId>\n         <artifactId>aether-connector-wagon</artifactId>\n-        <version>1.7</version>\n+        <version>0.9.0.M2</version>\n       </dependency>\n \n       <dependency>\n@@ -280,12 +275,15 @@\n     </pluginManagement>\n     <plugins>\n       <plugin>\n-        <groupId>org.codehaus.plexus</groupId>\n-        <artifactId>plexus-component-metadata</artifactId>\n+        <groupId>org.eclipse.sisu</groupId>\n+        <artifactId>sisu-maven-plugin</artifactId>\n+        <version>0.3.4</version>\n         <executions>\n           <execution>\n+            <id>index-project</id>\n             <goals>\n-              <goal>generate-metadata</goal>\n+              <goal>main-index</goal>\n+              <goal>test-index</goal>\n             </goals>\n           </execution>\n         </executions>"
  }
]
