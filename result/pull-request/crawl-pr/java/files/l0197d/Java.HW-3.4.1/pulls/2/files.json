[
  {
    "sha": "8b979dbaa80f32455ce00a4f3e85ec11764796b8",
    "filename": "src/main/java/ru/netology/domain/Movie.java",
    "status": "modified",
    "additions": 0,
    "deletions": 1,
    "changes": 1,
    "blob_url": "https://github.com/l0197d/Java.HW-3.4.1/blob/03dc0d306dd7d3d583290bdcea5903967835ceaa/src/main/java/ru/netology/domain/Movie.java",
    "raw_url": "https://github.com/l0197d/Java.HW-3.4.1/raw/03dc0d306dd7d3d583290bdcea5903967835ceaa/src/main/java/ru/netology/domain/Movie.java",
    "contents_url": "https://api.github.com/repos/l0197d/Java.HW-3.4.1/contents/src/main/java/ru/netology/domain/Movie.java?ref=03dc0d306dd7d3d583290bdcea5903967835ceaa",
    "patch": "@@ -11,6 +11,5 @@\n   private int id;\n   private String name;\n   private String genre;\n-  private String url;\n \n }"
  },
  {
    "sha": "118320aa379fbb20ddadfe7536faacb9fbecc2da",
    "filename": "src/main/java/ru/netology/manager/AfishaManager.java",
    "status": "modified",
    "additions": 44,
    "deletions": 23,
    "changes": 67,
    "blob_url": "https://github.com/l0197d/Java.HW-3.4.1/blob/03dc0d306dd7d3d583290bdcea5903967835ceaa/src/main/java/ru/netology/manager/AfishaManager.java",
    "raw_url": "https://github.com/l0197d/Java.HW-3.4.1/raw/03dc0d306dd7d3d583290bdcea5903967835ceaa/src/main/java/ru/netology/manager/AfishaManager.java",
    "contents_url": "https://api.github.com/repos/l0197d/Java.HW-3.4.1/contents/src/main/java/ru/netology/manager/AfishaManager.java?ref=03dc0d306dd7d3d583290bdcea5903967835ceaa",
    "patch": "@@ -3,32 +3,53 @@\n import ru.netology.domain.Movie;\n \n public class AfishaManager {\n-  private Movie[] poster = new Movie[0];\n-  private int filmQuantity = 10;\n+    private Movie[] poster = new Movie[0];\n+    private int filmQuantity = 10;\n \n-  public AfishaManager() {\n+    public AfishaManager() {\n \n-  }\n+    }\n+\n+    public AfishaManager(int filmQuantity) {\n+        this.filmQuantity = filmQuantity;\n+    }\n+\n+\n+    //Метод для добавления фильмов\n+    public void add(Movie newMovie) {\n+        int length = poster.length + 1;\n+        Movie[] newPoster = new Movie[length];\n+        for (int i = 0; i < poster.length; i++) {\n+            newPoster[i] = poster[i];\n+        }\n+        newPoster[newPoster.length - 1] = newMovie;\n+        poster = newPoster;\n+    }\n \n-  //Добавить новый фильм\n-  public void add(Movie newMovie) {\n-    int length = poster.length + 1;\n-    Movie[] newPoster = new Movie[length];\n-    for (int i = 0; i < poster.length; i++) {\n-      newPoster[i] = poster[i];\n+    //Метод получения всего списка элементов\n+    public Movie[] getAll() {\n+        int quantity = Math.min(filmQuantity, poster.length);\n+        Movie[] result = new Movie[quantity];\n+        for (int i = 0; i < quantity; i++) {\n+            int index = poster.length - 1 - i;\n+            result[i] = poster[index];\n+        }\n+        return result;\n     }\n-    newPoster[newPoster.length - 1] = newMovie;\n-    poster = newPoster;\n-  }\n-\n-  // Показать последний фильм\n-  public Movie[] getLast() {\n-    int quantity = Math.min(filmQuantity, poster.length);\n-    Movie[] result = new Movie[quantity];\n-    for (int i = 0; i < quantity; i++) {\n-      int index = poster.length - 1 - i;\n-      result[i] = poster[index];\n+\n+    //Метод, который выводит 10 фильмов\n+    public Movie[] getMovies() {\n+        int feed = this.filmQuantity;\n+        if (feed > poster.length)\n+            feed = poster.length;\n+        Movie[] result = new Movie[feed];\n+        for (int i = 0; i < result.length; i++) {\n+            int index = poster.length - i - 1;\n+            result[i] = poster[index];\n+        }\n+        return result;\n+\n     }\n-    return result;\n-  }\n+\n+\n }\n\\ No newline at end of file"
  },
  {
    "sha": "9d921919b7bfb2a9cee83a23f06a80077c8531b3",
    "filename": "src/test/java/ru/netology/manager/AfishaManagerTest.java",
    "status": "modified",
    "additions": 39,
    "deletions": 21,
    "changes": 60,
    "blob_url": "https://github.com/l0197d/Java.HW-3.4.1/blob/03dc0d306dd7d3d583290bdcea5903967835ceaa/src/test/java/ru/netology/manager/AfishaManagerTest.java",
    "raw_url": "https://github.com/l0197d/Java.HW-3.4.1/raw/03dc0d306dd7d3d583290bdcea5903967835ceaa/src/test/java/ru/netology/manager/AfishaManagerTest.java",
    "contents_url": "https://api.github.com/repos/l0197d/Java.HW-3.4.1/contents/src/test/java/ru/netology/manager/AfishaManagerTest.java?ref=03dc0d306dd7d3d583290bdcea5903967835ceaa",
    "patch": "@@ -1,6 +1,6 @@\n package ru.netology.manager;\n \n-import org.junit.jupiter.api.BeforeEach;\n+\n import org.junit.jupiter.api.Test;\n import ru.netology.domain.Movie;\n \n@@ -9,35 +9,53 @@\n \n class AfishaManagerTest {\n     private AfishaManager manager = new AfishaManager();\n-    private Movie first = new Movie(1, \"first\", \"Мультфильм\", \"www.1ссылка.com\");\n-    private Movie second = new Movie(2, \"second\", \"Ужасы\", \"www.2ссылка.com\");\n-    private Movie third = new Movie(3, \"third\", \"Боевик\", \"www.3ссылка.com\");\n-    private Movie fourth = new Movie(4, \"fourth\", \"Мюзикал\", \"www.4ссылка.com\");\n-    private Movie fifth = new Movie(5, \"fifth\", \"Драма\", \"www.5Url.com\");\n-    private Movie sixth = new Movie(6, \"sixth\", \"Документалка\", \"www.6Url.com\");\n-    private Movie seventh = new Movie(7, \"seventh\", \"Детектив\", \"www.7Url.com\");\n-    private Movie eighth = new Movie(8, \"eighth\", \"Комедия\", \"www.8Url.com\");\n-    private Movie ninth = new Movie(9, \"ninth\", \"ХХХ\", \"www.9Url.com\");\n-    private Movie tenth = new Movie(10, \"tenth\", \"Шляпа\", \"www.10Url.com\");\n-\n-    @BeforeEach\n+    private final Movie first = new Movie(1, \"first\", \"Мультфильм\");\n+    private final Movie second = new Movie(2, \"second\", \"Ужасы\");\n+    private final Movie third = new Movie(3, \"third\", \"Боевик\");\n+    private final Movie fourth = new Movie(4, \"fourth\", \"Мюзикал\");\n+    private final Movie fifth = new Movie(5, \"fifth\", \"Драма\");\n+\n     public void setUp() {\n         manager.add(first);\n         manager.add(second);\n         manager.add(third);\n         manager.add(fourth);\n         manager.add(fifth);\n-        manager.add(sixth);\n-        manager.add(seventh);\n-        manager.add(eighth);\n-        manager.add(ninth);\n     }\n \n     @Test\n-    void getLastWithQuantityMoreThanInList() {\n-        Movie[] actual = manager.getLast();\n-        Movie[] expected = new Movie[]{ninth, eighth, seventh, sixth, fifth, fourth, third, second, first};\n+    public void addMoviesToEmpty() {\n+        manager.add(first);\n+        assertArrayEquals(new Movie[]{first}, manager.getAll());\n+    }\n+\n+    @Test\n+    public void addMoviesToExisted() {\n+        manager.add(first);\n+        Movie[] expected = new Movie[]{first};\n+        Movie[] actual = manager.getAll();\n+        assertArrayEquals(new Movie[]{first}, manager.getAll());\n+\n+        manager.add(second);\n+        Movie[] expectedAdded = new Movie[]{second, first};\n+        Movie[] actualAdded = manager.getAll();\n+        assertArrayEquals(expectedAdded, actualAdded);\n+    }\n+\n+    @Test\n+    void moviesForFeed() {\n+        setUp();\n+        Movie[] expected = new Movie[]{fifth, fourth, third, second, first};\n+        Movie[] actual = manager.getMovies();\n         assertArrayEquals(expected, actual);\n     }\n \n-}\n+    @Test\n+    void MoviesMinFeed() {\n+        manager = new AfishaManager(3);\n+        setUp();\n+        Movie[] expected = new Movie[]{fifth, fourth, third};\n+        Movie[] actual = manager.getMovies();\n+        assertArrayEquals(expected, actual);\n+    }\n+}\n\\ No newline at end of file"
  }
]
