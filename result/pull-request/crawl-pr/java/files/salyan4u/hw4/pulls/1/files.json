[
  {
    "sha": "549e00a2a96fa9d7c5dbc9859664a78d980158c2",
    "filename": ".gitignore",
    "status": "added",
    "additions": 33,
    "deletions": 0,
    "changes": 33,
    "blob_url": "https://github.com/salyan4u/hw4/blob/fcc2c801c23ed6ffdec5c0af2e11d5c7b25ee8c4/.gitignore",
    "raw_url": "https://github.com/salyan4u/hw4/raw/fcc2c801c23ed6ffdec5c0af2e11d5c7b25ee8c4/.gitignore",
    "contents_url": "https://api.github.com/repos/salyan4u/hw4/contents/.gitignore?ref=fcc2c801c23ed6ffdec5c0af2e11d5c7b25ee8c4",
    "patch": "@@ -0,0 +1,33 @@\n+HELP.md\n+target/\n+!.mvn/wrapper/maven-wrapper.jar\n+!**/src/main/**/target/\n+!**/src/test/**/target/\n+\n+### STS ###\n+.apt_generated\n+.classpath\n+.factorypath\n+.project\n+.settings\n+.springBeans\n+.sts4-cache\n+\n+### IntelliJ IDEA ###\n+.idea\n+*.iws\n+*.iml\n+*.ipr\n+\n+### NetBeans ###\n+/nbproject/private/\n+/nbbuild/\n+/dist/\n+/nbdist/\n+/.nb-gradle/\n+build/\n+!**/src/main/**/build/\n+!**/src/test/**/build/\n+\n+### VS Code ###\n+.vscode/"
  },
  {
    "sha": "043ac94dbd9d335178c6c85fb9fd79d932154350",
    "filename": "pom.xml",
    "status": "added",
    "additions": 66,
    "deletions": 0,
    "changes": 66,
    "blob_url": "https://github.com/salyan4u/hw4/blob/fcc2c801c23ed6ffdec5c0af2e11d5c7b25ee8c4/pom.xml",
    "raw_url": "https://github.com/salyan4u/hw4/raw/fcc2c801c23ed6ffdec5c0af2e11d5c7b25ee8c4/pom.xml",
    "contents_url": "https://api.github.com/repos/salyan4u/hw4/contents/pom.xml?ref=fcc2c801c23ed6ffdec5c0af2e11d5c7b25ee8c4",
    "patch": "@@ -0,0 +1,66 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd\">\n+    <modelVersion>4.0.0</modelVersion>\n+    <parent>\n+        <groupId>org.springframework.boot</groupId>\n+        <artifactId>spring-boot-starter-parent</artifactId>\n+        <version>2.4.3</version>\n+        <relativePath/> <!-- lookup parent from repository -->\n+    </parent>\n+    <groupId>ru.solyanin</groupId>\n+    <artifactId>hw4</artifactId>\n+    <version>0.0.1-SNAPSHOT</version>\n+    <packaging>war</packaging>\n+    <name>hw4</name>\n+    <description>Demo project for Spring Boot</description>\n+    <properties>\n+        <java.version>11</java.version>\n+    </properties>\n+    <dependencies>\n+        <dependency>\n+            <groupId>org.springframework.boot</groupId>\n+            <artifactId>spring-boot-starter-thymeleaf</artifactId>\n+        </dependency>\n+        <dependency>\n+            <groupId>org.springframework.boot</groupId>\n+            <artifactId>spring-boot-starter-web</artifactId>\n+        </dependency>\n+\n+        <dependency>\n+            <groupId>org.springframework.boot</groupId>\n+            <artifactId>spring-boot-starter-tomcat</artifactId>\n+            <scope>provided</scope>\n+        </dependency>\n+        <dependency>\n+            <groupId>org.springframework.boot</groupId>\n+            <artifactId>spring-boot-starter-test</artifactId>\n+            <scope>test</scope>\n+        </dependency>\n+        <dependency>\n+            <groupId>com.google.code.gson</groupId>\n+            <artifactId>gson</artifactId>\n+            <version>2.8.6</version>\n+        </dependency>\n+        <dependency>\n+            <groupId>javax.xml.bind</groupId>\n+            <artifactId>jaxb-api</artifactId>\n+            <version>2.3.1</version>\n+        </dependency>\n+        <dependency>\n+            <groupId>org.glassfish.jaxb</groupId>\n+            <artifactId>jaxb-runtime</artifactId>\n+            <version>2.3.1</version>\n+        </dependency>\n+    </dependencies>\n+\n+    <build>\n+        <plugins>\n+            <plugin>\n+                <groupId>org.springframework.boot</groupId>\n+                <artifactId>spring-boot-maven-plugin</artifactId>\n+            </plugin>\n+        </plugins>\n+    </build>\n+\n+</project>"
  },
  {
    "sha": "94b6599cf13db78d6b3092ba409c25e6116169fa",
    "filename": "src/main/java/ru/solyanin/Product.java",
    "status": "added",
    "additions": 52,
    "deletions": 0,
    "changes": 52,
    "blob_url": "https://github.com/salyan4u/hw4/blob/fcc2c801c23ed6ffdec5c0af2e11d5c7b25ee8c4/src/main/java/ru/solyanin/Product.java",
    "raw_url": "https://github.com/salyan4u/hw4/raw/fcc2c801c23ed6ffdec5c0af2e11d5c7b25ee8c4/src/main/java/ru/solyanin/Product.java",
    "contents_url": "https://api.github.com/repos/salyan4u/hw4/contents/src/main/java/ru/solyanin/Product.java?ref=fcc2c801c23ed6ffdec5c0af2e11d5c7b25ee8c4",
    "patch": "@@ -0,0 +1,52 @@\n+package ru.solyanin;\n+\n+import org.springframework.stereotype.Component;\n+\n+@Component\n+public class Product {\n+    private int cost;\n+    private String name;\n+    private int id;\n+\n+    public Product() {\n+    }\n+\n+    public Product(int id, int cost, String name) {\n+        this.id = id;\n+        this.cost = cost;\n+        this.name = name;\n+    }\n+\n+    public int getCost() {\n+        return cost;\n+    }\n+\n+    public void setCost(int cost) {\n+        this.cost = cost;\n+    }\n+\n+    public String getName() {\n+        return name;\n+    }\n+\n+    public void setName(String name) {\n+        this.name = name;\n+    }\n+\n+    public int getId() {\n+        return id;\n+    }\n+\n+    public void setId(int id) {\n+        this.id = id;\n+    }\n+\n+    @Override\n+    public String toString() {\n+        return \"Product{\" +\n+                \"cost=\" + cost +\n+                \", name='\" + name + '\\'' +\n+                \", id=\" + id +\n+                '}';\n+    }\n+}"
  },
  {
    "sha": "9e5712862fd41b496cc3a71ba9ac12a5902c7b8f",
    "filename": "src/main/java/ru/solyanin/ProductRepository.java",
    "status": "added",
    "additions": 26,
    "deletions": 0,
    "changes": 26,
    "blob_url": "https://github.com/salyan4u/hw4/blob/fcc2c801c23ed6ffdec5c0af2e11d5c7b25ee8c4/src/main/java/ru/solyanin/ProductRepository.java",
    "raw_url": "https://github.com/salyan4u/hw4/raw/fcc2c801c23ed6ffdec5c0af2e11d5c7b25ee8c4/src/main/java/ru/solyanin/ProductRepository.java",
    "contents_url": "https://api.github.com/repos/salyan4u/hw4/contents/src/main/java/ru/solyanin/ProductRepository.java?ref=fcc2c801c23ed6ffdec5c0af2e11d5c7b25ee8c4",
    "patch": "@@ -0,0 +1,26 @@\n+package ru.solyanin;\n+\n+import org.springframework.stereotype.Component;\n+\n+import java.util.ArrayList;\n+import java.util.List;\n+\n+@Component\n+public class ProductRepository {\n+\n+    private final List<Product> products = new ArrayList<>();\n+\n+    ProductRepository() {\n+        products.add(new Product(1, 200, \"banana\"));\n+        products.add(new Product(2, 100, \"orange\"));\n+        products.add(new Product(3, 200, \"guava\"));\n+    }\n+\n+    public List<Product> getProducts() {\n+        return products;\n+    }\n+\n+    public void addProduct(Product product) {\n+        products.add(product);\n+    }\n+}"
  },
  {
    "sha": "d8bc991fdfaca47029a0d11ce4a0b8f9b47b862d",
    "filename": "src/main/java/ru/solyanin/controllers/ProductController.java",
    "status": "added",
    "additions": 39,
    "deletions": 0,
    "changes": 39,
    "blob_url": "https://github.com/salyan4u/hw4/blob/fcc2c801c23ed6ffdec5c0af2e11d5c7b25ee8c4/src/main/java/ru/solyanin/controllers/ProductController.java",
    "raw_url": "https://github.com/salyan4u/hw4/raw/fcc2c801c23ed6ffdec5c0af2e11d5c7b25ee8c4/src/main/java/ru/solyanin/controllers/ProductController.java",
    "contents_url": "https://api.github.com/repos/salyan4u/hw4/contents/src/main/java/ru/solyanin/controllers/ProductController.java?ref=fcc2c801c23ed6ffdec5c0af2e11d5c7b25ee8c4",
    "patch": "@@ -0,0 +1,39 @@\n+package ru.solyanin.controllers;\n+\n+import ru.solyanin.Product;\n+import com.google.gson.Gson;\n+import org.springframework.beans.factory.annotation.Autowired;\n+import org.springframework.http.MediaType;\n+import org.springframework.web.bind.annotation.GetMapping;\n+import org.springframework.web.bind.annotation.PathVariable;\n+import org.springframework.web.bind.annotation.RestController;\n+\n+import javax.xml.bind.JAXB;\n+import java.io.StringWriter;\n+\n+\n+@RestController\n+public class ProductController {\n+\n+    @Autowired\n+    private Product product;\n+\n+    @GetMapping(value = \"json/{name}\", produces = MediaType.APPLICATION_JSON_VALUE)\n+    public String getProductJSON(@PathVariable String name) {\n+        product.setId(1);\n+        product.setCost(100);\n+        product.setName(name);\n+        Gson gson = new Gson();\n+        return gson.toJson(product);\n+    }\n+\n+    @GetMapping(value = \"xml/{name}\", produces = MediaType.APPLICATION_XML_VALUE)\n+    public String getProductXML(@PathVariable String name) {\n+        product.setId(1);\n+        product.setCost(100);\n+        product.setName(name);\n+        StringWriter sw = new StringWriter();\n+        JAXB.marshal(product, sw);\n+        return sw.toString();\n+    }\n+}"
  },
  {
    "sha": "f358c591ae1f513dd85a8bbef26bdb6542f4c8f3",
    "filename": "src/main/java/ru/solyanin/controllers/RepositoryController.java",
    "status": "added",
    "additions": 48,
    "deletions": 0,
    "changes": 48,
    "blob_url": "https://github.com/salyan4u/hw4/blob/fcc2c801c23ed6ffdec5c0af2e11d5c7b25ee8c4/src/main/java/ru/solyanin/controllers/RepositoryController.java",
    "raw_url": "https://github.com/salyan4u/hw4/raw/fcc2c801c23ed6ffdec5c0af2e11d5c7b25ee8c4/src/main/java/ru/solyanin/controllers/RepositoryController.java",
    "contents_url": "https://api.github.com/repos/salyan4u/hw4/contents/src/main/java/ru/solyanin/controllers/RepositoryController.java?ref=fcc2c801c23ed6ffdec5c0af2e11d5c7b25ee8c4",
    "patch": "@@ -0,0 +1,48 @@\n+package ru.solyanin.controllers;\n+\n+\n+import org.springframework.beans.factory.annotation.Autowired;\n+import org.springframework.stereotype.Controller;\n+import org.springframework.ui.Model;\n+import org.springframework.web.bind.annotation.GetMapping;\n+import org.springframework.web.bind.annotation.PathVariable;\n+import org.springframework.web.bind.annotation.PostMapping;\n+import org.springframework.web.bind.annotation.RequestMapping;\n+import ru.solyanin.Product;\n+import ru.solyanin.ProductRepository;\n+\n+@Controller\n+@RequestMapping(\"/products\")\n+public class RepositoryController {\n+    private final ProductRepository products;\n+\n+    @Autowired\n+    public RepositoryController(ProductRepository products) {\n+        this.products = products;\n+    }\n+\n+    @GetMapping(\"/all\")\n+    public String showProducts(Model model) {\n+        model.addAttribute(\"products\", products.getProducts());\n+        return \"products\";\n+    }\n+\n+    @GetMapping(\"/{id}\")\n+    public String showProduct(Model model, @PathVariable int id) {\n+        model.addAttribute(\"products\", products.getProducts().get(id));\n+        return \"products\";\n+    }\n+\n+    @GetMapping(\"/add\")\n+    public String getForm(Model model) {\n+        Product product = new Product();\n+        model.addAttribute(\"product\", product);\n+        return \"add\";\n+    }\n+\n+    @PostMapping(\"form\")\n+    public String saveProduct(Product product) {\n+        products.addProduct(product);\n+        return \"products\";\n+    }\n+}"
  },
  {
    "sha": "fc2c93d14ff43f115353d99f3252bfaf322d5878",
    "filename": "src/main/java/ru/solyanin/hw4/Hw4Application.java",
    "status": "added",
    "additions": 15,
    "deletions": 0,
    "changes": 15,
    "blob_url": "https://github.com/salyan4u/hw4/blob/fcc2c801c23ed6ffdec5c0af2e11d5c7b25ee8c4/src/main/java/ru/solyanin/hw4/Hw4Application.java",
    "raw_url": "https://github.com/salyan4u/hw4/raw/fcc2c801c23ed6ffdec5c0af2e11d5c7b25ee8c4/src/main/java/ru/solyanin/hw4/Hw4Application.java",
    "contents_url": "https://api.github.com/repos/salyan4u/hw4/contents/src/main/java/ru/solyanin/hw4/Hw4Application.java?ref=fcc2c801c23ed6ffdec5c0af2e11d5c7b25ee8c4",
    "patch": "@@ -0,0 +1,15 @@\n+package ru.solyanin.hw4;\n+\n+import org.springframework.boot.SpringApplication;\n+import org.springframework.boot.autoconfigure.SpringBootApplication;\n+import org.springframework.context.annotation.ComponentScan;\n+\n+@SpringBootApplication\n+@ComponentScan(basePackages = \"ru.solyanin\")\n+public class Hw4Application {\n+\n+    public static void main(String[] args) {\n+        SpringApplication.run(Hw4Application.class, args);\n+    }\n+\n+}"
  },
  {
    "sha": "ec9e51e7dff38b1fe5275e0f4b75a93c6b30c76f",
    "filename": "src/main/java/ru/solyanin/hw4/ServletInitializer.java",
    "status": "added",
    "additions": 13,
    "deletions": 0,
    "changes": 13,
    "blob_url": "https://github.com/salyan4u/hw4/blob/fcc2c801c23ed6ffdec5c0af2e11d5c7b25ee8c4/src/main/java/ru/solyanin/hw4/ServletInitializer.java",
    "raw_url": "https://github.com/salyan4u/hw4/raw/fcc2c801c23ed6ffdec5c0af2e11d5c7b25ee8c4/src/main/java/ru/solyanin/hw4/ServletInitializer.java",
    "contents_url": "https://api.github.com/repos/salyan4u/hw4/contents/src/main/java/ru/solyanin/hw4/ServletInitializer.java?ref=fcc2c801c23ed6ffdec5c0af2e11d5c7b25ee8c4",
    "patch": "@@ -0,0 +1,13 @@\n+package ru.solyanin.hw4;\n+\n+import org.springframework.boot.builder.SpringApplicationBuilder;\n+import org.springframework.boot.web.servlet.support.SpringBootServletInitializer;\n+\n+public class ServletInitializer extends SpringBootServletInitializer {\n+\n+    @Override\n+    protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\n+        return application.sources(Hw4Application.class);\n+    }\n+\n+}"
  },
  {
    "sha": "9c37443539d2888cfa0ec430f037ff42ee446e4d",
    "filename": "src/main/resources/application.properties",
    "status": "added",
    "additions": 2,
    "deletions": 0,
    "changes": 2,
    "blob_url": "https://github.com/salyan4u/hw4/blob/fcc2c801c23ed6ffdec5c0af2e11d5c7b25ee8c4/src/main/resources/application.properties",
    "raw_url": "https://github.com/salyan4u/hw4/raw/fcc2c801c23ed6ffdec5c0af2e11d5c7b25ee8c4/src/main/resources/application.properties",
    "contents_url": "https://api.github.com/repos/salyan4u/hw4/contents/src/main/resources/application.properties?ref=fcc2c801c23ed6ffdec5c0af2e11d5c7b25ee8c4",
    "patch": "@@ -0,0 +1,2 @@\n+server.port=8080\n+server.address=localhost"
  },
  {
    "sha": "ae4eb9b7a4353c4fd03392a57c23d3be20da4dff",
    "filename": "src/main/resources/templates/add.html",
    "status": "added",
    "additions": 21,
    "deletions": 0,
    "changes": 21,
    "blob_url": "https://github.com/salyan4u/hw4/blob/fcc2c801c23ed6ffdec5c0af2e11d5c7b25ee8c4/src/main/resources/templates/add.html",
    "raw_url": "https://github.com/salyan4u/hw4/raw/fcc2c801c23ed6ffdec5c0af2e11d5c7b25ee8c4/src/main/resources/templates/add.html",
    "contents_url": "https://api.github.com/repos/salyan4u/hw4/contents/src/main/resources/templates/add.html?ref=fcc2c801c23ed6ffdec5c0af2e11d5c7b25ee8c4",
    "patch": "@@ -0,0 +1,21 @@\n+<!DOCTYPE html>\n+\n+<html xmlns=\"http://www.w3.org/1999/xhtml\"\n+      xmlns:th=\"http://www.thymeleaf.org\" lang=\"en\">\n+<head>\n+    <title>Add new product</title>\n+</head>\n+\n+<body>\n+<form th:action=\"@{/products/form}\" th:object=\"${product}\" th:method=\"POST\">\n+    ID: <input type=\"text\" th:field=\"*{id}\"/>\n+    <br>\n+    Cost: <input type=\"text\" th:field=\"*{cost}\"/>\n+    <br>\n+    Name: <input type=\"text\" th:field=\"*{name}\"/>\n+    <br>\n+    <button type=\"submit\">Save</button>\n+    <a href=\"/\">To main</a>\n+</form>\n+</body>\n+</html>"
  },
  {
    "sha": "854d41d0454affafc0dc4b297160de4a184b813f",
    "filename": "src/main/resources/templates/index.html",
    "status": "added",
    "additions": 15,
    "deletions": 0,
    "changes": 15,
    "blob_url": "https://github.com/salyan4u/hw4/blob/fcc2c801c23ed6ffdec5c0af2e11d5c7b25ee8c4/src/main/resources/templates/index.html",
    "raw_url": "https://github.com/salyan4u/hw4/raw/fcc2c801c23ed6ffdec5c0af2e11d5c7b25ee8c4/src/main/resources/templates/index.html",
    "contents_url": "https://api.github.com/repos/salyan4u/hw4/contents/src/main/resources/templates/index.html?ref=fcc2c801c23ed6ffdec5c0af2e11d5c7b25ee8c4",
    "patch": "@@ -0,0 +1,15 @@\n+<!DOCTYPE html>\n+<html xmlns=\"http://www.w3.org/1999/xhtml\"\n+      xmlns:th=\"http://www.thymeleaf.org\" lang=\"en\">\n+<head>\n+    <meta charset=\"UTF-8\">\n+    <title>Welcome, Sunny!</title>\n+</head>\n+<body>\n+<h2>SpringBOOT</h2>\n+<a href=\"/products/all\">All products</a>\n+<a href=\"/products/add\">Add product to repository</a>\n+<a href=\"/json/example\">JSON example</a>\n+<a href=\"/xml/example\">XML example</a>\n+</body>\n+</html>\n\\ No newline at end of file"
  },
  {
    "sha": "dc9890a483b51c067c5732ff6d1386c9b9067eab",
    "filename": "src/main/resources/templates/products.html",
    "status": "added",
    "additions": 13,
    "deletions": 0,
    "changes": 13,
    "blob_url": "https://github.com/salyan4u/hw4/blob/fcc2c801c23ed6ffdec5c0af2e11d5c7b25ee8c4/src/main/resources/templates/products.html",
    "raw_url": "https://github.com/salyan4u/hw4/raw/fcc2c801c23ed6ffdec5c0af2e11d5c7b25ee8c4/src/main/resources/templates/products.html",
    "contents_url": "https://api.github.com/repos/salyan4u/hw4/contents/src/main/resources/templates/products.html?ref=fcc2c801c23ed6ffdec5c0af2e11d5c7b25ee8c4",
    "patch": "@@ -0,0 +1,13 @@\n+<!DOCTYPE html>\n+<html xmlns=\"http://www.w3.org/1999/xhtml\"\n+      xmlns:th=\"http://www.thymeleaf.org\" lang=\"en\">\n+<head>\n+    <meta charset=\"UTF-8\">\n+    <title>Products</title>\n+</head>\n+<body>\n+<h2>All products:</h2>\n+<p th:each=\"product:${products}\" th:text=\"${product.toString()}\"></p>\n+<a href=\"/\">To main</a>\n+</body>\n+</html>\n\\ No newline at end of file"
  }
]
