[
  {
    "sha": "26d33521af10bcc7fd8cea344038eaaeb78d0ef5",
    "filename": "securityRealize/.idea/.gitignore",
    "status": "added",
    "additions": 3,
    "deletions": 0,
    "changes": 3,
    "blob_url": "https://github.com/ElenaGromova/GromovaGeekBrains/blob/d74734c85bddebb77584049b875e5ad053ced5b9/securityRealize/.idea/.gitignore",
    "raw_url": "https://github.com/ElenaGromova/GromovaGeekBrains/raw/d74734c85bddebb77584049b875e5ad053ced5b9/securityRealize/.idea/.gitignore",
    "contents_url": "https://api.github.com/repos/ElenaGromova/GromovaGeekBrains/contents/securityRealize/.idea/.gitignore?ref=d74734c85bddebb77584049b875e5ad053ced5b9",
    "patch": "@@ -0,0 +1,3 @@\n+# Default ignored files\n+/shelf/\n+/workspace.xml"
  },
  {
    "sha": "b783eda7ef6e379400d3b204a3e164513c2e0739",
    "filename": "securityRealize/.idea/compiler.xml",
    "status": "added",
    "additions": 18,
    "deletions": 0,
    "changes": 18,
    "blob_url": "https://github.com/ElenaGromova/GromovaGeekBrains/blob/d74734c85bddebb77584049b875e5ad053ced5b9/securityRealize/.idea/compiler.xml",
    "raw_url": "https://github.com/ElenaGromova/GromovaGeekBrains/raw/d74734c85bddebb77584049b875e5ad053ced5b9/securityRealize/.idea/compiler.xml",
    "contents_url": "https://api.github.com/repos/ElenaGromova/GromovaGeekBrains/contents/securityRealize/.idea/compiler.xml?ref=d74734c85bddebb77584049b875e5ad053ced5b9",
    "patch": "@@ -0,0 +1,18 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<project version=\"4\">\n+  <component name=\"CompilerConfiguration\">\n+    <annotationProcessing>\n+      <profile name=\"Maven default annotation processors profile\" enabled=\"true\">\n+        <sourceOutputDir name=\"target/generated-sources/annotations\" />\n+        <sourceTestOutputDir name=\"target/generated-test-sources/test-annotations\" />\n+        <outputRelativeToContentRoot value=\"true\" />\n+        <module name=\"securityRealize\" />\n+      </profile>\n+    </annotationProcessing>\n+  </component>\n+  <component name=\"JavacSettings\">\n+    <option name=\"ADDITIONAL_OPTIONS_OVERRIDE\">\n+      <module name=\"securityRealize\" options=\"-parameters\" />\n+    </option>\n+  </component>\n+</project>\n\\ No newline at end of file"
  },
  {
    "sha": "63e900193296f8ed911a1b9f5b051cf908099431",
    "filename": "securityRealize/.idea/encodings.xml",
    "status": "added",
    "additions": 6,
    "deletions": 0,
    "changes": 6,
    "blob_url": "https://github.com/ElenaGromova/GromovaGeekBrains/blob/d74734c85bddebb77584049b875e5ad053ced5b9/securityRealize/.idea/encodings.xml",
    "raw_url": "https://github.com/ElenaGromova/GromovaGeekBrains/raw/d74734c85bddebb77584049b875e5ad053ced5b9/securityRealize/.idea/encodings.xml",
    "contents_url": "https://api.github.com/repos/ElenaGromova/GromovaGeekBrains/contents/securityRealize/.idea/encodings.xml?ref=d74734c85bddebb77584049b875e5ad053ced5b9",
    "patch": "@@ -0,0 +1,6 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<project version=\"4\">\n+  <component name=\"Encoding\">\n+    <file url=\"file://$PROJECT_DIR$/src/main/java\" charset=\"UTF-8\" />\n+  </component>\n+</project>\n\\ No newline at end of file"
  },
  {
    "sha": "712ab9d985c20018a0c97b93d2148ac1ffe588a5",
    "filename": "securityRealize/.idea/jarRepositories.xml",
    "status": "added",
    "additions": 20,
    "deletions": 0,
    "changes": 20,
    "blob_url": "https://github.com/ElenaGromova/GromovaGeekBrains/blob/d74734c85bddebb77584049b875e5ad053ced5b9/securityRealize/.idea/jarRepositories.xml",
    "raw_url": "https://github.com/ElenaGromova/GromovaGeekBrains/raw/d74734c85bddebb77584049b875e5ad053ced5b9/securityRealize/.idea/jarRepositories.xml",
    "contents_url": "https://api.github.com/repos/ElenaGromova/GromovaGeekBrains/contents/securityRealize/.idea/jarRepositories.xml?ref=d74734c85bddebb77584049b875e5ad053ced5b9",
    "patch": "@@ -0,0 +1,20 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<project version=\"4\">\n+  <component name=\"RemoteRepositoriesConfiguration\">\n+    <remote-repository>\n+      <option name=\"id\" value=\"central\" />\n+      <option name=\"name\" value=\"Central Repository\" />\n+      <option name=\"url\" value=\"https://repo.maven.apache.org/maven2\" />\n+    </remote-repository>\n+    <remote-repository>\n+      <option name=\"id\" value=\"central\" />\n+      <option name=\"name\" value=\"Maven Central repository\" />\n+      <option name=\"url\" value=\"https://repo1.maven.org/maven2\" />\n+    </remote-repository>\n+    <remote-repository>\n+      <option name=\"id\" value=\"jboss.community\" />\n+      <option name=\"name\" value=\"JBoss Community repository\" />\n+      <option name=\"url\" value=\"https://repository.jboss.org/nexus/content/repositories/public/\" />\n+    </remote-repository>\n+  </component>\n+</project>\n\\ No newline at end of file"
  },
  {
    "sha": "d24ea8e7debb4071df92884f676aca977525fde9",
    "filename": "securityRealize/.idea/misc.xml",
    "status": "added",
    "additions": 14,
    "deletions": 0,
    "changes": 14,
    "blob_url": "https://github.com/ElenaGromova/GromovaGeekBrains/blob/d74734c85bddebb77584049b875e5ad053ced5b9/securityRealize/.idea/misc.xml",
    "raw_url": "https://github.com/ElenaGromova/GromovaGeekBrains/raw/d74734c85bddebb77584049b875e5ad053ced5b9/securityRealize/.idea/misc.xml",
    "contents_url": "https://api.github.com/repos/ElenaGromova/GromovaGeekBrains/contents/securityRealize/.idea/misc.xml?ref=d74734c85bddebb77584049b875e5ad053ced5b9",
    "patch": "@@ -0,0 +1,14 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<project version=\"4\">\n+  <component name=\"ExternalStorageConfigurationManager\" enabled=\"true\" />\n+  <component name=\"MavenProjectsManager\">\n+    <option name=\"originalFiles\">\n+      <list>\n+        <option value=\"$PROJECT_DIR$/pom.xml\" />\n+      </list>\n+    </option>\n+  </component>\n+  <component name=\"ProjectRootManager\" version=\"2\" languageLevel=\"JDK_11\" project-jdk-name=\"11\" project-jdk-type=\"JavaSDK\">\n+    <output url=\"file://$PROJECT_DIR$/out\" />\n+  </component>\n+</project>\n\\ No newline at end of file"
  },
  {
    "sha": "6c0b8635858dc7ad44b93df54b762707ce49eefc",
    "filename": "securityRealize/.idea/vcs.xml",
    "status": "added",
    "additions": 6,
    "deletions": 0,
    "changes": 6,
    "blob_url": "https://github.com/ElenaGromova/GromovaGeekBrains/blob/d74734c85bddebb77584049b875e5ad053ced5b9/securityRealize/.idea/vcs.xml",
    "raw_url": "https://github.com/ElenaGromova/GromovaGeekBrains/raw/d74734c85bddebb77584049b875e5ad053ced5b9/securityRealize/.idea/vcs.xml",
    "contents_url": "https://api.github.com/repos/ElenaGromova/GromovaGeekBrains/contents/securityRealize/.idea/vcs.xml?ref=d74734c85bddebb77584049b875e5ad053ced5b9",
    "patch": "@@ -0,0 +1,6 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<project version=\"4\">\n+  <component name=\"VcsDirectoryMappings\">\n+    <mapping directory=\"$PROJECT_DIR$/..\" vcs=\"Git\" />\n+  </component>\n+</project>\n\\ No newline at end of file"
  },
  {
    "sha": "ce58872db29bf627ebb8f028c2060f49627ec141",
    "filename": "securityRealize/pom.xml",
    "status": "added",
    "additions": 104,
    "deletions": 0,
    "changes": 104,
    "blob_url": "https://github.com/ElenaGromova/GromovaGeekBrains/blob/d74734c85bddebb77584049b875e5ad053ced5b9/securityRealize/pom.xml",
    "raw_url": "https://github.com/ElenaGromova/GromovaGeekBrains/raw/d74734c85bddebb77584049b875e5ad053ced5b9/securityRealize/pom.xml",
    "contents_url": "https://api.github.com/repos/ElenaGromova/GromovaGeekBrains/contents/securityRealize/pom.xml?ref=d74734c85bddebb77584049b875e5ad053ced5b9",
    "patch": "@@ -0,0 +1,104 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n+         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n+    <modelVersion>4.0.0</modelVersion>\n+\n+    <parent>\n+        <groupId>org.springframework.boot</groupId>\n+        <artifactId>spring-boot-starter-parent</artifactId>\n+        <version>2.3.4.RELEASE</version>\n+        <relativePath/> <!-- lookup parent from repository -->\n+    </parent>\n+\n+    <groupId>securityPack</groupId>\n+    <artifactId>securityRealize</artifactId>\n+    <version>1.0-SNAPSHOT</version>\n+    <name>securityPack</name>\n+    <description>Spring Boot app application</description>\n+\n+    <properties>\n+        <java.version>11</java.version>\n+    </properties>\n+\n+    <dependencies>\n+        <dependency>\n+            <groupId>org.springframework.boot</groupId>\n+            <artifactId>spring-boot-starter-data-jpa</artifactId>\n+        </dependency>\n+        <dependency>\n+            <groupId>org.springframework.boot</groupId>\n+            <artifactId>spring-boot-starter-thymeleaf</artifactId>\n+        </dependency>\n+        <dependency>\n+            <groupId>org.springframework.boot</groupId>\n+            <artifactId>spring-boot-starter-security</artifactId>\n+        </dependency>\n+        <dependency>\n+            <groupId>org.springframework.boot</groupId>\n+            <artifactId>spring-boot-starter-web</artifactId>\n+        </dependency>\n+        <dependency>\n+            <groupId>com.h2database</groupId>\n+            <artifactId>h2</artifactId>\n+            <scope>runtime</scope>\n+        </dependency>\n+        <dependency>\n+            <groupId>org.postgresql</groupId>\n+            <artifactId>postgresql</artifactId>\n+            <scope>runtime</scope>\n+        </dependency>\n+        <dependency>\n+            <groupId>org.projectlombok</groupId>\n+            <artifactId>lombok</artifactId>\n+            <optional>true</optional>\n+        </dependency>\n+        <dependency>\n+            <groupId>org.springframework.boot</groupId>\n+            <artifactId>spring-boot-starter-test</artifactId>\n+            <scope>test</scope>\n+            <exclusions>\n+                <exclusion>\n+                    <groupId>org.junit.vintage</groupId>\n+                    <artifactId>junit-vintage-engine</artifactId>\n+                </exclusion>\n+            </exclusions>\n+        </dependency>\n+        <dependency>\n+            <groupId>org.flywaydb</groupId>\n+            <artifactId>flyway-core</artifactId>\n+        </dependency>\n+        <dependency>\n+            <groupId>org.postgresql</groupId>\n+            <artifactId>postgresql</artifactId>\n+            <scope>runtime</scope>\n+        </dependency>\n+        <dependency>\n+            <groupId>org.springframework.security</groupId>\n+            <artifactId>spring-security-test</artifactId>\n+            <scope>test</scope>\n+        </dependency>\n+        <dependency>\n+            <groupId>org.springframework.security</groupId>\n+            <artifactId>spring-security-core</artifactId>\n+        </dependency>\n+    </dependencies>\n+\n+    <build>\n+        <plugins>\n+            <plugin>\n+                <groupId>org.springframework.boot</groupId>\n+                <artifactId>spring-boot-maven-plugin</artifactId>\n+            </plugin>\n+            <plugin>\n+                <groupId>org.flywaydb</groupId>\n+                <artifactId>flyway-maven-plugin</artifactId>\n+                <version>6.0.1</version>\n+                <configuration>\n+                    <configFiles>src/main/resources/flyway.conf</configFiles>\n+                </configuration>\n+            </plugin>\n+        </plugins>\n+    </build>\n+\n+</project>\n\\ No newline at end of file"
  },
  {
    "sha": "78b2cc53b203f0b97534bb1184cdc7b474339fb4",
    "filename": "securityRealize/securityRealize.iml",
    "status": "added",
    "additions": 2,
    "deletions": 0,
    "changes": 2,
    "blob_url": "https://github.com/ElenaGromova/GromovaGeekBrains/blob/d74734c85bddebb77584049b875e5ad053ced5b9/securityRealize/securityRealize.iml",
    "raw_url": "https://github.com/ElenaGromova/GromovaGeekBrains/raw/d74734c85bddebb77584049b875e5ad053ced5b9/securityRealize/securityRealize.iml",
    "contents_url": "https://api.github.com/repos/ElenaGromova/GromovaGeekBrains/contents/securityRealize/securityRealize.iml?ref=d74734c85bddebb77584049b875e5ad053ced5b9",
    "patch": "@@ -0,0 +1,2 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<module type=\"JAVA_MODULE\" version=\"4\" />\n\\ No newline at end of file"
  },
  {
    "sha": "406e27a490b0cd0cf0af4a8545a2bb264d215fa2",
    "filename": "securityRealize/src/main/java/securityPack/SecurityPackApp.java",
    "status": "added",
    "additions": 11,
    "deletions": 0,
    "changes": 11,
    "blob_url": "https://github.com/ElenaGromova/GromovaGeekBrains/blob/d74734c85bddebb77584049b875e5ad053ced5b9/securityRealize/src/main/java/securityPack/SecurityPackApp.java",
    "raw_url": "https://github.com/ElenaGromova/GromovaGeekBrains/raw/d74734c85bddebb77584049b875e5ad053ced5b9/securityRealize/src/main/java/securityPack/SecurityPackApp.java",
    "contents_url": "https://api.github.com/repos/ElenaGromova/GromovaGeekBrains/contents/securityRealize/src/main/java/securityPack/SecurityPackApp.java?ref=d74734c85bddebb77584049b875e5ad053ced5b9",
    "patch": "@@ -0,0 +1,11 @@\n+package securityPack;\n+\n+import org.springframework.boot.SpringApplication;\n+import org.springframework.boot.autoconfigure.SpringBootApplication;\n+\n+@SpringBootApplication\n+public class SecurityPackApp {\n+    public static void main(String[] args) {\n+        SpringApplication.run(SecurityPackApp.class, args);\n+    }\n+}"
  },
  {
    "sha": "1eda1f292680a7cd07988276b3454ce074691718",
    "filename": "securityRealize/src/main/java/securityPack/configs/SecurityConfig.java",
    "status": "added",
    "additions": 56,
    "deletions": 0,
    "changes": 56,
    "blob_url": "https://github.com/ElenaGromova/GromovaGeekBrains/blob/d74734c85bddebb77584049b875e5ad053ced5b9/securityRealize/src/main/java/securityPack/configs/SecurityConfig.java",
    "raw_url": "https://github.com/ElenaGromova/GromovaGeekBrains/raw/d74734c85bddebb77584049b875e5ad053ced5b9/securityRealize/src/main/java/securityPack/configs/SecurityConfig.java",
    "contents_url": "https://api.github.com/repos/ElenaGromova/GromovaGeekBrains/contents/securityRealize/src/main/java/securityPack/configs/SecurityConfig.java?ref=d74734c85bddebb77584049b875e5ad053ced5b9",
    "patch": "@@ -0,0 +1,56 @@\n+package securityPack.configs;\n+\n+import org.springframework.beans.factory.annotation.Autowired;\n+import org.springframework.context.annotation.Bean;\n+import org.springframework.security.authentication.dao.DaoAuthenticationProvider;\n+import org.springframework.security.config.annotation.web.builders.HttpSecurity;\n+import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\n+import org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\n+import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\n+import securityPack.services.RoleService;\n+import securityPack.services.UserService;\n+\n+@EnableWebSecurity\n+public class SecurityConfig extends WebSecurityConfigurerAdapter {\n+    private UserService userService;\n+\n+    @Autowired\n+    public void setUserDetailsService(UserService userService) {\n+        this.userService = userService;\n+    }\n+\n+    @Override\n+    protected void configure(HttpSecurity http) throws Exception {\n+        http.authorizeRequests()\n+                .antMatchers(\"/authenticated/**\").authenticated()\n+                .antMatchers(\"/admin/**\").hasAnyRole(\"ADMIN\")\n+                .antMatchers(\"/user/**\").hasAnyRole(\"USER\", \"ADMIN\", \"MANAGER\")\n+                .antMatchers(\"/manager/**\").hasAnyRole(\"MANAGER\")\n+                .antMatchers(\"/all/**\").hasAnyRole(\"ADMIN\")\n+                .antMatchers(\"/um/**\").hasAnyRole(\"USER\", \"MANAGER\")\n+                .antMatchers(\"/au/**\").hasAnyRole(\"USER\", \"ADMIN\")\n+                .antMatchers(\"/authorityAdmin/**\").hasAuthority(\"SOMETHING_ADMIN\")\n+                .antMatchers(\"/authorityUser/**\").hasAuthority(\"SOMETHING_USER\")\n+                .antMatchers(\"/authorityManager/**\").hasAuthority(\"SOMETHING_MANAGER\")\n+                .antMatchers(\"/authorityAll/**\").hasAuthority(\"SOMETHING_ALL\")\n+                .anyRequest().permitAll()\n+                .and()\n+                .formLogin()\n+                .and()\n+                .csrf().disable();\n+    }\n+\n+    @Bean\n+    public BCryptPasswordEncoder passwordEncoder() {\n+        return new BCryptPasswordEncoder();\n+    }\n+\n+    @Bean\n+    public DaoAuthenticationProvider daoAuthenticationProvider() {\n+        DaoAuthenticationProvider authenticationProvider = new DaoAuthenticationProvider();\n+        authenticationProvider.setPasswordEncoder(passwordEncoder());\n+        authenticationProvider.setUserDetailsService(userService);\n+        return authenticationProvider;\n+    }\n+\n+}"
  },
  {
    "sha": "69305a70bc1734c63c2d951a798d3d7a076ba19c",
    "filename": "securityRealize/src/main/java/securityPack/controllers/UserController.java",
    "status": "added",
    "additions": 68,
    "deletions": 0,
    "changes": 68,
    "blob_url": "https://github.com/ElenaGromova/GromovaGeekBrains/blob/d74734c85bddebb77584049b875e5ad053ced5b9/securityRealize/src/main/java/securityPack/controllers/UserController.java",
    "raw_url": "https://github.com/ElenaGromova/GromovaGeekBrains/raw/d74734c85bddebb77584049b875e5ad053ced5b9/securityRealize/src/main/java/securityPack/controllers/UserController.java",
    "contents_url": "https://api.github.com/repos/ElenaGromova/GromovaGeekBrains/contents/securityRealize/src/main/java/securityPack/controllers/UserController.java?ref=d74734c85bddebb77584049b875e5ad053ced5b9",
    "patch": "@@ -0,0 +1,68 @@\n+package securityPack.controllers;\n+\n+import org.springframework.web.bind.annotation.GetMapping;\n+import org.springframework.web.bind.annotation.RestController;\n+import securityPack.services.UserService;\n+\n+@RestController\n+public class UserController {\n+    private UserService userService;\n+\n+    @GetMapping(\"/admin\")\n+    public String tryAdmin() { return \"admin\"; }\n+\n+    @GetMapping(\"/user\")\n+    public String tryUser() {\n+        return \"user\";\n+    }\n+\n+    @GetMapping(\"/manager\")\n+    public String tryManager() {\n+        return \"manager\";\n+    }\n+\n+    @GetMapping(\"/all\")\n+    public String tryAll() {\n+        return \"all\";\n+    }\n+\n+    @GetMapping(\"/authenticated\")\n+    public String tryAuth() {\n+        return \"authenticated\";\n+    }\n+\n+    @GetMapping(\"/free\")\n+    public String tryFree() {\n+        return \"free\";\n+    }\n+\n+    @GetMapping(\"/um\")\n+    public String tryUm() {\n+        return \"um\";\n+    }\n+\n+    @GetMapping(\"/au\")\n+    public String tryAu() {\n+        return \"au\";\n+    }\n+\n+    @GetMapping(\"/authorityAdmin\")\n+    public String tryAuthorityAdmin() {\n+        return \"authorityAdmin\";\n+    }\n+\n+    @GetMapping(\"/authorityUser\")\n+    public String tryAuthorityUser() {\n+        return \"authorityUser\";\n+    }\n+    @GetMapping(\"/authorityManager\")\n+    public String tryAuthorityManager() {\n+        return \"authorityManager\";\n+    }\n+\n+    @GetMapping(\"/authorityAll\")\n+    public String tryAuthorityAll() {\n+        return \"authorityAll\";\n+    }\n+\n+}"
  },
  {
    "sha": "17087e5e9d8f69cbfb9ab275d4d98662b1d2eca3",
    "filename": "securityRealize/src/main/java/securityPack/entities/Authority.java",
    "status": "added",
    "additions": 19,
    "deletions": 0,
    "changes": 19,
    "blob_url": "https://github.com/ElenaGromova/GromovaGeekBrains/blob/d74734c85bddebb77584049b875e5ad053ced5b9/securityRealize/src/main/java/securityPack/entities/Authority.java",
    "raw_url": "https://github.com/ElenaGromova/GromovaGeekBrains/raw/d74734c85bddebb77584049b875e5ad053ced5b9/securityRealize/src/main/java/securityPack/entities/Authority.java",
    "contents_url": "https://api.github.com/repos/ElenaGromova/GromovaGeekBrains/contents/securityRealize/src/main/java/securityPack/entities/Authority.java?ref=d74734c85bddebb77584049b875e5ad053ced5b9",
    "patch": "@@ -0,0 +1,19 @@\n+package securityPack.entities;\n+\n+import lombok.Data;\n+\n+import javax.persistence.*;\n+\n+@Entity\n+@Data\n+@Table(name = \"authorities\")\n+public class Authority {\n+    @Id\n+    @GeneratedValue(strategy = GenerationType.IDENTITY)\n+    @Column(name = \"id\")\n+    private Long id;\n+\n+    @Column(name = \"name\")\n+    private String name;\n+\n+}"
  },
  {
    "sha": "5ec978f696d794277b694e216165fe5118bbf64e",
    "filename": "securityRealize/src/main/java/securityPack/entities/Role.java",
    "status": "added",
    "additions": 25,
    "deletions": 0,
    "changes": 25,
    "blob_url": "https://github.com/ElenaGromova/GromovaGeekBrains/blob/d74734c85bddebb77584049b875e5ad053ced5b9/securityRealize/src/main/java/securityPack/entities/Role.java",
    "raw_url": "https://github.com/ElenaGromova/GromovaGeekBrains/raw/d74734c85bddebb77584049b875e5ad053ced5b9/securityRealize/src/main/java/securityPack/entities/Role.java",
    "contents_url": "https://api.github.com/repos/ElenaGromova/GromovaGeekBrains/contents/securityRealize/src/main/java/securityPack/entities/Role.java?ref=d74734c85bddebb77584049b875e5ad053ced5b9",
    "patch": "@@ -0,0 +1,25 @@\n+package securityPack.entities;\n+\n+import lombok.Data;\n+\n+import javax.persistence.*;\n+import java.util.Collection;\n+\n+@Entity\n+@Data\n+@Table(name = \"roles\")\n+public class Role {\n+    @Id\n+    @GeneratedValue(strategy = GenerationType.IDENTITY)\n+    @Column(name = \"id\")\n+    private Long id;\n+\n+    @Column(name = \"name\")\n+    private String name;\n+\n+    @ManyToMany\n+    @JoinTable(name = \"roles_authorities\",\n+            joinColumns = @JoinColumn(name = \"role_id\"),\n+            inverseJoinColumns = @JoinColumn(name = \"authority_id\"))\n+    private Collection<Authority> authorities;\n+}"
  },
  {
    "sha": "7370d6cb1d86cbd4955d5b4aa90c4d14f51c6b52",
    "filename": "securityRealize/src/main/java/securityPack/entities/User.java",
    "status": "added",
    "additions": 31,
    "deletions": 0,
    "changes": 31,
    "blob_url": "https://github.com/ElenaGromova/GromovaGeekBrains/blob/d74734c85bddebb77584049b875e5ad053ced5b9/securityRealize/src/main/java/securityPack/entities/User.java",
    "raw_url": "https://github.com/ElenaGromova/GromovaGeekBrains/raw/d74734c85bddebb77584049b875e5ad053ced5b9/securityRealize/src/main/java/securityPack/entities/User.java",
    "contents_url": "https://api.github.com/repos/ElenaGromova/GromovaGeekBrains/contents/securityRealize/src/main/java/securityPack/entities/User.java?ref=d74734c85bddebb77584049b875e5ad053ced5b9",
    "patch": "@@ -0,0 +1,31 @@\n+package securityPack.entities;\n+\n+import lombok.Data;\n+\n+import javax.persistence.*;\n+import java.util.Collection;\n+\n+@Entity\n+@Data\n+@Table(name = \"users\")\n+public class User {\n+    private Collection<Authority> authorities;\n+\n+    @Id\n+    @GeneratedValue(strategy = GenerationType.IDENTITY)\n+    @Column(name = \"id\")\n+    private Long id;\n+\n+    @Column(name = \"username\")\n+    private String username;\n+\n+    @Column(name = \"password\")\n+    private String password;\n+\n+    @ManyToMany\n+    @JoinTable(name = \"users_roles\",\n+            joinColumns = @JoinColumn(name = \"user_id\"),\n+            inverseJoinColumns = @JoinColumn(name = \"role_id\"))\n+    private Collection<Role> roles;\n+\n+}"
  },
  {
    "sha": "207194920de91389b748eebf9ac4a165d1d4f081",
    "filename": "securityRealize/src/main/java/securityPack/repositories/AuthorityRepository.java",
    "status": "added",
    "additions": 7,
    "deletions": 0,
    "changes": 7,
    "blob_url": "https://github.com/ElenaGromova/GromovaGeekBrains/blob/d74734c85bddebb77584049b875e5ad053ced5b9/securityRealize/src/main/java/securityPack/repositories/AuthorityRepository.java",
    "raw_url": "https://github.com/ElenaGromova/GromovaGeekBrains/raw/d74734c85bddebb77584049b875e5ad053ced5b9/securityRealize/src/main/java/securityPack/repositories/AuthorityRepository.java",
    "contents_url": "https://api.github.com/repos/ElenaGromova/GromovaGeekBrains/contents/securityRealize/src/main/java/securityPack/repositories/AuthorityRepository.java?ref=d74734c85bddebb77584049b875e5ad053ced5b9",
    "patch": "@@ -0,0 +1,7 @@\n+package securityPack.repositories;\n+\n+import org.springframework.data.repository.CrudRepository;\n+import securityPack.entities.Authority;\n+\n+public interface AuthorityRepository extends CrudRepository<Authority, Long> {\n+}"
  },
  {
    "sha": "f769392f1397fa8f03b5715452e7f16bc1d88f3d",
    "filename": "securityRealize/src/main/java/securityPack/repositories/RoleRepository.java",
    "status": "added",
    "additions": 9,
    "deletions": 0,
    "changes": 9,
    "blob_url": "https://github.com/ElenaGromova/GromovaGeekBrains/blob/d74734c85bddebb77584049b875e5ad053ced5b9/securityRealize/src/main/java/securityPack/repositories/RoleRepository.java",
    "raw_url": "https://github.com/ElenaGromova/GromovaGeekBrains/raw/d74734c85bddebb77584049b875e5ad053ced5b9/securityRealize/src/main/java/securityPack/repositories/RoleRepository.java",
    "contents_url": "https://api.github.com/repos/ElenaGromova/GromovaGeekBrains/contents/securityRealize/src/main/java/securityPack/repositories/RoleRepository.java?ref=d74734c85bddebb77584049b875e5ad053ced5b9",
    "patch": "@@ -0,0 +1,9 @@\n+package securityPack.repositories;\n+\n+import org.springframework.data.repository.CrudRepository;\n+import org.springframework.stereotype.Repository;\n+import securityPack.entities.Role;\n+\n+@Repository\n+public interface RoleRepository extends CrudRepository<Role, Long> {\n+}"
  },
  {
    "sha": "549a2bb243e05f801884e28940aa9b5915a31b84",
    "filename": "securityRealize/src/main/java/securityPack/repositories/UserRepository.java",
    "status": "added",
    "additions": 13,
    "deletions": 0,
    "changes": 13,
    "blob_url": "https://github.com/ElenaGromova/GromovaGeekBrains/blob/d74734c85bddebb77584049b875e5ad053ced5b9/securityRealize/src/main/java/securityPack/repositories/UserRepository.java",
    "raw_url": "https://github.com/ElenaGromova/GromovaGeekBrains/raw/d74734c85bddebb77584049b875e5ad053ced5b9/securityRealize/src/main/java/securityPack/repositories/UserRepository.java",
    "contents_url": "https://api.github.com/repos/ElenaGromova/GromovaGeekBrains/contents/securityRealize/src/main/java/securityPack/repositories/UserRepository.java?ref=d74734c85bddebb77584049b875e5ad053ced5b9",
    "patch": "@@ -0,0 +1,13 @@\n+package securityPack.repositories;\n+\n+import org.springframework.data.repository.CrudRepository;\n+import securityPack.entities.User;\n+\n+import java.util.List;\n+import java.util.Optional;\n+\n+public interface UserRepository extends CrudRepository<User, Long> {\n+   // Optional<User> findByUsername(String username);\n+    User findByUsername(String username);\n+    List<User> findAll();\n+}\n\\ No newline at end of file"
  },
  {
    "sha": "9188ed717a676f986586a1710b2800d72c73a2ff",
    "filename": "securityRealize/src/main/java/securityPack/services/RoleService.java",
    "status": "added",
    "additions": 32,
    "deletions": 0,
    "changes": 32,
    "blob_url": "https://github.com/ElenaGromova/GromovaGeekBrains/blob/d74734c85bddebb77584049b875e5ad053ced5b9/securityRealize/src/main/java/securityPack/services/RoleService.java",
    "raw_url": "https://github.com/ElenaGromova/GromovaGeekBrains/raw/d74734c85bddebb77584049b875e5ad053ced5b9/securityRealize/src/main/java/securityPack/services/RoleService.java",
    "contents_url": "https://api.github.com/repos/ElenaGromova/GromovaGeekBrains/contents/securityRealize/src/main/java/securityPack/services/RoleService.java?ref=d74734c85bddebb77584049b875e5ad053ced5b9",
    "patch": "@@ -0,0 +1,32 @@\n+package securityPack.services;\n+\n+import org.springframework.security.core.GrantedAuthority;\n+import org.springframework.security.core.authority.SimpleGrantedAuthority;\n+import org.springframework.security.core.userdetails.UserDetailsService;\n+import org.springframework.stereotype.Service;\n+import securityPack.entities.Authority;\n+import securityPack.entities.Role;\n+import securityPack.repositories.RoleRepository;\n+\n+import java.util.ArrayList;\n+import java.util.Collection;\n+import java.util.List;\n+import java.util.stream.Collectors;\n+\n+@Service\n+public class RoleService {\n+    private RoleRepository roleRepository;\n+\n+    public Collection<Authority> getAu(Collection<Role> roles){\n+        Collection<Authority> authorityCollection = new ArrayList<>();\n+        for (Role r: roles) {\n+            authorityCollection.addAll(r.getAuthorities());\n+        }\n+    return authorityCollection;\n+    }\n+\n+    public Collection<? extends GrantedAuthority> mapAuthorities(Collection<Authority> authorities) {\n+        return authorities.stream().map(authority -> new SimpleGrantedAuthority(authority.getName())).collect(Collectors.toList());\n+    }\n+\n+}"
  },
  {
    "sha": "b255f8ff5a9aa61ab5958b7b53efbf3cd1845f66",
    "filename": "securityRealize/src/main/java/securityPack/services/UserService.java",
    "status": "added",
    "additions": 63,
    "deletions": 0,
    "changes": 63,
    "blob_url": "https://github.com/ElenaGromova/GromovaGeekBrains/blob/d74734c85bddebb77584049b875e5ad053ced5b9/securityRealize/src/main/java/securityPack/services/UserService.java",
    "raw_url": "https://github.com/ElenaGromova/GromovaGeekBrains/raw/d74734c85bddebb77584049b875e5ad053ced5b9/securityRealize/src/main/java/securityPack/services/UserService.java",
    "contents_url": "https://api.github.com/repos/ElenaGromova/GromovaGeekBrains/contents/securityRealize/src/main/java/securityPack/services/UserService.java?ref=d74734c85bddebb77584049b875e5ad053ced5b9",
    "patch": "@@ -0,0 +1,63 @@\n+package securityPack.services;\n+\n+import org.springframework.beans.factory.annotation.Autowired;\n+import org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration;\n+import org.springframework.security.core.GrantedAuthority;\n+import org.springframework.security.core.authority.SimpleGrantedAuthority;\n+import org.springframework.security.core.userdetails.UserDetails;\n+import org.springframework.security.core.userdetails.UserDetailsService;\n+import org.springframework.security.core.userdetails.UsernameNotFoundException;\n+import org.springframework.stereotype.Service;\n+import securityPack.entities.Role;\n+import securityPack.entities.User;\n+import securityPack.repositories.UserRepository;\n+\n+import javax.transaction.Transactional;\n+import java.util.Collection;\n+import java.util.List;\n+import java.util.Optional;\n+import java.util.stream.Collectors;\n+\n+@Service\n+public class UserService implements UserDetailsService {\n+    private UserRepository userRepository;\n+    private RoleService roleService;\n+\n+    @Autowired\n+    public void setUserRepository(UserRepository userRepository) {\n+        this.userRepository = userRepository;\n+    }\n+\n+//    public Optional<User> findByUsername(String username) {\n+//        return userRepository.findByUsername(username);\n+//    }\n+\n+    public List<User> findAll(){\n+        return userRepository.findAll();\n+    }\n+\n+    public User findByUsername(String username) {\n+        return userRepository.findByUsername(username);\n+    }\n+\n+    @Override\n+    @Transactional\n+    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n+        User user = findByUsername(username);\n+        if (user == null) {\n+            throw new UsernameNotFoundException(String.format(\"User '%s' not found\", username));\n+        }\n+        //roleService.mapAuthorities(roleService.getAu(user.getRoles()));\n+        return new org.springframework.security.core.userdetails.User(user.getUsername(), user.getPassword(),\n+                                                                      mapRolesToAuthorities(user.getRoles()));\n+    }\n+\n+    private Collection<? extends GrantedAuthority> mapRolesToAuthorities(Collection<Role> roles) {\n+        return roles.stream().map(role -> new SimpleGrantedAuthority(role.getName())).collect(Collectors.toList());\n+    }\n+\n+    private Collection<? extends GrantedAuthority> mapAuthorities(Collection<Role> roles) {\n+        return roles.stream().map(role -> new SimpleGrantedAuthority(role.getName())).collect(Collectors.toList());\n+    }\n+\n+}"
  },
  {
    "sha": "2028887f7a8c92c1c34520d0500fdda873196e62",
    "filename": "securityRealize/src/main/resources/application-h2.yaml",
    "status": "added",
    "additions": 20,
    "deletions": 0,
    "changes": 20,
    "blob_url": "https://github.com/ElenaGromova/GromovaGeekBrains/blob/d74734c85bddebb77584049b875e5ad053ced5b9/securityRealize/src/main/resources/application-h2.yaml",
    "raw_url": "https://github.com/ElenaGromova/GromovaGeekBrains/raw/d74734c85bddebb77584049b875e5ad053ced5b9/securityRealize/src/main/resources/application-h2.yaml",
    "contents_url": "https://api.github.com/repos/ElenaGromova/GromovaGeekBrains/contents/securityRealize/src/main/resources/application-h2.yaml?ref=d74734c85bddebb77584049b875e5ad053ced5b9",
    "patch": "@@ -0,0 +1,20 @@\n+server:\n+  port: 8088\n+  servlet:\n+    context-path: /security\n+spring:\n+  datasource:\n+    driver-class-name: org.h2.Driver\n+    url: jdbc:h2:mem:mydatabase;MODE=PostgreSQL\n+    username: sa\n+    password:\n+  jpa:\n+    show-sql: true\n+    properties:\n+      hibernate:\n+        dialect: org.hibernate.dialect.H2Dialect\n+  h2:\n+    console:\n+      enabled: true\n+      settings:\n+        web-allow-others: false\n\\ No newline at end of file"
  },
  {
    "sha": "a34d30af699830325ed457ed0cccc31e731b946a",
    "filename": "securityRealize/src/main/resources/db/migration/V1__initialize.sql",
    "status": "added",
    "additions": 68,
    "deletions": 0,
    "changes": 68,
    "blob_url": "https://github.com/ElenaGromova/GromovaGeekBrains/blob/d74734c85bddebb77584049b875e5ad053ced5b9/securityRealize/src/main/resources/db/migration/V1__initialize.sql",
    "raw_url": "https://github.com/ElenaGromova/GromovaGeekBrains/raw/d74734c85bddebb77584049b875e5ad053ced5b9/securityRealize/src/main/resources/db/migration/V1__initialize.sql",
    "contents_url": "https://api.github.com/repos/ElenaGromova/GromovaGeekBrains/contents/securityRealize/src/main/resources/db/migration/V1__initialize.sql?ref=d74734c85bddebb77584049b875e5ad053ced5b9",
    "patch": "@@ -0,0 +1,68 @@\n+create table users (\n+    id                    bigserial primary key,\n+    username varchar(255) not null,\n+    password varchar(255) not null\n+);\n+\n+create table roles (\n+  id                    bigserial,\n+  name                  varchar(50) not null,\n+  primary key (id)\n+);\n+\n+create table users_roles (\n+  user_id               int not null,\n+  role_id               int not null,\n+  primary key (user_id, role_id),\n+  foreign key (user_id) references users (id),\n+  foreign key (role_id) references roles (id)\n+);\n+\n+create table authorities (\n+  id                    bigserial,\n+  name                  varchar(50) not null,\n+  primary key (id)\n+);\n+\n+create table roles_authorities (\n+  role_id               int not null,\n+  authority_id          int not null,\n+  primary key (role_id, authority_id),\n+  foreign key (role_id) references roles (id),\n+  foreign key (authority_id) references authorities (id)\n+);\n+\n+insert into users (username, password) \n+values\n+('admin', '$2y$12$Jzuh1p/c39Tt2xThAoiGbOrDnv4K/YT0/PGoDnrfG6ArnGgcxIRDu'),\n+('user', '$2y$12$Jzuh1p/c39Tt2xThAoiGbOrDnv4K/YT0/PGoDnrfG6ArnGgcxIRDu'),\n+('manager', '$2y$12$Jzuh1p/c39Tt2xThAoiGbOrDnv4K/YT0/PGoDnrfG6ArnGgcxIRDu'),\n+('admin2', '$2y$12$Jzuh1p/c39Tt2xThAoiGbOrDnv4K/YT0/PGoDnrfG6ArnGgcxIRDu'),\n+('user2', '$2y$12$Jzuh1p/c39Tt2xThAoiGbOrDnv4K/YT0/PGoDnrfG6ArnGgcxIRDu');\n+\n+insert into roles (name)\n+values\n+('ROLE_ADMIN'), ('ROLE_USER'), ('ROLE_MANAGER');\n+\n+insert into authorities (name) \n+values \n+('SOMETHING_ADMIN'), ('SOMETHING_USER'), ('SOMETHING_MANAGER'), ('SOMETHING_ALL');\n+\n+insert into users_roles (user_id, role_id) \n+values \n+(1, 1),\n+(2, 2),\n+(3, 3),\n+(4, 1),\n+(4, 2),\n+(5, 2),\n+(5, 3);\n+\n+insert into roles_authorities (role_id, authority_id) \n+values \n+(1, 1),\n+(2, 2),\n+(3, 3),\n+(1, 4),\n+(2, 4),\n+(3, 4);\n\\ No newline at end of file"
  },
  {
    "sha": "6c8c0b336c32a4e02839583cdf4b77d6c090589b",
    "filename": "securityRealize/src/main/resources/flyway.conf",
    "status": "added",
    "additions": 4,
    "deletions": 0,
    "changes": 4,
    "blob_url": "https://github.com/ElenaGromova/GromovaGeekBrains/blob/d74734c85bddebb77584049b875e5ad053ced5b9/securityRealize/src/main/resources/flyway.conf",
    "raw_url": "https://github.com/ElenaGromova/GromovaGeekBrains/raw/d74734c85bddebb77584049b875e5ad053ced5b9/securityRealize/src/main/resources/flyway.conf",
    "contents_url": "https://api.github.com/repos/ElenaGromova/GromovaGeekBrains/contents/securityRealize/src/main/resources/flyway.conf?ref=d74734c85bddebb77584049b875e5ad053ced5b9",
    "patch": "@@ -0,0 +1,4 @@\n+flyway.url=jdbc:postgresql://localhost:5432/postgres?currentSchema=security\n+flyway.schemas=security\n+flyway.user=postgres\n+flyway.password=admin\n\\ No newline at end of file"
  },
  {
    "sha": "a27da677e6ef9ab336b8434747b56cbf87d1eb23",
    "filename": "securityRealize/src/main/resources/templates/edit_student.html",
    "status": "added",
    "additions": 48,
    "deletions": 0,
    "changes": 48,
    "blob_url": "https://github.com/ElenaGromova/GromovaGeekBrains/blob/d74734c85bddebb77584049b875e5ad053ced5b9/securityRealize/src/main/resources/templates/edit_student.html",
    "raw_url": "https://github.com/ElenaGromova/GromovaGeekBrains/raw/d74734c85bddebb77584049b875e5ad053ced5b9/securityRealize/src/main/resources/templates/edit_student.html",
    "contents_url": "https://api.github.com/repos/ElenaGromova/GromovaGeekBrains/contents/securityRealize/src/main/resources/templates/edit_student.html?ref=d74734c85bddebb77584049b875e5ad053ced5b9",
    "patch": "@@ -0,0 +1,48 @@\n+<!DOCTYPE html>\n+\n+<html xmlns:th=\"http://www.thymeleaf.org\">\n+\n+<head>\n+    <meta charset=\"utf-8\"/>\n+\n+    <title>Изменение студента:</title>\n+\n+    <link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css\">\n+    <script src=\"https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js\"></script>\n+    <script src=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js\"></script>\n+</head>\n+\n+<body>\n+\n+<div class=\"container\">\n+\n+    <div class=\"row justify-content-center\">\n+        <div class=\"col-md-6\">\n+            <div class=\"card\">\n+                <header class=\"card-header\">\n+                    <h4 class=\"card-title mt-2\"><span>Изменение студента:</span></h4>\n+                </header>\n+                <article class=\"card-body\">\n+                    <form th:action=\"@{/students/edit}\" th:object=\"${student}\" method=\"POST\">\n+                        <input th:field=\"*{id}\" type=\"hidden\" class=\"form-control\">\n+                        <div class=\"form-row\">\n+                            <div class=\"col form-group\">\n+                                <label>Имя</label>\n+                                <input th:field=\"*{name}\" type=\"text\" class=\"form-control\" placeholder=\"Имя\">\n+                            </div>\n+                            <div class=\"col form-group\">\n+                                <label>Возраст</label>\n+                                <input th:field=\"*{age}\" type=\"number\" class=\"form-control\" placeholder=\"Возраст\">\n+                            </div>\n+                        </div>\n+                        <div class=\"form-group\">\n+                            <button type=\"submit\" class=\"btn btn-primary btn-block\">Сохранить</button>\n+                        </div>\n+                    </form>\n+                </article>\n+            </div>\n+        </div>\n+    </div>\n+</div>\n+</body>\n+</html>\n\\ No newline at end of file"
  },
  {
    "sha": "0b549d33a407b962e28eb53acd6fafb5ef004dfb",
    "filename": "securityRealize/src/main/resources/templates/students.html",
    "status": "added",
    "additions": 75,
    "deletions": 0,
    "changes": 75,
    "blob_url": "https://github.com/ElenaGromova/GromovaGeekBrains/blob/d74734c85bddebb77584049b875e5ad053ced5b9/securityRealize/src/main/resources/templates/students.html",
    "raw_url": "https://github.com/ElenaGromova/GromovaGeekBrains/raw/d74734c85bddebb77584049b875e5ad053ced5b9/securityRealize/src/main/resources/templates/students.html",
    "contents_url": "https://api.github.com/repos/ElenaGromova/GromovaGeekBrains/contents/securityRealize/src/main/resources/templates/students.html?ref=d74734c85bddebb77584049b875e5ad053ced5b9",
    "patch": "@@ -0,0 +1,75 @@\n+<!DOCTYPE html>\n+<html xmlns=\"http://www.w3.org/1999/xhtml\" xmlns:th=\"http://www.thymeleaf.org\">\n+\n+<head>\n+    <meta charset=\"utf-8\"/>\n+\n+    <title>Students</title>\n+\n+    <link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css\">\n+    <script src=\"https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js\"></script>\n+    <script src=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js\"></script>\n+</head>\n+\n+<body>\n+\n+<div class=\"container\">\n+    <h1>Студенты:</h1>\n+\n+    <br>\n+    <table class=\"table table-hover\">\n+        <thead class=\"thead-dark\">\n+        <tr>\n+            <th>ID</th>\n+            <th>Имя</th>\n+            <th>Возраст</th>\n+            <th>Действие</th>\n+        </tr>\n+        </thead>\n+        <tbody>\n+        <tr th:each=\"s : ${students}\">\n+            <td th:text=\"${s.id}\"/>\n+            <td th:text=\"${s.name}\"/>\n+            <td th:text=\"${s.age}\"/>\n+            <td>\n+                <a class=\"btn btn-success\" th:href=\"@{'/students/edit/' + ${s.id}}\">Изменить</a>\n+                <a class=\"btn btn-danger\" th:href=\"@{'/students/delete/'+ ${s.id}}\">Удалить</a>\n+            </td>\n+        </tr>\n+        </tbody>\n+    </table>\n+\n+    <h3>Добавить студента:</h3>\n+    <form method=\"post\" th:action=\"@{/students/create}\">\n+        <div class=\"form-group col-md-6\">\n+            <label for=\"name\">Имя</label>\n+            <input class=\"form-control\" th:value=\"${param.name}\" name=\"name\" type=\"text\" id=\"name\">\n+        </div>\n+        <div class=\"form-group col-md-6\">\n+            <label for=\"age\">Возраст</label>\n+            <input class=\"form-control\" th:value=\"${param.age}\" name=\"age\" type=\"number\" id=\"age\">\n+        </div>\n+               <button class=\"btn btn-primary\" type=\"submit\">Сохранить</button>\n+    </form>\n+\n+    <nav aria-label=\"Page navigation\">\n+        <ul class=\"pagination\">\n+            <li class=\"page-item\" th:classappend=\"${students.isFirst() ? 'disabled' : ''}\">\n+                <a class=\"page-link\"\n+                   th:href=\"@{'/students?p=' + ${students.previousOrFirstPageable().getPageNumber() + 1}}\">Назад</a>\n+            </li>\n+\n+            <li class=\"page-item\" th:classappend=\"${students.getNumber() + 1 == i ? 'active' : ''}\"\n+                th:each=\"i : ${#numbers.sequence(1, students.getTotalPages())}\">\n+                <a class=\"page-link\" th:text=\"${i}\" th:href=\"@{'/students?p=' + ${i}}\"></a>\n+            </li>\n+\n+            <li class=\"page-item\"  th:classappend=\"${students.isLast() ? 'disabled' : ''}\">\n+                <a class=\"page-link\"\n+                   th:href=\"@{'/students?p='+ ${students.nextOrLastPageable().getPageNumber() + 1}}\">Вперед</a>\n+            </li>\n+        </ul>\n+    </nav>\n+</div>\n+</body>\n+</html>\n\\ No newline at end of file"
  },
  {
    "sha": "2028887f7a8c92c1c34520d0500fdda873196e62",
    "filename": "securityRealize/target/classes/application-h2.yaml",
    "status": "added",
    "additions": 20,
    "deletions": 0,
    "changes": 20,
    "blob_url": "https://github.com/ElenaGromova/GromovaGeekBrains/blob/d74734c85bddebb77584049b875e5ad053ced5b9/securityRealize/target/classes/application-h2.yaml",
    "raw_url": "https://github.com/ElenaGromova/GromovaGeekBrains/raw/d74734c85bddebb77584049b875e5ad053ced5b9/securityRealize/target/classes/application-h2.yaml",
    "contents_url": "https://api.github.com/repos/ElenaGromova/GromovaGeekBrains/contents/securityRealize/target/classes/application-h2.yaml?ref=d74734c85bddebb77584049b875e5ad053ced5b9",
    "patch": "@@ -0,0 +1,20 @@\n+server:\n+  port: 8088\n+  servlet:\n+    context-path: /security\n+spring:\n+  datasource:\n+    driver-class-name: org.h2.Driver\n+    url: jdbc:h2:mem:mydatabase;MODE=PostgreSQL\n+    username: sa\n+    password:\n+  jpa:\n+    show-sql: true\n+    properties:\n+      hibernate:\n+        dialect: org.hibernate.dialect.H2Dialect\n+  h2:\n+    console:\n+      enabled: true\n+      settings:\n+        web-allow-others: false\n\\ No newline at end of file"
  },
  {
    "sha": "a34d30af699830325ed457ed0cccc31e731b946a",
    "filename": "securityRealize/target/classes/db/migration/V1__initialize.sql",
    "status": "added",
    "additions": 68,
    "deletions": 0,
    "changes": 68,
    "blob_url": "https://github.com/ElenaGromova/GromovaGeekBrains/blob/d74734c85bddebb77584049b875e5ad053ced5b9/securityRealize/target/classes/db/migration/V1__initialize.sql",
    "raw_url": "https://github.com/ElenaGromova/GromovaGeekBrains/raw/d74734c85bddebb77584049b875e5ad053ced5b9/securityRealize/target/classes/db/migration/V1__initialize.sql",
    "contents_url": "https://api.github.com/repos/ElenaGromova/GromovaGeekBrains/contents/securityRealize/target/classes/db/migration/V1__initialize.sql?ref=d74734c85bddebb77584049b875e5ad053ced5b9",
    "patch": "@@ -0,0 +1,68 @@\n+create table users (\n+    id                    bigserial primary key,\n+    username varchar(255) not null,\n+    password varchar(255) not null\n+);\n+\n+create table roles (\n+  id                    bigserial,\n+  name                  varchar(50) not null,\n+  primary key (id)\n+);\n+\n+create table users_roles (\n+  user_id               int not null,\n+  role_id               int not null,\n+  primary key (user_id, role_id),\n+  foreign key (user_id) references users (id),\n+  foreign key (role_id) references roles (id)\n+);\n+\n+create table authorities (\n+  id                    bigserial,\n+  name                  varchar(50) not null,\n+  primary key (id)\n+);\n+\n+create table roles_authorities (\n+  role_id               int not null,\n+  authority_id          int not null,\n+  primary key (role_id, authority_id),\n+  foreign key (role_id) references roles (id),\n+  foreign key (authority_id) references authorities (id)\n+);\n+\n+insert into users (username, password) \n+values\n+('admin', '$2y$12$Jzuh1p/c39Tt2xThAoiGbOrDnv4K/YT0/PGoDnrfG6ArnGgcxIRDu'),\n+('user', '$2y$12$Jzuh1p/c39Tt2xThAoiGbOrDnv4K/YT0/PGoDnrfG6ArnGgcxIRDu'),\n+('manager', '$2y$12$Jzuh1p/c39Tt2xThAoiGbOrDnv4K/YT0/PGoDnrfG6ArnGgcxIRDu'),\n+('admin2', '$2y$12$Jzuh1p/c39Tt2xThAoiGbOrDnv4K/YT0/PGoDnrfG6ArnGgcxIRDu'),\n+('user2', '$2y$12$Jzuh1p/c39Tt2xThAoiGbOrDnv4K/YT0/PGoDnrfG6ArnGgcxIRDu');\n+\n+insert into roles (name)\n+values\n+('ROLE_ADMIN'), ('ROLE_USER'), ('ROLE_MANAGER');\n+\n+insert into authorities (name) \n+values \n+('SOMETHING_ADMIN'), ('SOMETHING_USER'), ('SOMETHING_MANAGER'), ('SOMETHING_ALL');\n+\n+insert into users_roles (user_id, role_id) \n+values \n+(1, 1),\n+(2, 2),\n+(3, 3),\n+(4, 1),\n+(4, 2),\n+(5, 2),\n+(5, 3);\n+\n+insert into roles_authorities (role_id, authority_id) \n+values \n+(1, 1),\n+(2, 2),\n+(3, 3),\n+(1, 4),\n+(2, 4),\n+(3, 4);\n\\ No newline at end of file"
  },
  {
    "sha": "6c8c0b336c32a4e02839583cdf4b77d6c090589b",
    "filename": "securityRealize/target/classes/flyway.conf",
    "status": "added",
    "additions": 4,
    "deletions": 0,
    "changes": 4,
    "blob_url": "https://github.com/ElenaGromova/GromovaGeekBrains/blob/d74734c85bddebb77584049b875e5ad053ced5b9/securityRealize/target/classes/flyway.conf",
    "raw_url": "https://github.com/ElenaGromova/GromovaGeekBrains/raw/d74734c85bddebb77584049b875e5ad053ced5b9/securityRealize/target/classes/flyway.conf",
    "contents_url": "https://api.github.com/repos/ElenaGromova/GromovaGeekBrains/contents/securityRealize/target/classes/flyway.conf?ref=d74734c85bddebb77584049b875e5ad053ced5b9",
    "patch": "@@ -0,0 +1,4 @@\n+flyway.url=jdbc:postgresql://localhost:5432/postgres?currentSchema=security\n+flyway.schemas=security\n+flyway.user=postgres\n+flyway.password=admin\n\\ No newline at end of file"
  },
  {
    "sha": "db38d5118ca8a3bfe35222677fafef47809393aa",
    "filename": "securityRealize/target/classes/securityPack/SecurityPackApp.class",
    "status": "added",
    "additions": 0,
    "deletions": 0,
    "changes": 0,
    "blob_url": "https://github.com/ElenaGromova/GromovaGeekBrains/blob/d74734c85bddebb77584049b875e5ad053ced5b9/securityRealize/target/classes/securityPack/SecurityPackApp.class",
    "raw_url": "https://github.com/ElenaGromova/GromovaGeekBrains/raw/d74734c85bddebb77584049b875e5ad053ced5b9/securityRealize/target/classes/securityPack/SecurityPackApp.class",
    "contents_url": "https://api.github.com/repos/ElenaGromova/GromovaGeekBrains/contents/securityRealize/target/classes/securityPack/SecurityPackApp.class?ref=d74734c85bddebb77584049b875e5ad053ced5b9"
  },
  {
    "sha": "2a068a01e8357fa9707e1883f7269b8d9180e48a",
    "filename": "securityRealize/target/classes/securityPack/configs/SecurityConfig.class",
    "status": "added",
    "additions": 0,
    "deletions": 0,
    "changes": 0,
    "blob_url": "https://github.com/ElenaGromova/GromovaGeekBrains/blob/d74734c85bddebb77584049b875e5ad053ced5b9/securityRealize/target/classes/securityPack/configs/SecurityConfig.class",
    "raw_url": "https://github.com/ElenaGromova/GromovaGeekBrains/raw/d74734c85bddebb77584049b875e5ad053ced5b9/securityRealize/target/classes/securityPack/configs/SecurityConfig.class",
    "contents_url": "https://api.github.com/repos/ElenaGromova/GromovaGeekBrains/contents/securityRealize/target/classes/securityPack/configs/SecurityConfig.class?ref=d74734c85bddebb77584049b875e5ad053ced5b9"
  },
  {
    "sha": "16c66567aa816074a25f95eaa2b9d75d178fdf31",
    "filename": "securityRealize/target/classes/securityPack/controllers/UserController.class",
    "status": "added",
    "additions": 0,
    "deletions": 0,
    "changes": 0,
    "blob_url": "https://github.com/ElenaGromova/GromovaGeekBrains/blob/d74734c85bddebb77584049b875e5ad053ced5b9/securityRealize/target/classes/securityPack/controllers/UserController.class",
    "raw_url": "https://github.com/ElenaGromova/GromovaGeekBrains/raw/d74734c85bddebb77584049b875e5ad053ced5b9/securityRealize/target/classes/securityPack/controllers/UserController.class",
    "contents_url": "https://api.github.com/repos/ElenaGromova/GromovaGeekBrains/contents/securityRealize/target/classes/securityPack/controllers/UserController.class?ref=d74734c85bddebb77584049b875e5ad053ced5b9"
  }
]
