[
  {
    "sha": "37fba32cfeb578c69b1553383780b364667dca8b",
    "filename": "Android/app/src/main/java/com/harvard/studyappmodule/SurveyDashboardFragment.java",
    "status": "modified",
    "additions": 30,
    "deletions": 9,
    "changes": 39,
    "blob_url": "https://github.com/GoogleCloudPlatform/fda-mystudies/blob/a7f7fbda8487e24e73bfb657272bb9375625a5a4/Android/app/src/main/java/com/harvard/studyappmodule/SurveyDashboardFragment.java",
    "raw_url": "https://github.com/GoogleCloudPlatform/fda-mystudies/raw/a7f7fbda8487e24e73bfb657272bb9375625a5a4/Android/app/src/main/java/com/harvard/studyappmodule/SurveyDashboardFragment.java",
    "contents_url": "https://api.github.com/repos/GoogleCloudPlatform/fda-mystudies/contents/Android/app/src/main/java/com/harvard/studyappmodule/SurveyDashboardFragment.java?ref=a7f7fbda8487e24e73bfb657272bb9375625a5a4",
    "patch": "@@ -193,6 +193,7 @@ public View onCreateView(\n     setStudyStatus();\n     setParticipationStatus();\n     getDashboardData();\n+    nextDateLayout.setVisibility(View.INVISIBLE);\n     return view;\n   }\n \n@@ -424,6 +425,7 @@ public void onClick(View view) {\n           @Override\n           public void onClick(View view) {\n             if (!dateType.equalsIgnoreCase(DAY)) {\n+              nextDateLayout.setVisibility(View.INVISIBLE);\n               setDay();\n               addViewStatisticsValuesRefresh();\n             }\n@@ -435,6 +437,7 @@ public void onClick(View view) {\n           @Override\n           public void onClick(View view) {\n             if (!dateType.equalsIgnoreCase(WEEK)) {\n+              nextDateLayout.setVisibility(View.INVISIBLE);\n               setWeek();\n               addViewStatisticsValuesRefresh();\n             }\n@@ -446,6 +449,7 @@ public void onClick(View view) {\n           public void onClick(View view) {\n             try {\n               if (!dateType.equalsIgnoreCase(MONTH)) {\n+                nextDateLayout.setVisibility(View.INVISIBLE);\n                 setMonth();\n                 addViewStatisticsValuesRefresh();\n               }\n@@ -458,7 +462,7 @@ public void onClick(View view) {\n         new View.OnClickListener() {\n           @Override\n           public void onClick(View view) {\n-\n+            nextDateLayout.setVisibility(View.VISIBLE);\n             if (dateType.equalsIgnoreCase(DAY)) {\n               try {\n                 SimpleDateFormat simpleDateFormat = AppController.getDateFormatForApi();\n@@ -550,6 +554,11 @@ public void onClick(View view) {\n \n                   changeDateLabel.setText(simpleDateFormat.format(calendarStart.getTime()));\n                   addViewStatisticsValuesRefresh();\n+\n+                  calendarStart.add(Calendar.DATE, 1);\n+                  if (calendarStart.getTime().after(new Date())) {\n+                    nextDateLayout.setVisibility(View.INVISIBLE);\n+                  }\n                 }\n               } catch (ParseException e) {\n                 Logger.log(e);\n@@ -583,6 +592,11 @@ public void onClick(View view) {\n                             + simpleDateFormat.format(calendarEnd.getTime()));\n                   }\n                   addViewStatisticsValuesRefresh();\n+\n+                  calendarStart.add(Calendar.DATE, 7);\n+                  if (calendarStart.getTime().after(new Date())) {\n+                    nextDateLayout.setVisibility(View.INVISIBLE);\n+                  }\n                 }\n               } catch (ParseException e) {\n                 Logger.log(e);\n@@ -607,6 +621,11 @@ public void onClick(View view) {\n                   changeDateLabel.setText(\n                       dateFormatForChartAndStat.format(calendarStart.getTime()));\n                   addViewStatisticsValuesRefresh();\n+\n+                  calendarStart.add(Calendar.MONTH, 1);\n+                  if (calendarStart.getTime().after(new Date())) {\n+                    nextDateLayout.setVisibility(View.INVISIBLE);\n+                  }\n                 }\n               } catch (ParseException e) {\n                 Logger.log(e);\n@@ -1201,18 +1220,19 @@ private void setWeek() {\n     SimpleDateFormat dateFormatForApi = AppController.getDateFormatForApi();\n     fromDayVal = dateFormatForApi.format(calendar.getTime());\n \n+    SimpleDateFormat simpleDateFormat =\n+            AppController.getDateFormatForDashboardAndChartCurrentDayOut();\n+    String text =\n+            simpleDateFormat.format(calendar.getTime()) + \" - \" + simpleDateFormat.format(new Date());\n+    changeDateLabel.setText(text);\n+\n     calendar.add(Calendar.DATE, 6);\n     calendar.set(Calendar.HOUR_OF_DAY, 23);\n     calendar.set(Calendar.MINUTE, 59);\n     calendar.set(Calendar.SECOND, 59);\n     calendar.set(Calendar.MILLISECOND, 999);\n     toDayVal = dateFormatForApi.format(calendar.getTime());\n \n-    SimpleDateFormat simpleDateFormat =\n-        AppController.getDateFormatForDashboardAndChartCurrentDayOut();\n-    String text =\n-        simpleDateFormat.format(calendar.getTime()) + \" - \" + simpleDateFormat.format(new Date());\n-    changeDateLabel.setText(text);\n     setColorForSelectedDayMonthYear(weekLayout);\n     dateType = WEEK;\n   }\n@@ -1230,6 +1250,10 @@ private void setMonth() {\n     fromDayVal = simpleDateFormat.format(calendar.getTime());\n     toDayVal = simpleDateFormat.format(new Date());\n \n+    SimpleDateFormat dateFormatForChartAndStat = AppController.getDateFormatForChartAndStat();\n+    String text = dateFormatForChartAndStat.format(calendar.getTime());\n+    changeDateLabel.setText(text);\n+\n     calendar.add(Calendar.MONTH, 1);\n     calendar.add(Calendar.DATE, -1);\n     calendar.set(Calendar.HOUR_OF_DAY, 23);\n@@ -1238,9 +1262,6 @@ private void setMonth() {\n     calendar.set(Calendar.MILLISECOND, 999);\n     toDayVal = simpleDateFormat.format(calendar.getTime());\n \n-    SimpleDateFormat dateFormatForChartAndStat = AppController.getDateFormatForChartAndStat();\n-    String text = dateFormatForChartAndStat.format(calendar.getTime());\n-    changeDateLabel.setText(text);\n     setColorForSelectedDayMonthYear(monthLayout);\n     dateType = MONTH;\n   }"
  }
]
