[
  {
    "sha": "aa80c292b43b9b90bb0e0f7e42965f2e64856a71",
    "filename": "src/main/java/com/vaadin/recipes/recipe/gridtemplaterendererinteraction/GridTemplateRendererInteraction.java",
    "status": "added",
    "additions": 108,
    "deletions": 0,
    "changes": 108,
    "blob_url": "https://github.com/vaadin/cookbook/blob/b8a53664df635e4226d2eef31cc3ad658a356a2a/src/main/java/com/vaadin/recipes/recipe/gridtemplaterendererinteraction/GridTemplateRendererInteraction.java",
    "raw_url": "https://github.com/vaadin/cookbook/raw/b8a53664df635e4226d2eef31cc3ad658a356a2a/src/main/java/com/vaadin/recipes/recipe/gridtemplaterendererinteraction/GridTemplateRendererInteraction.java",
    "contents_url": "https://api.github.com/repos/vaadin/cookbook/contents/src/main/java/com/vaadin/recipes/recipe/gridtemplaterendererinteraction/GridTemplateRendererInteraction.java?ref=b8a53664df635e4226d2eef31cc3ad658a356a2a",
    "patch": "@@ -0,0 +1,108 @@\n+package com.vaadin.recipes.recipe.gridtemplaterendererinteraction;\n+\n+import com.vaadin.flow.component.grid.Grid;\n+import com.vaadin.flow.component.notification.Notification;\n+import com.vaadin.flow.data.renderer.TemplateRenderer;\n+import com.vaadin.flow.router.Route;\n+import com.vaadin.recipes.recipe.Metadata;\n+import com.vaadin.recipes.recipe.Recipe;\n+import com.vaadin.recipes.recipe.Tag;\n+import java.time.LocalDate;\n+import java.util.List;\n+import org.vaadin.artur.exampledata.DataType;\n+import org.vaadin.artur.exampledata.ExampleDataGenerator;\n+\n+@Route(\"grid-template-renderer-interaction\")\n+@Metadata(\n+    howdoI = \"Add template renderer in grid and handle events\",\n+    description = \"This recipe shows how to use TemplateRenderer in Grid, populate data in the element and handle events.\",\n+    tags = { Tag.GRID, Tag.PERFORMANCE, Tag.TYPE_SCRIPT }\n+)\n+public class GridTemplateRendererInteraction extends Recipe {\n+\n+    public GridTemplateRendererInteraction() {\n+        ExampleDataGenerator<Person> generator = new ExampleDataGenerator<>(Person.class, 423524l);\n+\n+        generator.setData(Person::setId, DataType.ID);\n+        generator.setData(Person::setName, DataType.FULL_NAME);\n+        generator.setData(Person::setEmail, DataType.EMAIL);\n+        generator.setData(Person::setBirthday, DataType.DATE_OF_BIRTH);\n+        List<Person> personList = generator.create(100);\n+\n+        Grid<Person> personGrid = new Grid<>();\n+\n+        personGrid.addColumn(Person::getName).setHeader(\"Name\");\n+        personGrid.addColumn(Person::getEmail).setHeader(\"E-Mail\");\n+        personGrid.addColumn(Person::getBirthday).setHeader(\"Birthday\");\n+\n+        personGrid\n+            .addColumn(\n+                TemplateRenderer\n+                    .<Person>of(\n+                        \"<vaadin-button id='button-example-[[item.id]]' title='you can click me once!' on-click='onClick'>click me</vaadin-button>\"\n+                    )\n+                    .withProperty(\"id\", Person::getId)\n+                    .withEventHandler(\n+                        \"onClick\",\n+                        person -> {\n+                            Notification.show(String.format(\"Clicked on %s\", person.getName()));\n+                            getElement()\n+                                .executeJs(\n+                                    \"this.getRootNode().getElementById($0).setAttribute('disabled','disabled')\",\n+                                    String.format(\"button-example-%d\", person.getId())\n+                                );\n+                        }\n+                    )\n+            )\n+            .setHeader(\"Show Notification\");\n+\n+        personGrid.setItems(personList);\n+\n+        this.add(personGrid);\n+    }\n+\n+    public static class Person {\n+        private Long id;\n+        private String name;\n+        private String email;\n+        private LocalDate birthday;\n+\n+        public Person() {}\n+\n+        public Long getId() {\n+            return id;\n+        }\n+\n+        public void setId(Long id) {\n+            this.id = id;\n+        }\n+\n+        public void setId(Integer id) {\n+            this.id = id.longValue();\n+        }\n+\n+        public String getName() {\n+            return name;\n+        }\n+\n+        public void setName(String name) {\n+            this.name = name;\n+        }\n+\n+        public String getEmail() {\n+            return email;\n+        }\n+\n+        public void setEmail(String email) {\n+            this.email = email;\n+        }\n+\n+        public LocalDate getBirthday() {\n+            return birthday;\n+        }\n+\n+        public void setBirthday(LocalDate birthday) {\n+            this.birthday = birthday;\n+        }\n+    }\n+}"
  }
]
