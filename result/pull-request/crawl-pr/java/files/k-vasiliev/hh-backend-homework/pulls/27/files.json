[
  {
    "sha": "6f5ee45a94351e9778f306ecaf88cbadcabb1214",
    "filename": "backend/init.sql",
    "status": "modified",
    "additions": 35,
    "deletions": 0,
    "changes": 35,
    "blob_url": "https://github.com/k-vasiliev/hh-backend-homework/blob/a6b9ccdd677a3156984548d5950df119314d8071/backend/init.sql",
    "raw_url": "https://github.com/k-vasiliev/hh-backend-homework/raw/a6b9ccdd677a3156984548d5950df119314d8071/backend/init.sql",
    "contents_url": "https://api.github.com/repos/k-vasiliev/hh-backend-homework/contents/backend/init.sql?ref=a6b9ccdd677a3156984548d5950df119314d8071",
    "patch": "@@ -0,0 +1,35 @@\n+CREATE TABLE area\n+(\n+    id     INTEGER PRIMARY KEY,\n+    name   VARCHAR(100) NOT NULL\n+);\n+\n+CREATE TABLE employer\n+(\n+    id          INTEGER PRIMARY KEY,\n+    name        VARCHAR(200) NOT NULL,\n+    date_create DATE NOT NULL,\n+    description TEXT,\n+    area_id     INTEGER NOT NULL REFERENCES area(id),\n+    comment     TEXT,\n+    views_count INTEGER NOT NULL\n+);\n+\n+CREATE TABLE vacancy_employer\n+(\n+    id          INTEGER PRIMARY KEY,\n+    name        VARCHAR(200) NOT NULL\n+);\n+\n+CREATE TABLE vacancy\n+(\n+    id          INTEGER PRIMARY KEY,\n+    name        VARCHAR(200) NOT NULL,\n+    date_create DATE NOT NULL,\n+    area_id     INTEGER NOT NULL REFERENCES area(id),\n+    salary      INTEGER,\n+    created_at  TEXT,\n+    employer_id INTEGER NOT NULL REFERENCES vacancy_employer(id),\n+    views_count INTEGER NOT NULL,\n+    comment     TEXT\n+);"
  },
  {
    "sha": "316b39691f49bd00df3c61a4ca6d5d8567adc50e",
    "filename": "backend/pom.xml",
    "status": "modified",
    "additions": 11,
    "deletions": 0,
    "changes": 11,
    "blob_url": "https://github.com/k-vasiliev/hh-backend-homework/blob/a6b9ccdd677a3156984548d5950df119314d8071/backend/pom.xml",
    "raw_url": "https://github.com/k-vasiliev/hh-backend-homework/raw/a6b9ccdd677a3156984548d5950df119314d8071/backend/pom.xml",
    "contents_url": "https://api.github.com/repos/k-vasiliev/hh-backend-homework/contents/backend/pom.xml?ref=a6b9ccdd677a3156984548d5950df119314d8071",
    "patch": "@@ -44,6 +44,17 @@\n             <version>${nab.version}</version>\n             <scope>test</scope>\n         </dependency>\n+\n+        <dependency>\n+            <groupId>org.hibernate.validator</groupId>\n+            <artifactId>hibernate-validator</artifactId>\n+            <version>6.0.13.Final</version>\n+        </dependency>\n+        <dependency>\n+            <groupId>org.glassfish</groupId>\n+            <artifactId>javax.el</artifactId>\n+            <version>3.0.0</version>\n+        </dependency>\n     </dependencies>\n \n     <build>"
  },
  {
    "sha": "8889dd9f9e644d9146d5861d07bcab39b4ca05d6",
    "filename": "backend/src/etc/service.properties",
    "status": "modified",
    "additions": 4,
    "deletions": 0,
    "changes": 4,
    "blob_url": "https://github.com/k-vasiliev/hh-backend-homework/blob/a6b9ccdd677a3156984548d5950df119314d8071/backend/src/etc/service.properties",
    "raw_url": "https://github.com/k-vasiliev/hh-backend-homework/raw/a6b9ccdd677a3156984548d5950df119314d8071/backend/src/etc/service.properties",
    "contents_url": "https://api.github.com/repos/k-vasiliev/hh-backend-homework/contents/backend/src/etc/service.properties?ref=a6b9ccdd677a3156984548d5950df119314d8071",
    "patch": "@@ -23,3 +23,7 @@ master.pool.maxLifetime=100000\n master.pool.idleTimeout=0\n master.pool.connectionTimeout=1000\n master.pool.leakDetectionThreshold=3000\n+\n+popularityThreshold=5\n+\n+bearerAuth=JOIN9M0LTBRLMF0S1JBLA2VUSFHAPSJF63PGT89P96D6HGNNHALD7QL2PSTKUD8P"
  },
  {
    "sha": "e052358fb24104e3f28ac3740c42cae1458cae89",
    "filename": "backend/src/main/java/ru/hh/school/config/CommonConfig.java",
    "status": "modified",
    "additions": 32,
    "deletions": 10,
    "changes": 42,
    "blob_url": "https://github.com/k-vasiliev/hh-backend-homework/blob/a6b9ccdd677a3156984548d5950df119314d8071/backend/src/main/java/ru/hh/school/config/CommonConfig.java",
    "raw_url": "https://github.com/k-vasiliev/hh-backend-homework/raw/a6b9ccdd677a3156984548d5950df119314d8071/backend/src/main/java/ru/hh/school/config/CommonConfig.java",
    "contents_url": "https://api.github.com/repos/k-vasiliev/hh-backend-homework/contents/backend/src/main/java/ru/hh/school/config/CommonConfig.java?ref=a6b9ccdd677a3156984548d5950df119314d8071",
    "patch": "@@ -3,22 +3,44 @@\n import org.springframework.context.annotation.Bean;\n import org.springframework.context.annotation.Configuration;\n import org.springframework.context.annotation.Import;\n+import org.springframework.validation.beanvalidation.MethodValidationPostProcessor;\n import ru.hh.nab.hibernate.MappingConfig;\n import ru.hh.nab.starter.NabCommonConfig;\n-import ru.hh.school.resource.ExampleResource;\n+import ru.hh.school.dao.AreaDao;\n+import ru.hh.school.dao.EmployerDao;\n+import ru.hh.school.dao.VacancyDao;\n+import ru.hh.school.resource.*;\n+import ru.hh.school.service.*;\n \n @Configuration\n @Import({\n-  // import your beans here\n-  ExampleResource.class,\n-  NabCommonConfig.class\n+        MainResource.class,\n+        NabCommonConfig.class,\n+        MainResource.class,\n+        MeResource.class,\n+        HhService.class,\n+        EmployerResource.class,\n+        FavoritesEmployerResource.class,\n+        FavoritesEmployerService.class,\n+        AreaDao.class,\n+        EmployerDao.class,\n+        VacancyResource.class,\n+        VacancyDao.class,\n+        FavoritesVacancyResource.class,\n+        FavoritesVacancyService.class\n })\n public class CommonConfig {\n \n-  @Bean\n-  public MappingConfig mappingConfig() {\n-    MappingConfig mappingConfig = new MappingConfig();\n-    mappingConfig.addPackagesToScan(\"ru.hh.school.entity\");\n-    return mappingConfig;\n-  }\n+    @Bean\n+    public MappingConfig mappingConfig() {\n+        MappingConfig mappingConfig = new MappingConfig();\n+        mappingConfig.addPackagesToScan(\"ru.hh.school.entity\");\n+        return mappingConfig;\n+    }\n+\n+    @Bean\n+    public MethodValidationPostProcessor methodValidationPostProcessor() {\n+        return new MethodValidationPostProcessor();\n+    }\n+\n }"
  },
  {
    "sha": "0b57af8152e8e77d63c96acbce9a6a1957833142",
    "filename": "backend/src/main/java/ru/hh/school/dao/AreaDao.java",
    "status": "added",
    "additions": 10,
    "deletions": 0,
    "changes": 10,
    "blob_url": "https://github.com/k-vasiliev/hh-backend-homework/blob/a6b9ccdd677a3156984548d5950df119314d8071/backend/src/main/java/ru/hh/school/dao/AreaDao.java",
    "raw_url": "https://github.com/k-vasiliev/hh-backend-homework/raw/a6b9ccdd677a3156984548d5950df119314d8071/backend/src/main/java/ru/hh/school/dao/AreaDao.java",
    "contents_url": "https://api.github.com/repos/k-vasiliev/hh-backend-homework/contents/backend/src/main/java/ru/hh/school/dao/AreaDao.java?ref=a6b9ccdd677a3156984548d5950df119314d8071",
    "patch": "@@ -0,0 +1,10 @@\n+package ru.hh.school.dao;\n+\n+import org.hibernate.SessionFactory;\n+\n+public class AreaDao extends GenericDao {\n+\n+    public AreaDao(SessionFactory sessionFactory) {\n+        super(sessionFactory);\n+    }\n+}"
  },
  {
    "sha": "68c0324ce70eccdecd228e1230ee28393985c35e",
    "filename": "backend/src/main/java/ru/hh/school/dao/EmployerDao.java",
    "status": "added",
    "additions": 11,
    "deletions": 0,
    "changes": 11,
    "blob_url": "https://github.com/k-vasiliev/hh-backend-homework/blob/a6b9ccdd677a3156984548d5950df119314d8071/backend/src/main/java/ru/hh/school/dao/EmployerDao.java",
    "raw_url": "https://github.com/k-vasiliev/hh-backend-homework/raw/a6b9ccdd677a3156984548d5950df119314d8071/backend/src/main/java/ru/hh/school/dao/EmployerDao.java",
    "contents_url": "https://api.github.com/repos/k-vasiliev/hh-backend-homework/contents/backend/src/main/java/ru/hh/school/dao/EmployerDao.java?ref=a6b9ccdd677a3156984548d5950df119314d8071",
    "patch": "@@ -0,0 +1,11 @@\n+package ru.hh.school.dao;\n+\n+import org.hibernate.SessionFactory;\n+\n+public class EmployerDao extends GenericDao {\n+\n+    public EmployerDao(SessionFactory sessionFactory) {\n+        super(sessionFactory);\n+    }\n+\n+}"
  },
  {
    "sha": "e1b5a413471ebf295d1a31f2267a5f762c417ff1",
    "filename": "backend/src/main/java/ru/hh/school/dao/GenericDao.java",
    "status": "added",
    "additions": 70,
    "deletions": 0,
    "changes": 70,
    "blob_url": "https://github.com/k-vasiliev/hh-backend-homework/blob/a6b9ccdd677a3156984548d5950df119314d8071/backend/src/main/java/ru/hh/school/dao/GenericDao.java",
    "raw_url": "https://github.com/k-vasiliev/hh-backend-homework/raw/a6b9ccdd677a3156984548d5950df119314d8071/backend/src/main/java/ru/hh/school/dao/GenericDao.java",
    "contents_url": "https://api.github.com/repos/k-vasiliev/hh-backend-homework/contents/backend/src/main/java/ru/hh/school/dao/GenericDao.java?ref=a6b9ccdd677a3156984548d5950df119314d8071",
    "patch": "@@ -0,0 +1,70 @@\n+package ru.hh.school.dao;\n+\n+import org.hibernate.Session;\n+import org.hibernate.SessionFactory;\n+\n+import javax.persistence.TypedQuery;\n+import javax.persistence.criteria.CriteriaBuilder;\n+import javax.persistence.criteria.CriteriaQuery;\n+import javax.persistence.criteria.Root;\n+import java.io.Serializable;\n+import java.util.List;\n+\n+public class GenericDao {\n+\n+    private final SessionFactory sessionFactory;\n+\n+    public GenericDao(SessionFactory sessionFactory) {\n+        this.sessionFactory = sessionFactory;\n+    }\n+\n+    public <T> T get(Class<T> clazz, Serializable id) {\n+\n+        return getSession().get(clazz, id);\n+    }\n+\n+    public <T> List<T> getByPage(Class<T> clazz, Integer page, Integer perPage) {\n+        CriteriaBuilder cb = getSession().getCriteriaBuilder();\n+\n+        CriteriaQuery<T> cq = cb.createQuery(clazz);\n+        Root<T> root = cq.from(clazz);\n+        cq.orderBy(cb.asc(root.get(\"id\")));\n+\n+        TypedQuery<T> query = getSession().createQuery(cq);\n+        query.setFirstResult(calculateFirstResult(page, perPage)).setMaxResults(perPage);\n+\n+        return query.getResultList();\n+    }\n+\n+    public void save(Object object) {\n+        if (object == null) {\n+            return;\n+        }\n+        getSession().save(object);\n+    }\n+\n+    public void saveOrUpdate(Object object) {\n+        if (object == null) {\n+            return;\n+        }\n+\n+        getSession().saveOrUpdate(object);\n+    }\n+\n+    public void update(Object object) {\n+        getSession().update(object);\n+    }\n+\n+    public void delete(Object object) {\n+        getSession().delete(object);\n+    }\n+\n+    public Session getSession() {\n+        return sessionFactory.getCurrentSession();\n+    }\n+\n+    private int calculateFirstResult(int page, int perPage) {\n+        return ((perPage * page) - perPage);\n+    }\n+\n+}"
  },
  {
    "sha": "c55f641cdf2d1384be664b157d3198a82299405d",
    "filename": "backend/src/main/java/ru/hh/school/dao/VacancyDao.java",
    "status": "added",
    "additions": 11,
    "deletions": 0,
    "changes": 11,
    "blob_url": "https://github.com/k-vasiliev/hh-backend-homework/blob/a6b9ccdd677a3156984548d5950df119314d8071/backend/src/main/java/ru/hh/school/dao/VacancyDao.java",
    "raw_url": "https://github.com/k-vasiliev/hh-backend-homework/raw/a6b9ccdd677a3156984548d5950df119314d8071/backend/src/main/java/ru/hh/school/dao/VacancyDao.java",
    "contents_url": "https://api.github.com/repos/k-vasiliev/hh-backend-homework/contents/backend/src/main/java/ru/hh/school/dao/VacancyDao.java?ref=a6b9ccdd677a3156984548d5950df119314d8071",
    "patch": "@@ -0,0 +1,11 @@\n+package ru.hh.school.dao;\n+\n+import org.hibernate.SessionFactory;\n+\n+public class VacancyDao extends GenericDao {\n+\n+    public VacancyDao(SessionFactory sessionFactory) {\n+        super(sessionFactory);\n+    }\n+\n+}"
  },
  {
    "sha": "a32ea8c5f8167e0ce6c03b9a9808cf46e3c2a119",
    "filename": "backend/src/main/java/ru/hh/school/dao/VacancyEmployerDao.java",
    "status": "added",
    "additions": 11,
    "deletions": 0,
    "changes": 11,
    "blob_url": "https://github.com/k-vasiliev/hh-backend-homework/blob/a6b9ccdd677a3156984548d5950df119314d8071/backend/src/main/java/ru/hh/school/dao/VacancyEmployerDao.java",
    "raw_url": "https://github.com/k-vasiliev/hh-backend-homework/raw/a6b9ccdd677a3156984548d5950df119314d8071/backend/src/main/java/ru/hh/school/dao/VacancyEmployerDao.java",
    "contents_url": "https://api.github.com/repos/k-vasiliev/hh-backend-homework/contents/backend/src/main/java/ru/hh/school/dao/VacancyEmployerDao.java?ref=a6b9ccdd677a3156984548d5950df119314d8071",
    "patch": "@@ -0,0 +1,11 @@\n+package ru.hh.school.dao;\n+\n+import org.hibernate.SessionFactory;\n+\n+public class VacancyEmployerDao extends GenericDao {\n+\n+    public VacancyEmployerDao(SessionFactory sessionFactory) {\n+        super(sessionFactory);\n+    }\n+\n+}"
  },
  {
    "sha": "58c6071b07949f7522cac70042030457194c37ed",
    "filename": "backend/src/main/java/ru/hh/school/dto/Area.java",
    "status": "added",
    "additions": 32,
    "deletions": 0,
    "changes": 32,
    "blob_url": "https://github.com/k-vasiliev/hh-backend-homework/blob/a6b9ccdd677a3156984548d5950df119314d8071/backend/src/main/java/ru/hh/school/dto/Area.java",
    "raw_url": "https://github.com/k-vasiliev/hh-backend-homework/raw/a6b9ccdd677a3156984548d5950df119314d8071/backend/src/main/java/ru/hh/school/dto/Area.java",
    "contents_url": "https://api.github.com/repos/k-vasiliev/hh-backend-homework/contents/backend/src/main/java/ru/hh/school/dto/Area.java?ref=a6b9ccdd677a3156984548d5950df119314d8071",
    "patch": "@@ -0,0 +1,32 @@\n+package ru.hh.school.dto;\n+\n+public class Area {\n+\n+    private Integer id;\n+    private String name;\n+\n+    public Area() {\n+    }\n+\n+    public Area(Integer id, String name) {\n+        this.id = id;\n+        this.name = name;\n+    }\n+\n+    public Integer getId() {\n+        return id;\n+    }\n+\n+    public void setId(Integer id) {\n+        this.id = id;\n+    }\n+\n+    public String getName() {\n+        return name;\n+    }\n+\n+    public void setName(String name) {\n+        this.name = name;\n+    }\n+\n+}"
  },
  {
    "sha": "35f0cf2460d6141616bb737a31d6accb8320257b",
    "filename": "backend/src/main/java/ru/hh/school/dto/Employer.java",
    "status": "added",
    "additions": 32,
    "deletions": 0,
    "changes": 32,
    "blob_url": "https://github.com/k-vasiliev/hh-backend-homework/blob/a6b9ccdd677a3156984548d5950df119314d8071/backend/src/main/java/ru/hh/school/dto/Employer.java",
    "raw_url": "https://github.com/k-vasiliev/hh-backend-homework/raw/a6b9ccdd677a3156984548d5950df119314d8071/backend/src/main/java/ru/hh/school/dto/Employer.java",
    "contents_url": "https://api.github.com/repos/k-vasiliev/hh-backend-homework/contents/backend/src/main/java/ru/hh/school/dto/Employer.java?ref=a6b9ccdd677a3156984548d5950df119314d8071",
    "patch": "@@ -0,0 +1,32 @@\n+package ru.hh.school.dto;\n+\n+public class Employer {\n+\n+    private Integer id;\n+    private String name;\n+\n+    public Employer() {\n+    }\n+\n+    public Employer(Integer id, String name) {\n+        this.id = id;\n+        this.name = name;\n+    }\n+\n+    public Integer getId() {\n+        return id;\n+    }\n+\n+    public void setId(Integer id) {\n+        this.id = id;\n+    }\n+\n+    public String getName() {\n+        return name;\n+    }\n+\n+    public void setName(String name) {\n+        this.name = name;\n+    }\n+\n+}"
  },
  {
    "sha": "aa9f12a82a87018d8475aef314e2e4fa02e961f0",
    "filename": "backend/src/main/java/ru/hh/school/dto/EmployerDetailed.java",
    "status": "added",
    "additions": 34,
    "deletions": 0,
    "changes": 34,
    "blob_url": "https://github.com/k-vasiliev/hh-backend-homework/blob/a6b9ccdd677a3156984548d5950df119314d8071/backend/src/main/java/ru/hh/school/dto/EmployerDetailed.java",
    "raw_url": "https://github.com/k-vasiliev/hh-backend-homework/raw/a6b9ccdd677a3156984548d5950df119314d8071/backend/src/main/java/ru/hh/school/dto/EmployerDetailed.java",
    "contents_url": "https://api.github.com/repos/k-vasiliev/hh-backend-homework/contents/backend/src/main/java/ru/hh/school/dto/EmployerDetailed.java?ref=a6b9ccdd677a3156984548d5950df119314d8071",
    "patch": "@@ -0,0 +1,34 @@\n+package ru.hh.school.dto;\n+\n+public class EmployerDetailed extends Employer {\n+\n+    private String description;\n+\n+    private Area area;\n+\n+    public EmployerDetailed() {\n+    }\n+\n+    public EmployerDetailed(Integer id, String name, String description, Area area) {\n+        super(id, name);\n+        this.description = description;\n+        this.area = area;\n+    }\n+\n+    public String getDescription() {\n+        return description;\n+    }\n+\n+    public void setDescription(String description) {\n+        this.description = description;\n+    }\n+\n+    public Area getArea() {\n+        return area;\n+    }\n+\n+    public void setArea(Area area) {\n+        this.area = area;\n+    }\n+\n+}"
  },
  {
    "sha": "7a96356ecfa4e03a0ccec493b1cac0d1214d33b1",
    "filename": "backend/src/main/java/ru/hh/school/dto/Employers.java",
    "status": "added",
    "additions": 60,
    "deletions": 0,
    "changes": 60,
    "blob_url": "https://github.com/k-vasiliev/hh-backend-homework/blob/a6b9ccdd677a3156984548d5950df119314d8071/backend/src/main/java/ru/hh/school/dto/Employers.java",
    "raw_url": "https://github.com/k-vasiliev/hh-backend-homework/raw/a6b9ccdd677a3156984548d5950df119314d8071/backend/src/main/java/ru/hh/school/dto/Employers.java",
    "contents_url": "https://api.github.com/repos/k-vasiliev/hh-backend-homework/contents/backend/src/main/java/ru/hh/school/dto/Employers.java?ref=a6b9ccdd677a3156984548d5950df119314d8071",
    "patch": "@@ -0,0 +1,60 @@\n+package ru.hh.school.dto;\n+\n+import com.fasterxml.jackson.annotation.JsonProperty;\n+\n+import java.util.List;\n+\n+public class Employers {\n+\n+    private List<Employer> items;\n+\n+    private Integer pages;\n+\n+    @JsonProperty(\"per_page\")\n+    private Integer perPage;\n+\n+    private Integer page;\n+\n+    public Employers() {\n+    }\n+\n+    public Employers(List<Employer> items, Integer pages, Integer perPage, Integer page) {\n+        this.items = items;\n+        this.pages = pages;\n+        this.perPage = perPage;\n+        this.page = page;\n+    }\n+\n+    public List<Employer> getItems() {\n+        return items;\n+    }\n+\n+    public void setItems(List<Employer> items) {\n+        this.items = items;\n+    }\n+\n+    public Integer getPages() {\n+        return pages;\n+    }\n+\n+    public void setPages(Integer pages) {\n+        this.pages = pages;\n+    }\n+\n+    public Integer getPerPage() {\n+        return perPage;\n+    }\n+\n+    public void setPerPage(Integer perPage) {\n+        this.perPage = perPage;\n+    }\n+\n+    public Integer getPage() {\n+        return page;\n+    }\n+\n+    public void setPage(Integer page) {\n+        this.page = page;\n+    }\n+\n+}"
  },
  {
    "sha": "ee097ce7a0ea16d0a73160f6410f07113527ff41",
    "filename": "backend/src/main/java/ru/hh/school/dto/Salary.java",
    "status": "added",
    "additions": 52,
    "deletions": 0,
    "changes": 52,
    "blob_url": "https://github.com/k-vasiliev/hh-backend-homework/blob/a6b9ccdd677a3156984548d5950df119314d8071/backend/src/main/java/ru/hh/school/dto/Salary.java",
    "raw_url": "https://github.com/k-vasiliev/hh-backend-homework/raw/a6b9ccdd677a3156984548d5950df119314d8071/backend/src/main/java/ru/hh/school/dto/Salary.java",
    "contents_url": "https://api.github.com/repos/k-vasiliev/hh-backend-homework/contents/backend/src/main/java/ru/hh/school/dto/Salary.java?ref=a6b9ccdd677a3156984548d5950df119314d8071",
    "patch": "@@ -0,0 +1,52 @@\n+package ru.hh.school.dto;\n+\n+public class Salary {\n+\n+    private Double from;\n+    private Double to;\n+    private String currency;\n+    private Boolean gross;\n+\n+    public Salary() {\n+    }\n+\n+    public Salary(Double from, Double to, String currency, Boolean gross) {\n+        this.from = from;\n+        this.to = to;\n+        this.currency = currency;\n+        this.gross = gross;\n+    }\n+\n+    public Double getFrom() {\n+        return from;\n+    }\n+\n+    public void setFrom(Double from) {\n+        this.from = from;\n+    }\n+\n+    public Double getTo() {\n+        return to;\n+    }\n+\n+    public void setTo(Double to) {\n+        this.to = to;\n+    }\n+\n+    public String getCurrency() {\n+        return currency;\n+    }\n+\n+    public void setCurrency(String currency) {\n+        this.currency = currency;\n+    }\n+\n+    public Boolean getGross() {\n+        return gross;\n+    }\n+\n+    public void setGross(Boolean gross) {\n+        this.gross = gross;\n+    }\n+\n+}"
  },
  {
    "sha": "312efcee07906ec9f10ad35a2cbfc215689ad149",
    "filename": "backend/src/main/java/ru/hh/school/dto/Vacancies.java",
    "status": "added",
    "additions": 60,
    "deletions": 0,
    "changes": 60,
    "blob_url": "https://github.com/k-vasiliev/hh-backend-homework/blob/a6b9ccdd677a3156984548d5950df119314d8071/backend/src/main/java/ru/hh/school/dto/Vacancies.java",
    "raw_url": "https://github.com/k-vasiliev/hh-backend-homework/raw/a6b9ccdd677a3156984548d5950df119314d8071/backend/src/main/java/ru/hh/school/dto/Vacancies.java",
    "contents_url": "https://api.github.com/repos/k-vasiliev/hh-backend-homework/contents/backend/src/main/java/ru/hh/school/dto/Vacancies.java?ref=a6b9ccdd677a3156984548d5950df119314d8071",
    "patch": "@@ -0,0 +1,60 @@\n+package ru.hh.school.dto;\n+\n+import com.fasterxml.jackson.annotation.JsonProperty;\n+\n+import java.util.List;\n+\n+public class Vacancies {\n+\n+    private List<Vacancy> items;\n+\n+    private Integer pages;\n+\n+    @JsonProperty(\"per_page\")\n+    private Integer perPage;\n+\n+    private Integer page;\n+\n+    public Vacancies() {\n+    }\n+\n+    public Vacancies(List<Vacancy> items, Integer pages, Integer perPage, Integer page) {\n+        this.items = items;\n+        this.pages = pages;\n+        this.perPage = perPage;\n+        this.page = page;\n+    }\n+\n+    public List<Vacancy> getItems() {\n+        return items;\n+    }\n+\n+    public void setItems(List<Vacancy> items) {\n+        this.items = items;\n+    }\n+\n+    public Integer getPages() {\n+        return pages;\n+    }\n+\n+    public void setPages(Integer pages) {\n+        this.pages = pages;\n+    }\n+\n+    public Integer getPerPage() {\n+        return perPage;\n+    }\n+\n+    public void setPerPage(Integer perPage) {\n+        this.perPage = perPage;\n+    }\n+\n+    public Integer getPage() {\n+        return page;\n+    }\n+\n+    public void setPage(Integer page) {\n+        this.page = page;\n+    }\n+\n+}"
  },
  {
    "sha": "9535f701177a708fac8ae011fd27f990b7b3b6f2",
    "filename": "backend/src/main/java/ru/hh/school/dto/Vacancy.java",
    "status": "added",
    "additions": 75,
    "deletions": 0,
    "changes": 75,
    "blob_url": "https://github.com/k-vasiliev/hh-backend-homework/blob/a6b9ccdd677a3156984548d5950df119314d8071/backend/src/main/java/ru/hh/school/dto/Vacancy.java",
    "raw_url": "https://github.com/k-vasiliev/hh-backend-homework/raw/a6b9ccdd677a3156984548d5950df119314d8071/backend/src/main/java/ru/hh/school/dto/Vacancy.java",
    "contents_url": "https://api.github.com/repos/k-vasiliev/hh-backend-homework/contents/backend/src/main/java/ru/hh/school/dto/Vacancy.java?ref=a6b9ccdd677a3156984548d5950df119314d8071",
    "patch": "@@ -0,0 +1,75 @@\n+package ru.hh.school.dto;\n+\n+import com.fasterxml.jackson.annotation.JsonProperty;\n+\n+public class Vacancy {\n+\n+    private Integer id;\n+    private String name;\n+    private Area area;\n+    private Salary salary;\n+    @JsonProperty(\"created_at\")\n+    private String createdAt;\n+    private Employer employer;\n+\n+    public Vacancy() {\n+    }\n+\n+    public Vacancy(Integer id, String name, Area area, Salary salary, String createdAt, Employer employer) {\n+        this.id = id;\n+        this.name = name;\n+        this.area = area;\n+        this.salary = salary;\n+        this.createdAt = createdAt;\n+        this.employer = employer;\n+    }\n+\n+    public Integer getId() {\n+        return id;\n+    }\n+\n+    public void setId(Integer id) {\n+        this.id = id;\n+    }\n+\n+    public String getName() {\n+        return name;\n+    }\n+\n+    public void setName(String name) {\n+        this.name = name;\n+    }\n+\n+    public Area getArea() {\n+        return area;\n+    }\n+\n+    public void setArea(Area area) {\n+        this.area = area;\n+    }\n+\n+    public Salary getSalary() {\n+        return salary;\n+    }\n+\n+    public void setSalary(Salary salary) {\n+        this.salary = salary;\n+    }\n+\n+    public String getCreatedAt() {\n+        return createdAt;\n+    }\n+\n+    public void setCreatedAt(String createdAt) {\n+        this.createdAt = createdAt;\n+    }\n+\n+    public Employer getEmployer() {\n+        return employer;\n+    }\n+\n+    public void setEmployer(Employer employer) {\n+        this.employer = employer;\n+    }\n+\n+}"
  },
  {
    "sha": "e69de29bb2d1d6434b8b29ae775ad8c2e48c5391",
    "filename": "backend/src/main/java/ru/hh/school/entity/.gitkeep",
    "status": "removed",
    "additions": 0,
    "deletions": 0,
    "changes": 0,
    "blob_url": "https://github.com/k-vasiliev/hh-backend-homework/blob/d0f0f368752cc4aa402d31205c98dc873cc93ff6/backend/src/main/java/ru/hh/school/entity/.gitkeep",
    "raw_url": "https://github.com/k-vasiliev/hh-backend-homework/raw/d0f0f368752cc4aa402d31205c98dc873cc93ff6/backend/src/main/java/ru/hh/school/entity/.gitkeep",
    "contents_url": "https://api.github.com/repos/k-vasiliev/hh-backend-homework/contents/backend/src/main/java/ru/hh/school/entity/.gitkeep?ref=d0f0f368752cc4aa402d31205c98dc873cc93ff6"
  },
  {
    "sha": "129cfbcbaf270e690c1a47ea9197749efead8a55",
    "filename": "backend/src/main/java/ru/hh/school/entity/AreaEntity.java",
    "status": "added",
    "additions": 40,
    "deletions": 0,
    "changes": 40,
    "blob_url": "https://github.com/k-vasiliev/hh-backend-homework/blob/a6b9ccdd677a3156984548d5950df119314d8071/backend/src/main/java/ru/hh/school/entity/AreaEntity.java",
    "raw_url": "https://github.com/k-vasiliev/hh-backend-homework/raw/a6b9ccdd677a3156984548d5950df119314d8071/backend/src/main/java/ru/hh/school/entity/AreaEntity.java",
    "contents_url": "https://api.github.com/repos/k-vasiliev/hh-backend-homework/contents/backend/src/main/java/ru/hh/school/entity/AreaEntity.java?ref=a6b9ccdd677a3156984548d5950df119314d8071",
    "patch": "@@ -0,0 +1,40 @@\n+package ru.hh.school.entity;\n+\n+import javax.persistence.Entity;\n+import javax.persistence.Id;\n+import javax.persistence.Table;\n+\n+@Entity\n+@Table(name = \"area\")\n+public class AreaEntity {\n+\n+    @Id\n+    private Integer id;\n+\n+    private String name;\n+\n+    public AreaEntity() {\n+    }\n+\n+    public AreaEntity(Integer id, String name) {\n+        this.id = id;\n+        this.name = name;\n+    }\n+\n+    public Integer getId() {\n+        return id;\n+    }\n+\n+    public void setId(Integer id) {\n+        this.id = id;\n+    }\n+\n+    public String getName() {\n+        return name;\n+    }\n+\n+    public void setName(String name) {\n+        this.name = name;\n+    }\n+\n+}"
  },
  {
    "sha": "176979c9fa8602cc031829afd0a47763dea71321",
    "filename": "backend/src/main/java/ru/hh/school/entity/EmployerEntity.java",
    "status": "added",
    "additions": 111,
    "deletions": 0,
    "changes": 111,
    "blob_url": "https://github.com/k-vasiliev/hh-backend-homework/blob/a6b9ccdd677a3156984548d5950df119314d8071/backend/src/main/java/ru/hh/school/entity/EmployerEntity.java",
    "raw_url": "https://github.com/k-vasiliev/hh-backend-homework/raw/a6b9ccdd677a3156984548d5950df119314d8071/backend/src/main/java/ru/hh/school/entity/EmployerEntity.java",
    "contents_url": "https://api.github.com/repos/k-vasiliev/hh-backend-homework/contents/backend/src/main/java/ru/hh/school/entity/EmployerEntity.java?ref=a6b9ccdd677a3156984548d5950df119314d8071",
    "patch": "@@ -0,0 +1,111 @@\n+package ru.hh.school.entity;\n+\n+import javax.persistence.*;\n+import java.time.LocalDateTime;\n+\n+@Entity\n+@Table(name = \"employer\")\n+public class EmployerEntity {\n+\n+    @Id\n+    private Integer id;\n+\n+    private String name;\n+\n+    @Column(name = \"date_create\")\n+    private LocalDateTime dateCreate;\n+\n+    private String description;\n+\n+    @ManyToOne(cascade = {CascadeType.ALL})\n+    @JoinColumn(name = \"area_id\")\n+    private AreaEntity area;\n+\n+    private String comment;\n+\n+    @Column(name = \"views_count\")\n+    private Integer viewsCount;\n+\n+    @Transient\n+    private Popularity popularity;\n+\n+    public EmployerEntity() {\n+    }\n+\n+    public EmployerEntity(Integer id, String name, LocalDateTime dateCreate, String description,\n+                          AreaEntity area, String comment, Integer viewsCount, Popularity popularity) {\n+        this.id = id;\n+        this.name = name;\n+        this.dateCreate = dateCreate;\n+        this.description = description;\n+        this.area = area;\n+        this.comment = comment;\n+        this.viewsCount = viewsCount;\n+        this.popularity = popularity;\n+    }\n+\n+    public Integer getId() {\n+        return id;\n+    }\n+\n+    public void setId(Integer id) {\n+        this.id = id;\n+    }\n+\n+    public String getName() {\n+        return name;\n+    }\n+\n+    public void setName(String name) {\n+        this.name = name;\n+    }\n+\n+    public LocalDateTime getDateCreate() {\n+        return dateCreate;\n+    }\n+\n+    public void setDateCreate(LocalDateTime dateCreate) {\n+        this.dateCreate = dateCreate;\n+    }\n+\n+    public String getDescription() {\n+        return description;\n+    }\n+\n+    public void setDescription(String description) {\n+        this.description = description;\n+    }\n+\n+    public AreaEntity getArea() {\n+        return area;\n+    }\n+\n+    public void setArea(AreaEntity area) {\n+        this.area = area;\n+    }\n+\n+    public String getComment() {\n+        return comment;\n+    }\n+\n+    public void setComment(String comment) {\n+        this.comment = comment;\n+    }\n+\n+    public Integer getViewsCount() {\n+        return viewsCount;\n+    }\n+\n+    public void setViewsCount(Integer viewsCount) {\n+        this.viewsCount = viewsCount;\n+    }\n+\n+    public Popularity getPopularity() {\n+        return popularity;\n+    }\n+\n+    public void setPopularity(Popularity popularity) {\n+        this.popularity = popularity;\n+    }\n+\n+}"
  },
  {
    "sha": "2a11b755b9f4a56c05e9d5becc0fa2eae6ba3f63",
    "filename": "backend/src/main/java/ru/hh/school/entity/Popularity.java",
    "status": "added",
    "additions": 8,
    "deletions": 0,
    "changes": 8,
    "blob_url": "https://github.com/k-vasiliev/hh-backend-homework/blob/a6b9ccdd677a3156984548d5950df119314d8071/backend/src/main/java/ru/hh/school/entity/Popularity.java",
    "raw_url": "https://github.com/k-vasiliev/hh-backend-homework/raw/a6b9ccdd677a3156984548d5950df119314d8071/backend/src/main/java/ru/hh/school/entity/Popularity.java",
    "contents_url": "https://api.github.com/repos/k-vasiliev/hh-backend-homework/contents/backend/src/main/java/ru/hh/school/entity/Popularity.java?ref=a6b9ccdd677a3156984548d5950df119314d8071",
    "patch": "@@ -0,0 +1,8 @@\n+package ru.hh.school.entity;\n+\n+public enum Popularity {\n+\n+    POPULAR,\n+    REGULAR\n+\n+}"
  },
  {
    "sha": "6427fe45677b804abc255dd4da0a0c82819c6152",
    "filename": "backend/src/main/java/ru/hh/school/entity/VacancyEmployerEntity.java",
    "status": "added",
    "additions": 40,
    "deletions": 0,
    "changes": 40,
    "blob_url": "https://github.com/k-vasiliev/hh-backend-homework/blob/a6b9ccdd677a3156984548d5950df119314d8071/backend/src/main/java/ru/hh/school/entity/VacancyEmployerEntity.java",
    "raw_url": "https://github.com/k-vasiliev/hh-backend-homework/raw/a6b9ccdd677a3156984548d5950df119314d8071/backend/src/main/java/ru/hh/school/entity/VacancyEmployerEntity.java",
    "contents_url": "https://api.github.com/repos/k-vasiliev/hh-backend-homework/contents/backend/src/main/java/ru/hh/school/entity/VacancyEmployerEntity.java?ref=a6b9ccdd677a3156984548d5950df119314d8071",
    "patch": "@@ -0,0 +1,40 @@\n+package ru.hh.school.entity;\n+\n+import javax.persistence.Entity;\n+import javax.persistence.Id;\n+import javax.persistence.Table;\n+\n+@Entity\n+@Table(name = \"vacancy_employer\")\n+public class VacancyEmployerEntity {\n+\n+    @Id\n+    private Integer id;\n+\n+    private String name;\n+\n+    public VacancyEmployerEntity() {\n+    }\n+\n+    public VacancyEmployerEntity(Integer id, String name) {\n+        this.id = id;\n+        this.name = name;\n+    }\n+\n+    public Integer getId() {\n+        return id;\n+    }\n+\n+    public void setId(Integer id) {\n+        this.id = id;\n+    }\n+\n+    public String getName() {\n+        return name;\n+    }\n+\n+    public void setName(String name) {\n+        this.name = name;\n+    }\n+\n+}"
  },
  {
    "sha": "940bb6ed17ad2e7e26c0d2a98f9d60250d91e802",
    "filename": "backend/src/main/java/ru/hh/school/entity/VacancyEntity.java",
    "status": "added",
    "additions": 137,
    "deletions": 0,
    "changes": 137,
    "blob_url": "https://github.com/k-vasiliev/hh-backend-homework/blob/a6b9ccdd677a3156984548d5950df119314d8071/backend/src/main/java/ru/hh/school/entity/VacancyEntity.java",
    "raw_url": "https://github.com/k-vasiliev/hh-backend-homework/raw/a6b9ccdd677a3156984548d5950df119314d8071/backend/src/main/java/ru/hh/school/entity/VacancyEntity.java",
    "contents_url": "https://api.github.com/repos/k-vasiliev/hh-backend-homework/contents/backend/src/main/java/ru/hh/school/entity/VacancyEntity.java?ref=a6b9ccdd677a3156984548d5950df119314d8071",
    "patch": "@@ -0,0 +1,137 @@\n+package ru.hh.school.entity;\n+\n+import javax.persistence.*;\n+import java.time.LocalDateTime;\n+\n+@Entity\n+@Table(name = \"vacancy\")\n+public class VacancyEntity {\n+\n+    @Id\n+    private Integer id;\n+\n+    private String name;\n+\n+    @Column(name = \"date_create\")\n+    private LocalDateTime dateCreate;\n+\n+    @ManyToOne(cascade = {CascadeType.ALL})\n+    @JoinColumn(name = \"area_id\")\n+    private AreaEntity area;\n+\n+    private Double salary;\n+\n+    @Column(name = \"created_at\")\n+    private String createdAt;\n+\n+    @ManyToOne(cascade = {CascadeType.ALL})\n+    @JoinColumn(name = \"employer_id\")\n+    private VacancyEmployerEntity employer;\n+\n+    @Transient\n+    private Popularity popularity;\n+\n+    @Column(name = \"views_count\")\n+    private Integer viewsCount;\n+\n+    private String comment;\n+\n+    public VacancyEntity() {\n+    }\n+\n+    public VacancyEntity(Integer id, String name, LocalDateTime dateCreate, AreaEntity area,\n+                         Double salary, String createdAt, VacancyEmployerEntity employer, Popularity popularity,\n+                     Integer viewsCount, String comment) {\n+        this.id = id;\n+        this.name = name;\n+        this.dateCreate = dateCreate;\n+        this.area = area;\n+        this.salary = salary;\n+        this.createdAt = createdAt;\n+        this.employer = employer;\n+        this.popularity = popularity;\n+        this.viewsCount = viewsCount;\n+        this.comment = comment;\n+    }\n+\n+    public Integer getId() {\n+        return id;\n+    }\n+\n+    public void setId(Integer id) {\n+        this.id = id;\n+    }\n+\n+    public String getName() {\n+        return name;\n+    }\n+\n+    public void setName(String name) {\n+        this.name = name;\n+    }\n+\n+    public LocalDateTime getDateCreate() {\n+        return dateCreate;\n+    }\n+\n+    public void setDateCreate(LocalDateTime dateCreate) {\n+        this.dateCreate = dateCreate;\n+    }\n+\n+    public AreaEntity getArea() {\n+        return area;\n+    }\n+\n+    public void setArea(AreaEntity area) {\n+        this.area = area;\n+    }\n+\n+    public Double getSalary() {\n+        return salary;\n+    }\n+\n+    public void setSalary(Double salary) {\n+        this.salary = salary;\n+    }\n+\n+    public String getCreatedAt() {\n+        return createdAt;\n+    }\n+\n+    public void setCreatedAt(String createdAt) {\n+        this.createdAt = createdAt;\n+    }\n+\n+    public VacancyEmployerEntity getEmployer() {\n+        return employer;\n+    }\n+\n+    public void setEmployer(VacancyEmployerEntity employer) {\n+        this.employer = employer;\n+    }\n+\n+    public Popularity getPopularity() {\n+        return popularity;\n+    }\n+\n+    public void setPopularity(Popularity popularity) {\n+        this.popularity = popularity;\n+    }\n+\n+    public Integer getViewsCount() {\n+        return viewsCount;\n+    }\n+\n+    public void setViewsCount(Integer viewsCount) {\n+        this.viewsCount = viewsCount;\n+    }\n+\n+    public String getComment() {\n+        return comment;\n+    }\n+\n+    public void setComment(String comment) {\n+        this.comment = comment;\n+    }\n+\n+}"
  },
  {
    "sha": "7925b3ea2bc093db3621a1415af642e4ae01f93c",
    "filename": "backend/src/main/java/ru/hh/school/request/FavoritesEmployerRequest.java",
    "status": "added",
    "additions": 35,
    "deletions": 0,
    "changes": 35,
    "blob_url": "https://github.com/k-vasiliev/hh-backend-homework/blob/a6b9ccdd677a3156984548d5950df119314d8071/backend/src/main/java/ru/hh/school/request/FavoritesEmployerRequest.java",
    "raw_url": "https://github.com/k-vasiliev/hh-backend-homework/raw/a6b9ccdd677a3156984548d5950df119314d8071/backend/src/main/java/ru/hh/school/request/FavoritesEmployerRequest.java",
    "contents_url": "https://api.github.com/repos/k-vasiliev/hh-backend-homework/contents/backend/src/main/java/ru/hh/school/request/FavoritesEmployerRequest.java?ref=a6b9ccdd677a3156984548d5950df119314d8071",
    "patch": "@@ -0,0 +1,35 @@\n+package ru.hh.school.request;\n+\n+import com.fasterxml.jackson.annotation.JsonProperty;\n+\n+public class FavoritesEmployerRequest {\n+\n+    @JsonProperty(\"employer_id\")\n+    private Integer employerId;\n+    private String comment;\n+\n+    public FavoritesEmployerRequest() {\n+    }\n+\n+    public FavoritesEmployerRequest(Integer employerId, String comment) {\n+        this.employerId = employerId;\n+        this.comment = comment;\n+    }\n+\n+    public Integer getEmployerId() {\n+        return employerId;\n+    }\n+\n+    public void setEmployerId(Integer employerId) {\n+        this.employerId = employerId;\n+    }\n+\n+    public String getComment() {\n+        return comment;\n+    }\n+\n+    public void setComment(String comment) {\n+        this.comment = comment;\n+    }\n+\n+}"
  },
  {
    "sha": "99c306154c1df97168e554519f1535530450e373",
    "filename": "backend/src/main/java/ru/hh/school/request/FavoritesVacancyRequest.java",
    "status": "added",
    "additions": 36,
    "deletions": 0,
    "changes": 36,
    "blob_url": "https://github.com/k-vasiliev/hh-backend-homework/blob/a6b9ccdd677a3156984548d5950df119314d8071/backend/src/main/java/ru/hh/school/request/FavoritesVacancyRequest.java",
    "raw_url": "https://github.com/k-vasiliev/hh-backend-homework/raw/a6b9ccdd677a3156984548d5950df119314d8071/backend/src/main/java/ru/hh/school/request/FavoritesVacancyRequest.java",
    "contents_url": "https://api.github.com/repos/k-vasiliev/hh-backend-homework/contents/backend/src/main/java/ru/hh/school/request/FavoritesVacancyRequest.java?ref=a6b9ccdd677a3156984548d5950df119314d8071",
    "patch": "@@ -0,0 +1,36 @@\n+package ru.hh.school.request;\n+\n+import com.fasterxml.jackson.annotation.JsonProperty;\n+\n+public class FavoritesVacancyRequest {\n+\n+    @JsonProperty(\"vacancy_id\")\n+    private Integer vacancyId;\n+\n+    private String comment;\n+\n+    public FavoritesVacancyRequest() {\n+    }\n+\n+    public FavoritesVacancyRequest(Integer vacancyId, String comment) {\n+        this.vacancyId = vacancyId;\n+        this.comment = comment;\n+    }\n+\n+    public Integer getVacancyId() {\n+        return vacancyId;\n+    }\n+\n+    public void setVacancyId(Integer vacancyId) {\n+        this.vacancyId = vacancyId;\n+    }\n+\n+    public String getComment() {\n+        return comment;\n+    }\n+\n+    public void setComment(String comment) {\n+        this.comment = comment;\n+    }\n+\n+}"
  },
  {
    "sha": "865a198291add957952565b1d42e7b262bf3177b",
    "filename": "backend/src/main/java/ru/hh/school/resource/EmployerResource.java",
    "status": "added",
    "additions": 64,
    "deletions": 0,
    "changes": 64,
    "blob_url": "https://github.com/k-vasiliev/hh-backend-homework/blob/a6b9ccdd677a3156984548d5950df119314d8071/backend/src/main/java/ru/hh/school/resource/EmployerResource.java",
    "raw_url": "https://github.com/k-vasiliev/hh-backend-homework/raw/a6b9ccdd677a3156984548d5950df119314d8071/backend/src/main/java/ru/hh/school/resource/EmployerResource.java",
    "contents_url": "https://api.github.com/repos/k-vasiliev/hh-backend-homework/contents/backend/src/main/java/ru/hh/school/resource/EmployerResource.java?ref=a6b9ccdd677a3156984548d5950df119314d8071",
    "patch": "@@ -0,0 +1,64 @@\n+package ru.hh.school.resource;\n+\n+import org.springframework.http.HttpStatus;\n+import org.springframework.validation.annotation.Validated;\n+import org.springframework.web.bind.annotation.ExceptionHandler;\n+import org.springframework.web.bind.annotation.ResponseStatus;\n+import ru.hh.school.dto.EmployerDetailed;\n+import ru.hh.school.dto.Employers;\n+import ru.hh.school.service.HhService;\n+\n+import javax.inject.Singleton;\n+import javax.validation.ConstraintViolation;\n+import javax.validation.ConstraintViolationException;\n+import javax.validation.constraints.Max;\n+import javax.validation.constraints.Min;\n+import javax.validation.constraints.NotBlank;\n+import javax.validation.constraints.NotNull;\n+import javax.ws.rs.*;\n+import javax.ws.rs.core.MediaType;\n+import javax.ws.rs.core.Response;\n+import java.util.Set;\n+\n+@Singleton\n+@Path(\"/employer\")\n+@Validated\n+public class EmployerResource {\n+\n+    private final HhService hhService;\n+\n+    public EmployerResource(HhService hhService) {\n+        this.hhService = hhService;\n+    }\n+\n+    @GET\n+    @Produces(MediaType.APPLICATION_JSON)\n+    public Response getEmployers(@QueryParam(value = \"page\") @Min(0) Integer page,\n+                                @QueryParam(value = \"per_page\") @Min(0) @Max(100) Integer perPage,\n+                                @QueryParam(value = \"query\") @NotBlank String query) {\n+        Employers employers = hhService.findEmployers(page, perPage, query);\n+\n+        return Response.ok(employers).build();\n+    }\n+\n+    @GET\n+    @Path(\"/{id}\")\n+    @Produces(MediaType.APPLICATION_JSON)\n+    public Response getEmployer(@PathParam(\"id\") @NotNull Integer id) {\n+        EmployerDetailed employer = hhService.getEmployer(id);\n+\n+        return Response.ok(employer).build();\n+    }\n+\n+    @ExceptionHandler(value = { ConstraintViolationException.class })\n+    @ResponseStatus(value = HttpStatus.BAD_REQUEST)\n+    public String handleResourceNotFoundException(ConstraintViolationException e) {\n+        Set<ConstraintViolation<?>> violations = e.getConstraintViolations();\n+        StringBuilder strBuilder = new StringBuilder();\n+        for (ConstraintViolation<?> violation : violations ) {\n+            strBuilder.append(violation.getMessage()).append(\"\\n\");\n+        }\n+        return strBuilder.toString();\n+    }\n+\n+}"
  },
  {
    "sha": "b5e084095861be3cdfb81424908578a79a7cbbb1",
    "filename": "backend/src/main/java/ru/hh/school/resource/ExampleResource.java",
    "status": "removed",
    "additions": 0,
    "deletions": 20,
    "changes": 20,
    "blob_url": "https://github.com/k-vasiliev/hh-backend-homework/blob/d0f0f368752cc4aa402d31205c98dc873cc93ff6/backend/src/main/java/ru/hh/school/resource/ExampleResource.java",
    "raw_url": "https://github.com/k-vasiliev/hh-backend-homework/raw/d0f0f368752cc4aa402d31205c98dc873cc93ff6/backend/src/main/java/ru/hh/school/resource/ExampleResource.java",
    "contents_url": "https://api.github.com/repos/k-vasiliev/hh-backend-homework/contents/backend/src/main/java/ru/hh/school/resource/ExampleResource.java?ref=d0f0f368752cc4aa402d31205c98dc873cc93ff6",
    "patch": "@@ -1,20 +0,0 @@\n-package ru.hh.school.resource;\n-\n-import org.slf4j.Logger;\n-import org.slf4j.LoggerFactory;\n-\n-import javax.inject.Singleton;\n-import javax.ws.rs.GET;\n-import javax.ws.rs.Path;\n-\n-@Singleton\n-@Path(\"/\")\n-public class ExampleResource {\n-\n-  private static final Logger logger = LoggerFactory.getLogger(ExampleResource.class);\n-\n-  @GET\n-  public void dummy() {\n-    logger.info(\"Do nothing\");\n-  }\n-}"
  },
  {
    "sha": "f5b8ffe473045dc94de27b44c3e20a2be1fedfb8",
    "filename": "backend/src/main/java/ru/hh/school/resource/FavoritesEmployerResource.java",
    "status": "added",
    "additions": 75,
    "deletions": 0,
    "changes": 75,
    "blob_url": "https://github.com/k-vasiliev/hh-backend-homework/blob/a6b9ccdd677a3156984548d5950df119314d8071/backend/src/main/java/ru/hh/school/resource/FavoritesEmployerResource.java",
    "raw_url": "https://github.com/k-vasiliev/hh-backend-homework/raw/a6b9ccdd677a3156984548d5950df119314d8071/backend/src/main/java/ru/hh/school/resource/FavoritesEmployerResource.java",
    "contents_url": "https://api.github.com/repos/k-vasiliev/hh-backend-homework/contents/backend/src/main/java/ru/hh/school/resource/FavoritesEmployerResource.java?ref=a6b9ccdd677a3156984548d5950df119314d8071",
    "patch": "@@ -0,0 +1,75 @@\n+package ru.hh.school.resource;\n+\n+import org.springframework.validation.annotation.Validated;\n+import ru.hh.school.entity.EmployerEntity;\n+import ru.hh.school.request.FavoritesEmployerRequest;\n+import ru.hh.school.service.FavoritesEmployerService;\n+\n+import javax.inject.Singleton;\n+import javax.validation.constraints.NotNull;\n+import javax.ws.rs.*;\n+import javax.ws.rs.core.MediaType;\n+import javax.ws.rs.core.Response;\n+import java.util.List;\n+\n+@Singleton\n+@Path(\"/favorites/employer\")\n+@Validated\n+public class FavoritesEmployerResource {\n+\n+    private final FavoritesEmployerService favoritesEmployerService;\n+\n+    public FavoritesEmployerResource(FavoritesEmployerService favoritesEmployerService) {\n+        this.favoritesEmployerService = favoritesEmployerService;\n+    }\n+\n+    @POST\n+    @Produces(MediaType.APPLICATION_JSON)\n+    @Consumes(MediaType.APPLICATION_JSON)\n+    public Response addEmployerToFavorites(FavoritesEmployerRequest request) {\n+        favoritesEmployerService.addEmployer(request);\n+\n+        return Response.ok().build();\n+    }\n+\n+    @GET\n+    @Produces(MediaType.APPLICATION_JSON)\n+    public Response getFavoriteEmployers(@QueryParam(value = \"page\") Integer page,\n+                                 @QueryParam(value = \"per_page\") Integer perPage) {\n+        synchronized (this) {\n+            List<EmployerEntity> employers = favoritesEmployerService.getEmployers(page, perPage);\n+\n+            return Response.ok(employers).build();\n+        }\n+    }\n+\n+    @PUT\n+    @Path(\"/{id}\")\n+    @Produces(MediaType.APPLICATION_JSON)\n+    @Consumes(MediaType.APPLICATION_JSON)\n+    public Response updateFavoriteEmployer(FavoritesEmployerRequest request, @PathParam(\"id\") @NotNull Integer id) {\n+        request.setEmployerId(id);\n+        favoritesEmployerService.update(request);\n+\n+        return Response.ok().build();\n+    }\n+\n+    @DELETE\n+    @Path(\"/{id}\")\n+    @Produces(MediaType.APPLICATION_JSON)\n+    public Response deleteEmployerFromFavorites(@PathParam(\"id\") @NotNull Integer id) {\n+        favoritesEmployerService.delete(id);\n+\n+        return Response.ok().build();\n+    }\n+\n+    @POST\n+    @Path(\"/{id}/refresh\")\n+    @Produces(MediaType.APPLICATION_JSON)\n+    public Response refreshFavoriteEmployer(@PathParam(\"id\") @NotNull Integer id) {\n+        favoritesEmployerService.refresh(id);\n+\n+        return Response.ok().build();\n+    }\n+\n+}"
  },
  {
    "sha": "7a86034e4bc3ce2276b87abf356ad42f02622b4a",
    "filename": "backend/src/main/java/ru/hh/school/resource/FavoritesVacancyResource.java",
    "status": "added",
    "additions": 75,
    "deletions": 0,
    "changes": 75,
    "blob_url": "https://github.com/k-vasiliev/hh-backend-homework/blob/a6b9ccdd677a3156984548d5950df119314d8071/backend/src/main/java/ru/hh/school/resource/FavoritesVacancyResource.java",
    "raw_url": "https://github.com/k-vasiliev/hh-backend-homework/raw/a6b9ccdd677a3156984548d5950df119314d8071/backend/src/main/java/ru/hh/school/resource/FavoritesVacancyResource.java",
    "contents_url": "https://api.github.com/repos/k-vasiliev/hh-backend-homework/contents/backend/src/main/java/ru/hh/school/resource/FavoritesVacancyResource.java?ref=a6b9ccdd677a3156984548d5950df119314d8071",
    "patch": "@@ -0,0 +1,75 @@\n+package ru.hh.school.resource;\n+\n+import org.springframework.validation.annotation.Validated;\n+import ru.hh.school.entity.VacancyEntity;\n+import ru.hh.school.request.FavoritesVacancyRequest;\n+import ru.hh.school.service.FavoritesVacancyService;\n+\n+import javax.inject.Singleton;\n+import javax.validation.constraints.NotNull;\n+import javax.ws.rs.*;\n+import javax.ws.rs.core.MediaType;\n+import javax.ws.rs.core.Response;\n+import java.util.List;\n+\n+@Singleton\n+@Path(\"/favorites/vacancy\")\n+@Validated\n+public class FavoritesVacancyResource {\n+\n+    private final FavoritesVacancyService favoritesVacancyService;\n+\n+    public FavoritesVacancyResource(FavoritesVacancyService favoritesVacancyService) {\n+        this.favoritesVacancyService = favoritesVacancyService;\n+    }\n+\n+    @POST\n+    @Produces(MediaType.APPLICATION_JSON)\n+    @Consumes(MediaType.APPLICATION_JSON)\n+    public Response addEmployerToFavorites(FavoritesVacancyRequest request) {\n+        favoritesVacancyService.addVacancy(request);\n+\n+        return Response.ok().build();\n+    }\n+\n+    @GET\n+    @Produces(MediaType.APPLICATION_JSON)\n+    public Response getFavoriteVacancies(@QueryParam(value = \"page\") Integer page,\n+                                         @QueryParam(value = \"per_page\") Integer perPage) {\n+        synchronized (this) {\n+            List<VacancyEntity> vacancies = favoritesVacancyService.getVacancies(page, perPage);\n+\n+            return Response.ok(vacancies).build();\n+        }\n+    }\n+\n+    @PUT\n+    @Path(\"/{id}\")\n+    @Produces(MediaType.APPLICATION_JSON)\n+    @Consumes(MediaType.APPLICATION_JSON)\n+    public Response updateFavoriteVacancy(FavoritesVacancyRequest request, @PathParam(\"id\") @NotNull Integer id) {\n+        request.setVacancyId(id);\n+        favoritesVacancyService.update(request);\n+\n+        return Response.ok().build();\n+    }\n+\n+    @DELETE\n+    @Path(\"/{id}\")\n+    @Produces(MediaType.APPLICATION_JSON)\n+    public Response deleteVacancyFromFavorites(@PathParam(\"id\") @NotNull Integer id) {\n+        favoritesVacancyService.delete(id);\n+\n+        return Response.ok().build();\n+    }\n+\n+    @POST\n+    @Path(\"/{id}/refresh\")\n+    @Produces(MediaType.APPLICATION_JSON)\n+    public Response refreshFavoriteVacancy(@PathParam(\"id\") @NotNull Integer id) {\n+        favoritesVacancyService.refresh(id);\n+\n+        return Response.ok().build();\n+    }\n+\n+}"
  },
  {
    "sha": "ca4e65244a49921bdeb6a9837df9f274ce535c4e",
    "filename": "backend/src/main/java/ru/hh/school/resource/MainResource.java",
    "status": "added",
    "additions": 25,
    "deletions": 0,
    "changes": 25,
    "blob_url": "https://github.com/k-vasiliev/hh-backend-homework/blob/a6b9ccdd677a3156984548d5950df119314d8071/backend/src/main/java/ru/hh/school/resource/MainResource.java",
    "raw_url": "https://github.com/k-vasiliev/hh-backend-homework/raw/a6b9ccdd677a3156984548d5950df119314d8071/backend/src/main/java/ru/hh/school/resource/MainResource.java",
    "contents_url": "https://api.github.com/repos/k-vasiliev/hh-backend-homework/contents/backend/src/main/java/ru/hh/school/resource/MainResource.java?ref=a6b9ccdd677a3156984548d5950df119314d8071",
    "patch": "@@ -0,0 +1,25 @@\n+package ru.hh.school.resource;\n+\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+\n+import javax.inject.Singleton;\n+import javax.ws.rs.GET;\n+import javax.ws.rs.Path;\n+import javax.ws.rs.core.Response;\n+\n+@Singleton\n+@Path(\"/\")\n+public class MainResource {\n+\n+    private static final Logger logger = LoggerFactory.getLogger(MainResource.class);\n+\n+    @GET\n+    public Response main() {\n+        logger.debug(\"Main Resource GET\");\n+\n+        return Response.ok(\"Favorites companies and vacancies\").build();\n+\n+    }\n+\n+}"
  },
  {
    "sha": "4035569be23342f29c1b6589d2ce1de92012ec61",
    "filename": "backend/src/main/java/ru/hh/school/resource/MeResource.java",
    "status": "added",
    "additions": 28,
    "deletions": 0,
    "changes": 28,
    "blob_url": "https://github.com/k-vasiliev/hh-backend-homework/blob/a6b9ccdd677a3156984548d5950df119314d8071/backend/src/main/java/ru/hh/school/resource/MeResource.java",
    "raw_url": "https://github.com/k-vasiliev/hh-backend-homework/raw/a6b9ccdd677a3156984548d5950df119314d8071/backend/src/main/java/ru/hh/school/resource/MeResource.java",
    "contents_url": "https://api.github.com/repos/k-vasiliev/hh-backend-homework/contents/backend/src/main/java/ru/hh/school/resource/MeResource.java?ref=a6b9ccdd677a3156984548d5950df119314d8071",
    "patch": "@@ -0,0 +1,28 @@\n+package ru.hh.school.resource;\n+\n+import ru.hh.school.service.HhService;\n+\n+import javax.ws.rs.GET;\n+import javax.ws.rs.Path;\n+import javax.ws.rs.Produces;\n+import javax.ws.rs.core.MediaType;\n+import javax.ws.rs.core.Response;\n+\n+@Path(\"/me\")\n+public class MeResource {\n+\n+    private final HhService meService;\n+\n+    public MeResource(HhService meService) {\n+        this.meService = meService;\n+    }\n+\n+    @GET\n+    @Produces(MediaType.APPLICATION_JSON)\n+    public Response me() {\n+        String me = meService.getMe();\n+\n+        return Response.ok(me).build();\n+    }\n+\n+}"
  }
]
