[
  {
    "sha": "d1364b81b4d3ea664695ea4b58e9209174c263e8",
    "filename": "app/src/main/AndroidManifest.xml",
    "status": "modified",
    "additions": 7,
    "deletions": 1,
    "changes": 8,
    "blob_url": "https://github.com/talaSilwadi/Jam3na_application_2021/blob/7faa3b91101738d2c38b0cfe47169635d682f520/app/src/main/AndroidManifest.xml",
    "raw_url": "https://github.com/talaSilwadi/Jam3na_application_2021/raw/7faa3b91101738d2c38b0cfe47169635d682f520/app/src/main/AndroidManifest.xml",
    "contents_url": "https://api.github.com/repos/talaSilwadi/Jam3na_application_2021/contents/app/src/main/AndroidManifest.xml?ref=7faa3b91101738d2c38b0cfe47169635d682f520",
    "patch": "@@ -16,7 +16,13 @@\n                 <category android:name=\"android.intent.category.LAUNCHER\" />\n             </intent-filter>\n         </activity>\n-        <activity android:name=\".View.RegisterController\" />\n+        <activity android:name=\".View.RegisterController\">\n+            <intent-filter>\n+                <action android:name=\"android.intent.action.MAIN\" />\n+\n+                <category android:name=\"android.intent.category.LAUNCHER\" />\n+            </intent-filter>\n+        </activity>\n         <activity android:name=\".View.MainActivity\">\n             <intent-filter>\n                 <action android:name=\"android.intent.action.MAIN\" />"
  },
  {
    "sha": "66842334780757b6a1131ef4fa263e9b8687d556",
    "filename": "app/src/main/java/com/example/jam3na_testing/View/CreateGroupController.java",
    "status": "modified",
    "additions": 76,
    "deletions": 16,
    "changes": 92,
    "blob_url": "https://github.com/talaSilwadi/Jam3na_application_2021/blob/7faa3b91101738d2c38b0cfe47169635d682f520/app/src/main/java/com/example/jam3na_testing/View/CreateGroupController.java",
    "raw_url": "https://github.com/talaSilwadi/Jam3na_application_2021/raw/7faa3b91101738d2c38b0cfe47169635d682f520/app/src/main/java/com/example/jam3na_testing/View/CreateGroupController.java",
    "contents_url": "https://api.github.com/repos/talaSilwadi/Jam3na_application_2021/contents/app/src/main/java/com/example/jam3na_testing/View/CreateGroupController.java?ref=7faa3b91101738d2c38b0cfe47169635d682f520",
    "patch": "@@ -1,16 +1,23 @@\n package com.example.jam3na_testing.View;\n \n import androidx.annotation.NonNull;\n+import androidx.annotation.Nullable;\n import androidx.appcompat.app.AppCompatActivity;\n \n import android.content.Intent;\n+import android.graphics.Bitmap;\n+import android.net.Uri;\n import android.os.Bundle;\n+import android.provider.MediaStore;\n import android.text.TextUtils;\n import android.util.Log;\n import android.view.View;\n+import android.widget.ArrayAdapter;\n import android.widget.Button;\n import android.widget.EditText;\n+import android.widget.ImageView;\n import android.widget.ProgressBar;\n+import android.widget.Spinner;\n import android.widget.TextView;\n import android.widget.Toast;\n \n@@ -25,6 +32,9 @@\n import com.google.firebase.firestore.FirebaseFirestore;\n \n import java.io.Console;\n+import java.io.FileNotFoundException;\n+import java.io.IOException;\n+import java.util.ArrayList;\n import java.util.HashMap;\n import java.util.Map;\n \n@@ -37,58 +47,108 @@\n     ProgressBar progressBar;\n     Button InsBtn,createBtn ;\n     EditText GroupName,GroupDesc;\n-\n+    Spinner groupCategory;\n+    int GroupID=0;\n+    int select_photo=1;\n+    Uri uri;\n+    ImageView imageView;\n \n     @Override\n     protected void onCreate(Bundle savedInstanceState) {\n         super.onCreate(savedInstanceState);\n         setContentView(R.layout.create_group);\n         fAuth = FirebaseAuth.getInstance();\n         progressBar = findViewById(R.id.progressBar2);\n+        imageView=findViewById(R.id.imageView);\n         InsBtn=findViewById(R.id.ins_pic);\n         createBtn=findViewById(R.id.createBtn);\n         GroupDesc=findViewById(R.id.groupDescText);\n         GroupName=findViewById(R.id.groupNameText);\n-\n-\n-\n+        groupCategory=findViewById(R.id.groupCategory);\n+        ArrayList<String> GroupCategoryList=new ArrayList<>();\n+        GroupCategoryList.add(\"Football Sports\");\n+        GroupCategoryList.add(\"Cycling Sports\");\n+        GroupCategoryList.add(\"Kayaking\");\n+        GroupCategoryList.add(\"Canoeing\");\n+        GroupCategoryList.add(\"Skiing\");\n+        GroupCategoryList.add(\"Aerobics\");\n+        GroupCategoryList.add(\"Boxing\");\n+        GroupCategoryList.add(\"Running\");\n+        GroupCategoryList.add(\"Martial Arts\");\n+        GroupCategoryList.add(\"Powerlifting\");\n+        GroupCategoryList.add(\"Basketball\");\n+        GroupCategoryList.add(\"Tennis\");\n+        GroupCategoryList.add(\"Badminton\");\n+        GroupCategoryList.add(\"Bowling\");\n+        GroupCategoryList.add(\"Handball\");\n+        GroupCategoryList.add(\"Squash\");\n+        GroupCategoryList.add(\"Table Tennis\");\n+        GroupCategoryList.add(\"Volleyball\");\n+        GroupCategoryList.add(\"Skateboarding\");\n+        ArrayAdapter<String> catadapter =new ArrayAdapter<String>(this, android.R.layout.simple_spinner_dropdown_item,GroupCategoryList);\n+        groupCategory.setAdapter(catadapter);\n \n         createBtn.setOnClickListener(e->{\n             create_group_method();\n         });\n \n+    InsBtn.setOnClickListener(e->{\n+        insert_group_picture();\n+    });\n+    }\n \n-\n-\n+    private void insert_group_picture() {\n+        Intent intent=new Intent(Intent.ACTION_PACKAGE_ADDED);\n+        intent.setType(\"image/*\");\n+        startActivityForResult(intent,select_photo);\n+    }\n+    protected  void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n+        super.onActivityResult(requestCode, resultCode, data);\n+        if(requestCode==select_photo && resultCode==RESULT_OK && data!=null && data.getData()!=null){\n+            uri=data.getData();\n+            try {\n+                Bitmap bitmap= MediaStore.Images.Media.getBitmap(getContentResolver(),uri);\n+    imageView.setImageBitmap(bitmap);\n+            } catch (FileNotFoundException e) {\n+                e.printStackTrace();\n+            } catch (IOException e) {\n+                e.printStackTrace();\n+            }\n+        }\n     }\n \n     private void create_group_method() {\n          String TAG = null;\n+\n     String Group_desc=GroupDesc.getText().toString();\n     String Group_name=GroupName.getText().toString();\n+        String Group_category=groupCategory.getSelectedItem().toString();\n+\n         FirebaseFirestore db = FirebaseFirestore.getInstance();\n-        Map<String, Object> user = new HashMap<>();\n-        user.put(\"first\", \"Ada\");\n-        user.put(\"last\", \"Lovelace\");\n-        user.put(\"born\", 1815);\n-\n-// Add a new document with a generated ID\n-        db.collection(\"users\")\n-                .add(user)\n+        Map<String, Object> groupHash = new HashMap<>();\n+        groupHash.put(\"Group Id\", GroupID++);\n+        groupHash.put(\"Group Name\", Group_name);\n+        groupHash.put(\"Group Description\", Group_desc);\n+        groupHash.put(\"Group Category\", Group_category);\n+        groupHash.put(\"Group Admin\", \"murra\");\n+\n+        // Add a new document with a generated ID\n+        db.collection(\"GroupsTable\")\n+                .add(groupHash)\n                 .addOnSuccessListener(new OnSuccessListener<DocumentReference>() {\n \n \n                     @Override\n                     public void onSuccess(DocumentReference documentReference) {\n                         Log.d(TAG, \"DocumentSnapshot added with ID: \" + documentReference.getId());\n-                        Toast.makeText(CreateGroupController.this, \"added successfully.\", Toast.LENGTH_SHORT).show();\n+                        Toast.makeText(CreateGroupController.this, \"Group Created successfully.\", Toast.LENGTH_SHORT).show();\n                     }\n                 })\n                 .addOnFailureListener(new OnFailureListener() {\n                     @Override\n                     public void onFailure(@NonNull Exception e) {\n                         Log.w(TAG, \"Error adding document\", e);\n-                        Toast.makeText(CreateGroupController.this, \"not added successfully.\", Toast.LENGTH_SHORT).show();\n+                        Toast.makeText(CreateGroupController.this, \"Group Not Created successfully.\", Toast.LENGTH_SHORT).show();\n \n                     }\n                 });"
  },
  {
    "sha": "86318f0e1a4b862066066defd635f886f167bfa9",
    "filename": "app/src/main/res/layout/create_group.xml",
    "status": "modified",
    "additions": 32,
    "deletions": 2,
    "changes": 34,
    "blob_url": "https://github.com/talaSilwadi/Jam3na_application_2021/blob/7faa3b91101738d2c38b0cfe47169635d682f520/app/src/main/res/layout/create_group.xml",
    "raw_url": "https://github.com/talaSilwadi/Jam3na_application_2021/raw/7faa3b91101738d2c38b0cfe47169635d682f520/app/src/main/res/layout/create_group.xml",
    "contents_url": "https://api.github.com/repos/talaSilwadi/Jam3na_application_2021/contents/app/src/main/res/layout/create_group.xml?ref=7faa3b91101738d2c38b0cfe47169635d682f520",
    "patch": "@@ -78,6 +78,36 @@\n         android:layout_width=\"wrap_content\"\n         android:layout_height=\"wrap_content\"\n         android:text=\"Create\"\n-        tools:layout_editor_absoluteX=\"160dp\"\n-        tools:layout_editor_absoluteY=\"648dp\" />\n+        app:layout_constraintBottom_toBottomOf=\"parent\"\n+        app:layout_constraintEnd_toEndOf=\"parent\"\n+        app:layout_constraintStart_toStartOf=\"parent\"\n+        app:layout_constraintTop_toBottomOf=\"@+id/groupDescText\" /><![CDATA[\n+\n+    android:drawSelectorOnTop=\"true\"\n+        android:prompt=\"@string/spin\"\n+        android:entries=\"@array/SportCategory\"\n+    />\n+\n+\n+    ]]>\n+\n+    <Spinner\n+        android:id=\"@+id/groupCategory\"\n+        android:layout_width=\"242dp\"\n+        android:layout_height=\"28dp\"\n+        android:layout_marginTop=\"12dp\"\n+        android:layout_marginEnd=\"24dp\"\n+        app:layout_constraintEnd_toEndOf=\"parent\"\n+        app:layout_constraintTop_toBottomOf=\"@+id/groupNameText\" />\n+\n+    <TextView\n+        android:id=\"@+id/textView3\"\n+        android:layout_width=\"wrap_content\"\n+        android:layout_height=\"wrap_content\"\n+        android:layout_marginTop=\"24dp\"\n+        android:text=\"Group Category\"\n+        app:layout_constraintEnd_toStartOf=\"@+id/groupCategory\"\n+        app:layout_constraintHorizontal_bias=\"0.895\"\n+        app:layout_constraintStart_toStartOf=\"parent\"\n+        app:layout_constraintTop_toBottomOf=\"@+id/textView\" />\n </androidx.constraintlayout.widget.ConstraintLayout>\n\\ No newline at end of file"
  },
  {
    "sha": "ca4b8f9d07965e83802295c04c34daa988dd909c",
    "filename": "app/src/main/res/values/strings.xml",
    "status": "modified",
    "additions": 1,
    "deletions": 0,
    "changes": 1,
    "blob_url": "https://github.com/talaSilwadi/Jam3na_application_2021/blob/7faa3b91101738d2c38b0cfe47169635d682f520/app/src/main/res/values/strings.xml",
    "raw_url": "https://github.com/talaSilwadi/Jam3na_application_2021/raw/7faa3b91101738d2c38b0cfe47169635d682f520/app/src/main/res/values/strings.xml",
    "contents_url": "https://api.github.com/repos/talaSilwadi/Jam3na_application_2021/contents/app/src/main/res/values/strings.xml?ref=7faa3b91101738d2c38b0cfe47169635d682f520",
    "patch": "@@ -2,4 +2,5 @@\n     <string name=\"app_name\">Jam3na_Testing</string>\n     <string name=\"jam3na_register\">Jam3na Register</string>\n     <string name=\"jam3na_login\">Jam3na Login</string>\n+\n </resources>\n\\ No newline at end of file"
  }
]
