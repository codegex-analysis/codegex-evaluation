[
  {
    "sha": "d041f75b04d2ac03e415983824cd854483d635d2",
    "filename": "src/main/java/es/minegold/milkpotion/listeners/MilkPotionListener.java",
    "status": "modified",
    "additions": 24,
    "deletions": 13,
    "changes": 37,
    "blob_url": "https://github.com/V1nc3ntWasTaken/MilkPotion/blob/8da8b882a5020d803b8bf63e60d6bdfd099bcbef/src/main/java/es/minegold/milkpotion/listeners/MilkPotionListener.java",
    "raw_url": "https://github.com/V1nc3ntWasTaken/MilkPotion/raw/8da8b882a5020d803b8bf63e60d6bdfd099bcbef/src/main/java/es/minegold/milkpotion/listeners/MilkPotionListener.java",
    "contents_url": "https://api.github.com/repos/V1nc3ntWasTaken/MilkPotion/contents/src/main/java/es/minegold/milkpotion/listeners/MilkPotionListener.java?ref=8da8b882a5020d803b8bf63e60d6bdfd099bcbef",
    "patch": "@@ -1,33 +1,44 @@\n package es.minegold.milkpotion.listeners;\n \n import es.minegold.milkpotion.MilkPotion;\n+import java.util.Objects;\n+import org.bukkit.ChatColor;\n import org.bukkit.entity.LivingEntity;\n import org.bukkit.event.EventHandler;\n import org.bukkit.event.Listener;\n import org.bukkit.event.entity.PotionSplashEvent;\n import org.bukkit.potion.PotionEffect;\n-\n-import java.util.Objects;\n-\n-import static org.bukkit.ChatColor.translateAlternateColorCodes;\n+import org.bukkit.potion.PotionEffectType;\n \n public class MilkPotionListener implements Listener {\n-\n     private final String POTION_NAME = MilkPotion.get().getConfig().getString(\"potions.MILK_POTION_NAME\");\n-    private final String COLORED_POTION_NAME = translateAlternateColorCodes('&', Objects.requireNonNull(POTION_NAME));\n+\n+    private final String COLORED_POTION_NAME = ChatColor.translateAlternateColorCodes('&', Objects. < String > requireNonNull(this.POTION_NAME));\n \n     private final String TARGET_REMOVED_EFFECTS = MilkPotion.get().getConfig().getString(\"messages.TARGET_REMOVED_EFFECTS\");\n-    private final String COLORED_TARGET_REMOVED_EFFECTS = translateAlternateColorCodes('&', Objects.requireNonNull(TARGET_REMOVED_EFFECTS));\n+\n+    private final String COLORED_TARGET_REMOVED_EFFECTS = ChatColor.translateAlternateColorCodes('&', Objects. < String > requireNonNull(this.TARGET_REMOVED_EFFECTS));\n \n     @EventHandler\n     public void onPlayerHitOtherPlayer(PotionSplashEvent e) {\n-        if (e.getEntity().getItem().hasItemMeta())\n-        if (e.getEntity().getItem().getItemMeta().getDisplayName().equalsIgnoreCase(COLORED_POTION_NAME)) {\n+        if (e.getEntity().getItem().hasItemMeta() &&\n+            e.getEntity().getItem().getItemMeta().getDisplayName().equalsIgnoreCase(this.COLORED_POTION_NAME)) {\n             e.setCancelled(true);\n-            for (LivingEntity en : e.getAffectedEntities()) {\n-                for (PotionEffect effect : en.getActivePotionEffects())\n-                    en.removePotionEffect(effect.getType());\n-                    en.sendMessage(COLORED_TARGET_REMOVED_EFFECTS);\n+            for (LivingEntity en: e.getAffectedEntities()) {\n+                for (PotionEffect effect: en.getActivePotionEffects())\n+                    en.removePotionEffect(PotionEffectType.BAD_OMEN);\n+                en.removePotionEffect(PotionEffectType.BLINDNESS);\n+                en.removePotionEffect(PotionEffectType.CONFUSION);\n+                en.removePotionEffect(PotionEffectType.HARM);\n+                en.removePotionEffect(PotionEffectType.HUNGER);\n+                en.removePotionEffect(PotionEffectType.POISON);\n+                en.removePotionEffect(PotionEffectType.SLOW);\n+                en.removePotionEffect(PotionEffectType.SLOW_DIGGING);\n+                en.removePotionEffect(PotionEffectType.SLOW_FALLING);\n+                en.removePotionEffect(PotionEffectType.UNLUCK);\n+                en.removePotionEffect(PotionEffectType.WEAKNESS);\n+                en.removePotionEffect(PotionEffectType.WITHER);\n+                en.sendMessage(this.COLORED_TARGET_REMOVED_EFFECTS);\n             }\n         }\n     }"
  }
]
