[
  {
    "sha": "94a25f7f4cb416c083d265558da75d457237d671",
    "filename": ".idea/vcs.xml",
    "status": "added",
    "additions": 6,
    "deletions": 0,
    "changes": 6,
    "blob_url": "https://github.com/hayRenat/HomeWork7/blob/ecb42c9b81c5b58ddbd6a3d5578ecb87eb93be6b/.idea/vcs.xml",
    "raw_url": "https://github.com/hayRenat/HomeWork7/raw/ecb42c9b81c5b58ddbd6a3d5578ecb87eb93be6b/.idea/vcs.xml",
    "contents_url": "https://api.github.com/repos/hayRenat/HomeWork7/contents/.idea/vcs.xml?ref=ecb42c9b81c5b58ddbd6a3d5578ecb87eb93be6b",
    "patch": "@@ -0,0 +1,6 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<project version=\"4\">\n+  <component name=\"VcsDirectoryMappings\">\n+    <mapping directory=\"$PROJECT_DIR$\" vcs=\"Git\" />\n+  </component>\n+</project>\n\\ No newline at end of file"
  },
  {
    "sha": "6b3f09c2d9f29b096ed089a0aa2e58932d954532",
    "filename": "out/production/HomeWork7/HW/AfterSuite.class",
    "status": "added",
    "additions": 0,
    "deletions": 0,
    "changes": 0,
    "blob_url": "https://github.com/hayRenat/HomeWork7/blob/ecb42c9b81c5b58ddbd6a3d5578ecb87eb93be6b/out/production/HomeWork7/HW/AfterSuite.class",
    "raw_url": "https://github.com/hayRenat/HomeWork7/raw/ecb42c9b81c5b58ddbd6a3d5578ecb87eb93be6b/out/production/HomeWork7/HW/AfterSuite.class",
    "contents_url": "https://api.github.com/repos/hayRenat/HomeWork7/contents/out/production/HomeWork7/HW/AfterSuite.class?ref=ecb42c9b81c5b58ddbd6a3d5578ecb87eb93be6b"
  },
  {
    "sha": "853691a7407321f99661afec27f3db9100e77e1c",
    "filename": "out/production/HomeWork7/HW/BeforeSuite.class",
    "status": "added",
    "additions": 0,
    "deletions": 0,
    "changes": 0,
    "blob_url": "https://github.com/hayRenat/HomeWork7/blob/ecb42c9b81c5b58ddbd6a3d5578ecb87eb93be6b/out/production/HomeWork7/HW/BeforeSuite.class",
    "raw_url": "https://github.com/hayRenat/HomeWork7/raw/ecb42c9b81c5b58ddbd6a3d5578ecb87eb93be6b/out/production/HomeWork7/HW/BeforeSuite.class",
    "contents_url": "https://api.github.com/repos/hayRenat/HomeWork7/contents/out/production/HomeWork7/HW/BeforeSuite.class?ref=ecb42c9b81c5b58ddbd6a3d5578ecb87eb93be6b"
  },
  {
    "sha": "e1859842857c364b4abed484e03e3a71d42dd507",
    "filename": "out/production/HomeWork7/HW/Main.class",
    "status": "added",
    "additions": 0,
    "deletions": 0,
    "changes": 0,
    "blob_url": "https://github.com/hayRenat/HomeWork7/blob/ecb42c9b81c5b58ddbd6a3d5578ecb87eb93be6b/out/production/HomeWork7/HW/Main.class",
    "raw_url": "https://github.com/hayRenat/HomeWork7/raw/ecb42c9b81c5b58ddbd6a3d5578ecb87eb93be6b/out/production/HomeWork7/HW/Main.class",
    "contents_url": "https://api.github.com/repos/hayRenat/HomeWork7/contents/out/production/HomeWork7/HW/Main.class?ref=ecb42c9b81c5b58ddbd6a3d5578ecb87eb93be6b"
  },
  {
    "sha": "51bf0104eec2f1e621c654893c1dbde9224b4a77",
    "filename": "out/production/HomeWork7/HW/Test.class",
    "status": "added",
    "additions": 0,
    "deletions": 0,
    "changes": 0,
    "blob_url": "https://github.com/hayRenat/HomeWork7/blob/ecb42c9b81c5b58ddbd6a3d5578ecb87eb93be6b/out/production/HomeWork7/HW/Test.class",
    "raw_url": "https://github.com/hayRenat/HomeWork7/raw/ecb42c9b81c5b58ddbd6a3d5578ecb87eb93be6b/out/production/HomeWork7/HW/Test.class",
    "contents_url": "https://api.github.com/repos/hayRenat/HomeWork7/contents/out/production/HomeWork7/HW/Test.class?ref=ecb42c9b81c5b58ddbd6a3d5578ecb87eb93be6b"
  },
  {
    "sha": "378c9b335192d042fd00a6fd3f0702a7f9af0b91",
    "filename": "out/production/HomeWork7/HW/TestedMethods.class",
    "status": "added",
    "additions": 0,
    "deletions": 0,
    "changes": 0,
    "blob_url": "https://github.com/hayRenat/HomeWork7/blob/ecb42c9b81c5b58ddbd6a3d5578ecb87eb93be6b/out/production/HomeWork7/HW/TestedMethods.class",
    "raw_url": "https://github.com/hayRenat/HomeWork7/raw/ecb42c9b81c5b58ddbd6a3d5578ecb87eb93be6b/out/production/HomeWork7/HW/TestedMethods.class",
    "contents_url": "https://api.github.com/repos/hayRenat/HomeWork7/contents/out/production/HomeWork7/HW/TestedMethods.class?ref=ecb42c9b81c5b58ddbd6a3d5578ecb87eb93be6b"
  },
  {
    "sha": "6a845ef3ad6e1440fc4c9c51cd191452613ef671",
    "filename": "src/HW/AfterSuite.java",
    "status": "added",
    "additions": 13,
    "deletions": 0,
    "changes": 13,
    "blob_url": "https://github.com/hayRenat/HomeWork7/blob/ecb42c9b81c5b58ddbd6a3d5578ecb87eb93be6b/src/HW/AfterSuite.java",
    "raw_url": "https://github.com/hayRenat/HomeWork7/raw/ecb42c9b81c5b58ddbd6a3d5578ecb87eb93be6b/src/HW/AfterSuite.java",
    "contents_url": "https://api.github.com/repos/hayRenat/HomeWork7/contents/src/HW/AfterSuite.java?ref=ecb42c9b81c5b58ddbd6a3d5578ecb87eb93be6b",
    "patch": "@@ -0,0 +1,13 @@\n+package HW;\n+\n+import java.lang.annotation.ElementType;\n+import java.lang.annotation.Retention;\n+import java.lang.annotation.RetentionPolicy;\n+import java.lang.annotation.Target;\n+\n+@Retention(RetentionPolicy.RUNTIME)\n+@Target(ElementType.METHOD)\n+\n+public @interface AfterSuite {\n+\n+}\n\\ No newline at end of file"
  },
  {
    "sha": "4ecc064bf831a6e6e7fe06eca60fe56268b72c64",
    "filename": "src/HW/BeforeSuite.java",
    "status": "added",
    "additions": 13,
    "deletions": 0,
    "changes": 13,
    "blob_url": "https://github.com/hayRenat/HomeWork7/blob/ecb42c9b81c5b58ddbd6a3d5578ecb87eb93be6b/src/HW/BeforeSuite.java",
    "raw_url": "https://github.com/hayRenat/HomeWork7/raw/ecb42c9b81c5b58ddbd6a3d5578ecb87eb93be6b/src/HW/BeforeSuite.java",
    "contents_url": "https://api.github.com/repos/hayRenat/HomeWork7/contents/src/HW/BeforeSuite.java?ref=ecb42c9b81c5b58ddbd6a3d5578ecb87eb93be6b",
    "patch": "@@ -0,0 +1,13 @@\n+package HW;\n+\n+import java.lang.annotation.ElementType;\n+import java.lang.annotation.Retention;\n+import java.lang.annotation.RetentionPolicy;\n+import java.lang.annotation.Target;\n+\n+@Retention(RetentionPolicy.RUNTIME)\n+@Target(ElementType.METHOD)\n+\n+public @interface BeforeSuite {\n+\n+}"
  },
  {
    "sha": "663bd5de1080a953a0affa9e1990e7dad71adda6",
    "filename": "src/HW/Main.java",
    "status": "modified",
    "additions": 7,
    "deletions": 2,
    "changes": 9,
    "blob_url": "https://github.com/hayRenat/HomeWork7/blob/ecb42c9b81c5b58ddbd6a3d5578ecb87eb93be6b/src/HW/Main.java",
    "raw_url": "https://github.com/hayRenat/HomeWork7/raw/ecb42c9b81c5b58ddbd6a3d5578ecb87eb93be6b/src/HW/Main.java",
    "contents_url": "https://api.github.com/repos/hayRenat/HomeWork7/contents/src/HW/Main.java?ref=ecb42c9b81c5b58ddbd6a3d5578ecb87eb93be6b",
    "patch": "@@ -1,8 +1,13 @@\n package HW;\n \n+import java.lang.reflect.InvocationTargetException;\n+import java.lang.reflect.Method;\n+\n public class Main {\n \n-    public static void main(String[] args) {\n-\t// write your code here\n+    public static void main(String[] args) throws InvocationTargetException, IllegalAccessException {\n+        Tester.start(TestedMethods.class);\n     }\n }\n+\n+"
  },
  {
    "sha": "527bbeff25b7fd9149089e143c5fa11117a25e48",
    "filename": "src/HW/Test.java",
    "status": "added",
    "additions": 12,
    "deletions": 0,
    "changes": 12,
    "blob_url": "https://github.com/hayRenat/HomeWork7/blob/ecb42c9b81c5b58ddbd6a3d5578ecb87eb93be6b/src/HW/Test.java",
    "raw_url": "https://github.com/hayRenat/HomeWork7/raw/ecb42c9b81c5b58ddbd6a3d5578ecb87eb93be6b/src/HW/Test.java",
    "contents_url": "https://api.github.com/repos/hayRenat/HomeWork7/contents/src/HW/Test.java?ref=ecb42c9b81c5b58ddbd6a3d5578ecb87eb93be6b",
    "patch": "@@ -0,0 +1,12 @@\n+package HW;\n+\n+import java.lang.annotation.ElementType;\n+import java.lang.annotation.Retention;\n+import java.lang.annotation.RetentionPolicy;\n+import java.lang.annotation.Target;\n+\n+@Retention(RetentionPolicy.RUNTIME)\n+@Target(ElementType.METHOD)\n+public @interface Test {\n+    int priority() default 5;\n+}\n\\ No newline at end of file"
  },
  {
    "sha": "c106472f7264cd544dc8bfdc7c2747927c29d433",
    "filename": "src/HW/TestedMethods.java",
    "status": "added",
    "additions": 34,
    "deletions": 0,
    "changes": 34,
    "blob_url": "https://github.com/hayRenat/HomeWork7/blob/ecb42c9b81c5b58ddbd6a3d5578ecb87eb93be6b/src/HW/TestedMethods.java",
    "raw_url": "https://github.com/hayRenat/HomeWork7/raw/ecb42c9b81c5b58ddbd6a3d5578ecb87eb93be6b/src/HW/TestedMethods.java",
    "contents_url": "https://api.github.com/repos/hayRenat/HomeWork7/contents/src/HW/TestedMethods.java?ref=ecb42c9b81c5b58ddbd6a3d5578ecb87eb93be6b",
    "patch": "@@ -0,0 +1,34 @@\n+package HW;\n+\n+public class TestedMethods {\n+\n+    @BeforeSuite\n+    public static void BeforeMethod(){\n+        System.out.println(\"С аннотацией @BeforeSuite\");\n+    }\n+\n+    @AfterSuite\n+    public static void AfterMethod(){\n+        System.out.println(\"С аннотацией @AfterSuite\");\n+    }\n+\n+    @Test(priority = 3)\n+    public static void Method_1(){\n+        System.out.println(\"Приоритет 3\");\n+    }\n+\n+    @Test(priority = 8)\n+    public static void Method_2(){\n+        System.out.println(\"Приоритет 8\");\n+    }\n+\n+    @Test(priority = 1)\n+    public static void Method_3(){\n+        System.out.println(\"Приоритет 1\");\n+    }\n+    @Test\n+    public static void Method_4(){\n+        System.out.println(\"Приоритет 5\");\n+    }\n+\n+}"
  },
  {
    "sha": "0d65d581d4118d0458c9c6cc43c680110e2dbf20",
    "filename": "src/HW/Tester.java",
    "status": "added",
    "additions": 43,
    "deletions": 0,
    "changes": 43,
    "blob_url": "https://github.com/hayRenat/HomeWork7/blob/ecb42c9b81c5b58ddbd6a3d5578ecb87eb93be6b/src/HW/Tester.java",
    "raw_url": "https://github.com/hayRenat/HomeWork7/raw/ecb42c9b81c5b58ddbd6a3d5578ecb87eb93be6b/src/HW/Tester.java",
    "contents_url": "https://api.github.com/repos/hayRenat/HomeWork7/contents/src/HW/Tester.java?ref=ecb42c9b81c5b58ddbd6a3d5578ecb87eb93be6b",
    "patch": "@@ -0,0 +1,43 @@\n+package HW;\n+\n+import java.lang.reflect.InvocationTargetException;\n+import java.lang.reflect.Method;\n+\n+public class Tester {\n+    public static void start (Class testClass) throws InvocationTargetException, IllegalAccessException {\n+        Method[] afterBefore = cheсkAfterBefore(TestedMethods.class);\n+        afterBefore[0].invoke(null);\n+        Method[] methods = testClass.getDeclaredMethods();\n+        for (int i = 1; i <= 10; i++) {\n+            for (Method method: methods) {\n+                if (method.isAnnotationPresent(Test.class)){\n+                    if (method.getAnnotation(Test.class).priority() == i) {\n+                        method.invoke(null);\n+                    }\n+                }\n+            }\n+        }\n+        afterBefore[1].invoke(null);\n+    }\n+\n+    public static Method[] cheсkAfterBefore(Class checkedClass){\n+        int countBefore = 0;\n+        int countAfter = 0;\n+        Method[] afterBefore = new Method[2];\n+        Method[] methods = checkedClass.getDeclaredMethods();\n+        for (Method method: methods) {\n+            if (method.isAnnotationPresent(BeforeSuite.class)){\n+                countBefore++;\n+                afterBefore[0] = method;\n+            }\n+            if (method.isAnnotationPresent(AfterSuite.class)){\n+                countAfter++;\n+                afterBefore[1] = method;\n+            }\n+        }\n+        if (countAfter != 1 || countBefore != 1){\n+            throw new RuntimeException(\"Более одного метода с аннотациями @BeforeSuite и @AfterSuite\");\n+        }\n+        return afterBefore;\n+    }\n+}"
  }
]
