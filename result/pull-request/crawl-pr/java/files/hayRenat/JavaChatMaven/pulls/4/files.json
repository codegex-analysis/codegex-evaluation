[
  {
    "sha": "e96534fb27b68192f27f985d3879e173ec77adb8",
    "filename": ".idea/uiDesigner.xml",
    "status": "removed",
    "additions": 0,
    "deletions": 124,
    "changes": 124,
    "blob_url": "https://github.com/hayRenat/JavaChatMaven/blob/a7d295204fd6ad410d258180902495b80a94136e/.idea/uiDesigner.xml",
    "raw_url": "https://github.com/hayRenat/JavaChatMaven/raw/a7d295204fd6ad410d258180902495b80a94136e/.idea/uiDesigner.xml",
    "contents_url": "https://api.github.com/repos/hayRenat/JavaChatMaven/contents/.idea/uiDesigner.xml?ref=a7d295204fd6ad410d258180902495b80a94136e",
    "patch": "@@ -1,124 +0,0 @@\n-<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n-<project version=\"4\">\n-  <component name=\"Palette2\">\n-    <group name=\"Swing\">\n-      <item class=\"com.intellij.uiDesigner.HSpacer\" tooltip-text=\"Horizontal Spacer\" icon=\"/com/intellij/uiDesigner/icons/hspacer.png\" removable=\"false\" auto-create-binding=\"false\" can-attach-label=\"false\">\n-        <default-constraints vsize-policy=\"1\" hsize-policy=\"6\" anchor=\"0\" fill=\"1\" />\n-      </item>\n-      <item class=\"com.intellij.uiDesigner.VSpacer\" tooltip-text=\"Vertical Spacer\" icon=\"/com/intellij/uiDesigner/icons/vspacer.png\" removable=\"false\" auto-create-binding=\"false\" can-attach-label=\"false\">\n-        <default-constraints vsize-policy=\"6\" hsize-policy=\"1\" anchor=\"0\" fill=\"2\" />\n-      </item>\n-      <item class=\"javax.swing.JPanel\" icon=\"/com/intellij/uiDesigner/icons/panel.png\" removable=\"false\" auto-create-binding=\"false\" can-attach-label=\"false\">\n-        <default-constraints vsize-policy=\"3\" hsize-policy=\"3\" anchor=\"0\" fill=\"3\" />\n-      </item>\n-      <item class=\"javax.swing.JScrollPane\" icon=\"/com/intellij/uiDesigner/icons/scrollPane.png\" removable=\"false\" auto-create-binding=\"false\" can-attach-label=\"true\">\n-        <default-constraints vsize-policy=\"7\" hsize-policy=\"7\" anchor=\"0\" fill=\"3\" />\n-      </item>\n-      <item class=\"javax.swing.JButton\" icon=\"/com/intellij/uiDesigner/icons/button.png\" removable=\"false\" auto-create-binding=\"true\" can-attach-label=\"false\">\n-        <default-constraints vsize-policy=\"0\" hsize-policy=\"3\" anchor=\"0\" fill=\"1\" />\n-        <initial-values>\n-          <property name=\"text\" value=\"Button\" />\n-        </initial-values>\n-      </item>\n-      <item class=\"javax.swing.JRadioButton\" icon=\"/com/intellij/uiDesigner/icons/radioButton.png\" removable=\"false\" auto-create-binding=\"true\" can-attach-label=\"false\">\n-        <default-constraints vsize-policy=\"0\" hsize-policy=\"3\" anchor=\"8\" fill=\"0\" />\n-        <initial-values>\n-          <property name=\"text\" value=\"RadioButton\" />\n-        </initial-values>\n-      </item>\n-      <item class=\"javax.swing.JCheckBox\" icon=\"/com/intellij/uiDesigner/icons/checkBox.png\" removable=\"false\" auto-create-binding=\"true\" can-attach-label=\"false\">\n-        <default-constraints vsize-policy=\"0\" hsize-policy=\"3\" anchor=\"8\" fill=\"0\" />\n-        <initial-values>\n-          <property name=\"text\" value=\"CheckBox\" />\n-        </initial-values>\n-      </item>\n-      <item class=\"javax.swing.JLabel\" icon=\"/com/intellij/uiDesigner/icons/label.png\" removable=\"false\" auto-create-binding=\"false\" can-attach-label=\"false\">\n-        <default-constraints vsize-policy=\"0\" hsize-policy=\"0\" anchor=\"8\" fill=\"0\" />\n-        <initial-values>\n-          <property name=\"text\" value=\"Label\" />\n-        </initial-values>\n-      </item>\n-      <item class=\"javax.swing.JTextField\" icon=\"/com/intellij/uiDesigner/icons/textField.png\" removable=\"false\" auto-create-binding=\"true\" can-attach-label=\"true\">\n-        <default-constraints vsize-policy=\"0\" hsize-policy=\"6\" anchor=\"8\" fill=\"1\">\n-          <preferred-size width=\"150\" height=\"-1\" />\n-        </default-constraints>\n-      </item>\n-      <item class=\"javax.swing.JPasswordField\" icon=\"/com/intellij/uiDesigner/icons/passwordField.png\" removable=\"false\" auto-create-binding=\"true\" can-attach-label=\"true\">\n-        <default-constraints vsize-policy=\"0\" hsize-policy=\"6\" anchor=\"8\" fill=\"1\">\n-          <preferred-size width=\"150\" height=\"-1\" />\n-        </default-constraints>\n-      </item>\n-      <item class=\"javax.swing.JFormattedTextField\" icon=\"/com/intellij/uiDesigner/icons/formattedTextField.png\" removable=\"false\" auto-create-binding=\"true\" can-attach-label=\"true\">\n-        <default-constraints vsize-policy=\"0\" hsize-policy=\"6\" anchor=\"8\" fill=\"1\">\n-          <preferred-size width=\"150\" height=\"-1\" />\n-        </default-constraints>\n-      </item>\n-      <item class=\"javax.swing.JTextArea\" icon=\"/com/intellij/uiDesigner/icons/textArea.png\" removable=\"false\" auto-create-binding=\"true\" can-attach-label=\"true\">\n-        <default-constraints vsize-policy=\"6\" hsize-policy=\"6\" anchor=\"0\" fill=\"3\">\n-          <preferred-size width=\"150\" height=\"50\" />\n-        </default-constraints>\n-      </item>\n-      <item class=\"javax.swing.JTextPane\" icon=\"/com/intellij/uiDesigner/icons/textPane.png\" removable=\"false\" auto-create-binding=\"true\" can-attach-label=\"true\">\n-        <default-constraints vsize-policy=\"6\" hsize-policy=\"6\" anchor=\"0\" fill=\"3\">\n-          <preferred-size width=\"150\" height=\"50\" />\n-        </default-constraints>\n-      </item>\n-      <item class=\"javax.swing.JEditorPane\" icon=\"/com/intellij/uiDesigner/icons/editorPane.png\" removable=\"false\" auto-create-binding=\"true\" can-attach-label=\"true\">\n-        <default-constraints vsize-policy=\"6\" hsize-policy=\"6\" anchor=\"0\" fill=\"3\">\n-          <preferred-size width=\"150\" height=\"50\" />\n-        </default-constraints>\n-      </item>\n-      <item class=\"javax.swing.JComboBox\" icon=\"/com/intellij/uiDesigner/icons/comboBox.png\" removable=\"false\" auto-create-binding=\"true\" can-attach-label=\"true\">\n-        <default-constraints vsize-policy=\"0\" hsize-policy=\"2\" anchor=\"8\" fill=\"1\" />\n-      </item>\n-      <item class=\"javax.swing.JTable\" icon=\"/com/intellij/uiDesigner/icons/table.png\" removable=\"false\" auto-create-binding=\"true\" can-attach-label=\"false\">\n-        <default-constraints vsize-policy=\"6\" hsize-policy=\"6\" anchor=\"0\" fill=\"3\">\n-          <preferred-size width=\"150\" height=\"50\" />\n-        </default-constraints>\n-      </item>\n-      <item class=\"javax.swing.JList\" icon=\"/com/intellij/uiDesigner/icons/list.png\" removable=\"false\" auto-create-binding=\"true\" can-attach-label=\"false\">\n-        <default-constraints vsize-policy=\"6\" hsize-policy=\"2\" anchor=\"0\" fill=\"3\">\n-          <preferred-size width=\"150\" height=\"50\" />\n-        </default-constraints>\n-      </item>\n-      <item class=\"javax.swing.JTree\" icon=\"/com/intellij/uiDesigner/icons/tree.png\" removable=\"false\" auto-create-binding=\"true\" can-attach-label=\"false\">\n-        <default-constraints vsize-policy=\"6\" hsize-policy=\"6\" anchor=\"0\" fill=\"3\">\n-          <preferred-size width=\"150\" height=\"50\" />\n-        </default-constraints>\n-      </item>\n-      <item class=\"javax.swing.JTabbedPane\" icon=\"/com/intellij/uiDesigner/icons/tabbedPane.png\" removable=\"false\" auto-create-binding=\"true\" can-attach-label=\"false\">\n-        <default-constraints vsize-policy=\"3\" hsize-policy=\"3\" anchor=\"0\" fill=\"3\">\n-          <preferred-size width=\"200\" height=\"200\" />\n-        </default-constraints>\n-      </item>\n-      <item class=\"javax.swing.JSplitPane\" icon=\"/com/intellij/uiDesigner/icons/splitPane.png\" removable=\"false\" auto-create-binding=\"false\" can-attach-label=\"false\">\n-        <default-constraints vsize-policy=\"3\" hsize-policy=\"3\" anchor=\"0\" fill=\"3\">\n-          <preferred-size width=\"200\" height=\"200\" />\n-        </default-constraints>\n-      </item>\n-      <item class=\"javax.swing.JSpinner\" icon=\"/com/intellij/uiDesigner/icons/spinner.png\" removable=\"false\" auto-create-binding=\"true\" can-attach-label=\"true\">\n-        <default-constraints vsize-policy=\"0\" hsize-policy=\"6\" anchor=\"8\" fill=\"1\" />\n-      </item>\n-      <item class=\"javax.swing.JSlider\" icon=\"/com/intellij/uiDesigner/icons/slider.png\" removable=\"false\" auto-create-binding=\"true\" can-attach-label=\"false\">\n-        <default-constraints vsize-policy=\"0\" hsize-policy=\"6\" anchor=\"8\" fill=\"1\" />\n-      </item>\n-      <item class=\"javax.swing.JSeparator\" icon=\"/com/intellij/uiDesigner/icons/separator.png\" removable=\"false\" auto-create-binding=\"false\" can-attach-label=\"false\">\n-        <default-constraints vsize-policy=\"6\" hsize-policy=\"6\" anchor=\"0\" fill=\"3\" />\n-      </item>\n-      <item class=\"javax.swing.JProgressBar\" icon=\"/com/intellij/uiDesigner/icons/progressbar.png\" removable=\"false\" auto-create-binding=\"true\" can-attach-label=\"false\">\n-        <default-constraints vsize-policy=\"0\" hsize-policy=\"6\" anchor=\"0\" fill=\"1\" />\n-      </item>\n-      <item class=\"javax.swing.JToolBar\" icon=\"/com/intellij/uiDesigner/icons/toolbar.png\" removable=\"false\" auto-create-binding=\"false\" can-attach-label=\"false\">\n-        <default-constraints vsize-policy=\"0\" hsize-policy=\"6\" anchor=\"0\" fill=\"1\">\n-          <preferred-size width=\"-1\" height=\"20\" />\n-        </default-constraints>\n-      </item>\n-      <item class=\"javax.swing.JToolBar$Separator\" icon=\"/com/intellij/uiDesigner/icons/toolbarSeparator.png\" removable=\"false\" auto-create-binding=\"false\" can-attach-label=\"false\">\n-        <default-constraints vsize-policy=\"0\" hsize-policy=\"0\" anchor=\"0\" fill=\"1\" />\n-      </item>\n-      <item class=\"javax.swing.JScrollBar\" icon=\"/com/intellij/uiDesigner/icons/scrollbar.png\" removable=\"false\" auto-create-binding=\"true\" can-attach-label=\"false\">\n-        <default-constraints vsize-policy=\"6\" hsize-policy=\"0\" anchor=\"0\" fill=\"2\" />\n-      </item>\n-    </group>\n-  </component>\n-</project>\n\\ No newline at end of file"
  },
  {
    "sha": "9b8ca3afbac8433cbb226dc0a49a52adbb8540dd",
    "filename": "client/history_null.txt",
    "status": "removed",
    "additions": 0,
    "deletions": 28,
    "changes": 28,
    "blob_url": "https://github.com/hayRenat/JavaChatMaven/blob/a7d295204fd6ad410d258180902495b80a94136e/client/history_null.txt",
    "raw_url": "https://github.com/hayRenat/JavaChatMaven/raw/a7d295204fd6ad410d258180902495b80a94136e/client/history_null.txt",
    "contents_url": "https://api.github.com/repos/hayRenat/JavaChatMaven/contents/client/history_null.txt?ref=a7d295204fd6ad410d258180902495b80a94136e",
    "patch": "@@ -1,28 +0,0 @@\n-Welcome to chat\n-\n-[14:33:29 01.03.2021] Renat: asdsadasd\n-\n-[14:33:32 01.03.2021] Renat: ПРивет\n-\n-[14:33:34 01.03.2021] Renat: что там\n-\n-[14:33:36 01.03.2021] Renat: как ты\n-\n-[14:33:38 01.03.2021] Renat: что?\n-\n-Artem in chat now\n-\n-[14:34:20 01.03.2021] Artem: это второй логин\n-\n-[14:34:22 01.03.2021] Artem: как связь\n-\n-[14:34:24 01.03.2021] Artem: тест\n-\n-[14:34:32 01.03.2021] Artem: тест 2\n-\n-[14:34:37 01.03.2021] Renat: тест 1\n-\n-[14:34:42 01.03.2021] Renat: Ренат\n-\n-[14:34:47 01.03.2021] Artem: Артём\n-"
  },
  {
    "sha": "9b8ca3afbac8433cbb226dc0a49a52adbb8540dd",
    "filename": "client/history_test.txt",
    "status": "removed",
    "additions": 0,
    "deletions": 28,
    "changes": 28,
    "blob_url": "https://github.com/hayRenat/JavaChatMaven/blob/a7d295204fd6ad410d258180902495b80a94136e/client/history_test.txt",
    "raw_url": "https://github.com/hayRenat/JavaChatMaven/raw/a7d295204fd6ad410d258180902495b80a94136e/client/history_test.txt",
    "contents_url": "https://api.github.com/repos/hayRenat/JavaChatMaven/contents/client/history_test.txt?ref=a7d295204fd6ad410d258180902495b80a94136e",
    "patch": "@@ -1,28 +0,0 @@\n-Welcome to chat\n-\n-[14:33:29 01.03.2021] Renat: asdsadasd\n-\n-[14:33:32 01.03.2021] Renat: ПРивет\n-\n-[14:33:34 01.03.2021] Renat: что там\n-\n-[14:33:36 01.03.2021] Renat: как ты\n-\n-[14:33:38 01.03.2021] Renat: что?\n-\n-Artem in chat now\n-\n-[14:34:20 01.03.2021] Artem: это второй логин\n-\n-[14:34:22 01.03.2021] Artem: как связь\n-\n-[14:34:24 01.03.2021] Artem: тест\n-\n-[14:34:32 01.03.2021] Artem: тест 2\n-\n-[14:34:37 01.03.2021] Renat: тест 1\n-\n-[14:34:42 01.03.2021] Renat: Ренат\n-\n-[14:34:47 01.03.2021] Artem: Артём\n-"
  },
  {
    "sha": "0f137ae6404bb8781474c7c8f1c74c9660ef3b6b",
    "filename": "client/pom.xml",
    "status": "modified",
    "additions": 0,
    "deletions": 18,
    "changes": 18,
    "blob_url": "https://github.com/hayRenat/JavaChatMaven/blob/a78f67bcb176dc64db8acf4d9209d83e2c990513/client/pom.xml",
    "raw_url": "https://github.com/hayRenat/JavaChatMaven/raw/a78f67bcb176dc64db8acf4d9209d83e2c990513/client/pom.xml",
    "contents_url": "https://api.github.com/repos/hayRenat/JavaChatMaven/contents/client/pom.xml?ref=a78f67bcb176dc64db8acf4d9209d83e2c990513",
    "patch": "@@ -10,24 +10,6 @@\n     <modelVersion>4.0.0</modelVersion>\n \n     <artifactId>client</artifactId>\n-    <dependencies>\n-        <dependency>\n-            <groupId>commons-io</groupId>\n-            <artifactId>commons-io</artifactId>\n-            <version>2.8.0</version>\n-        </dependency>\n-        <dependency>\n-            <groupId>junit</groupId>\n-            <artifactId>junit</artifactId>\n-            <version>RELEASE</version>\n-            <scope>compile</scope>\n-        </dependency>\n-        <dependency>\n-            <groupId>commons-lang</groupId>\n-            <artifactId>commons-lang</artifactId>\n-            <version>2.5</version>\n-        </dependency>\n-    </dependencies>\n \n     <properties>\n         <maven.compiler.source>11</maven.compiler.source>"
  },
  {
    "sha": "2722921b5859d84e89e3c9c281c63d884619e15e",
    "filename": "client/src/main/java/ru/geekbrains/client/Controller.java",
    "status": "modified",
    "additions": 3,
    "deletions": 59,
    "changes": 62,
    "blob_url": "https://github.com/hayRenat/JavaChatMaven/blob/a78f67bcb176dc64db8acf4d9209d83e2c990513/client/src/main/java/ru/geekbrains/client/Controller.java",
    "raw_url": "https://github.com/hayRenat/JavaChatMaven/raw/a78f67bcb176dc64db8acf4d9209d83e2c990513/client/src/main/java/ru/geekbrains/client/Controller.java",
    "contents_url": "https://api.github.com/repos/hayRenat/JavaChatMaven/contents/client/src/main/java/ru/geekbrains/client/Controller.java?ref=a78f67bcb176dc64db8acf4d9209d83e2c990513",
    "patch": "@@ -15,13 +15,12 @@\n import javafx.scene.layout.VBox;\n import javafx.stage.Modality;\n import javafx.stage.Stage;\n-import org.apache.commons.lang.StringUtils;\n-import org.junit.Test;\n \n-import java.io.*;\n+import java.io.DataInputStream;\n+import java.io.DataOutputStream;\n+import java.io.IOException;\n import java.net.Socket;\n import java.net.URL;\n-import java.util.List;\n import java.util.ResourceBundle;\n \n public class Controller implements Initializable {\n@@ -53,7 +52,6 @@\n     private String nickname;\n     private ObservableList<String> clients;\n     private boolean authorized;\n-    private ReadWriteLinesToFile hystoryService;\n \n     @Override\n     public void initialize(URL url, ResourceBundle resourceBundle) {\n@@ -95,7 +93,6 @@ public void setAuthorized(boolean authorized) {\n             nickname = \"\";\n         }\n \n-\n         Platform.runLater(() -> {\n             if (nickname.isEmpty()) {\n                 ((Stage) mainBox.getScene().getWindow()).setTitle(\"Java Chat Client\");\n@@ -131,7 +128,6 @@ public void sendMsg(String msg) {\n         }\n     }\n \n-\n     public void sendAuth() {\n         connect();\n         // /auth login1 password1\n@@ -140,7 +136,6 @@ public void sendAuth() {\n         passField.clear();\n     }\n \n-\n     private void connect() {\n         try {\n             if (socket == null || socket.isClosed()) {\n@@ -155,35 +150,13 @@ private void connect() {\n                             if (str.startsWith(\"/authok\")) {\n                                 nickname = str.split(\" \")[1];\n                                 setAuthorized(true);\n-                                String filename = System.getProperty(\"user.dir\") + \"\\\\history_\" + nickname + \".txt\";\n-                                File file = new File(filename);\n-                                if (!file.exists()) {\n-                                file.createNewFile();\n-                                }\n-                                hystoryService = HystoryService.getInstance(file);\n-                                List<String> chat = hystoryService.getLastLines(file, 100);\n-                                textArea.appendText(chat.toString());\n-                                for (String chatmsg: chat) {\n-                                    textArea.appendText(chatmsg); //textArea.appendText(chatmsg + System.lineSeparator()) вот здесь у меня проблема,\n-                                    // как только добавляю lineSeparator программа больше не работает.\n-                                    // К сожалению, совсем не могу найти причину. Без разделения на строки работает всё хорошо.\n-                                    // Я уже даже переделал всё по Вашему разбору ДЗ, но всё равно не работает.\n-                                    // Из-за этой проблемы, прогорели все сроки сдачи ДЗ, прошу прощения.\n-                                }\n                                 break;\n                             }\n                         }\n                         while (true) {\n                             String str = in.readUTF();\n                             if (!str.startsWith(\"/\")) {\n                                 textArea.appendText(str + System.lineSeparator());\n-                                String filename = System.getProperty(\"user.dir\") + \"\\\\history_\" + nickname + \".txt\";\n-                                File file = new File(filename);\n-                                if (!file.exists()) {\n-                                    file.createNewFile();\n-                                }\n-                                hystoryService = HystoryService.getInstance(file);\n-                                hystoryService.writeLineToFile(str + System.lineSeparator());\n                             } else if (str.startsWith(\"/clientslist\")) {\n                                 // /clientslist nick1 nick2 nick3\n                                 String[] subStr = str.split(\" \");\n@@ -235,33 +208,4 @@ public void registerBtn() {\n         }\n \n     }\n-\n-    public void log() throws IOException {\n-        File log = new File(\"src/main/java/ru/geekbrains/client/Log/history_\" + nickname + \".txt\");\n-        System.out.println(nickname);\n-        System.out.println(log.exists());\n-//        if (!log.exists()){\n-//            log.createNewFile();\n-//        }\n-    }\n-\n-    @Test\n-    public void test() throws IOException {\n-        String filename = System.getProperty(\"user.dir\") + \"\\\\history_test.txt\";\n-        System.out.println(filename);\n-        File file = new File(filename);\n-        if (!file.exists()) {\n-            file.createNewFile();\n-        }\n-        try (ReadWriteLinesToFile hystoryTest = HystoryService.getInstance(file)) {\n-            List<String> chat = hystoryTest.getLastLines(file, 100);\n-            for (String a : chat){\n-                System.out.println(a);\n-            }\n-        } catch (FileNotFoundException e){\n-            e.printStackTrace();\n-        }\n-\n-    }\n }\n-"
  },
  {
    "sha": "50a7ba6c10d9d1849bb5952b9ded31c71d55581a",
    "filename": "client/src/main/java/ru/geekbrains/client/HystoryService.java",
    "status": "removed",
    "additions": 0,
    "deletions": 61,
    "changes": 61,
    "blob_url": "https://github.com/hayRenat/JavaChatMaven/blob/a7d295204fd6ad410d258180902495b80a94136e/client/src/main/java/ru/geekbrains/client/HystoryService.java",
    "raw_url": "https://github.com/hayRenat/JavaChatMaven/raw/a7d295204fd6ad410d258180902495b80a94136e/client/src/main/java/ru/geekbrains/client/HystoryService.java",
    "contents_url": "https://api.github.com/repos/hayRenat/JavaChatMaven/contents/client/src/main/java/ru/geekbrains/client/HystoryService.java?ref=a7d295204fd6ad410d258180902495b80a94136e",
    "patch": "@@ -1,61 +0,0 @@\n-package ru.geekbrains.client;\n-\n-\n-import org.apache.commons.io.input.ReversedLinesFileReader;\n-\n-import java.io.File;\n-import java.io.FileNotFoundException;\n-import java.io.FileOutputStream;\n-import java.io.PrintWriter;\n-import java.nio.charset.Charset;\n-import java.util.ArrayList;\n-import java.util.List;\n-\n-\n-public class HystoryService implements ReadWriteLinesToFile{\n-\n-    private PrintWriter printWriter;\n-\n-    private HystoryService(PrintWriter printWriter){\n-        this.printWriter = printWriter;\n-    }\n-\n-    public static HystoryService getInstance(File file) throws FileNotFoundException{\n-        try {\n-            return new HystoryService(new PrintWriter(new FileOutputStream(file, true), true));\n-        } catch (FileNotFoundException e) {\n-            e.printStackTrace();\n-            throw e;\n-        }\n-    }\n-\n-    @Override\n-    public void close() {\n-        if (printWriter != null){\n-            printWriter.close();\n-        }\n-\n-    }\n-\n-    @Override\n-    public void writeLineToFile(String line) {\n-        printWriter.println(line);\n-    }\n-\n-    @Override\n-    public List<String> getLastLines(File file, Integer numberOfLines) {\n-        List<String> result = new ArrayList<>();\n-        try (ReversedLinesFileReader reader = new ReversedLinesFileReader(file, Charset.defaultCharset())){\n-            for (int i = 0; i < numberOfLines; i++) {\n-                String line = reader.readLine();\n-                if (line == null){\n-                    return result;\n-                }\n-                result.add(line);\n-            }\n-        }catch (Exception e){\n-            e.printStackTrace();\n-        }\n-        return result;\n-    }\n-}"
  },
  {
    "sha": "549db0124e3fb2081b0e3b11b454d949f4d6c3fe",
    "filename": "client/src/main/java/ru/geekbrains/client/ReadWriteLinesToFile.java",
    "status": "removed",
    "additions": 0,
    "deletions": 15,
    "changes": 15,
    "blob_url": "https://github.com/hayRenat/JavaChatMaven/blob/a7d295204fd6ad410d258180902495b80a94136e/client/src/main/java/ru/geekbrains/client/ReadWriteLinesToFile.java",
    "raw_url": "https://github.com/hayRenat/JavaChatMaven/raw/a7d295204fd6ad410d258180902495b80a94136e/client/src/main/java/ru/geekbrains/client/ReadWriteLinesToFile.java",
    "contents_url": "https://api.github.com/repos/hayRenat/JavaChatMaven/contents/client/src/main/java/ru/geekbrains/client/ReadWriteLinesToFile.java?ref=a7d295204fd6ad410d258180902495b80a94136e",
    "patch": "@@ -1,15 +0,0 @@\n-package ru.geekbrains.client;\n-\n-import java.io.File;\n-import java.io.FileNotFoundException;\n-import java.io.IOException;\n-import java.util.List;\n-\n-public interface ReadWriteLinesToFile extends AutoCloseable {\n-\n-    void close() throws FileNotFoundException;\n-\n-    void writeLineToFile (String line);\n-\n-    List<String> getLastLines (File file, Integer numberOfLines) throws IOException;\n-}"
  },
  {
    "sha": "f9f3caf160e77571b7296c459c0d26db43a87731",
    "filename": "client/src/main/java/ru/geekbrains/client/RegistrationController.java",
    "status": "modified",
    "additions": 0,
    "deletions": 1,
    "changes": 1,
    "blob_url": "https://github.com/hayRenat/JavaChatMaven/blob/a78f67bcb176dc64db8acf4d9209d83e2c990513/client/src/main/java/ru/geekbrains/client/RegistrationController.java",
    "raw_url": "https://github.com/hayRenat/JavaChatMaven/raw/a78f67bcb176dc64db8acf4d9209d83e2c990513/client/src/main/java/ru/geekbrains/client/RegistrationController.java",
    "contents_url": "https://api.github.com/repos/hayRenat/JavaChatMaven/contents/client/src/main/java/ru/geekbrains/client/RegistrationController.java?ref=a78f67bcb176dc64db8acf4d9209d83e2c990513",
    "patch": "@@ -14,7 +14,6 @@\n     private DataInputStream in;\n     private DataOutputStream out;\n \n-\n     @FXML\n     TextField login, password, nickname;\n "
  },
  {
    "sha": "df8956b1606561a0ae200032a01734f9aeb5eb53",
    "filename": "history_Artem.txt",
    "status": "removed",
    "additions": 0,
    "deletions": 18,
    "changes": 18,
    "blob_url": "https://github.com/hayRenat/JavaChatMaven/blob/a7d295204fd6ad410d258180902495b80a94136e/history_Artem.txt",
    "raw_url": "https://github.com/hayRenat/JavaChatMaven/raw/a7d295204fd6ad410d258180902495b80a94136e/history_Artem.txt",
    "contents_url": "https://api.github.com/repos/hayRenat/JavaChatMaven/contents/history_Artem.txt?ref=a7d295204fd6ad410d258180902495b80a94136e",
    "patch": "@@ -1,18 +0,0 @@\n-Welcome to chat\n-\n-[14:34:20 01.03.2021] Artem: это второй логин\n-\n-[14:34:22 01.03.2021] Artem: как связь\n-\n-[14:34:24 01.03.2021] Artem: тест\n-\n-[14:34:32 01.03.2021] Artem: тест 2\n-\n-[14:34:37 01.03.2021] Renat: тест 1\n-\n-[14:34:42 01.03.2021] Renat: Ренат\n-\n-[14:34:47 01.03.2021] Artem: Артём\n-\n-Renat leaves chat\n-"
  },
  {
    "sha": "e5a8d817300d692701a30dd5e9687100d34f8dfd",
    "filename": "history_Renat.txt",
    "status": "removed",
    "additions": 0,
    "deletions": 80,
    "changes": 80,
    "blob_url": "https://github.com/hayRenat/JavaChatMaven/blob/a7d295204fd6ad410d258180902495b80a94136e/history_Renat.txt",
    "raw_url": "https://github.com/hayRenat/JavaChatMaven/raw/a7d295204fd6ad410d258180902495b80a94136e/history_Renat.txt",
    "contents_url": "https://api.github.com/repos/hayRenat/JavaChatMaven/contents/history_Renat.txt?ref=a7d295204fd6ad410d258180902495b80a94136e",
    "patch": "@@ -1,80 +0,0 @@\n-Welcome to chat\n-\n-[14:33:29 01.03.2021] Renat: asdsadasd\n-\n-[14:33:32 01.03.2021] Renat: ПРивет\n-\n-[14:33:34 01.03.2021] Renat: что там\n-\n-[14:33:36 01.03.2021] Renat: как ты\n-\n-[14:33:38 01.03.2021] Renat: что?\n-\n-Artem in chat now\n-\n-[14:34:20 01.03.2021] Artem: это второй логин\n-\n-[14:34:22 01.03.2021] Artem: как связь\n-\n-[14:34:24 01.03.2021] Artem: тест\n-\n-[14:34:32 01.03.2021] Artem: тест 2\n-\n-[14:34:37 01.03.2021] Renat: тест 1\n-\n-[14:34:42 01.03.2021] Renat: Ренат\n-\n-[14:34:47 01.03.2021] Artem: Артём\n-\n-Welcome to chat\n-\n-Welcome to chat\n-\n-Welcome to chat\n-\n-Welcome to chat\n-\n-[15:19:20 01.03.2021] Renat: sadsa\n-\n-Welcome to chat\n-\n-Welcome to chat\n-\n-[15:21:36 01.03.2021] Renat: sadsa\n-\n-Welcome to chat\n-\n-[15:22:24 01.03.2021] Renat: asdasdasda\n-\n-Welcome to chat\n-\n-Welcome to chat\n-\n-Welcome to chat\n-\n-Welcome to chat\n-\n-Welcome to chat\n-\n-Welcome to chat\n-\n-Welcome to chat\n-\n-Welcome to chat\n-\n-[15:43:08 01.03.2021] Renat: sadsad\n-\n-[15:43:09 01.03.2021] Renat: sadasd\n-\n-Welcome to chat\n-\n-Welcome to chat\n-\n-Welcome to chat\n-\n-Welcome to chat\n-\n-Welcome to chat\n-\n-Welcome to chat\n-"
  },
  {
    "sha": "1a89c4a4d8c858fbefc50b7b1de24cc0404928d8",
    "filename": "server/src/main/java/ru/geekbrains/server/ClientHandler.java",
    "status": "modified",
    "additions": 6,
    "deletions": 13,
    "changes": 19,
    "blob_url": "https://github.com/hayRenat/JavaChatMaven/blob/a78f67bcb176dc64db8acf4d9209d83e2c990513/server/src/main/java/ru/geekbrains/server/ClientHandler.java",
    "raw_url": "https://github.com/hayRenat/JavaChatMaven/raw/a78f67bcb176dc64db8acf4d9209d83e2c990513/server/src/main/java/ru/geekbrains/server/ClientHandler.java",
    "contents_url": "https://api.github.com/repos/hayRenat/JavaChatMaven/contents/server/src/main/java/ru/geekbrains/server/ClientHandler.java?ref=a78f67bcb176dc64db8acf4d9209d83e2c990513",
    "patch": "@@ -4,25 +4,20 @@\n import java.io.DataOutputStream;\n import java.io.IOException;\n import java.net.Socket;\n-import java.text.SimpleDateFormat;\n-import java.util.Date;\n \n public class ClientHandler {\n     private Server server;\n     private Socket socket;\n     private DataInputStream in;\n     private DataOutputStream out;\n     private String nickname;\n-    //добавил формат даты для логов\n-    SimpleDateFormat dateFormat = new SimpleDateFormat(\"HH:mm:ss dd.MM.yyyy\");\n \n     public ClientHandler(Server server, Socket socket) {\n         try {\n             this.server = server;\n             this.socket = socket;\n             this.in = new DataInputStream(socket.getInputStream());\n             this.out = new DataOutputStream(socket.getOutputStream());\n-\n             new Thread(() -> {\n                 try {\n                     while (true) {\n@@ -61,22 +56,20 @@ public ClientHandler(Server server, Socket socket) {\n                         }\n                     }\n \n-\n                     while (true) {\n                         String str = in.readUTF();\n-                        System.out.println(\"[\" + dateFormat.format(new Date()) + \"]\" + \"Сообщение от клиента: \" + str);\n+                        System.out.println(\"Сообщение от клиента: \" + str);\n                         if (str.startsWith(\"/\")) {\n                             if (str.equals(\"/end\")) {\n                                 break;\n                             } else if (str.startsWith(\"/w\")) {\n-                                // личные сообщения\n                                 // /w nick hello m8! hi\n                                 final String[] subStrings = str.split(\" \", 3);\n                                 if (subStrings.length == 3) {\n                                     final String toUserNick = subStrings[1];\n                                     if (server.isNickInChat(toUserNick)) {\n-                                        server.unicastMsg(toUserNick, \"[\" + dateFormat.format(new Date()) + \"]\" + \" \" + \"from \" + nickname + \": \" + subStrings[2]);\n-                                        sendMsg(\"[\" + dateFormat.format(new Date()) + \"]\" + \" \" + \"to \" + toUserNick + \": \" + subStrings[2]);\n+                                        server.unicastMsg(toUserNick, \"from \" + nickname + \": \" + subStrings[2]);\n+                                        sendMsg(\"to \" + toUserNick + \": \" + subStrings[2]);\n                                     } else {\n                                         sendMsg(\"User with nick '\" + toUserNick + \"' not found in chat room\");\n                                     }\n@@ -88,17 +81,17 @@ public ClientHandler(Server server, Socket socket) {\n                                 String[] subStr = str.split(\" \");\n                                 if (subStr.length == 2){\n                                     if (SQLHandler.tryToChangeNick(subStr[1], nickname)){\n-                                        sendMsg(\"[\" + dateFormat.format(new Date()) + \"]\" + nickname + \" изменён на \" + subStr[1]);\n+                                        sendMsg(nickname + \" изменён на \" + subStr[1]);\n                                         sendMsg(\"Изменения вступят в силу после перезахода\");\n-                                        server.broadcastMsg(\"[\" + dateFormat.format(new Date()) + \"]\" + nickname + \" changed has nickname to \" + subStr[1]);\n+                                        server.broadcastMsg(nickname + \" changed has nickname to \" + subStr[1]);\n                                         break;\n                                     } else {\n                                         sendMsg(\"Incorrect nickname\");\n                                     }\n                                 }\n                             }\n                         } else {\n-                            server.broadcastMsg(\"[\" + dateFormat.format(new Date()) + \"]\" + \" \" + nickname + \": \" + str);\n+                            server.broadcastMsg(nickname + \": \" + str);\n                         }\n                     }\n                 } catch (IOException e) {"
  },
  {
    "sha": "abb13147210eb481c3e8f0ff0083b068a83d4efc",
    "filename": "server/src/main/java/ru/geekbrains/server/MainServer.java",
    "status": "modified",
    "additions": 2,
    "deletions": 4,
    "changes": 6,
    "blob_url": "https://github.com/hayRenat/JavaChatMaven/blob/a78f67bcb176dc64db8acf4d9209d83e2c990513/server/src/main/java/ru/geekbrains/server/MainServer.java",
    "raw_url": "https://github.com/hayRenat/JavaChatMaven/raw/a78f67bcb176dc64db8acf4d9209d83e2c990513/server/src/main/java/ru/geekbrains/server/MainServer.java",
    "contents_url": "https://api.github.com/repos/hayRenat/JavaChatMaven/contents/server/src/main/java/ru/geekbrains/server/MainServer.java?ref=a78f67bcb176dc64db8acf4d9209d83e2c990513",
    "patch": "@@ -6,8 +6,6 @@ public static void main(String[] args) {\n         new Server();\n     }\n \n-//Добавить в сетевой чат запись локальной истории в текстовый файл на клиенте. Для каждой учетной записи файл с историей должен называться history_[login].txt. (Например, history_login1.txt, history_user111.txt)\n-//** После загрузки клиента показывать ему последние 100 строк истории чата.\n-\n-\n+//1. Добавить в сетевой чат авторизацию через базу данных SQLite.\n+//2.*Добавить в сетевой чат возможность смены ника\n }"
  },
  {
    "sha": "e56f4dbfb929819e2625e6fcbe5f46a9d82ad665",
    "filename": "server/src/main/java/ru/geekbrains/server/SQLHandler.java",
    "status": "modified",
    "additions": 0,
    "deletions": 1,
    "changes": 1,
    "blob_url": "https://github.com/hayRenat/JavaChatMaven/blob/a78f67bcb176dc64db8acf4d9209d83e2c990513/server/src/main/java/ru/geekbrains/server/SQLHandler.java",
    "raw_url": "https://github.com/hayRenat/JavaChatMaven/raw/a78f67bcb176dc64db8acf4d9209d83e2c990513/server/src/main/java/ru/geekbrains/server/SQLHandler.java",
    "contents_url": "https://api.github.com/repos/hayRenat/JavaChatMaven/contents/server/src/main/java/ru/geekbrains/server/SQLHandler.java?ref=a78f67bcb176dc64db8acf4d9209d83e2c990513",
    "patch": "@@ -2,7 +2,6 @@\n \n import java.sql.*;\n \n-\n public class SQLHandler {\n     private static Connection connection;\n     private static Statement statement;"
  },
  {
    "sha": "a3bc38f09913225d9031b7e14b5b2758d452d014",
    "filename": "server/src/main/java/ru/geekbrains/server/Server.java",
    "status": "modified",
    "additions": 0,
    "deletions": 1,
    "changes": 1,
    "blob_url": "https://github.com/hayRenat/JavaChatMaven/blob/a78f67bcb176dc64db8acf4d9209d83e2c990513/server/src/main/java/ru/geekbrains/server/Server.java",
    "raw_url": "https://github.com/hayRenat/JavaChatMaven/raw/a78f67bcb176dc64db8acf4d9209d83e2c990513/server/src/main/java/ru/geekbrains/server/Server.java",
    "contents_url": "https://api.github.com/repos/hayRenat/JavaChatMaven/contents/server/src/main/java/ru/geekbrains/server/Server.java?ref=a78f67bcb176dc64db8acf4d9209d83e2c990513",
    "patch": "@@ -1,6 +1,5 @@\n package ru.geekbrains.server;\n \n-\n import java.io.IOException;\n import java.net.ServerSocket;\n import java.net.Socket;"
  }
]
