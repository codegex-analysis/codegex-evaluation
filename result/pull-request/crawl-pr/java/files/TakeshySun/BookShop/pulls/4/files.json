[
  {
    "sha": "f73629dfbfd11ef5e131f1811ff8bd4b80eec334",
    "filename": "pom.xml",
    "status": "modified",
    "additions": 34,
    "deletions": 0,
    "changes": 34,
    "blob_url": "https://github.com/TakeshySun/BookShop/blob/400ef30e17fe4ce70f2e6fdbabb98b3bff5cbf83/pom.xml",
    "raw_url": "https://github.com/TakeshySun/BookShop/raw/400ef30e17fe4ce70f2e6fdbabb98b3bff5cbf83/pom.xml",
    "contents_url": "https://api.github.com/repos/TakeshySun/BookShop/contents/pom.xml?ref=400ef30e17fe4ce70f2e6fdbabb98b3bff5cbf83",
    "patch": "@@ -82,6 +82,40 @@\n       <version>8.0.23</version>\n     </dependency>\n \n+    <dependency>\n+      <groupId>com.fasterxml.jackson.core</groupId>\n+      <artifactId>jackson-core</artifactId>\n+      <version>2.11.1</version>\n+    </dependency>\n+    <dependency>\n+      <groupId>com.fasterxml.jackson.core</groupId>\n+      <artifactId>jackson-annotations</artifactId>\n+      <version>2.11.1</version>\n+    </dependency>\n+    <dependency>\n+      <groupId>com.fasterxml.jackson.core</groupId>\n+      <artifactId>jackson-databind</artifactId>\n+      <version>2.11.1</version>\n+    </dependency>\n+\n+    <dependency>\n+      <groupId>io.rest-assured</groupId>\n+      <artifactId>rest-assured</artifactId>\n+      <version>4.3.3</version>\n+    </dependency>\n+    <dependency>\n+      <groupId>io.rest-assured</groupId>\n+      <artifactId>json-schema-validator</artifactId>\n+      <version>4.3.3</version>\n+    </dependency>\n+\n+\n+    <!-- https://mvnrepository.com/artifact/org.apache.commons/commons-text -->\n+    <dependency>\n+      <groupId>org.apache.commons</groupId>\n+      <artifactId>commons-text</artifactId>\n+      <version>1.9</version>\n+    </dependency>\n \n   </dependencies>\n "
  },
  {
    "sha": "1a9a27ab01c471e3837dc64dd329bf0ab469aff5",
    "filename": "src/main/java/api/ProductCode.java",
    "status": "added",
    "additions": 17,
    "deletions": 0,
    "changes": 17,
    "blob_url": "https://github.com/TakeshySun/BookShop/blob/400ef30e17fe4ce70f2e6fdbabb98b3bff5cbf83/src/main/java/api/ProductCode.java",
    "raw_url": "https://github.com/TakeshySun/BookShop/raw/400ef30e17fe4ce70f2e6fdbabb98b3bff5cbf83/src/main/java/api/ProductCode.java",
    "contents_url": "https://api.github.com/repos/TakeshySun/BookShop/contents/src/main/java/api/ProductCode.java?ref=400ef30e17fe4ce70f2e6fdbabb98b3bff5cbf83",
    "patch": "@@ -0,0 +1,17 @@\n+package api;\n+\n+\n+public class ProductCode {\n+    private String code;\n+\n+    public String getCode() {\n+        return code;\n+    }\n+\n+    public void setCode(String code) {\n+        this.code = code;\n+    }\n+\n+\n+\n+}"
  },
  {
    "sha": "f0d34aa6d5e7b71ce137bbecb47bcf5a31a54324",
    "filename": "src/main/java/api/ProductQuantity.java",
    "status": "added",
    "additions": 24,
    "deletions": 0,
    "changes": 24,
    "blob_url": "https://github.com/TakeshySun/BookShop/blob/400ef30e17fe4ce70f2e6fdbabb98b3bff5cbf83/src/main/java/api/ProductQuantity.java",
    "raw_url": "https://github.com/TakeshySun/BookShop/raw/400ef30e17fe4ce70f2e6fdbabb98b3bff5cbf83/src/main/java/api/ProductQuantity.java",
    "contents_url": "https://api.github.com/repos/TakeshySun/BookShop/contents/src/main/java/api/ProductQuantity.java?ref=400ef30e17fe4ce70f2e6fdbabb98b3bff5cbf83",
    "patch": "@@ -0,0 +1,24 @@\n+package api;\n+\n+public class ProductQuantity {\n+    private ProductCode product;\n+    private int quantity = 0;\n+\n+    public ProductCode getProduct() {\n+        return product;\n+    }\n+\n+    public void setProduct(ProductCode product) {\n+        this.product = product;\n+    }\n+\n+    public int getQuantity() {\n+        return quantity;\n+    }\n+\n+    public void setQuantity(int quantity) {\n+        this.quantity = quantity;\n+    }\n+\n+\n+}"
  },
  {
    "sha": "b9b9462d90540bcaa41727226dc8e52656ce7512",
    "filename": "src/main/java/dto/ExampleDto.java",
    "status": "removed",
    "additions": 0,
    "deletions": 10,
    "changes": 10,
    "blob_url": "https://github.com/TakeshySun/BookShop/blob/b483993b50520a6e4342b0c16ee339c04a6b71c5/src/main/java/dto/ExampleDto.java",
    "raw_url": "https://github.com/TakeshySun/BookShop/raw/b483993b50520a6e4342b0c16ee339c04a6b71c5/src/main/java/dto/ExampleDto.java",
    "contents_url": "https://api.github.com/repos/TakeshySun/BookShop/contents/src/main/java/dto/ExampleDto.java?ref=b483993b50520a6e4342b0c16ee339c04a6b71c5",
    "patch": "@@ -1,10 +0,0 @@\n-package dto;\n-\n-public class ExampleDto {\n-\n-    public String country;\n-    public String title;\n-    public String firstName;\n-    public String lastName;\n-//  ...\n-}"
  },
  {
    "sha": "b63b1e7e4914bfc0920f6beabcf84ed84e293fb7",
    "filename": "src/main/java/utils/ApiHelper.java",
    "status": "added",
    "additions": 95,
    "deletions": 0,
    "changes": 95,
    "blob_url": "https://github.com/TakeshySun/BookShop/blob/400ef30e17fe4ce70f2e6fdbabb98b3bff5cbf83/src/main/java/utils/ApiHelper.java",
    "raw_url": "https://github.com/TakeshySun/BookShop/raw/400ef30e17fe4ce70f2e6fdbabb98b3bff5cbf83/src/main/java/utils/ApiHelper.java",
    "contents_url": "https://api.github.com/repos/TakeshySun/BookShop/contents/src/main/java/utils/ApiHelper.java?ref=400ef30e17fe4ce70f2e6fdbabb98b3bff5cbf83",
    "patch": "@@ -0,0 +1,95 @@\n+package utils;\n+\n+import api.ProductCode;\n+import api.ProductQuantity;\n+import com.fasterxml.jackson.core.JsonProcessingException;\n+import io.restassured.RestAssured;\n+import io.restassured.module.jsv.JsonSchemaValidator;\n+import io.restassured.response.Response;\n+import io.restassured.specification.RequestSpecification;\n+import static org.hamcrest.Matchers.equalTo;\n+\n+\n+import java.util.HashMap;\n+import java.util.Map;\n+\n+public class ApiHelper {\n+    private RequestSpecification requestSpecification;\n+    public Map<String, Object> storage = new HashMap<>();\n+\n+    public void createCart(String url) {\n+        requestSpecification = RestAssured.given()\n+                .baseUri(url)\n+                .basePath(\"/api/v2/kvn/users/anonymous/carts/\");\n+\n+        Response response = RestAssured.given()\n+                .spec(requestSpecification)\n+                .post();\n+        String guid = response.jsonPath().get(\"guid\");\n+        storage.put(\"guid\", guid);\n+    }\n+\n+    // Simple RestAssured post\n+    public void post(String url, String path) {\n+        requestSpecification = RestAssured.given()\n+                .baseUri(url)\n+                .basePath(path)\n+                .contentType(\"application/json;charset=UTF-8\");\n+        RestAssured.given()\n+                .spec(requestSpecification)\n+                .body(\"{\\\"product\\\": {\\\"code\\\": \\\"2876350\\\"},\\\"quantity\\\": 2}\")\n+                .when()\n+                .post();\n+    }\n+\n+    // Object Builder post\n+    public void addProductObMap(String url) throws JsonProcessingException {\n+        ProductCode productCode = new ProductCode();\n+        productCode.setCode(\"2876350\");\n+        ProductQuantity productQuantity = new ProductQuantity();\n+        productQuantity.setQuantity(1);\n+        productQuantity.setProduct(productCode);\n+\n+        requestSpecification = RestAssured.given()\n+                .baseUri(url)\n+                .basePath(String.format(\"/api/v2/kvn/users/anonymous/carts/%s/entries\", storage.get(\"guid\").toString()))\n+                .contentType(\"application/json;charset=UTF-8\");\n+        RestAssured.given()\n+                .spec(requestSpecification)\n+                .body(new ObjectMapperUtil().writeValueAsString(productQuantity))\n+                .when()\n+                .post();\n+    }\n+\n+    public void addProduct(String filePath, String url) throws Exception {\n+        Map<String, Object> values = new HashMap<>();\n+        values.put(\"code\", \"2876350\");\n+        values.put(\"quantity\", 5);\n+\n+        String parsedJson = new ReadJsonAsString().parseJsonTemplate(filePath, values);\n+\n+        requestSpecification = RestAssured.given()\n+                .baseUri(url)\n+                .basePath(getCardGuidEndpoint())\n+                .contentType(\"application/json;charset=UTF-8\");\n+        Response response = RestAssured.given()\n+                .spec(requestSpecification)\n+                .body(parsedJson)\n+                .when()\n+                .post();\n+\n+//        response.prettyPrint(); // Helper - Print post response body\n+\n+        //  Validation\n+        response.then()\n+                .assertThat()\n+                .statusCode(200)\n+                .body(JsonSchemaValidator.matchesJsonSchemaInClasspath(\"expectedJSONSchema.json\"))\n+                .body(\"entry.product.code\", equalTo(\"2876350\"))\n+                .body(\"quantity\", equalTo(5));\n+    }\n+\n+    private String getCardGuidEndpoint(){\n+        return String.format(\"/api/v2/kvn/users/anonymous/carts/%s/entries\", storage.get(\"guid\").toString());\n+    }\n+}"
  },
  {
    "sha": "0983545e00a355c2650b18b2d5a4a543b82743ba",
    "filename": "src/main/java/utils/ObjectMapperUtil.java",
    "status": "added",
    "additions": 13,
    "deletions": 0,
    "changes": 13,
    "blob_url": "https://github.com/TakeshySun/BookShop/blob/400ef30e17fe4ce70f2e6fdbabb98b3bff5cbf83/src/main/java/utils/ObjectMapperUtil.java",
    "raw_url": "https://github.com/TakeshySun/BookShop/raw/400ef30e17fe4ce70f2e6fdbabb98b3bff5cbf83/src/main/java/utils/ObjectMapperUtil.java",
    "contents_url": "https://api.github.com/repos/TakeshySun/BookShop/contents/src/main/java/utils/ObjectMapperUtil.java?ref=400ef30e17fe4ce70f2e6fdbabb98b3bff5cbf83",
    "patch": "@@ -0,0 +1,13 @@\n+package utils;\n+\n+import com.fasterxml.jackson.core.JsonProcessingException;\n+import com.fasterxml.jackson.databind.ObjectMapper;\n+\n+public class ObjectMapperUtil {\n+    ObjectMapper objectMapper = new ObjectMapper();\n+\n+\n+    public String writeValueAsString(Object value) throws JsonProcessingException {\n+        return objectMapper.writeValueAsString(value);\n+    }\n+}"
  },
  {
    "sha": "aa91d1f099692f85fd3c0b396e872214de8f7db5",
    "filename": "src/main/java/utils/ReadJsonAsString.java",
    "status": "added",
    "additions": 22,
    "deletions": 0,
    "changes": 22,
    "blob_url": "https://github.com/TakeshySun/BookShop/blob/400ef30e17fe4ce70f2e6fdbabb98b3bff5cbf83/src/main/java/utils/ReadJsonAsString.java",
    "raw_url": "https://github.com/TakeshySun/BookShop/raw/400ef30e17fe4ce70f2e6fdbabb98b3bff5cbf83/src/main/java/utils/ReadJsonAsString.java",
    "contents_url": "https://api.github.com/repos/TakeshySun/BookShop/contents/src/main/java/utils/ReadJsonAsString.java?ref=400ef30e17fe4ce70f2e6fdbabb98b3bff5cbf83",
    "patch": "@@ -0,0 +1,22 @@\n+package utils;\n+\n+import org.apache.commons.text.StringSubstitutor;\n+\n+import java.nio.file.Files;\n+import java.nio.file.Paths;\n+import java.util.Map;\n+\n+public class ReadJsonAsString {\n+\n+    public String readFileAsString(String file)throws Exception\n+    {\n+        return new String(Files.readAllBytes(Paths.get(file)));\n+    }\n+\n+    public String parseJsonTemplate(String filePath, Map<String, Object> values) throws Exception {\n+        String jsonTxt = new ReadJsonAsString().readFileAsString(filePath);\n+//        System.out.println(jsonTxt);\n+        StringSubstitutor stringSubstitutor = new StringSubstitutor(values, \"{{\", \"}}\");\n+        return stringSubstitutor.replace(jsonTxt).replaceAll(\"\\\\s\", \"\");\n+    }\n+}\n\\ No newline at end of file"
  },
  {
    "sha": "a344387dbb6296d3f02007d3eb5de7ff4555569e",
    "filename": "src/main/resources/addProductTemplate",
    "status": "added",
    "additions": 1,
    "deletions": 0,
    "changes": 1,
    "blob_url": "https://github.com/TakeshySun/BookShop/blob/400ef30e17fe4ce70f2e6fdbabb98b3bff5cbf83/src/main/resources/addProductTemplate",
    "raw_url": "https://github.com/TakeshySun/BookShop/raw/400ef30e17fe4ce70f2e6fdbabb98b3bff5cbf83/src/main/resources/addProductTemplate",
    "contents_url": "https://api.github.com/repos/TakeshySun/BookShop/contents/src/main/resources/addProductTemplate?ref=400ef30e17fe4ce70f2e6fdbabb98b3bff5cbf83",
    "patch": "@@ -0,0 +1 @@\n+{\"product\": {\"code\": \"{{code}}\"},\"quantity\": {{quantity}}}\n\\ No newline at end of file"
  },
  {
    "sha": "9b6525fe2c37d0affeb3507b8df4d0dbebe44e4e",
    "filename": "src/main/resources/expectedJSONSchema.json",
    "status": "added",
    "additions": 573,
    "deletions": 0,
    "changes": 573,
    "blob_url": "https://github.com/TakeshySun/BookShop/blob/400ef30e17fe4ce70f2e6fdbabb98b3bff5cbf83/src/main/resources/expectedJSONSchema.json",
    "raw_url": "https://github.com/TakeshySun/BookShop/raw/400ef30e17fe4ce70f2e6fdbabb98b3bff5cbf83/src/main/resources/expectedJSONSchema.json",
    "contents_url": "https://api.github.com/repos/TakeshySun/BookShop/contents/src/main/resources/expectedJSONSchema.json?ref=400ef30e17fe4ce70f2e6fdbabb98b3bff5cbf83",
    "patch": "@@ -0,0 +1,573 @@\n+{\n+  \"$schema\": \"http://json-schema.org/draft-04/schema#\",\n+  \"type\": \"object\",\n+  \"properties\": {\n+    \"entry\": {\n+      \"type\": \"object\",\n+      \"properties\": {\n+        \"configurationInfos\": {\n+          \"type\": \"array\",\n+          \"items\": {}\n+        },\n+        \"displayOrder\": {\n+          \"type\": \"integer\"\n+        },\n+        \"entryNumber\": {\n+          \"type\": \"integer\"\n+        },\n+        \"product\": {\n+          \"type\": \"object\",\n+          \"properties\": {\n+            \"availableForPickup\": {\n+              \"type\": \"boolean\"\n+            },\n+            \"baseOptions\": {\n+              \"type\": \"array\",\n+              \"items\": [\n+                {\n+                  \"type\": \"object\",\n+                  \"properties\": {\n+                    \"selected\": {\n+                      \"type\": \"object\",\n+                      \"properties\": {\n+                        \"code\": {\n+                          \"type\": \"string\"\n+                        },\n+                        \"priceData\": {\n+                          \"type\": \"object\",\n+                          \"properties\": {\n+                            \"currencyIso\": {\n+                              \"type\": \"string\"\n+                            },\n+                            \"value\": {\n+                              \"type\": \"number\"\n+                            }\n+                          },\n+                          \"required\": [\n+                            \"currencyIso\",\n+                            \"value\"\n+                          ]\n+                        },\n+                        \"stock\": {\n+                          \"type\": \"object\",\n+                          \"properties\": {\n+                            \"stockLevel\": {\n+                              \"type\": \"integer\"\n+                            }\n+                          },\n+                          \"required\": [\n+                            \"stockLevel\"\n+                          ]\n+                        },\n+                        \"url\": {\n+                          \"type\": \"string\"\n+                        },\n+                        \"variantOptionQualifiers\": {\n+                          \"type\": \"array\",\n+                          \"items\": {}\n+                        }\n+                      },\n+                      \"required\": [\n+                        \"code\",\n+                        \"priceData\",\n+                        \"stock\",\n+                        \"url\",\n+                        \"variantOptionQualifiers\"\n+                      ]\n+                    },\n+                    \"variantType\": {\n+                      \"type\": \"string\"\n+                    }\n+                  },\n+                  \"required\": [\n+                    \"selected\",\n+                    \"variantType\"\n+                  ]\n+                }\n+              ]\n+            },\n+            \"baseProduct\": {\n+              \"type\": \"string\"\n+            },\n+            \"categories\": {\n+              \"type\": \"array\",\n+              \"items\": [\n+                {\n+                  \"type\": \"object\",\n+                  \"properties\": {\n+                    \"code\": {\n+                      \"type\": \"string\"\n+                    },\n+                    \"name\": {\n+                      \"type\": \"string\"\n+                    }\n+                  },\n+                  \"required\": [\n+                    \"code\",\n+                    \"name\"\n+                  ]\n+                },\n+                {\n+                  \"type\": \"object\",\n+                  \"properties\": {\n+                    \"code\": {\n+                      \"type\": \"string\"\n+                    },\n+                    \"name\": {\n+                      \"type\": \"string\"\n+                    }\n+                  },\n+                  \"required\": [\n+                    \"code\",\n+                    \"name\"\n+                  ]\n+                },\n+                {\n+                  \"type\": \"object\",\n+                  \"properties\": {\n+                    \"code\": {\n+                      \"type\": \"string\"\n+                    },\n+                    \"name\": {\n+                      \"type\": \"string\"\n+                    }\n+                  },\n+                  \"required\": [\n+                    \"code\",\n+                    \"name\"\n+                  ]\n+                },\n+                {\n+                  \"type\": \"object\",\n+                  \"properties\": {\n+                    \"code\": {\n+                      \"type\": \"string\"\n+                    },\n+                    \"name\": {\n+                      \"type\": \"string\"\n+                    }\n+                  },\n+                  \"required\": [\n+                    \"code\",\n+                    \"name\"\n+                  ]\n+                },\n+                {\n+                  \"type\": \"object\",\n+                  \"properties\": {\n+                    \"code\": {\n+                      \"type\": \"string\"\n+                    },\n+                    \"name\": {\n+                      \"type\": \"string\"\n+                    }\n+                  },\n+                  \"required\": [\n+                    \"code\",\n+                    \"name\"\n+                  ]\n+                },\n+                {\n+                  \"type\": \"object\",\n+                  \"properties\": {\n+                    \"code\": {\n+                      \"type\": \"string\"\n+                    },\n+                    \"name\": {\n+                      \"type\": \"string\"\n+                    }\n+                  },\n+                  \"required\": [\n+                    \"code\",\n+                    \"name\"\n+                  ]\n+                },\n+                {\n+                  \"type\": \"object\",\n+                  \"properties\": {\n+                    \"code\": {\n+                      \"type\": \"string\"\n+                    },\n+                    \"name\": {\n+                      \"type\": \"string\"\n+                    }\n+                  },\n+                  \"required\": [\n+                    \"code\",\n+                    \"name\"\n+                  ]\n+                },\n+                {\n+                  \"type\": \"object\",\n+                  \"properties\": {\n+                    \"code\": {\n+                      \"type\": \"string\"\n+                    },\n+                    \"name\": {\n+                      \"type\": \"string\"\n+                    }\n+                  },\n+                  \"required\": [\n+                    \"code\",\n+                    \"name\"\n+                  ]\n+                },\n+                {\n+                  \"type\": \"object\",\n+                  \"properties\": {\n+                    \"code\": {\n+                      \"type\": \"string\"\n+                    },\n+                    \"name\": {\n+                      \"type\": \"string\"\n+                    }\n+                  },\n+                  \"required\": [\n+                    \"code\",\n+                    \"name\"\n+                  ]\n+                },\n+                {\n+                  \"type\": \"object\",\n+                  \"properties\": {\n+                    \"code\": {\n+                      \"type\": \"string\"\n+                    },\n+                    \"name\": {\n+                      \"type\": \"string\"\n+                    }\n+                  },\n+                  \"required\": [\n+                    \"code\",\n+                    \"name\"\n+                  ]\n+                },\n+                {\n+                  \"type\": \"object\",\n+                  \"properties\": {\n+                    \"code\": {\n+                      \"type\": \"string\"\n+                    },\n+                    \"name\": {\n+                      \"type\": \"string\"\n+                    }\n+                  },\n+                  \"required\": [\n+                    \"code\",\n+                    \"name\"\n+                  ]\n+                },\n+                {\n+                  \"type\": \"object\",\n+                  \"properties\": {\n+                    \"code\": {\n+                      \"type\": \"string\"\n+                    },\n+                    \"name\": {\n+                      \"type\": \"string\"\n+                    }\n+                  },\n+                  \"required\": [\n+                    \"code\",\n+                    \"name\"\n+                  ]\n+                },\n+                {\n+                  \"type\": \"object\",\n+                  \"properties\": {\n+                    \"code\": {\n+                      \"type\": \"string\"\n+                    },\n+                    \"name\": {\n+                      \"type\": \"string\"\n+                    }\n+                  },\n+                  \"required\": [\n+                    \"code\",\n+                    \"name\"\n+                  ]\n+                },\n+                {\n+                  \"type\": \"object\",\n+                  \"properties\": {\n+                    \"code\": {\n+                      \"type\": \"string\"\n+                    }\n+                  },\n+                  \"required\": [\n+                    \"code\"\n+                  ]\n+                },\n+                {\n+                  \"type\": \"object\",\n+                  \"properties\": {\n+                    \"code\": {\n+                      \"type\": \"string\"\n+                    }\n+                  },\n+                  \"required\": [\n+                    \"code\"\n+                  ]\n+                },\n+                {\n+                  \"type\": \"object\",\n+                  \"properties\": {\n+                    \"code\": {\n+                      \"type\": \"string\"\n+                    },\n+                    \"name\": {\n+                      \"type\": \"string\"\n+                    }\n+                  },\n+                  \"required\": [\n+                    \"code\",\n+                    \"name\"\n+                  ]\n+                },\n+                {\n+                  \"type\": \"object\",\n+                  \"properties\": {\n+                    \"code\": {\n+                      \"type\": \"string\"\n+                    }\n+                  },\n+                  \"required\": [\n+                    \"code\"\n+                  ]\n+                },\n+                {\n+                  \"type\": \"object\",\n+                  \"properties\": {\n+                    \"code\": {\n+                      \"type\": \"string\"\n+                    }\n+                  },\n+                  \"required\": [\n+                    \"code\"\n+                  ]\n+                },\n+                {\n+                  \"type\": \"object\",\n+                  \"properties\": {\n+                    \"code\": {\n+                      \"type\": \"string\"\n+                    }\n+                  },\n+                  \"required\": [\n+                    \"code\"\n+                  ]\n+                },\n+                {\n+                  \"type\": \"object\",\n+                  \"properties\": {\n+                    \"code\": {\n+                      \"type\": \"string\"\n+                    }\n+                  },\n+                  \"required\": [\n+                    \"code\"\n+                  ]\n+                },\n+                {\n+                  \"type\": \"object\",\n+                  \"properties\": {\n+                    \"code\": {\n+                      \"type\": \"string\"\n+                    }\n+                  },\n+                  \"required\": [\n+                    \"code\"\n+                  ]\n+                },\n+                {\n+                  \"type\": \"object\",\n+                  \"properties\": {\n+                    \"code\": {\n+                      \"type\": \"string\"\n+                    },\n+                    \"name\": {\n+                      \"type\": \"string\"\n+                    }\n+                  },\n+                  \"required\": [\n+                    \"code\",\n+                    \"name\"\n+                  ]\n+                },\n+                {\n+                  \"type\": \"object\",\n+                  \"properties\": {\n+                    \"code\": {\n+                      \"type\": \"string\"\n+                    },\n+                    \"name\": {\n+                      \"type\": \"string\"\n+                    }\n+                  },\n+                  \"required\": [\n+                    \"code\",\n+                    \"name\"\n+                  ]\n+                },\n+                {\n+                  \"type\": \"object\",\n+                  \"properties\": {\n+                    \"code\": {\n+                      \"type\": \"string\"\n+                    }\n+                  },\n+                  \"required\": [\n+                    \"code\"\n+                  ]\n+                }\n+              ]\n+            },\n+            \"code\": {\n+              \"type\": \"string\"\n+            },\n+            \"configurable\": {\n+              \"type\": \"boolean\"\n+            },\n+            \"homeDeliveryOnly\": {\n+              \"type\": \"boolean\"\n+            },\n+            \"isLoyaltyProduct\": {\n+              \"type\": \"boolean\"\n+            },\n+            \"maxOrderQuantity\": {\n+              \"type\": \"integer\"\n+            },\n+            \"name\": {\n+              \"type\": \"string\"\n+            },\n+            \"pharmacy\": {\n+              \"type\": \"boolean\"\n+            },\n+            \"price\": {\n+              \"type\": \"object\",\n+              \"properties\": {\n+                \"currencyIso\": {\n+                  \"type\": \"string\"\n+                },\n+                \"formattedValue\": {\n+                  \"type\": \"string\"\n+                },\n+                \"oldValueLabel\": {\n+                  \"type\": \"string\"\n+                },\n+                \"priceType\": {\n+                  \"type\": \"string\"\n+                },\n+                \"value\": {\n+                  \"type\": \"number\"\n+                }\n+              },\n+              \"required\": [\n+                \"currencyIso\",\n+                \"formattedValue\",\n+                \"oldValueLabel\",\n+                \"priceType\",\n+                \"value\"\n+              ]\n+            },\n+            \"productLoyaltyPoints\": {\n+              \"type\": \"integer\"\n+            },\n+            \"purchasable\": {\n+              \"type\": \"boolean\"\n+            },\n+            \"stock\": {\n+              \"type\": \"object\",\n+              \"properties\": {\n+                \"stockLevel\": {\n+                  \"type\": \"integer\"\n+                },\n+                \"stockLevelStatus\": {\n+                  \"type\": \"string\"\n+                }\n+              },\n+              \"required\": [\n+                \"stockLevel\",\n+                \"stockLevelStatus\"\n+              ]\n+            },\n+            \"url\": {\n+              \"type\": \"string\"\n+            }\n+          },\n+          \"required\": [\n+            \"availableForPickup\",\n+            \"baseOptions\",\n+            \"baseProduct\",\n+            \"categories\",\n+            \"code\",\n+            \"configurable\",\n+            \"homeDeliveryOnly\",\n+            \"isLoyaltyProduct\",\n+            \"maxOrderQuantity\",\n+            \"name\",\n+            \"pharmacy\",\n+            \"price\",\n+            \"productLoyaltyPoints\",\n+            \"purchasable\",\n+            \"stock\",\n+            \"url\"\n+          ]\n+        },\n+        \"quantity\": {\n+          \"type\": \"integer\"\n+        },\n+        \"redeemLoyaltyPoints\": {\n+          \"type\": \"integer\"\n+        },\n+        \"redeemLoyaltyPointsForProduct\": {\n+          \"type\": \"integer\"\n+        },\n+        \"rewardLoyaltyPoints\": {\n+          \"type\": \"integer\"\n+        },\n+        \"totalPrice\": {\n+          \"type\": \"object\",\n+          \"properties\": {\n+            \"currencyIso\": {\n+              \"type\": \"string\"\n+            },\n+            \"value\": {\n+              \"type\": \"number\"\n+            }\n+          },\n+          \"required\": [\n+            \"currencyIso\",\n+            \"value\"\n+          ]\n+        }\n+      },\n+      \"required\": [\n+        \"configurationInfos\",\n+        \"displayOrder\",\n+        \"entryNumber\",\n+        \"product\",\n+        \"quantity\",\n+        \"redeemLoyaltyPoints\",\n+        \"redeemLoyaltyPointsForProduct\",\n+        \"rewardLoyaltyPoints\",\n+        \"totalPrice\"\n+      ]\n+    },\n+    \"quantity\": {\n+      \"type\": \"integer\"\n+    },\n+    \"quantityAdded\": {\n+      \"type\": \"integer\"\n+    },\n+    \"statusCode\": {\n+      \"type\": \"string\"\n+    }\n+  },\n+  \"required\": [\n+    \"entry\",\n+    \"quantity\",\n+    \"quantityAdded\",\n+    \"statusCode\"\n+  ]\n+}\n\\ No newline at end of file"
  },
  {
    "sha": "e4c919829e5bfe4de68597a3711948464e55bbfc",
    "filename": "src/test/java/apiStepsDefs/ApiStepsDefs.java",
    "status": "added",
    "additions": 55,
    "deletions": 0,
    "changes": 55,
    "blob_url": "https://github.com/TakeshySun/BookShop/blob/400ef30e17fe4ce70f2e6fdbabb98b3bff5cbf83/src/test/java/apiStepsDefs/ApiStepsDefs.java",
    "raw_url": "https://github.com/TakeshySun/BookShop/raw/400ef30e17fe4ce70f2e6fdbabb98b3bff5cbf83/src/test/java/apiStepsDefs/ApiStepsDefs.java",
    "contents_url": "https://api.github.com/repos/TakeshySun/BookShop/contents/src/test/java/apiStepsDefs/ApiStepsDefs.java?ref=400ef30e17fe4ce70f2e6fdbabb98b3bff5cbf83",
    "patch": "@@ -0,0 +1,55 @@\n+package apiStepsDefs;\n+\n+import io.cucumber.java.en.*;\n+\n+import org.junit.Assert;\n+import org.openqa.selenium.By;\n+import org.openqa.selenium.Cookie;\n+import org.openqa.selenium.WebDriver;\n+import org.openqa.selenium.chrome.ChromeDriver;\n+import utils.ApiHelper;\n+\n+import java.util.concurrent.TimeUnit;\n+\n+import static constants.Constants.IMPLICITLY_WAIT_TIMEOUT;\n+import static driver.CapabilitiesHelper.getChromeOptions;\n+\n+public class ApiStepsDefs {\n+\n+    ApiHelper apiHelper = new ApiHelper();\n+    String baseUrl = \"https://www.kruidvat.nl\";\n+\n+    @Given(\"create a cart\")\n+    public void createACart(){\n+        apiHelper.createCart(baseUrl);\n+    }\n+\n+    @And(\"add product in cart\")\n+    public void addProductInCart() throws Exception {\n+        apiHelper.addProduct(\"src/main/resources/addProductTemplate\", baseUrl);\n+    }\n+\n+    @Then(\"open cart in web and verify product\")\n+    public void openCartInWeb() {\n+\n+        System.setProperty(\"webdriver.chrome.driver\", \"src/main/resources/chromedriver.exe\");\n+        WebDriver driver = new ChromeDriver(getChromeOptions());\n+        driver.get(\"https://www.kruidvat.nl/cart\");\n+        driver.manage().deleteAllCookies();\n+        driver.manage().timeouts().implicitlyWait(IMPLICITLY_WAIT_TIMEOUT, TimeUnit.SECONDS);\n+        driver.manage().addCookie(new Cookie(\"kvn-cart\", apiHelper.storage.get(\"guid\").toString()));\n+        driver.navigate().refresh();\n+\n+        //Web navigation\n+        driver.findElement(new By.ByCssSelector(\"#onetrust-accept-btn-handler\")).click();\n+        driver.findElement(new By.ByCssSelector(\"e2-select-country-dialog > div > div > div > e2-action-button:nth-child(2) > v-root > button > span.button__text\")).click();\n+        //Web verification\n+        String productName = driver.findElement(new By.ByCssSelector(\" div.product-summary__description-name\")).getText();\n+        String productQuantity = driver.findElement(new By.ByCssSelector(\"span.select__selected-option\")).getText();\n+        Assert.assertEquals(\"Kruidvat Sensitive Handzeep Navulling\", productName);\n+        Assert.assertEquals(\"5\", productQuantity);\n+\n+        driver.quit();\n+    }\n+\n+}"
  },
  {
    "sha": "00b373afbebc404d81fe39c73227dc121253c578",
    "filename": "src/test/java/runner/APIRunner.java",
    "status": "added",
    "additions": 15,
    "deletions": 0,
    "changes": 15,
    "blob_url": "https://github.com/TakeshySun/BookShop/blob/400ef30e17fe4ce70f2e6fdbabb98b3bff5cbf83/src/test/java/runner/APIRunner.java",
    "raw_url": "https://github.com/TakeshySun/BookShop/raw/400ef30e17fe4ce70f2e6fdbabb98b3bff5cbf83/src/test/java/runner/APIRunner.java",
    "contents_url": "https://api.github.com/repos/TakeshySun/BookShop/contents/src/test/java/runner/APIRunner.java?ref=400ef30e17fe4ce70f2e6fdbabb98b3bff5cbf83",
    "patch": "@@ -0,0 +1,15 @@\n+package runner;\n+\n+import io.cucumber.junit.Cucumber;\n+import io.cucumber.junit.CucumberOptions;\n+import org.junit.runner.RunWith;\n+\n+@RunWith(Cucumber.class)\n+@CucumberOptions(\n+        features = {\"src/test/resources/features\"},\n+        glue = \"apiStepsDefs\",\n+        tags = \"@API\"\n+)\n+\n+public class APIRunner {\n+}"
  },
  {
    "sha": "3f2419aa8204f23b9e6d48aeb26ffebea3ce024a",
    "filename": "src/test/resources/features/API.feature",
    "status": "added",
    "additions": 8,
    "deletions": 0,
    "changes": 8,
    "blob_url": "https://github.com/TakeshySun/BookShop/blob/400ef30e17fe4ce70f2e6fdbabb98b3bff5cbf83/src/test/resources/features/API.feature",
    "raw_url": "https://github.com/TakeshySun/BookShop/raw/400ef30e17fe4ce70f2e6fdbabb98b3bff5cbf83/src/test/resources/features/API.feature",
    "contents_url": "https://api.github.com/repos/TakeshySun/BookShop/contents/src/test/resources/features/API.feature?ref=400ef30e17fe4ce70f2e6fdbabb98b3bff5cbf83",
    "patch": "@@ -0,0 +1,8 @@\n+Feature: Verify API\n+\n+\n+  @API\n+  Scenario: Create API call and verify Web\n+    Given create a cart\n+    And add product in cart\n+    Then open cart in web and verify product"
  }
]
