[
  {
    "sha": "ba8beb0f6b1087a1aed8c022788af51d38c1896c",
    "filename": "meuAtelie/pom.xml",
    "status": "modified",
    "additions": 18,
    "deletions": 0,
    "changes": 18,
    "blob_url": "https://github.com/jessicacordeiro/Projeto-Integrador-Generation/blob/cfd25e454eb33ce603d368710b897c9af50caa7f/meuAtelie/pom.xml",
    "raw_url": "https://github.com/jessicacordeiro/Projeto-Integrador-Generation/raw/cfd25e454eb33ce603d368710b897c9af50caa7f/meuAtelie/pom.xml",
    "contents_url": "https://api.github.com/repos/jessicacordeiro/Projeto-Integrador-Generation/contents/meuAtelie/pom.xml?ref=cfd25e454eb33ce603d368710b897c9af50caa7f",
    "patch": "@@ -41,11 +41,29 @@\n \t\t\t<artifactId>mysql-connector-java</artifactId>\n \t\t\t<scope>runtime</scope>\n \t\t</dependency>\n+\t\t<dependency>\n+            <groupId>org.springframework.boot</groupId>\n+            <artifactId>spring-boot-starter-security</artifactId>\n+        </dependency>\n+        <dependency>\n+            <groupId>commons-codec</groupId>\n+            <artifactId>commons-codec</artifactId>\n+        </dependency>\n \t\t<dependency>\n \t\t\t<groupId>org.springframework.boot</groupId>\n \t\t\t<artifactId>spring-boot-starter-test</artifactId>\n \t\t\t<scope>test</scope>\n \t\t</dependency>\n+\t\t<dependency>\n+\t\t\t<groupId>io.springfox</groupId>\n+\t\t\t<artifactId>springfox-swagger2</artifactId>\n+\t\t\t<version>2.6.1</version>\n+\t\t</dependency>\n+\t\t<dependency>\n+\t\t\t<groupId>io.springfox</groupId>\n+\t\t\t<artifactId>springfox-swagger-ui</artifactId>\n+\t\t\t<version>2.6.1</version>\n+\t\t</dependency>\n \t</dependencies>\n \n \t<build>"
  },
  {
    "sha": "a160c528309440132cf41f861598f33051bbf1c1",
    "filename": "meuAtelie/src/main/java/br/com/ecommerce/meuAtelie/config/SwaggerConfig.java",
    "status": "added",
    "additions": 37,
    "deletions": 0,
    "changes": 37,
    "blob_url": "https://github.com/jessicacordeiro/Projeto-Integrador-Generation/blob/cfd25e454eb33ce603d368710b897c9af50caa7f/meuAtelie/src/main/java/br/com/ecommerce/meuAtelie/config/SwaggerConfig.java",
    "raw_url": "https://github.com/jessicacordeiro/Projeto-Integrador-Generation/raw/cfd25e454eb33ce603d368710b897c9af50caa7f/meuAtelie/src/main/java/br/com/ecommerce/meuAtelie/config/SwaggerConfig.java",
    "contents_url": "https://api.github.com/repos/jessicacordeiro/Projeto-Integrador-Generation/contents/meuAtelie/src/main/java/br/com/ecommerce/meuAtelie/config/SwaggerConfig.java?ref=cfd25e454eb33ce603d368710b897c9af50caa7f",
    "patch": "@@ -0,0 +1,37 @@\n+package br.com.ecommerce.meuAtelie.config;\n+\n+import org.springframework.context.annotation.Bean;\n+import org.springframework.context.annotation.Configuration;\n+\n+import springfox.documentation.builders.ApiInfoBuilder;\n+import springfox.documentation.builders.PathSelectors;\n+import springfox.documentation.builders.RequestHandlerSelectors;\n+import springfox.documentation.service.ApiInfo;\n+import springfox.documentation.service.Contact;\n+import springfox.documentation.spi.DocumentationType;\n+import springfox.documentation.spring.web.plugins.Docket;\n+import springfox.documentation.swagger2.annotations.EnableSwagger2;\n+\n+@EnableSwagger2\n+@Configuration\n+public class SwaggerConfig {\n+\t@Bean\n+\tpublic Docket docket() {\n+\t\treturn new Docket(DocumentationType.SWAGGER_2)\n+\n+\t\t\t\t.select().apis(RequestHandlerSelectors.basePackage(\"br.com.ecommerce.meuAtelie.controller\"))\n+\t\t\t\t.paths(PathSelectors.any()).build().apiInfo(apiInfo());\n+\t}\n+\n+\tprivate ApiInfo apiInfo() {\n+\t\treturn new ApiInfoBuilder().title(\"Meu Ateliê\").description(\"Plataforma voltada para os artesãos e clientes que gostam de comprar itens de decoração recicláveis.\").version(\"1.0\")\n+\t\t\t\t.contact(contact()).build();\n+\t}\n+\n+\tprivate Contact contact() {\n+\t\treturn new Contact\n+\t\t\t\t(\"Jessica Cordeiro\", \"https://github.com/jessicacordeiro\",\t\t\n+\t\t\t\t\"Develops JRs em desenvolvimento\");\n+\t}\n+\t\n+}"
  },
  {
    "sha": "d92119ce8688ee167eb4fa340e6a9d42f50204d2",
    "filename": "meuAtelie/src/main/java/br/com/ecommerce/meuAtelie/controller/CategoriaController.java",
    "status": "removed",
    "additions": 0,
    "deletions": 57,
    "changes": 57,
    "blob_url": "https://github.com/jessicacordeiro/Projeto-Integrador-Generation/blob/0e71ea49402921eb51b33fb0876064eb558c42d6/meuAtelie/src/main/java/br/com/ecommerce/meuAtelie/controller/CategoriaController.java",
    "raw_url": "https://github.com/jessicacordeiro/Projeto-Integrador-Generation/raw/0e71ea49402921eb51b33fb0876064eb558c42d6/meuAtelie/src/main/java/br/com/ecommerce/meuAtelie/controller/CategoriaController.java",
    "contents_url": "https://api.github.com/repos/jessicacordeiro/Projeto-Integrador-Generation/contents/meuAtelie/src/main/java/br/com/ecommerce/meuAtelie/controller/CategoriaController.java?ref=0e71ea49402921eb51b33fb0876064eb558c42d6",
    "patch": "@@ -1,57 +0,0 @@\n-package br.com.ecommerce.meuAtelie.controller;\n-\n-import java.util.List;\n-\n-import javax.validation.Valid;\n-\n-import org.springframework.beans.factory.annotation.Autowired;\n-import org.springframework.http.HttpStatus;\n-import org.springframework.http.ResponseEntity;\n-import org.springframework.web.bind.annotation.CrossOrigin;\n-import org.springframework.web.bind.annotation.DeleteMapping;\n-import org.springframework.web.bind.annotation.GetMapping;\n-import org.springframework.web.bind.annotation.PathVariable;\n-import org.springframework.web.bind.annotation.PostMapping;\n-import org.springframework.web.bind.annotation.PutMapping;\n-import org.springframework.web.bind.annotation.RequestBody;\n-import org.springframework.web.bind.annotation.RequestMapping;\n-import org.springframework.web.bind.annotation.RestController;\n-\n-import br.com.ecommerce.meuAtelie.model.CategoriaModel;\n-import br.com.ecommerce.meuAtelie.repository.CategoriaRepository;\n-\n-@RestController\n-@RequestMapping (\"/categoria\")\n-@CrossOrigin (\"*\")\n-public class CategoriaController {\n-\t@Autowired \n-\tprivate CategoriaRepository categoriaRepository;\n-\t\n-\t@GetMapping \n-\tpublic ResponseEntity<List<CategoriaModel>> getAll(){\n-\t\treturn ResponseEntity.ok(categoriaRepository.findAll());\n-\t}\n-\t@GetMapping (\"/{id}\")\n-\tpublic ResponseEntity<CategoriaModel> getById(@PathVariable long id){\n-\t\treturn categoriaRepository.findById(id).map(resp-> ResponseEntity.ok(resp)).orElse(ResponseEntity.notFound().build());\n-\t}\n-\t\n-\t@GetMapping (\"/areaCategoria/{areaCategoria}\")\n-\tpublic ResponseEntity<List<CategoriaModel>> getByAreaCategoria(@PathVariable String areaCategoria){\n-\t\treturn ResponseEntity.ok(categoriaRepository.findAllByAreaCategoriaContainingIgnoreCase(areaCategoria));\n-\t\t\t\n-\t}\n-\t@PostMapping\n-\tpublic ResponseEntity<CategoriaModel> post (@Valid @RequestBody CategoriaModel categoria){\n-\t\treturn ResponseEntity.status(HttpStatus.CREATED).body(categoriaRepository.save(categoria));\n-\t}\n-\t@PutMapping\n-\tpublic ResponseEntity<CategoriaModel> put (@Valid @RequestBody CategoriaModel categoria){\n-\t\treturn ResponseEntity.status(HttpStatus.OK).body(categoriaRepository.save(categoria));\n-\t}\n-\t@DeleteMapping (\"/{id}\")\n-\tpublic void delete (@Valid @PathVariable long id) {\n-\t\tcategoriaRepository.deleteById(id);\n-\t}\n-\t\n-}"
  },
  {
    "sha": "8a1180493880f57c7067dd5f5173037f2387bc3b",
    "filename": "meuAtelie/src/main/java/br/com/ecommerce/meuAtelie/controller/ProdutoController.java",
    "status": "modified",
    "additions": 31,
    "deletions": 16,
    "changes": 47,
    "blob_url": "https://github.com/jessicacordeiro/Projeto-Integrador-Generation/blob/cfd25e454eb33ce603d368710b897c9af50caa7f/meuAtelie/src/main/java/br/com/ecommerce/meuAtelie/controller/ProdutoController.java",
    "raw_url": "https://github.com/jessicacordeiro/Projeto-Integrador-Generation/raw/cfd25e454eb33ce603d368710b897c9af50caa7f/meuAtelie/src/main/java/br/com/ecommerce/meuAtelie/controller/ProdutoController.java",
    "contents_url": "https://api.github.com/repos/jessicacordeiro/Projeto-Integrador-Generation/contents/meuAtelie/src/main/java/br/com/ecommerce/meuAtelie/controller/ProdutoController.java?ref=cfd25e454eb33ce603d368710b897c9af50caa7f",
    "patch": "@@ -1,25 +1,26 @@\n package br.com.ecommerce.meuAtelie.controller;\n \n import java.util.List;\n-\n import javax.validation.Valid;\n-\n import org.springframework.beans.factory.annotation.Autowired;\n import org.springframework.http.HttpStatus;\n import org.springframework.http.ResponseEntity;\n import org.springframework.web.bind.annotation.CrossOrigin;\n import org.springframework.web.bind.annotation.DeleteMapping;\n import org.springframework.web.bind.annotation.GetMapping;\n import org.springframework.web.bind.annotation.PathVariable;\n-import org.springframework.web.bind.annotation.PostMapping;\n import org.springframework.web.bind.annotation.PutMapping;\n import org.springframework.web.bind.annotation.RequestBody;\n import org.springframework.web.bind.annotation.RequestMapping;\n-\n+import org.springframework.web.bind.annotation.RequestParam;\n import org.springframework.web.bind.annotation.RestController;\n \n-import br.com.ecommerce.meuAtelie.model.produtoModel;\n+\n+\n+import br.com.ecommerce.meuAtelie.model.ProdutoModel;\n+import br.com.ecommerce.meuAtelie.model.util.CategoriaAceitas;\n import br.com.ecommerce.meuAtelie.repository.ProdutoRepository;\n+import br.com.ecommerce.meuAtelie.service.ProdutoServices;\n \n @RestController\n @RequestMapping(\"/produto\")\n@@ -28,29 +29,43 @@\n \n \t@Autowired\n \tprivate ProdutoRepository produtoRepository;\n-\t \n+\t\n+\tprivate @Autowired ProdutoServices services;\n+\t\n \t@GetMapping\n-\tpublic ResponseEntity<List<produtoModel>>GetAll(){\n+\tpublic ResponseEntity<List<ProdutoModel>> GetAll() {\n \t\treturn ResponseEntity.ok(produtoRepository.findAll());\n \t}\n+\t\n+\t@GetMapping(\"/produtos\")\n+\tpublic ResponseEntity<List<ProdutoModel>> pegarPorNome(@RequestParam(defaultValue = \"\") String nomeProduto){\n+\t\treturn new ResponseEntity<List<ProdutoModel>>(services.pegarProdutosPorNome(nomeProduto), HttpStatus.ACCEPTED);\n+\t}\n+\t\n+\t@GetMapping(\"/produtos/categoria\")\n+\tpublic ResponseEntity<List<ProdutoModel>> pegarPorCategoria(@RequestParam(defaultValue = \"\") CategoriaAceitas categoria){\n+\t\treturn new ResponseEntity<List<ProdutoModel>>(services.pegarProdutosPorCategoria(categoria), HttpStatus.ACCEPTED);\n+\t}\n+\n+\n \t@GetMapping(\"/{id}\")\n-\tpublic ResponseEntity<produtoModel>getById(@PathVariable Long id){\n-\t\treturn produtoRepository.findById(id).map(resp -> ResponseEntity.ok(resp)).orElse(ResponseEntity.notFound().build());\n+\tpublic ResponseEntity<ProdutoModel> getById(@PathVariable Long id) {\n+\t\treturn produtoRepository.findById(id).map(resp -> ResponseEntity.ok(resp))\n+\t\t\t\t.orElse(ResponseEntity.notFound().build());\n \t}\n+\n \t@GetMapping(\"/nome/{nome}\")\n-\tpublic ResponseEntity<List<produtoModel>> getByName(@PathVariable String nomeProduto){\n+\tpublic ResponseEntity<List<ProdutoModel>> getByName(@PathVariable String nomeProduto) {\n \t\treturn ResponseEntity.ok(produtoRepository.findAllByNomeProdutoContainingIgnoreCase(nomeProduto));\n \t}\n-\t@PostMapping\n-\tpublic ResponseEntity<produtoModel>post(@Valid @RequestBody produtoModel produto){\n-\t\treturn ResponseEntity.status(HttpStatus.CREATED).body(produtoRepository.save(produto));\n-\t}\n+\n \t@PutMapping\n-\tpublic ResponseEntity<produtoModel>put(@Valid @RequestBody produtoModel produto){\n+\tpublic ResponseEntity<ProdutoModel> put(@Valid @RequestBody ProdutoModel produto) {\n \t\treturn ResponseEntity.status(HttpStatus.OK).body(produtoRepository.save(produto));\n \t}\n+\n \t@DeleteMapping(\"/{id}\")\n-\tpublic void delete (@PathVariable Long id) {\n+\tpublic void delete(@PathVariable Long id) {\n \t\tprodutoRepository.deleteById(id);\n \t}\n }"
  },
  {
    "sha": "03d34e4f509fcd783766e6b6abdc82fc7ae2b7c3",
    "filename": "meuAtelie/src/main/java/br/com/ecommerce/meuAtelie/controller/UsuarioController.java",
    "status": "modified",
    "additions": 46,
    "deletions": 4,
    "changes": 50,
    "blob_url": "https://github.com/jessicacordeiro/Projeto-Integrador-Generation/blob/cfd25e454eb33ce603d368710b897c9af50caa7f/meuAtelie/src/main/java/br/com/ecommerce/meuAtelie/controller/UsuarioController.java",
    "raw_url": "https://github.com/jessicacordeiro/Projeto-Integrador-Generation/raw/cfd25e454eb33ce603d368710b897c9af50caa7f/meuAtelie/src/main/java/br/com/ecommerce/meuAtelie/controller/UsuarioController.java",
    "contents_url": "https://api.github.com/repos/jessicacordeiro/Projeto-Integrador-Generation/contents/meuAtelie/src/main/java/br/com/ecommerce/meuAtelie/controller/UsuarioController.java?ref=cfd25e454eb33ce603d368710b897c9af50caa7f",
    "patch": "@@ -1,6 +1,8 @@\n package br.com.ecommerce.meuAtelie.controller;\n \n import java.util.List;\n+import java.util.Optional;\n+\n import javax.validation.Valid;\n import org.springframework.beans.factory.annotation.Autowired;\n import org.springframework.http.HttpStatus;\n@@ -14,16 +16,24 @@\n import org.springframework.web.bind.annotation.RequestBody;\n import org.springframework.web.bind.annotation.RequestMapping;\n import org.springframework.web.bind.annotation.RestController;\n+\n+import br.com.ecommerce.meuAtelie.model.ProdutoModel;\n+import br.com.ecommerce.meuAtelie.model.UsuarioLogin;\n import br.com.ecommerce.meuAtelie.model.UsuarioModel;\n import br.com.ecommerce.meuAtelie.repository.UsuarioRepository;\n+import br.com.ecommerce.meuAtelie.service.UsuarioService;\n \n @RestController\n @RequestMapping(\"/usuario\")\n-@CrossOrigin(\"*\")\n+@CrossOrigin(origins = \"*\", allowedHeaders = \"*\")\n public class UsuarioController {\n+\t\n \t@Autowired\n \tprivate UsuarioRepository usuarioRepository;\n \t\n+\t@Autowired\n+\tprivate UsuarioService usuarioService;\n+\t\n \t@GetMapping\n \tpublic ResponseEntity<List<UsuarioModel>> GetAll() {\n \t\treturn ResponseEntity.ok(usuarioRepository.findAll());\n@@ -33,18 +43,50 @@\n \tpublic ResponseEntity<UsuarioModel> GetById(@PathVariable long id) {\n \t\treturn usuarioRepository.findById(id).map(resp -> ResponseEntity.ok(resp)).orElse(ResponseEntity.notFound().build());\n \t}\n+\t\n \t@GetMapping(\"/nomeCompleto/{nomeCompleto}\")\n \tpublic ResponseEntity<List<UsuarioModel>> GetByNomeCompleto(@PathVariable String nomeCompleto) {\n \t\treturn ResponseEntity.ok(usuarioRepository.findAllByNomeCompletoContainingIgnoreCase(nomeCompleto));\n \t}\n-\t@PostMapping\n-\tpublic ResponseEntity<UsuarioModel> creatNewUser(@Valid @RequestBody UsuarioModel usuario) {\n-\t\treturn ResponseEntity.status(HttpStatus.CREATED).body(usuarioRepository.save(usuario));\n+\t\n+\t@PostMapping(\"/produto/novo/{id_Usuario}\")\n+\tpublic ResponseEntity<?> novoProduto(\n+\t\t\t@PathVariable(value = \"id_Usuario\") Long idUsuario,\n+\t\t\t@Valid @RequestBody ProdutoModel novoProduto){\n+\t\tProdutoModel cadastro =  usuarioService.cadastrarProduto(novoProduto, idUsuario);\n+\t\tif(cadastro == null) {\n+\t\t\treturn new ResponseEntity<String>(\"Falha no cadastro\", HttpStatus.NO_CONTENT);\n+\t\t}\n+\t\treturn new ResponseEntity<ProdutoModel>(cadastro, HttpStatus.CREATED);\n \t}\n+\t\n+\t@PutMapping(\"/produto/compra/{id_Produto}/{id_Usuario}\")\n+\tpublic ResponseEntity<?> novaCompra(\n+\t\t\t@PathVariable(value = \"id_Produto\") Long idProduto,\n+\t\t\t@PathVariable(value = \"id_Usuario\") Long idUsuario){\n+\t\tUsuarioModel compra = usuarioService.comprarProduto(idUsuario, idProduto);\n+\t\tif(compra == null) {\n+\t\t\treturn new ResponseEntity<String>(\"Produto ou Usuario invalido\", HttpStatus.NO_CONTENT);\n+\t\t}\n+\t\treturn new ResponseEntity<UsuarioModel>(compra, HttpStatus.CREATED);\n+\t}\n+\t\n+\t@PostMapping(\"/cadastrar\")\n+\tpublic ResponseEntity<UsuarioModel> Post(@RequestBody UsuarioModel usuario){\n+\treturn ResponseEntity.status(HttpStatus.CREATED).body(usuarioService.cadastrarUsuario(usuario));\n+\t}\n+\t\n+\t@PostMapping(\"/logar\")\n+\tpublic ResponseEntity<UsuarioLogin> Autentication(@RequestBody Optional<UsuarioLogin> user){\n+\t\treturn usuarioService.Logar(user).map(resp -> ResponseEntity.ok(resp))\n+\t\t\t\t.orElse(ResponseEntity.status(HttpStatus.UNAUTHORIZED).build());\n+\t}\n+\t\n \t@PutMapping\n \tpublic ResponseEntity<UsuarioModel> put(@Valid @RequestBody UsuarioModel usuario) {\n \t\treturn ResponseEntity.status(HttpStatus.OK).body(usuarioRepository.save(usuario));\n \t}\n+\t\n \t@DeleteMapping(\"/{id}\")\n \tpublic void delete(@PathVariable long id) {\n \t\tusuarioRepository.deleteById(id);"
  },
  {
    "sha": "78fc5f330de1a9fac8017963d32a7ce852e97d81",
    "filename": "meuAtelie/src/main/java/br/com/ecommerce/meuAtelie/model/CategoriaModel.java",
    "status": "removed",
    "additions": 0,
    "deletions": 56,
    "changes": 56,
    "blob_url": "https://github.com/jessicacordeiro/Projeto-Integrador-Generation/blob/0e71ea49402921eb51b33fb0876064eb558c42d6/meuAtelie/src/main/java/br/com/ecommerce/meuAtelie/model/CategoriaModel.java",
    "raw_url": "https://github.com/jessicacordeiro/Projeto-Integrador-Generation/raw/0e71ea49402921eb51b33fb0876064eb558c42d6/meuAtelie/src/main/java/br/com/ecommerce/meuAtelie/model/CategoriaModel.java",
    "contents_url": "https://api.github.com/repos/jessicacordeiro/Projeto-Integrador-Generation/contents/meuAtelie/src/main/java/br/com/ecommerce/meuAtelie/model/CategoriaModel.java?ref=0e71ea49402921eb51b33fb0876064eb558c42d6",
    "patch": "@@ -1,56 +0,0 @@\n-package br.com.ecommerce.meuAtelie.model;\n-\n-import java.util.List;\n-import javax.persistence.CascadeType;\n-import javax.persistence.Entity;\n-import javax.persistence.GeneratedValue;\n-import javax.persistence.GenerationType;\n-import javax.persistence.Id;\n-import javax.persistence.OneToMany;\n-import javax.persistence.Table;\n-import javax.validation.constraints.Size;\n-import com.fasterxml.jackson.annotation.JsonIgnoreProperties;\n-import com.sun.istack.NotNull;\n-\n-@Entity\n-@Table(name = \"tb_categoria\")\n-public class CategoriaModel {\n-\t\n-\t@Id\n-\t@GeneratedValue(strategy = GenerationType.IDENTITY)\n-\tprivate long id;\n-\t\n-\t@NotNull\n-\t@Size(min = 0, max =45)\n-\tprivate String areaCategoria;\n-\t\n-\t@OneToMany(mappedBy = \"categoria\", cascade = CascadeType.ALL)\n-\t@JsonIgnoreProperties(\"categoria\")\n-\tprivate List<produtoModel> produto;\n-\n-\tpublic long getId() {\n-\t\treturn id;\n-\t}\n-\n-\tpublic void setId(long id) {\n-\t\tthis.id = id;\n-\t}\n-\n-\tpublic String getAreaCategoria() {\n-\t\treturn areaCategoria;\n-\t}\n-\n-\tpublic void setAreaCategoria(String areaCategoria) {\n-\t\tthis.areaCategoria = areaCategoria;\n-\t}\n-\n-\tpublic List<produtoModel> getProduto() {\n-\t\treturn produto;\n-\t}\n-\n-\tpublic void setProduto(List<produtoModel> produto) {\n-\t\tthis.produto = produto;\n-\t}\n-\t\n-\t\n-}"
  },
  {
    "sha": "9a4430dd13fe52f3aeef0e3f4f5a708f68979ba3",
    "filename": "meuAtelie/src/main/java/br/com/ecommerce/meuAtelie/model/ProdutoModel.java",
    "status": "renamed",
    "additions": 34,
    "deletions": 23,
    "changes": 57,
    "blob_url": "https://github.com/jessicacordeiro/Projeto-Integrador-Generation/blob/cfd25e454eb33ce603d368710b897c9af50caa7f/meuAtelie/src/main/java/br/com/ecommerce/meuAtelie/model/ProdutoModel.java",
    "raw_url": "https://github.com/jessicacordeiro/Projeto-Integrador-Generation/raw/cfd25e454eb33ce603d368710b897c9af50caa7f/meuAtelie/src/main/java/br/com/ecommerce/meuAtelie/model/ProdutoModel.java",
    "contents_url": "https://api.github.com/repos/jessicacordeiro/Projeto-Integrador-Generation/contents/meuAtelie/src/main/java/br/com/ecommerce/meuAtelie/model/ProdutoModel.java?ref=cfd25e454eb33ce603d368710b897c9af50caa7f",
    "patch": "@@ -2,30 +2,33 @@\n \n import java.util.ArrayList;\n import java.util.List;\n-\n import javax.persistence.CascadeType;\n import javax.persistence.Entity;\n+import javax.persistence.Enumerated;\n import javax.persistence.FetchType;\n import javax.persistence.GeneratedValue;\n import javax.persistence.GenerationType;\n import javax.persistence.Id;\n import javax.persistence.JoinColumn;\n-import javax.persistence.JoinTable;\n import javax.persistence.ManyToMany;\n import javax.persistence.ManyToOne;\n import javax.persistence.Table;\n import javax.validation.constraints.Size;\n-\n import com.fasterxml.jackson.annotation.JsonIgnoreProperties;\n import com.sun.istack.NotNull;\n+import br.com.ecommerce.meuAtelie.model.util.CategoriaAceitas;\n+import javax.persistence.EnumType;\n \n @Entity\n @Table(name = \"tb_produto\")\n-public class produtoModel {\n+public class ProdutoModel {\n+\t\n \t@Id\n \t@GeneratedValue(strategy = GenerationType.IDENTITY)\n \tprivate long id;\n-\n+\t\n+\tprivate @Enumerated(EnumType.STRING) CategoriaAceitas categorias;\n+\t\n \t@NotNull\n \t@Size(min = 0, max = 50)\n \tprivate String nomeProduto;\n@@ -45,15 +48,15 @@\n \n \t@Size(min = 0, max = 1000)\n \tprivate String avaliacaoProduto;\n-\n-\t@ManyToOne\n-\t@JsonIgnoreProperties(\"produto\")\n-\tprivate CategoriaModel categoria;\n-\n-\t@ManyToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY)\n-\t@JoinTable(name = \"tb_venda\", joinColumns = @JoinColumn(name = \"produto_id\"), inverseJoinColumns = @JoinColumn(name = \"usuario_id\"))\n-\t@JsonIgnoreProperties(\"produtos\")\n-\tprivate List<UsuarioModel> usuario = new ArrayList<>();\n+\t\n+\t@ManyToOne(cascade = CascadeType.ALL, fetch = FetchType.EAGER)\n+\t@JoinColumn(name = \"criador\")\n+\t@JsonIgnoreProperties({\"meusProdutos\", \"minhasCompras\", \"senha\"})\n+\tprivate UsuarioModel criadoPor;\n+\t\n+\t@ManyToMany(mappedBy = \"minhasCompras\", cascade = CascadeType.ALL, fetch = FetchType.EAGER)\n+\t@JsonIgnoreProperties({\"senha\", \"meusProdutos\", \"minhasCompras\"})\n+\tprivate List<UsuarioModel> compradoPor = new ArrayList<>();\n \n \tpublic long getId() {\n \t\treturn id;\n@@ -79,6 +82,7 @@ public void setDescricaoProduto(String descricaoProduto) {\n \t\tthis.descricaoProduto = descricaoProduto;\n \t}\n \n+\t\n \tpublic double getPrecoProduto() {\n \t\treturn precoProduto;\n \t}\n@@ -111,22 +115,29 @@ public void setAvaliacaoProduto(String avaliacaoProduto) {\n \t\tthis.avaliacaoProduto = avaliacaoProduto;\n \t}\n \n-\tpublic CategoriaModel getCategoria() {\n-\t\treturn categoria;\n+\tpublic CategoriaAceitas getCategorias() {\n+\t\treturn categorias;\n \t}\n \n-\tpublic void setCategoria(CategoriaModel categoria) {\n-\t\tthis.categoria = categoria;\n+\tpublic void setCategorias(CategoriaAceitas categorias) {\n+\t\tthis.categorias = categorias;\n \t}\n \n-\tpublic List<UsuarioModel> getUsuario() {\n-\t\treturn usuario;\n+\tpublic UsuarioModel getCriadoPor() {\n+\t\treturn criadoPor;\n \t}\n \n-\tpublic void setUsuario(List<UsuarioModel> usuario) {\n-\t\tthis.usuario = usuario;\n+\tpublic void setCriadoPor(UsuarioModel criadoPor) {\n+\t\tthis.criadoPor = criadoPor;\n+\t}\n+\n+\tpublic List<UsuarioModel> getCompradoPor() {\n+\t\treturn compradoPor;\n+\t}\n+\n+\tpublic void setCompradoPor(List<UsuarioModel> compradoPor) {\n+\t\tthis.compradoPor = compradoPor;\n \t}\n-\t\n \t\n \t\n }",
    "previous_filename": "meuAtelie/src/main/java/br/com/ecommerce/meuAtelie/model/produtoModel.java"
  },
  {
    "sha": "496befe5331f45cb0d25a313f370c4fb965f4cf2",
    "filename": "meuAtelie/src/main/java/br/com/ecommerce/meuAtelie/model/UsuarioLogin.java",
    "status": "added",
    "additions": 35,
    "deletions": 0,
    "changes": 35,
    "blob_url": "https://github.com/jessicacordeiro/Projeto-Integrador-Generation/blob/cfd25e454eb33ce603d368710b897c9af50caa7f/meuAtelie/src/main/java/br/com/ecommerce/meuAtelie/model/UsuarioLogin.java",
    "raw_url": "https://github.com/jessicacordeiro/Projeto-Integrador-Generation/raw/cfd25e454eb33ce603d368710b897c9af50caa7f/meuAtelie/src/main/java/br/com/ecommerce/meuAtelie/model/UsuarioLogin.java",
    "contents_url": "https://api.github.com/repos/jessicacordeiro/Projeto-Integrador-Generation/contents/meuAtelie/src/main/java/br/com/ecommerce/meuAtelie/model/UsuarioLogin.java?ref=cfd25e454eb33ce603d368710b897c9af50caa7f",
    "patch": "@@ -0,0 +1,35 @@\n+package br.com.ecommerce.meuAtelie.model;\n+\n+public class UsuarioLogin {\n+\n+\tprivate String nome;\n+\tprivate String usuario;\n+\tprivate String senha;\n+\tprivate String token;\n+\t\n+\tpublic String getNome() {\n+\t\treturn nome;\n+\t}\n+\tpublic void setNome(String nome) {\n+\t\tthis.nome = nome;\n+\t}\n+\tpublic String getUsuario() {\n+\t\treturn usuario;\n+\t}\n+\tpublic void setUsuario(String nomeUsuario) {\n+\t\tthis.usuario = nomeUsuario;\n+\t}\n+\tpublic String getSenha() {\n+\t\treturn senha;\n+\t}\n+\tpublic void setSenha(String senha) {\n+\t\tthis.senha = senha;\n+\t}\n+\tpublic String getToken() {\n+\t\treturn token;\n+\t}\n+\tpublic void setToken(String token) {\n+\t\tthis.token = token;\n+\t}\n+\n+}"
  },
  {
    "sha": "8113adce662e80faa46f5d4cde3907eafb85d008",
    "filename": "meuAtelie/src/main/java/br/com/ecommerce/meuAtelie/model/UsuarioModel.java",
    "status": "modified",
    "additions": 35,
    "deletions": 38,
    "changes": 73,
    "blob_url": "https://github.com/jessicacordeiro/Projeto-Integrador-Generation/blob/cfd25e454eb33ce603d368710b897c9af50caa7f/meuAtelie/src/main/java/br/com/ecommerce/meuAtelie/model/UsuarioModel.java",
    "raw_url": "https://github.com/jessicacordeiro/Projeto-Integrador-Generation/raw/cfd25e454eb33ce603d368710b897c9af50caa7f/meuAtelie/src/main/java/br/com/ecommerce/meuAtelie/model/UsuarioModel.java",
    "contents_url": "https://api.github.com/repos/jessicacordeiro/Projeto-Integrador-Generation/contents/meuAtelie/src/main/java/br/com/ecommerce/meuAtelie/model/UsuarioModel.java?ref=cfd25e454eb33ce603d368710b897c9af50caa7f",
    "patch": "@@ -2,17 +2,20 @@\n \n import java.util.ArrayList;\n import java.util.List;\n-\n import javax.persistence.CascadeType;\n import javax.persistence.Entity;\n import javax.persistence.FetchType;\n import javax.persistence.GeneratedValue;\n import javax.persistence.GenerationType;\n import javax.persistence.Id;\n+import javax.persistence.JoinColumn;\n+import javax.persistence.JoinTable;\n import javax.persistence.ManyToMany;\n+import javax.persistence.OneToMany;\n import javax.persistence.Table;\n+import javax.validation.constraints.Email;\n import javax.validation.constraints.Size;\n-\n+import org.hibernate.validator.constraints.br.CPF;\n import com.fasterxml.jackson.annotation.JsonIgnoreProperties;\n import com.sun.istack.NotNull;\n \n@@ -22,7 +25,7 @@\n \t\n \t@Id\n \t@GeneratedValue(strategy = GenerationType.IDENTITY)\n-\tprivate int id;\n+\tprivate long id;\n \t\n \t@NotNull\n \t@Size(min = 3, max =80, message = \"Nome deve ser inserido, de 3 até 80 caracteres\" )\n@@ -32,109 +35,103 @@\n \t@Size(min = 2, max =200, message = \"Endereço deve ser inserido, de 2 até 200 caracteres\" )\n \tprivate String endereco;\n \t\n+\t@CPF\n \t@NotNull\n-\tprivate long cpf;\n+\tprivate String cpf;\n \t\n \t@NotNull\n \t@Size(min = 3, max =45, message = \"Usúario deve ser inserido, de 3 até 45 caracteres\")\n \tprivate String nomeUsuario;\n \t\n \t@NotNull\n-\t@Size(min = 3, max =45,message = \"Email deve ser inserido, de 3 até 45 caracteres\")\n+\t@Email\n \tprivate String email;\n \t\n \t@NotNull\n-\t@Size(min = 6, max =8,message = \"senha deve ser inserido, de 6 até 8 caracteres\")\n \tprivate String senha;\n \t\n-\t\t\n-\t@ManyToMany(mappedBy = \"usuario\" , cascade = CascadeType.ALL, fetch = FetchType.LAZY)\n-\t@JsonIgnoreProperties(\"usuario\")\n-\tprivate List<produtoModel> produto = new ArrayList<>();\n-\n-\n-\tpublic int getId() {\n+\t@OneToMany(mappedBy = \"criadoPor\", cascade = CascadeType.ALL, fetch = FetchType.EAGER)\n+\t@JsonIgnoreProperties(\"criadoPor\")\n+\tprivate List<ProdutoModel> meusProdutos = new ArrayList<>();\n+\t\n+\t@ManyToMany(cascade = CascadeType.ALL, fetch = FetchType.EAGER)\n+\t@JoinTable(\n+\t  name = \"tb_compras\", \n+\t  joinColumns = @JoinColumn(name = \"comprador_id\"), \n+\t  inverseJoinColumns = @JoinColumn(name = \"produto_id\"))\n+\t@JsonIgnoreProperties(\"compradoPor\")\n+\tprivate List<ProdutoModel> minhasCompras = new ArrayList<>();\n+\n+\tpublic long getId() {\n \t\treturn id;\n \t}\n \n-\n-\tpublic void setId(int id) {\n+\tpublic void setId(long id) {\n \t\tthis.id = id;\n \t}\n \n-\n \tpublic String getNomeCompleto() {\n \t\treturn nomeCompleto;\n \t}\n \n-\n \tpublic void setNomeCompleto(String nomeCompleto) {\n \t\tthis.nomeCompleto = nomeCompleto;\n \t}\n \n-\n \tpublic String getEndereco() {\n \t\treturn endereco;\n \t}\n \n-\n \tpublic void setEndereco(String endereco) {\n \t\tthis.endereco = endereco;\n \t}\n \n-\n-\tpublic long getCpf() {\n+\tpublic String getCpf() {\n \t\treturn cpf;\n \t}\n \n-\n-\tpublic void setCpf(long cpf) {\n+\tpublic void setCpf(String cpf) {\n \t\tthis.cpf = cpf;\n \t}\n \n-\n \tpublic String getNomeUsuario() {\n \t\treturn nomeUsuario;\n \t}\n \n-\n \tpublic void setNomeUsuario(String nomeUsuario) {\n \t\tthis.nomeUsuario = nomeUsuario;\n \t}\n \n-\n \tpublic String getEmail() {\n \t\treturn email;\n \t}\n \n-\n \tpublic void setEmail(String email) {\n \t\tthis.email = email;\n \t}\n \n-\n \tpublic String getSenha() {\n \t\treturn senha;\n \t}\n \n-\n \tpublic void setSenha(String senha) {\n \t\tthis.senha = senha;\n \t}\n \n+\tpublic List<ProdutoModel> getMeusProdutos() {\n+\t\treturn meusProdutos;\n+\t}\n \n-\tpublic List<produtoModel> getProduto() {\n-\t\treturn produto;\n+\tpublic void setMeusProdutos(List<ProdutoModel> meusProdutos) {\n+\t\tthis.meusProdutos = meusProdutos;\n \t}\n \n+\tpublic List<ProdutoModel> getMinhasCompras() {\n+\t\treturn minhasCompras;\n+\t}\n \n-\tpublic void setProduto(List<produtoModel> produto) {\n-\t\tthis.produto = produto;\n+\tpublic void setMinhasCompras(List<ProdutoModel> minhasCompras) {\n+\t\tthis.minhasCompras = minhasCompras;\n \t}\n \t\n-\t\n-\t\n-\t\n-\t\n-\n }"
  },
  {
    "sha": "99e8a9cd78afad2b064b20ee815fda226717571e",
    "filename": "meuAtelie/src/main/java/br/com/ecommerce/meuAtelie/model/util/CategoriaAceitas.java",
    "status": "added",
    "additions": 7,
    "deletions": 0,
    "changes": 7,
    "blob_url": "https://github.com/jessicacordeiro/Projeto-Integrador-Generation/blob/cfd25e454eb33ce603d368710b897c9af50caa7f/meuAtelie/src/main/java/br/com/ecommerce/meuAtelie/model/util/CategoriaAceitas.java",
    "raw_url": "https://github.com/jessicacordeiro/Projeto-Integrador-Generation/raw/cfd25e454eb33ce603d368710b897c9af50caa7f/meuAtelie/src/main/java/br/com/ecommerce/meuAtelie/model/util/CategoriaAceitas.java",
    "contents_url": "https://api.github.com/repos/jessicacordeiro/Projeto-Integrador-Generation/contents/meuAtelie/src/main/java/br/com/ecommerce/meuAtelie/model/util/CategoriaAceitas.java?ref=cfd25e454eb33ce603d368710b897c9af50caa7f",
    "patch": "@@ -0,0 +1,7 @@\n+package br.com.ecommerce.meuAtelie.model.util;\n+\n+public enum CategoriaAceitas {\n+\t\n+\tQUARTO, SALA, COZINHA, BANHEIRO, AREAEXTERNA\n+\n+}"
  },
  {
    "sha": "cadf1063d17f582a60ef3328f6663adf6e169090",
    "filename": "meuAtelie/src/main/java/br/com/ecommerce/meuAtelie/repository/CategoriaRepository.java",
    "status": "removed",
    "additions": 0,
    "deletions": 15,
    "changes": 15,
    "blob_url": "https://github.com/jessicacordeiro/Projeto-Integrador-Generation/blob/0e71ea49402921eb51b33fb0876064eb558c42d6/meuAtelie/src/main/java/br/com/ecommerce/meuAtelie/repository/CategoriaRepository.java",
    "raw_url": "https://github.com/jessicacordeiro/Projeto-Integrador-Generation/raw/0e71ea49402921eb51b33fb0876064eb558c42d6/meuAtelie/src/main/java/br/com/ecommerce/meuAtelie/repository/CategoriaRepository.java",
    "contents_url": "https://api.github.com/repos/jessicacordeiro/Projeto-Integrador-Generation/contents/meuAtelie/src/main/java/br/com/ecommerce/meuAtelie/repository/CategoriaRepository.java?ref=0e71ea49402921eb51b33fb0876064eb558c42d6",
    "patch": "@@ -1,15 +0,0 @@\n-package br.com.ecommerce.meuAtelie.repository;\n-\n-import java.util.List;\n-\n-import org.springframework.data.jpa.repository.JpaRepository;\n-import org.springframework.stereotype.Repository;\n-\n-import br.com.ecommerce.meuAtelie.model.CategoriaModel;\n-\n-\n-@Repository\n-public interface CategoriaRepository  extends JpaRepository<CategoriaModel, Long>{\n-\tpublic List<CategoriaModel> findAllByAreaCategoriaContainingIgnoreCase(String areaCategoria);\n-\t\n-}"
  },
  {
    "sha": "9c153c8c910979721113a62996c072f00e456578",
    "filename": "meuAtelie/src/main/java/br/com/ecommerce/meuAtelie/repository/ProdutoRepository.java",
    "status": "modified",
    "additions": 9,
    "deletions": 4,
    "changes": 13,
    "blob_url": "https://github.com/jessicacordeiro/Projeto-Integrador-Generation/blob/cfd25e454eb33ce603d368710b897c9af50caa7f/meuAtelie/src/main/java/br/com/ecommerce/meuAtelie/repository/ProdutoRepository.java",
    "raw_url": "https://github.com/jessicacordeiro/Projeto-Integrador-Generation/raw/cfd25e454eb33ce603d368710b897c9af50caa7f/meuAtelie/src/main/java/br/com/ecommerce/meuAtelie/repository/ProdutoRepository.java",
    "contents_url": "https://api.github.com/repos/jessicacordeiro/Projeto-Integrador-Generation/contents/meuAtelie/src/main/java/br/com/ecommerce/meuAtelie/repository/ProdutoRepository.java?ref=cfd25e454eb33ce603d368710b897c9af50caa7f",
    "patch": "@@ -1,13 +1,18 @@\n package br.com.ecommerce.meuAtelie.repository;\n \n import java.util.List;\n-\n import org.springframework.data.jpa.repository.JpaRepository;\n import org.springframework.stereotype.Repository;\n+import br.com.ecommerce.meuAtelie.model.ProdutoModel;\n+import br.com.ecommerce.meuAtelie.model.util.CategoriaAceitas;\n \n-import br.com.ecommerce.meuAtelie.model.produtoModel;\n @Repository\n-public interface ProdutoRepository extends JpaRepository<produtoModel, Long> {\n-\tpublic List<produtoModel> findAllByNomeProdutoContainingIgnoreCase(String nomeProduto);\n+public interface ProdutoRepository extends JpaRepository<ProdutoModel, Long> {\n+\t\n+\tpublic List<ProdutoModel> findAllByNomeProdutoContainingIgnoreCase(String nomeProduto);\n+\n+\tpublic List<ProdutoModel> findByNomeProdutoContaining(String nome);\n+\n+\tpublic List<ProdutoModel> findByCategorias(CategoriaAceitas categorias);\n \n }"
  },
  {
    "sha": "06e81a303954e6a0b1400f0e00fe44cae1982c60",
    "filename": "meuAtelie/src/main/java/br/com/ecommerce/meuAtelie/repository/UsuarioRepository.java",
    "status": "modified",
    "additions": 4,
    "deletions": 0,
    "changes": 4,
    "blob_url": "https://github.com/jessicacordeiro/Projeto-Integrador-Generation/blob/cfd25e454eb33ce603d368710b897c9af50caa7f/meuAtelie/src/main/java/br/com/ecommerce/meuAtelie/repository/UsuarioRepository.java",
    "raw_url": "https://github.com/jessicacordeiro/Projeto-Integrador-Generation/raw/cfd25e454eb33ce603d368710b897c9af50caa7f/meuAtelie/src/main/java/br/com/ecommerce/meuAtelie/repository/UsuarioRepository.java",
    "contents_url": "https://api.github.com/repos/jessicacordeiro/Projeto-Integrador-Generation/contents/meuAtelie/src/main/java/br/com/ecommerce/meuAtelie/repository/UsuarioRepository.java?ref=cfd25e454eb33ce603d368710b897c9af50caa7f",
    "patch": "@@ -1,11 +1,15 @@\n package br.com.ecommerce.meuAtelie.repository;\n \n import java.util.List;\n+import java.util.Optional;\n+\n import org.springframework.data.jpa.repository.JpaRepository;\n import org.springframework.stereotype.Repository;\n \n import br.com.ecommerce.meuAtelie.model.UsuarioModel;\n @Repository\n public interface UsuarioRepository extends JpaRepository<UsuarioModel, Long> {\n+\t\n \tpublic List<UsuarioModel> findAllByNomeCompletoContainingIgnoreCase (String nomeCompleto);\n+\tpublic Optional<UsuarioModel> findByNomeUsuario (String nomeUsuario);\n }"
  },
  {
    "sha": "798904ea26ab30d53af8574772048c7093582ff2",
    "filename": "meuAtelie/src/main/java/br/com/ecommerce/meuAtelie/seguranca/BasicSecurityConfig.java",
    "status": "added",
    "additions": 43,
    "deletions": 0,
    "changes": 43,
    "blob_url": "https://github.com/jessicacordeiro/Projeto-Integrador-Generation/blob/cfd25e454eb33ce603d368710b897c9af50caa7f/meuAtelie/src/main/java/br/com/ecommerce/meuAtelie/seguranca/BasicSecurityConfig.java",
    "raw_url": "https://github.com/jessicacordeiro/Projeto-Integrador-Generation/raw/cfd25e454eb33ce603d368710b897c9af50caa7f/meuAtelie/src/main/java/br/com/ecommerce/meuAtelie/seguranca/BasicSecurityConfig.java",
    "contents_url": "https://api.github.com/repos/jessicacordeiro/Projeto-Integrador-Generation/contents/meuAtelie/src/main/java/br/com/ecommerce/meuAtelie/seguranca/BasicSecurityConfig.java?ref=cfd25e454eb33ce603d368710b897c9af50caa7f",
    "patch": "@@ -0,0 +1,43 @@\n+package br.com.ecommerce.meuAtelie.seguranca;\n+\n+import org.springframework.beans.factory.annotation.Autowired;\n+import org.springframework.context.annotation.Bean;\n+import org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\n+import org.springframework.security.config.annotation.web.builders.HttpSecurity;\n+import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\n+import org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\n+import org.springframework.security.config.http.SessionCreationPolicy;\n+import org.springframework.security.core.userdetails.UserDetailsService;\n+import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\n+import org.springframework.security.crypto.password.PasswordEncoder;\n+\n+@EnableWebSecurity\n+public class BasicSecurityConfig extends WebSecurityConfigurerAdapter {\n+\t@Autowired\n+\tprivate UserDetailsService userDetailsService;\n+\t\n+\t@Override\n+\tprotected void configure(AuthenticationManagerBuilder auth) throws Exception {\n+\t\tauth.userDetailsService(userDetailsService);\n+\t}\n+\t\n+\t@Bean\n+\tpublic PasswordEncoder passwordEncoder() {\n+\t\treturn new BCryptPasswordEncoder();\n+\t\t\n+\t}\n+\t\n+\t@Override\n+\tprotected void configure(HttpSecurity http)throws Exception {\n+\t\thttp.authorizeRequests()\n+\t\t.antMatchers(\"/usuario/logar\").permitAll()\n+\t\t.antMatchers(\"/usuario/cadastrar\").permitAll()\n+\t\t.anyRequest().authenticated()\n+\t\t.and().httpBasic()\n+\t\t.and().sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n+\t\t.and().cors()\n+\t\t.and().csrf().disable();\n+\t\t\n+\t}\n+\n+}"
  },
  {
    "sha": "afe36a66c14312c680503439d829027d14b040de",
    "filename": "meuAtelie/src/main/java/br/com/ecommerce/meuAtelie/seguranca/UserDetailsImpl.java",
    "status": "added",
    "additions": 66,
    "deletions": 0,
    "changes": 66,
    "blob_url": "https://github.com/jessicacordeiro/Projeto-Integrador-Generation/blob/cfd25e454eb33ce603d368710b897c9af50caa7f/meuAtelie/src/main/java/br/com/ecommerce/meuAtelie/seguranca/UserDetailsImpl.java",
    "raw_url": "https://github.com/jessicacordeiro/Projeto-Integrador-Generation/raw/cfd25e454eb33ce603d368710b897c9af50caa7f/meuAtelie/src/main/java/br/com/ecommerce/meuAtelie/seguranca/UserDetailsImpl.java",
    "contents_url": "https://api.github.com/repos/jessicacordeiro/Projeto-Integrador-Generation/contents/meuAtelie/src/main/java/br/com/ecommerce/meuAtelie/seguranca/UserDetailsImpl.java?ref=cfd25e454eb33ce603d368710b897c9af50caa7f",
    "patch": "@@ -0,0 +1,66 @@\n+package br.com.ecommerce.meuAtelie.seguranca;\n+\n+import java.util.Collection;\n+import org.springframework.security.core.GrantedAuthority;\n+import org.springframework.security.core.userdetails.UserDetails;\n+\n+import br.com.ecommerce.meuAtelie.model.UsuarioModel;\n+import javassist.SerialVersionUID;\n+\n+public class UserDetailsImpl implements UserDetails {\n+\t\n+\tprivate static final long SerialVersionUID = 1L;\n+\t\n+\tprivate String userName;\n+\tprivate String password;\n+\t\n+\n+\tpublic UserDetailsImpl(UsuarioModel user) {\n+\t\tthis.userName = user.getNomeUsuario();\n+\t\tthis.password = user.getSenha();\n+\t}\n+\tpublic UserDetailsImpl() {}\n+\n+\t@Override\n+\tpublic Collection<? extends GrantedAuthority> getAuthorities() {\n+\t\t// TODO Auto-generated method stub\n+\t\treturn null;\n+\t}\n+\n+\t@Override\n+\tpublic String getPassword() {\n+\t\t// TODO Auto-generated method stub\n+\t\treturn password;\n+\t}\n+\n+\t@Override\n+\tpublic String getUsername() {\n+\t\t// TODO Auto-generated method stub\n+\t\treturn userName;\n+\t}\n+\n+\t@Override\n+\tpublic boolean isAccountNonExpired() {\n+\t\t// TODO Auto-generated method stub\n+\t\treturn true;\n+\t}\n+\n+\t@Override\n+\tpublic boolean isAccountNonLocked() {\n+\t\t// TODO Auto-generated method stub\n+\t\treturn true;\n+\t}\n+\n+\t@Override\n+\tpublic boolean isCredentialsNonExpired() {\n+\t\t// TODO Auto-generated method stub\n+\t\treturn true;\n+\t}\n+\n+\t@Override\n+\tpublic boolean isEnabled() {\n+\t\t// TODO Auto-generated method stub\n+\t\treturn true;\n+\t}\n+\n+}"
  },
  {
    "sha": "edb5e94854e138515dcc2e4d5f4009c7a5dde9cf",
    "filename": "meuAtelie/src/main/java/br/com/ecommerce/meuAtelie/seguranca/UserDetailsServiceImpl.java",
    "status": "added",
    "additions": 24,
    "deletions": 0,
    "changes": 24,
    "blob_url": "https://github.com/jessicacordeiro/Projeto-Integrador-Generation/blob/cfd25e454eb33ce603d368710b897c9af50caa7f/meuAtelie/src/main/java/br/com/ecommerce/meuAtelie/seguranca/UserDetailsServiceImpl.java",
    "raw_url": "https://github.com/jessicacordeiro/Projeto-Integrador-Generation/raw/cfd25e454eb33ce603d368710b897c9af50caa7f/meuAtelie/src/main/java/br/com/ecommerce/meuAtelie/seguranca/UserDetailsServiceImpl.java",
    "contents_url": "https://api.github.com/repos/jessicacordeiro/Projeto-Integrador-Generation/contents/meuAtelie/src/main/java/br/com/ecommerce/meuAtelie/seguranca/UserDetailsServiceImpl.java?ref=cfd25e454eb33ce603d368710b897c9af50caa7f",
    "patch": "@@ -0,0 +1,24 @@\n+package br.com.ecommerce.meuAtelie.seguranca;\n+\n+import java.util.Optional;\n+import org.springframework.beans.factory.annotation.Autowired;\n+import org.springframework.security.core.userdetails.UserDetails;\n+import org.springframework.security.core.userdetails.UserDetailsService;\n+import org.springframework.security.core.userdetails.UsernameNotFoundException;\n+import org.springframework.stereotype.Service;\n+import br.com.ecommerce.meuAtelie.model.UsuarioModel;\n+import br.com.ecommerce.meuAtelie.repository.UsuarioRepository;\n+\n+@Service\n+public class UserDetailsServiceImpl implements UserDetailsService {\n+\t\n+\t@Autowired UsuarioRepository userRepository;\n+\t\n+\t@Override\n+\tpublic UserDetails loadUserByUsername(String userName) throws UsernameNotFoundException {\n+\tOptional<UsuarioModel> user = userRepository.findByNomeUsuario(userName);\n+\tuser.orElseThrow(() -> new UsernameNotFoundException(userName + \" not found.\"));\n+\treturn user.map(UserDetailsImpl::new).get();\n+\t}\n+\n+}"
  },
  {
    "sha": "7fb6c3e20edd5050070cccd48ce2822973b82a3e",
    "filename": "meuAtelie/src/main/java/br/com/ecommerce/meuAtelie/service/ProdutoServices.java",
    "status": "added",
    "additions": 27,
    "deletions": 0,
    "changes": 27,
    "blob_url": "https://github.com/jessicacordeiro/Projeto-Integrador-Generation/blob/cfd25e454eb33ce603d368710b897c9af50caa7f/meuAtelie/src/main/java/br/com/ecommerce/meuAtelie/service/ProdutoServices.java",
    "raw_url": "https://github.com/jessicacordeiro/Projeto-Integrador-Generation/raw/cfd25e454eb33ce603d368710b897c9af50caa7f/meuAtelie/src/main/java/br/com/ecommerce/meuAtelie/service/ProdutoServices.java",
    "contents_url": "https://api.github.com/repos/jessicacordeiro/Projeto-Integrador-Generation/contents/meuAtelie/src/main/java/br/com/ecommerce/meuAtelie/service/ProdutoServices.java?ref=cfd25e454eb33ce603d368710b897c9af50caa7f",
    "patch": "@@ -0,0 +1,27 @@\n+package br.com.ecommerce.meuAtelie.service;\n+\n+import java.util.List;\n+\n+import org.springframework.beans.factory.annotation.Autowired;\n+import org.springframework.stereotype.Service;\n+\n+import br.com.ecommerce.meuAtelie.model.ProdutoModel;\n+import br.com.ecommerce.meuAtelie.model.util.CategoriaAceitas;\n+import br.com.ecommerce.meuAtelie.repository.ProdutoRepository;\n+\n+\n+@Service\n+public class ProdutoServices {\n+\n+private @Autowired ProdutoRepository repositoryProduto;\n+\t\n+\t// Validar Lista de Produtos por Nome\n+\tpublic List<ProdutoModel> pegarProdutosPorNome(String nome){\n+\t\treturn repositoryProduto.findByNomeProdutoContaining(nome);\n+\t}\n+\t\n+\t// Validar Lista de Produtos por Categoria\n+\tpublic List<ProdutoModel> pegarProdutosPorCategoria(CategoriaAceitas categorias){\n+\t\treturn repositoryProduto.findByCategorias(categorias);\n+\t}\n+}"
  },
  {
    "sha": "f86351de51b20e284366e84177611d1fd3202884",
    "filename": "meuAtelie/src/main/java/br/com/ecommerce/meuAtelie/service/UsuarioService.java",
    "status": "added",
    "additions": 93,
    "deletions": 0,
    "changes": 93,
    "blob_url": "https://github.com/jessicacordeiro/Projeto-Integrador-Generation/blob/cfd25e454eb33ce603d368710b897c9af50caa7f/meuAtelie/src/main/java/br/com/ecommerce/meuAtelie/service/UsuarioService.java",
    "raw_url": "https://github.com/jessicacordeiro/Projeto-Integrador-Generation/raw/cfd25e454eb33ce603d368710b897c9af50caa7f/meuAtelie/src/main/java/br/com/ecommerce/meuAtelie/service/UsuarioService.java",
    "contents_url": "https://api.github.com/repos/jessicacordeiro/Projeto-Integrador-Generation/contents/meuAtelie/src/main/java/br/com/ecommerce/meuAtelie/service/UsuarioService.java?ref=cfd25e454eb33ce603d368710b897c9af50caa7f",
    "patch": "@@ -0,0 +1,93 @@\n+package br.com.ecommerce.meuAtelie.service;\n+\n+import java.nio.charset.Charset;\n+import org.apache.commons.codec.binary.Base64;\n+\n+import java.util.Optional;\n+import org.springframework.beans.factory.annotation.Autowired;\n+import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\n+import org.springframework.stereotype.Service;\n+\n+import br.com.ecommerce.meuAtelie.model.ProdutoModel;\n+import br.com.ecommerce.meuAtelie.model.UsuarioLogin;\n+import br.com.ecommerce.meuAtelie.model.UsuarioModel;\n+import br.com.ecommerce.meuAtelie.repository.ProdutoRepository;\n+import br.com.ecommerce.meuAtelie.repository.UsuarioRepository;\n+\n+@Service\n+public class UsuarioService {\n+\t@Autowired\n+\tUsuarioRepository usuarioRepository;\n+\t@Autowired\n+\tProdutoRepository produtoRepository; \n+\t\n+\tpublic UsuarioModel cadastrarUsuario(UsuarioModel usuario) {\n+\t\tBCryptPasswordEncoder enconder = new BCryptPasswordEncoder();\n+\t\tString senhaEnconder = enconder.encode(usuario.getSenha());\n+\t\tusuario.setSenha(senhaEnconder);\n+\t\treturn usuarioRepository.save(usuario);\n+\t}\n+\n+\tpublic Optional<UsuarioLogin> Logar(Optional<UsuarioLogin> user) {\n+\t\tBCryptPasswordEncoder enconder = new BCryptPasswordEncoder();\n+\t\tOptional<UsuarioModel> nomeUsuario = usuarioRepository.findByNomeUsuario(user.get().getUsuario());\n+\t\t\n+\t\tif (nomeUsuario.isPresent()) {\n+\t\t\tif (enconder.matches(user.get().getSenha(), nomeUsuario.get().getSenha())) {\n+\t\t\t\t\n+\t\t\t\tString auth = user.get().getUsuario() + \":\" + user.get().getSenha();\n+\t\t\t\tbyte[] encodeAuth = Base64.encodeBase64(auth.getBytes(Charset.forName(\"US-ASCII\")));\n+\t\t\t\tString authHeader = \"Basic \" + new String(encodeAuth);\n+\t\t\t\t\n+\t\t\t\tuser.get().setToken(authHeader);\n+\t\t\t\tuser.get().setNome(nomeUsuario.get().getNomeCompleto());\n+\t\t\t\treturn user;\n+\t\t\t}\n+\t\t}\n+\t\treturn null;\n+\t}\n+\t\n+\t// Cadastrar Produto\n+\tpublic ProdutoModel cadastrarProduto(ProdutoModel novoProduto, Long idUsuario) {\n+\t\tProdutoModel produtoExistente = produtoRepository.save(novoProduto); \n+\t\tOptional<UsuarioModel> usuarioExistente = usuarioRepository.findById(idUsuario);\n+\t\t\n+\t\tif(usuarioExistente.isPresent()) {\n+\t\t\tprodutoExistente.setCriadoPor(usuarioExistente.get());\n+\t\t\treturn produtoRepository.save(produtoExistente);\n+\t\t}\n+\t\treturn null;\n+\t}\n+\t\n+\t// Efetuar Compra\n+\tpublic UsuarioModel comprarProduto(Long idUsuario, Long idProduto) {\n+\t\tOptional<UsuarioModel> usuarioExistente = usuarioRepository.findById(idUsuario);\n+\t\tOptional<ProdutoModel> produtoExistente = produtoRepository.findById(idProduto);\n+\t\t\n+\t\tif(usuarioExistente.isPresent() && produtoExistente.isPresent()) {\n+\t\t\tusuarioExistente.get().getMinhasCompras().add(produtoExistente.get());\n+\t\t\treturn usuarioRepository.save(usuarioExistente.get());\n+\t\t}\n+\t\treturn null;\n+\t}\n+\t\n+\t// Validar Lista de Compradores por Nome\n+\tpublic Optional<UsuarioModel> pegarUsuarios(String nome){\n+\t\treturn usuarioRepository.findByNomeUsuario(nome);\n+\t}\n+\t\n+\t// Remover um produto\n+\tpublic UsuarioModel deletarProduto(Long idProduto, Long idUsuario) {\n+\t\tOptional<UsuarioModel> usuarioExistente = usuarioRepository.findById(idUsuario);\n+\t\tOptional<ProdutoModel> produtoExistente = produtoRepository.findById(idProduto);\n+\t\t\n+\t\tif(usuarioExistente.isPresent() && produtoExistente.isPresent()) {\n+\t\t\tprodutoExistente.get().setCriadoPor(null);\n+\t\t\tprodutoRepository.save(produtoExistente.get());\n+\t\t\tprodutoRepository.deleteById(produtoExistente.get().getId());\n+\t\t\treturn usuarioRepository.findById(usuarioExistente.get().getId()).get();\n+\t\t}\n+\t\treturn null;\n+\t}\n+\t\t\n+}"
  },
  {
    "sha": "6c415f39d6bfde8180fac905f1f49530e7286dd7",
    "filename": "meuAtelie/src/main/resources/application.properties",
    "status": "modified",
    "additions": 2,
    "deletions": 3,
    "changes": 5,
    "blob_url": "https://github.com/jessicacordeiro/Projeto-Integrador-Generation/blob/cfd25e454eb33ce603d368710b897c9af50caa7f/meuAtelie/src/main/resources/application.properties",
    "raw_url": "https://github.com/jessicacordeiro/Projeto-Integrador-Generation/raw/cfd25e454eb33ce603d368710b897c9af50caa7f/meuAtelie/src/main/resources/application.properties",
    "contents_url": "https://api.github.com/repos/jessicacordeiro/Projeto-Integrador-Generation/contents/meuAtelie/src/main/resources/application.properties?ref=cfd25e454eb33ce603d368710b897c9af50caa7f",
    "patch": "@@ -1,6 +1,5 @@\n spring.jpa.hibernate.ddl-auto=update\n spring.datasource.url=jdbc:mysql://${MYSQL_HOST:localhost}:3306/db_ecommerce?createDatabaseIfNotExist=true&serverTimezone=UTC\n spring.datasource.username=root\n-spring.datasource.password=Admin@633\n-jpa.show-sql=true\n-\n+spring.datasource.password=\n+spring.jpa.show-sql=true\n\\ No newline at end of file"
  },
  {
    "sha": "f81242e58676719a8b9793851f05fa402f30dc9d",
    "filename": "meuAtelie/src/test/java/br/com/ecommerce/meuAtelie/MeuAtelieApplicationTests.java",
    "status": "removed",
    "additions": 0,
    "deletions": 13,
    "changes": 13,
    "blob_url": "https://github.com/jessicacordeiro/Projeto-Integrador-Generation/blob/0e71ea49402921eb51b33fb0876064eb558c42d6/meuAtelie/src/test/java/br/com/ecommerce/meuAtelie/MeuAtelieApplicationTests.java",
    "raw_url": "https://github.com/jessicacordeiro/Projeto-Integrador-Generation/raw/0e71ea49402921eb51b33fb0876064eb558c42d6/meuAtelie/src/test/java/br/com/ecommerce/meuAtelie/MeuAtelieApplicationTests.java",
    "contents_url": "https://api.github.com/repos/jessicacordeiro/Projeto-Integrador-Generation/contents/meuAtelie/src/test/java/br/com/ecommerce/meuAtelie/MeuAtelieApplicationTests.java?ref=0e71ea49402921eb51b33fb0876064eb558c42d6",
    "patch": "@@ -1,13 +0,0 @@\n-package br.com.ecommerce.meuAtelie;\n-\n-import org.junit.jupiter.api.Test;\n-import org.springframework.boot.test.context.SpringBootTest;\n-\n-@SpringBootTest\n-class MeuAtelieApplicationTests {\n-\n-\t@Test\n-\tvoid contextLoads() {\n-\t}\n-\n-}"
  }
]
