[
  {
    "sha": "08f3afc7bddb007616e08b6c66521769f433e479",
    "filename": "en/docs/reference/product-apis/devportal-apis/devportal-v2/devportal-v2.yaml",
    "status": "modified",
    "additions": 237,
    "deletions": 41,
    "changes": 278,
    "blob_url": "https://github.com/wso2/docs-apim/blob/3aa232008498c0de3b73dd15b8c42083f5200276/en/docs/reference/product-apis/devportal-apis/devportal-v2/devportal-v2.yaml",
    "raw_url": "https://github.com/wso2/docs-apim/raw/3aa232008498c0de3b73dd15b8c42083f5200276/en/docs/reference/product-apis/devportal-apis/devportal-v2/devportal-v2.yaml",
    "contents_url": "https://api.github.com/repos/wso2/docs-apim/contents/en/docs/reference/product-apis/devportal-apis/devportal-v2/devportal-v2.yaml?ref=3aa232008498c0de3b73dd15b8c42083f5200276",
    "patch": "@@ -125,7 +125,7 @@ paths:\n         This operation supports retrieving APIs of other tenants. The required tenant domain need to be specified as a header `X-WSO2-Tenant`. If not specified super tenant's APIs will be retrieved. If you used an Authorization header, the user's tenant associated with the access token will be used.\n \n         **NOTE:**\n-        * By default, this operation retrieves Published APIs. In order to retrieve Prototyped APIs, you need to use **query** parameter and specify **status:PROTOTYPED**.\n+        * By default, this operation retrieves Published and Prototyped APIs.\n         * This operation does not require an Authorization header by default. But if it is provided, it will be validated and checked for permissions of the user, hence you may be able to see APIs which are restricted for special permissions/roles.\n       parameters:\n         - $ref: '#/components/parameters/limit'\n@@ -147,7 +147,14 @@ paths:\n             \"provider:wso2*\" will match an API if the provider of the API starts with \"wso2\".\n \n             Supported attribute modifiers are [**version, context, status,\n-            description, subcontext, doc, provider, tag**]\n+            description, subcontext, doc, provider, tag, label, api-category**]\n+\n+            To search by API Properties provide the query in below format.\n+\n+            **property_name:property_value**\n+\n+            Eg.\n+            \"environment:test\" where environment is the property name and test is the propert value.\n \n             If no advanced attribute modifier has been specified, search will match the\n             given query string against API Name.\n@@ -303,7 +310,7 @@ paths:\n       summary: |\n         Get GraphQL Definition\n       description: |\n-        You can use this operation to retrieve the swagger definition of an API.\n+        You can use this operation to retrieve the GraphQL schema definition of a GraphQL API.\n \n          `X-WSO2-Tenant` header can be used to retrieve the swagger definition an API of a different tenant domain. If not specified super tenant will be used. If Authorization header is present in the request, the user's tenant associated with the access token will be used.\n \n@@ -330,7 +337,104 @@ paths:\n                 Used by caches, or in conditional requests.\n               schema:\n                 type: string\n-          content: {}\n+          content: \n+            application/json:\n+              schema:\n+                type: string\n+                example: 'directive @cacheControl(\n+                    maxAge: Int\n+                    scope: CacheControlScope\n+                  ) on FIELD_DEFINITION | OBJECT | INTERFACE\n+                  enum CacheControlScope {\n+                    PUBLIC\n+                    PRIVATE\n+                  }\n+\n+                  # A `Lift` is a chairlift, gondola, tram, funicular, pulley, rope tow, or other means of ascending a mountain.\n+                  type Lift {\n+                    # The unique identifier for a `Lift` (id: \"panorama\")\n+                    id: ID!\n+                    # The name of a `Lift`\n+                    name: String!\n+                    # The current status for a `Lift`: `OPEN`, `CLOSED`, `HOLD`\n+                    status: LiftStatus\n+                    # The number of people that a `Lift` can hold\n+                    capacity: Int!\n+                    # A boolean describing whether a `Lift` is open for night skiing\n+                    night: Boolean!\n+                    # The number of feet in elevation that a `Lift` ascends\n+                    elevationGain: Int!\n+                    # A list of trails that this `Lift` serves\n+                    trailAccess: [Trail!]!\n+                  }\n+\n+                  # An enum describing the options for `LiftStatus`: `OPEN`, `CLOSED`, `HOLD`\n+                  enum LiftStatus {\n+                    OPEN\n+                    CLOSED\n+                    HOLD\n+                  }\n+\n+                  type Mutation {\n+                    # Sets a `Lift` status by sending `id` and `status`\n+                    setLiftStatus(id: ID!, status: LiftStatus!): Lift!\n+                    # Sets a `Trail` status by sending `id` and `status`\n+                    setTrailStatus(id: ID!, status: TrailStatus!): Trail!\n+                  }\n+\n+                  type Query {\n+                    # A list of all `Lift` objects\n+                    allLifts(status: LiftStatus): [Lift!]!\n+                    # A list of all `Trail` objects\n+                    allTrails(status: TrailStatus): [Trail!]!\n+                    # Returns a `Lift` by `id` (id: \"panorama\")\n+                    Lift(id: ID!): Lift!\n+                    # Returns a `Trail` by `id` (id: \"old-witch\")\n+                    Trail(id: ID!): Trail!\n+                    # Returns an `Int` of `Lift` objects with optional `LiftStatus` filter\n+                    liftCount(status: LiftStatus): Int!\n+                    # Returns an `Int` of `Trail` objects with optional `TrailStatus` filter\n+                    trailCount(status: TrailStatus): Int!\n+                    # Returns a list of `SearchResult` objects based on `term` or `status`\n+                    search(term: String, status: LiftStatus): [SearchResult!]!\n+                  }\n+\n+                  union SearchResult = Lift | Trail\n+                  type Subscription {\n+                    # Listens for changes in lift status\n+                             liftStatusChange: Lift\n+                    # Listens for changes in trail status\n+                             trailStatusChange: Trail\n+                  }\n+\n+                  # A `Trail` is a run at a ski resort\n+                  type Trail {\n+                    id: ID!\n+                    # The name of a `Trail`\n+                    name: String!\n+                    # The current status for a `Trail`: OPEN, CLOSED\n+                    status: TrailStatus\n+                    # The difficulty rating for a `Trail`\n+                    difficulty: String!\n+                    # A boolean describing whether or not a `Trail` is groomed\n+                    groomed: Boolean!\n+                    # A boolean describing whether or not a `Trail` has trees\n+                    trees: Boolean!\n+                    # A boolean describing whether or not a `Trail` is open for night skiing\n+                    night: Boolean!\n+                    # A list of Lifts that provide access to this `Trail`\n+                    accessedByLifts: [ Lift! ]!\n+                  }\n+\n+                  # An enum describing the options for `TrailStatus`: `OPEN`, `CLOSED`\n+                  enum TrailStatus {\n+                  OPEN\n+                  CLOSED\n+                  }\n+\n+                  # The `Upload` scalar type\n+                  represents a file upload.\n+                  scalar Upload'\n         304:\n           description: |\n             Not Modified.\n@@ -360,6 +464,8 @@ paths:\n           in: path\n           description: |\n             Programming language of the SDK that is required.\n+\n+            Languages supported by default are **Java**, **Javascript**, **Android** and **JMeter**.\n           required: true\n           schema:\n             type: string\n@@ -925,7 +1031,7 @@ paths:\n         - Comments\n       summary: Get Details of an API Comment\n       description: |\n-        Get the individual comment given by a username for a certain API.\n+        Get the individual comment given by a user for a certain API.\n       operationId: getCommentOfAPI\n       parameters:\n         - $ref: '#/components/parameters/commentId'\n@@ -960,8 +1066,6 @@ paths:\n             Not Modified.\n             Empty body because the client has already the latest version of the requested resource.\n           content: {}\n-        401:\n-          $ref: '#/components/responses/Unauthorized'\n         404:\n           $ref: '#/components/responses/NotFound'\n         406:\n@@ -1077,9 +1181,7 @@ paths:\n             You can search for an application by specifying the name as \"query\" attribute.\n \n             Eg.\n-            \"app1\" will match an application if the name is exactly \"app1\".\n-\n-            Currently this does not support wildcards. Given name must exactly match the application name.\n+            \"app1\" will match an application if the application name contains character sequence \"app1\".\n           schema:\n             type: string\n         - name: sortBy\n@@ -1133,7 +1235,7 @@ paths:\n       x-code-samples:\n         - lang: Curl\n           source: 'curl -k -H \"Authorization: Bearer ae4eae22-3f65-387b-a171-d37eaa366fa8\"\n-          \"https://localhost:9443/api/am/devportal/v2/applications\"'\n+          \"https://localhost:9443/api/am/devportal/v2/applications?query=CalculatorApp\"'\n \n     post:\n       tags:\n@@ -1792,7 +1894,7 @@ paths:\n       x-code-samples:\n         - lang: Curl\n           source: 'curl -k -H \"Authorization: Bearer ae4eae22-3f65-387b-a171-d37eaa366fa8\"\n-          -H \"Content-Type: application/json\" -X POST -d @data.json \"https://localhost:9443/api/am/devportal/v2/applications/16cd2684-9657-4a01-a956-4efd89e96077/oauth-keys/df972173-c957-46d4-96ac-99be8e303584\"'\n+          -H \"Content-Type: application/json\" -X PUT -d @data.json \"https://localhost:9443/api/am/devportal/v2/applications/16cd2684-9657-4a01-a956-4efd89e96077/oauth-keys/df972173-c957-46d4-96ac-99be8e303584\"'\n \n   /applications/{applicationId}/oauth-keys/{keyMappingId}/regenerate-secret:\n     post:\n@@ -2068,15 +2170,15 @@ paths:\n         - OAuth2Security:\n             - apim:app_import_export\n       x-code-samples:\n-        - lang: Shell\n+        - lang: Curl\n           source: 'curl -k -H \"Authorization: Bearer ae4eae22-3f65-387b-a171-d37eaa366fa8\"\n-          \"https://127.0.0.1:9443/api/am/devportal/v2/applications/import?appName=sampleApp&appOwner=admin&withKeys=true\"\n+          \"https://localhost:9443/api/am/devportal/v2/applications/export?appName=sampleApp&appOwner=admin&withKeys=true\"\n           > exportedApplication.zip'\n \n   /applications/import:\n     post:\n       tags:\n-        - Application (Individual)\n+        - Import Export\n       summary: Import an Application\n       description: |\n         This operation can be used to import an application.\n@@ -2155,7 +2257,7 @@ paths:\n         - OAuth2Security:\n             - apim:app_import_export\n       x-code-samples:\n-        - lang: Shell\n+        - lang: Curl\n           source: 'curl -k -X POST -H \"Authorization: Bearer ae4eae22-3f65-387b-a171-d37eaa366fa8\"\n           -F file=@exportedApplication.zip \"https://127.0.0.1:9443/api/am/devportal/v2/applications/import?preserveOwner=true&skipSubscriptions=false&appOwner=admin&skipApplicationKeys=false&update=true\"'\n \n@@ -2171,7 +2273,7 @@ paths:\n       description: |\n         This operation can be used to retrieve a list of subscriptions of the user associated with the provided access token. This operation is capable of\n \n-        1. Retrieving applications which are subscibed to a specific API.\n+        1. Retrieving applications which are subscribed to a specific API.\n         `GET https://localhost:9443/api/am/devportal/v2/subscriptions?apiId=c43a325c-260b-4302-81cb-768eafaa3aed`\n \n         2. Retrieving APIs which are subscribed by a specific application.\n@@ -2235,6 +2337,10 @@ paths:\n           application/json:\n             schema:\n               $ref: '#/components/schemas/Subscription'\n+            example:\n+              applicationId: bbcc3be9-e29c-4ba2-a756-d922a5bd6c4d\n+              apiId: abcff4cf-24c5-4298-a7b4-39a1fbd34693\n+              throttlingPolicy: Unlimited\n         required: true\n       responses:\n         201:\n@@ -2303,6 +2409,13 @@ paths:\n               type: array\n               items:\n                 $ref: '#/components/schemas/Subscription'\n+            example:\n+              - applicationId: bbcc3be9-e29c-4ba2-a756-d922a5bd6c4d\n+                apiId: abcff4cf-24c5-4298-a7b4-39a1fbd34693\n+                throttlingPolicy: Unlimited\n+              - applicationId: 67543be9-e29c-4ba2-7856-d922a5bd6c4d\n+                apiId: abcff4cf-24c5-4298-a7b4-39a1f7896693\n+                throttlingPolicy: Bronze\n         required: true\n       responses:\n         200:\n@@ -2510,11 +2623,6 @@ paths:\n         - lang: Curl\n           source: 'curl -k -H \"Authorization: Bearer ae4eae22-3f65-387b-a171-d37eaa366fa8\"\n           -H \"Content-Type: application/json\" -X DELETE \"https://localhost:9443/api/am/devportal/v2/subscriptions/80369180-7d90-4ee8-99a1-19fa68512aa5\"'\n-      x-wso2-curl: 'curl -k -H \"Authorization: Bearer ae4eae22-3f65-387b-a171-d37eaa366fa8\"\n-        -X DELETE \"https://localhost:9443/api/am/devportal/v2/subscriptions/5b65808c-cdf2-43e1-a695-de63e3ad0ae9\"'\n-      x-wso2-request: |\n-        DELETE https://localhost:9443/api/am/devportal/v2/subscriptions/5b65808c-cdf2-43e1-a695-de63e3ad0ae9\n-      x-wso2-response: HTTP/1.1 200 OK\n \n   /subscriptions/{subscriptionId}/usage:\n     get:\n@@ -2575,7 +2683,7 @@ paths:\n         - Throttling Policies\n       summary: Get All Available Throttling Policies\n       description: |\n-        Get available Throttling Policies\n+        This operation can be used to get all available application or subscription level throttling policies\n       parameters:\n         - $ref: '#/components/parameters/limit'\n         - $ref: '#/components/parameters/offset'\n@@ -2792,7 +2900,9 @@ paths:\n           description: |\n             OK.\n             List of supported languages for generating SDKs.\n-          content: {}\n+          content:\n+            application/json:\n+              example : [\"android\",\"java\",\"javascript\",\"jmeter\"]\n         404:\n           $ref: '#/components/responses/NotFound'\n         500:\n@@ -2883,7 +2993,7 @@ paths:\n       summary: |\n         Get Tenants by State\n       description: |\n-        This operation is to get tenants by state\n+        This operation is used to get tenants by state\n       parameters:\n         - name: state\n           in: query\n@@ -3241,7 +3351,7 @@ paths:\n   /api-categories:\n     get:\n       tags:\n-        - API Category (Collection)\n+        - API Categories\n       summary: Get All API Categories\n       description: |\n         Get all API categories\n@@ -3278,7 +3388,7 @@ paths:\n         200:\n           description: |\n             OK.\n-            Categories returned\n+            Key Manager list returned\n           content:\n             application/json:\n               schema:\n@@ -3424,17 +3534,45 @@ components:\n             description: A calculator API that supports basic operations\n             context: /CalculatorAPI\n             version: 1.0.0\n+            type: HTTP\n             provider: admin\n             lifeCycleStatus: PUBLISHED\n             thumbnailUri: /apis/01234567-0123-0123-0123-012345678901/thumbnail\n+            avgRating: 4.3\n+            throttlingPolicies: [Unlimited]\n+            advertiseInfo:\n+              advertised: false,\n+              originalDevPortalUrl: null,\n+              apiOwner: null\n+            businessInformation:\n+              businessOwner: Jane Roe\n+              businessOwnerEmail: businessowner@wso2.com\n+              technicalOwner: John Doe\n+              technicalOwnerEmail: technicalowner@wso2.com\n+            isSubscriptionAvailable: true\n+            monetizationLabel: null\n           - id: 01123567-1233-5453-0212-12353678901\n             name: PizzaShackAPI\n             description: A Pizza ordering API\n             context: /PizzaShackAPI\n             version: 1.0.0\n+            type: HTTP\n             provider: admin\n             lifeCycleStatus: PUBLISHED\n             thumbnailUri: /apis/01123567-1233-5453-0212-12353678901/thumbnail\n+            avgRating: 4.3\n+            throttlingPolicies: [ Unlimited ]\n+            advertiseInfo:\n+              advertised: false,\n+              originalDevPortalUrl: null,\n+              apiOwner: null\n+            businessInformation:\n+              businessOwner: Jane Roe\n+              businessOwnerEmail: businessowner@wso2.com\n+              technicalOwner: John Doe\n+              technicalOwnerEmail: technicalowner@wso2.com\n+            isSubscriptionAvailable: true\n+            monetizationLabel: null\n         pagination:\n           offset: 2\n           limit: 2\n@@ -3567,7 +3705,7 @@ components:\n         type:\n           type: string\n           description: This describes the transport type of the API\n-          example: WS\n+          example: HTTP\n         transport:\n           type: array\n           example:\n@@ -3683,11 +3821,9 @@ components:\n                   ws:\n                     type: string\n                     description: WS environment URL\n-                    example: ws://localhost:9099/phoneverify/1.0.0\n                   wss:\n                     type: string\n                     description: WSS environment URL\n-                    example: wss://localhost:9099/phoneverify/1.0.0\n               defaultVersionURLs:\n                 type: object\n                 properties:\n@@ -3702,11 +3838,9 @@ components:\n                   ws:\n                     type: string\n                     description: WS environment default URL\n-                    example: ws://localhost:9099/phoneverify/\n                   wss:\n                     type: string\n                     description: WSS environment default URL\n-                    example: ws://localhost:9099/phoneverify/\n         businessInformation:\n           $ref: '#/components/schemas/APIBusinessInformation'\n         labels:\n@@ -3743,12 +3877,13 @@ components:\n             API categories\n           items:\n             type: string\n-            example: \"\"\n+            example: \"Marketing\"\n         keyManagers:\n           type: object\n           properties: {}\n           description: |\n             API Key Managers\n+          example: [\"all\"]\n         createdTime:\n           type: string\n           example: 2020-10-31T13:57:16.229\n@@ -3766,6 +3901,7 @@ components:\n           example: Public\n         description:\n           type: string\n+          example: Public APIs\n         accessUrls:\n           type: array\n           items:\n@@ -4067,6 +4203,7 @@ components:\n     Subscription:\n       title: Subscription\n       required:\n+        - apiId\n         - applicationId\n         - throttlingPolicy\n       type: object\n@@ -4198,12 +4335,28 @@ components:\n         createdTime:\n           type: string\n           readOnly: true\n+          example: 2021-02-11-09:57:25\n         createdBy:\n           type: string\n           readOnly: true\n           example: admin\n+        updatedTime:\n+          type: string\n+          readOnly: true\n+          example: 2021-02-12-19:57:25\n+        category:\n+          type: string\n+          default: general\n+        parentCommentId:\n+          type: string\n+          example: 6f38aea2-f41e-4ac9-b3f2-a9493d00ba97\n+        entryPoint:\n+          type: string\n+          enum: [ devPortal, publisher ]\n         commenterInfo:\n           $ref: '#/components/schemas/CommenterInfo'\n+        replies:\n+          $ref: '#/components/schemas/CommentList'\n     CommentList:\n       title: Comments List\n       type: object\n@@ -4404,7 +4557,7 @@ components:\n         callbackUrl:\n           type: string\n           description: Callback URL\n-          example: http://sample.com/callback/url\n+          example: http://example.com\n         scopes:\n           type: array\n           description: Allowed scopes for the access token\n@@ -4654,6 +4807,23 @@ components:\n           type: array\n           items:\n             type: object\n+          example:\n+            - id: abcff4cf-24c5-4298-a7b4-39a1fbd34693\n+              name: PizzaShackAPI\n+              type: API\n+              transportType:\n+              description:\n+              context: \"/pizzashack\"\n+              version: 1.0.0\n+              provider: admin\n+              status: PUBLISHED\n+              thumbnailUri:\n+              businessInformation:\n+                businessOwner: Jane Roe\n+                businessOwnerEmail: businessowner@wso2.com\n+                technicalOwner: John Doe\n+                technicalOwnerEmail: technicalowner@wso2.com\n+              avgRating: '4.0'\n         pagination:\n           $ref: '#/components/schemas/Pagination'\n     SearchResult:\n@@ -4790,22 +4960,22 @@ components:\n           example: 0\n         limit:\n           type: integer\n-          example: 1\n+          example: 10\n         total:\n           type: integer\n-          example: 10\n+          example: 1\n         next:\n           type: string\n           description: |\n             Link to the next subset of resources qualified.\n             Empty if no more resources are to be returned.\n-            example: \"\"\n+          example: \"\"\n         previous:\n           type: string\n           description: |\n             Link to the previous subset of resources qualified.\n             Empty if current subset is the first subset returned.\n-            example: \"\"\n+          example: \"\"\n     Settings:\n       title: Settings\n       type: object\n@@ -4814,10 +4984,28 @@ components:\n           type: array\n           items:\n             type: string\n+          example:\n+            - refresh_token\n+            - urn:ietf:params:oauth:grant-type:saml2-bearer\n+            - implicit\n+            - password\n+            - client_credentials\n+            - iwa:ntlm\n+            - authorization_code\n+            - urn:ietf:params:oauth:grant-type:jwt-bearer\n         scopes:\n           type: array\n           items:\n             type: string\n+          example:\n+            - apim:api_key\n+            - apim:app_import_export\n+            - apim:app_manage\n+            - apim:store_settings\n+            - apim:sub_alert_manage\n+            - apim:sub_manage\n+            - apim:subscribe\n+            - openid\n         applicationSharingEnabled:\n           type: boolean\n           default: false\n@@ -4850,11 +5038,11 @@ components:\n         userStorePasswordPattern:\n           type: string\n           description: The 'PasswordJavaRegEx' cofigured in the UserStoreManager\n-          example: \"\"\n+          example: \"^[\\\\S]{5,30}$\"\n         passwordPolicyPattern:\n           type: string\n           description: The regex configured in the Password Policy property 'passwordPolicy.pattern'\n-          example: \"\"\n+          example: \"^[\\\\S]{5,30}$\"\n         passwordPolicyMinLength:\n           type: integer\n           description: If Password Policy Feature is enabled, the property 'passwordPolicy.min.length'\n@@ -4961,11 +5149,18 @@ components:\n         count:\n           type: integer\n           description: The number of alerts\n-          example: 3\n+          example: 2\n         alerts:\n           type: array\n           items:\n             $ref: '#/components/schemas/AlertType'\n+          example:\n+            - id: 3\n+              name: AbnormalRequestsPerMin\n+              requireConfiguration: true\n+            - id: 4\n+              name: AbnormalRequestPattern\n+              requireConfiguration: false\n     AlertType:\n       title: Alert Type\n       type: object\n@@ -5049,6 +5244,7 @@ components:\n           type: string\n           description: The alert config subscription id.\n           example: UGl6emFTaGFja0FQSSsxLjAuMCtEZWZhdWx0QXBwbGljYXRpb24K\n+          readOnly: true\n         configuration:\n           type: object\n           additionalProperties:"
  }
]
