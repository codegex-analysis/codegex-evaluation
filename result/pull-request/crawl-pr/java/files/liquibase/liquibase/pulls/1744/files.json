[
  {
    "sha": "ccaf41310021c150b9e7feaf77a7f89a4710d774",
    "filename": "liquibase-core/src/main/java/liquibase/resource/FileSystemResourceAccessor.java",
    "status": "modified",
    "additions": 7,
    "deletions": 3,
    "changes": 10,
    "blob_url": "https://github.com/liquibase/liquibase/blob/ba007ee2925f61f549bd407bdb8cad723fc69a2e/liquibase-core/src/main/java/liquibase/resource/FileSystemResourceAccessor.java",
    "raw_url": "https://github.com/liquibase/liquibase/raw/ba007ee2925f61f549bd407bdb8cad723fc69a2e/liquibase-core/src/main/java/liquibase/resource/FileSystemResourceAccessor.java",
    "contents_url": "https://api.github.com/repos/liquibase/liquibase/contents/liquibase-core/src/main/java/liquibase/resource/FileSystemResourceAccessor.java?ref=ba007ee2925f61f549bd407bdb8cad723fc69a2e",
    "patch": "@@ -6,6 +6,7 @@\n \n import java.io.*;\n import java.net.URI;\n+import java.nio.file.FileSystem;\n import java.nio.file.*;\n import java.nio.file.attribute.BasicFileAttributes;\n import java.util.Collections;\n@@ -51,7 +52,7 @@ public FileSystemResourceAccessor(String file) {\n     }\n \n     protected void addRootPath(Path path) {\n-        Scope.getCurrentScope().getLog(getClass()).fine(\"Adding path \"+path+\" to resourceAccessor \"+getClass().getName());\n+        Scope.getCurrentScope().getLog(getClass()).fine(\"Adding path \" + path + \" to resourceAccessor \" + getClass().getName());\n         rootPaths.add(path);\n     }\n \n@@ -144,6 +145,9 @@ public InputStreamList openStreams(String relativeTo, String streamPath) throws\n                     if (Paths.get(streamPath).startsWith(finalRootPath) || Paths.get(streamPath).startsWith(\"/\" + finalRootPath)) {\n                         streamPath = finalRootPath.relativize(Paths.get(streamPath)).toString();\n                     }\n+                    if (Paths.get(\"/\" + streamPath).startsWith(finalRootPath)) {\n+                        streamPath = finalRootPath.relativize(Paths.get(\"/\" + streamPath)).toString();\n+                    }\n                 } catch (InvalidPathException ignored) {\n                     //that is ok\n                 }\n@@ -223,7 +227,7 @@ protected void addToReturnList(Path file) {\n                     if (relativeTo != null) {\n                         basePath = basePath.resolve(relativeTo);\n                         if (!Files.exists(basePath)) {\n-                            Scope.getCurrentScope().getLog(getClass()).info(\"Relative path \"+relativeTo+\" in \"+rootPath+\" does not exist\");\n+                            Scope.getCurrentScope().getLog(getClass()).info(\"Relative path \" + relativeTo + \" in \" + rootPath + \" does not exist\");\n                             continue;\n                         } else if (Files.isRegularFile(basePath)) {\n                             basePath = basePath.getParent();\n@@ -244,7 +248,7 @@ protected void addToReturnList(Path file) {\n                 if (relativeTo != null) {\n                     basePath = basePath.resolve(relativeTo);\n                     if (!Files.exists(basePath)) {\n-                        Scope.getCurrentScope().getLog(getClass()).info(\"Relative path \"+relativeTo+\" in \"+rootPath+\" does not exist\");\n+                        Scope.getCurrentScope().getLog(getClass()).info(\"Relative path \" + relativeTo + \" in \" + rootPath + \" does not exist\");\n                         continue;\n                     } else if (Files.isRegularFile(basePath)) {\n                         basePath = basePath.getParent();"
  },
  {
    "sha": "6a618c8c2e898454654eec93a90d75c81689699c",
    "filename": "liquibase-maven-plugin/src/main/java/org/liquibase/maven/plugins/AbstractLiquibaseMojo.java",
    "status": "modified",
    "additions": 5,
    "deletions": 0,
    "changes": 5,
    "blob_url": "https://github.com/liquibase/liquibase/blob/ba007ee2925f61f549bd407bdb8cad723fc69a2e/liquibase-maven-plugin/src/main/java/org/liquibase/maven/plugins/AbstractLiquibaseMojo.java",
    "raw_url": "https://github.com/liquibase/liquibase/raw/ba007ee2925f61f549bd407bdb8cad723fc69a2e/liquibase-maven-plugin/src/main/java/org/liquibase/maven/plugins/AbstractLiquibaseMojo.java",
    "contents_url": "https://api.github.com/repos/liquibase/liquibase/contents/liquibase-maven-plugin/src/main/java/org/liquibase/maven/plugins/AbstractLiquibaseMojo.java?ref=ba007ee2925f61f549bd407bdb8cad723fc69a2e",
    "patch": "@@ -13,6 +13,7 @@\n import liquibase.resource.CompositeResourceAccessor;\n import liquibase.resource.FileSystemResourceAccessor;\n import liquibase.resource.ResourceAccessor;\n+import liquibase.util.FileUtil;\n import liquibase.util.ui.UIFactory;\n import org.apache.maven.artifact.manager.WagonManager;\n import org.apache.maven.plugin.AbstractMojo;\n@@ -531,6 +532,10 @@ public void configureFieldsAndValues() throws MojoExecutionException, MojoFailur\n             getLog().info(\"Parsing Liquibase Properties File\");\n             getLog().info(\"  File: \" + propertyFile);\n             try (InputStream is = handlePropertyFileInputStream(propertyFile)) {\n+                if (is == null) {\n+                    throw new MojoExecutionException(FileUtil.getFileNotFoundMessage(propertyFile));\n+                }\n+\n                 parsePropertiesFile(is);\n                 getLog().info(MavenUtils.LOG_SEPARATOR);\n             } catch (IOException e) {"
  }
]
