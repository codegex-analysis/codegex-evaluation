[
  {
    "sha": "e69de29bb2d1d6434b8b29ae775ad8c2e48c5391",
    "filename": ".github/.keep",
    "status": "added",
    "additions": 0,
    "deletions": 0,
    "changes": 0,
    "blob_url": "https://github.com/psoft-2020-1/mercado-facil/blob/16614dc6a949734ba3458f99cd9d64d4cfefe886/.github/.keep",
    "raw_url": "https://github.com/psoft-2020-1/mercado-facil/raw/16614dc6a949734ba3458f99cd9d64d4cfefe886/.github/.keep",
    "contents_url": "https://api.github.com/repos/psoft-2020-1/mercado-facil/contents/.github/.keep?ref=16614dc6a949734ba3458f99cd9d64d4cfefe886"
  },
  {
    "sha": "63e63ce2e2c978c8abdc1146a29deb784675054b",
    "filename": ".gitignore",
    "status": "modified",
    "additions": 3,
    "deletions": 3,
    "changes": 6,
    "blob_url": "https://github.com/psoft-2020-1/mercado-facil/blob/16614dc6a949734ba3458f99cd9d64d4cfefe886/.gitignore",
    "raw_url": "https://github.com/psoft-2020-1/mercado-facil/raw/16614dc6a949734ba3458f99cd9d64d4cfefe886/.gitignore",
    "contents_url": "https://api.github.com/repos/psoft-2020-1/mercado-facil/contents/.gitignore?ref=16614dc6a949734ba3458f99cd9d64d4cfefe886",
    "patch": "@@ -1,6 +1,6 @@\n-/target/*\n-/.class\n+/target/\n+*.class\n .classpath\n .project\n .settings\n-bin/\n+/bin"
  },
  {
    "sha": "2225c4058b5a1776dce0f5fde0d4591412812515",
    "filename": "README.md",
    "status": "modified",
    "additions": 12,
    "deletions": 11,
    "changes": 23,
    "blob_url": "https://github.com/psoft-2020-1/mercado-facil/blob/16614dc6a949734ba3458f99cd9d64d4cfefe886/README.md",
    "raw_url": "https://github.com/psoft-2020-1/mercado-facil/raw/16614dc6a949734ba3458f99cd9d64d4cfefe886/README.md",
    "contents_url": "https://api.github.com/repos/psoft-2020-1/mercado-facil/contents/README.md?ref=16614dc6a949734ba3458f99cd9d64d4cfefe886",
    "patch": "@@ -4,21 +4,22 @@ Um supermercado da cidade de Campina Grande precisa de um sistema que gerencie o\n \n ## User Stories já implementadas\n \n-- Eu, como administrador, gostaria de adicionar um novo produto no sistema,\n-informando seu nome, código de barra, fabricante, situação, e categoria;\n-- Eu, como administrador, gostaria de consultar a disponibilidade e o preço de cada\n-produto do supermercado;\n-- Eu, como administrador, gostaria de atribuir um preço (R$) a um determinado\n-produto no sistema;\n-- Eu, como administrador, gostaria de criar lotes associados aos produtos,\n-informando a quantidade de itens disponíveis e a data de validade.\n+- Eu, como administrador, gostaria de adicionar um novo produto no sistema, informando seu ID, nome, código de barra, fabricante, e categoria;\n+- Eu, como administrador, gostaria de consultar a disponibilidade e o preço de cada produto do supermercado;\n+- Eu, como administrador, gostaria de criar lotes associados aos produtos, informando a quantidade de itens disponíveis.\n+- Eu, como usuário comum, gostaria de adicionar compras a um carrinho, informando o ID e a quantidade de itens que quero comprar. \n+- Eu, como usuário comum, gostaria de consultar os produtos no carrinho.\n+- Eu, como usuário comum, gostaria de comprar todos os produtos que estão no carrinho.\n+- Eu, como usuário comum, gostaria de poder esvaziar o carrinho.\n+\n+\n \n ## Estrutura básica\n \n - Um projeto: MercadoFacil;\n - Um Controller RestApiController que implementa os endpoints da API Rest.\n-- Dois repositórios são utilizados: ProdutoRepository e LoteRepository, que são responsáveis por manipular as entidades Produto e Lote em um banco de dados em memória;\n-- O modelo é composto pelas classes Produto.java e Lote.java que podem ser\n+- Dois repositórios são utilizados: ProdutoRepository, LoteRepository e Carrinho que são responsáveis por manipular as entidades Produto, Lote e Compra em um banco de dados em memória;\n+- O modelo é composto pelas classes Produto.java, Lote.java e Compra.java que podem ser\n encontradas no pacote model;\n - O pacote exceptions guarda as classes de exceções que podem ser levantadas\n dentro do sistema;\n@@ -36,4 +37,4 @@ Código base gerado via [start.sprint.io](https://start.spring.io/#!type=maven-p\n ## Endereços úteis\n \n - [http://localhost:8080/swagger-ui.html](http://localhost:8080/swagger-ui.html)\n-- [http://localhost:8080/h2](http://localhost:8080/h2)\n+- [http://localhost:8080/h2](http://localhost:8080/swagger-ui.html)"
  },
  {
    "sha": "ee4265bb640c071a073549189b9d37ad4cc4b0db",
    "filename": "src/main/java/com/ufcg/psoft/mercadofacil/DTO/ProdutoDTO.java",
    "status": "removed",
    "additions": 0,
    "deletions": 56,
    "changes": 56,
    "blob_url": "https://github.com/psoft-2020-1/mercado-facil/blob/a02f0c685b796924562c281c99e51e73a1289aba/src/main/java/com/ufcg/psoft/mercadofacil/DTO/ProdutoDTO.java",
    "raw_url": "https://github.com/psoft-2020-1/mercado-facil/raw/a02f0c685b796924562c281c99e51e73a1289aba/src/main/java/com/ufcg/psoft/mercadofacil/DTO/ProdutoDTO.java",
    "contents_url": "https://api.github.com/repos/psoft-2020-1/mercado-facil/contents/src/main/java/com/ufcg/psoft/mercadofacil/DTO/ProdutoDTO.java?ref=a02f0c685b796924562c281c99e51e73a1289aba",
    "patch": "@@ -1,56 +0,0 @@\n-package com.ufcg.psoft.mercadofacil.DTO;\n-\n-import java.math.BigDecimal;\n-\n-public class ProdutoDTO {\n-\n-\tprivate String nome;\n-\n-\tprivate BigDecimal preco;\n-\n-\tprivate String codigoBarra;\n-\n-\tprivate String fabricante;\n-\t\n-\tprivate String categoria;\n-\n-\tpublic String getNome() {\n-\t\treturn nome;\n-\t}\n-\n-\tpublic void setNome(String nome) {\n-\t\tthis.nome = nome;\n-\t}\n-\n-\tpublic BigDecimal getPreco() {\n-\t\treturn preco;\n-\t}\n-\n-\tpublic void setPreco(BigDecimal preco) {\n-\t\tthis.preco = preco;\n-\t}\n-\n-\tpublic String getCodigoBarra() {\n-\t\treturn codigoBarra;\n-\t}\n-\n-\tpublic void setCodigoBarra(String codigoBarra) {\n-\t\tthis.codigoBarra = codigoBarra;\n-\t}\n-\n-\tpublic String getFabricante() {\n-\t\treturn fabricante;\n-\t}\n-\n-\tpublic void setFabricante(String fabricante) {\n-\t\tthis.fabricante = fabricante;\n-\t}\n-\n-\tpublic String getCategoria() {\n-\t\treturn categoria;\n-\t}\n-\n-\tpublic void setCategoria(String categoria) {\n-\t\tthis.categoria = categoria;\n-\t}\n-}"
  },
  {
    "sha": "f0a396f3fbb1b0d9a8da128a5a1939545c5ee869",
    "filename": "src/main/java/com/ufcg/psoft/mercadofacil/controller/CarrinhoApiController.java",
    "status": "added",
    "additions": 157,
    "deletions": 0,
    "changes": 157,
    "blob_url": "https://github.com/psoft-2020-1/mercado-facil/blob/16614dc6a949734ba3458f99cd9d64d4cfefe886/src/main/java/com/ufcg/psoft/mercadofacil/controller/CarrinhoApiController.java",
    "raw_url": "https://github.com/psoft-2020-1/mercado-facil/raw/16614dc6a949734ba3458f99cd9d64d4cfefe886/src/main/java/com/ufcg/psoft/mercadofacil/controller/CarrinhoApiController.java",
    "contents_url": "https://api.github.com/repos/psoft-2020-1/mercado-facil/contents/src/main/java/com/ufcg/psoft/mercadofacil/controller/CarrinhoApiController.java?ref=16614dc6a949734ba3458f99cd9d64d4cfefe886",
    "patch": "@@ -0,0 +1,157 @@\n+package com.ufcg.psoft.mercadofacil.controller;\n+\n+import java.math.BigDecimal;\n+import java.math.RoundingMode;\n+import java.util.List;\n+import java.util.Optional;\n+\n+import org.springframework.beans.factory.annotation.Autowired;\n+import org.springframework.http.HttpStatus;\n+import org.springframework.http.ResponseEntity;\n+import org.springframework.web.bind.annotation.CrossOrigin;\n+import org.springframework.web.bind.annotation.RequestBody;\n+import org.springframework.web.bind.annotation.RequestMapping;\n+import org.springframework.web.bind.annotation.RequestMethod;\n+import org.springframework.web.bind.annotation.RestController;\n+\n+import com.ufcg.psoft.mercadofacil.model.Compra;\n+import com.ufcg.psoft.mercadofacil.model.Lote;\n+import com.ufcg.psoft.mercadofacil.model.Produto;\n+import com.ufcg.psoft.mercadofacil.service.CarrinhoService;\n+import com.ufcg.psoft.mercadofacil.service.LoteService;\n+import com.ufcg.psoft.mercadofacil.service.ProdutoService;\n+import com.ufcg.psoft.mercadofacil.util.ErroCarrinho;\n+import com.ufcg.psoft.mercadofacil.util.ErroProduto;\n+\n+@RestController\n+@RequestMapping(\"/api\")\n+@CrossOrigin\n+public class CarrinhoApiController {\n+\t@Autowired\n+\tProdutoService produtoService;\n+\t\n+\t@Autowired\n+\tLoteService loteService;\n+\t\n+\t@Autowired\n+\tCarrinhoService carrinhoService;\n+\t\n+\t\n+\t@RequestMapping(value = \"/carrinho\", method = RequestMethod.GET)\n+\tpublic ResponseEntity<?> consultarCarrinho() {\n+\n+\t\tList<Compra> compras = carrinhoService.listarCompras();\n+\t\n+\t\tif (compras.isEmpty()) {\n+\t\t\treturn ErroCarrinho.erroCarrinhoVazio();\n+\t\t}\n+\t\t\n+\t\treturn new ResponseEntity<List<Compra>>(compras, HttpStatus.OK);\n+\t}\n+\t\n+\t@RequestMapping(value = \"/carrinho\", method = RequestMethod.POST)\n+\tpublic ResponseEntity<?> adicionarAoCarrinho(@RequestBody Compra compra) {\n+\t\t\n+\t\tOptional<Produto> optionalProduto = produtoService.getProdutoById(compra.getIdDoProduto());\n+\t\t\n+\t\tif (!optionalProduto.isPresent()) {\n+\t\t\treturn ErroProduto.erroProdutoNaoEnconrtrado(compra.getIdDoProduto());\n+\t\t}\n+\t\t\n+\t\tProduto produto = optionalProduto.get();\n+\t\t\n+\t\tif (produto.getEstoque() < compra.getQuantidade()) {\n+\t\t\treturn ErroCarrinho.erroEstoqueInsuficiente(produto);\n+\t\t}\n+\t\t\n+\t\tproduto.addEstoque((-1)*compra.getQuantidade());\n+\t\tif(produto.getEstoque() == 0)\n+\t\t\tproduto.tornaIndisponivel();\n+\t\t\n+\t\tprodutoService.salvarProdutoCadastrado(produto);\n+\t\t\n+\t\tOptional<Compra> comp = carrinhoService.getByIdDoProduto(compra.getIdDoProduto());\n+\t\t\n+\t\tif(comp.isPresent()) {\n+\t\t\tcomp.get().merge(compra);\n+\t\t\tcompra = comp.get();\n+\t\t}\n+\t\t\n+\t\tcarrinhoService.adicionarCompra(compra);\n+\t\t\n+\t\treturn new ResponseEntity<Compra>(compra, HttpStatus.OK);\n+\t}\n+\t\n+\t@RequestMapping(value = \"/carrinho\", method = RequestMethod.DELETE)\n+\tpublic ResponseEntity<?> esvaziarCarrinho() {\n+\t\t\n+\t\tList<Compra> compras = carrinhoService.listarCompras();\n+\t\t\n+\t\tif(compras.isEmpty()) {\n+\t\t\treturn ErroCarrinho.erroCarrinhoVazio();\n+\t\t}\n+\t\t\n+\t\tOptional<Produto> produto;\n+\t\t\n+\t\tfor(Compra compra: compras) {\n+\t\t\tproduto = produtoService.getProdutoById(compra.getIdDoProduto());\n+\t\t\tif(produto.isPresent()) {\n+\t\t\t\tproduto.get().addEstoque(compra.getQuantidade());\n+\t\t\t\tprodutoService.salvarProdutoCadastrado(produto.get());\n+\t\t\t}\n+\t\t}\n+\t\t\n+\t\tcarrinhoService.limparCompras();\n+\t\t\n+\t\treturn new ResponseEntity<Compra>(HttpStatus.NO_CONTENT);\n+\t}\n+\t\n+\t@RequestMapping(value = \"/carrinho/efetuar_compra\", method = RequestMethod.DELETE)\n+\tpublic ResponseEntity<?> efetuarCompra() {\n+\t\t\n+\t\tList<Compra> compras = carrinhoService.listarCompras();\n+\t\t\n+\t\tif(compras.isEmpty()) {\n+\t\t\treturn ErroCarrinho.erroCarrinhoVazio();\n+\t\t}\n+\t\t\n+\t\tString detalhes = \"Detalhes da Compra:\\n\";\n+\t\tBigDecimal precoTotal = new BigDecimal(0);\n+\t\t\n+\t\tOptional<Produto> produto;\n+\t\t\n+\t\tfor(Compra compra: compras) {\n+\t\t\tproduto = produtoService.getProdutoById(compra.getIdDoProduto());\n+\t\t\tif(produto.isPresent()) {\n+\t\t\t\tdetalhes += produto.get().toString() + \" x \" + compra.getQuantidade() + \"\\n\";\n+\t\t\t\tprecoTotal = precoTotal.add(produto.get().getPreco()).multiply(new BigDecimal(compra.getQuantidade()));\n+\t\t\t\tremoveDosLotes(produto.get(), compra.getQuantidade());\n+\t\t\t}\n+\t\t\t\n+\t\t}\n+\t\t\n+\t\tdetalhes += \"Preço Total: R$\" + precoTotal.setScale(2, RoundingMode.HALF_UP).toString();\n+\t\t\n+\t\tcarrinhoService.limparCompras();\n+\t\t\n+\t\treturn new ResponseEntity<String>(detalhes, HttpStatus.OK);\n+\t}\n+\t\n+\tprivate void removeDosLotes(Produto produto, int quantidade) {\n+\t\tList<Lote> lotes = loteService.getLotesPeloProduto(produto);\n+\t\t\n+\t\tfor(Lote lote: lotes) {\n+\t\t\tif(quantidade < lote.getNumeroDeItens()) {\n+\t\t\t\tlote.setNumeroDeItens(lote.getNumeroDeItens() - quantidade);\n+\t\t\t\tquantidade = 0;\n+\t\t\t}else {\n+\t\t\t\tquantidade = quantidade - lote.getNumeroDeItens();\n+\t\t\t\tlote.setNumeroDeItens(0);\n+\t\t\t}\n+\t\t\t\n+\t\t\tloteService.salvarLote(lote);\n+\t\t\tif(quantidade == 0)\n+\t\t\t\treturn;\n+\t\t}\n+\t}\n+}"
  },
  {
    "sha": "bf6d0e6b6e51fad6d40a71c289a1e08c9a8d1a6e",
    "filename": "src/main/java/com/ufcg/psoft/mercadofacil/controller/LoteApiController.java",
    "status": "modified",
    "additions": 7,
    "deletions": 6,
    "changes": 13,
    "blob_url": "https://github.com/psoft-2020-1/mercado-facil/blob/16614dc6a949734ba3458f99cd9d64d4cfefe886/src/main/java/com/ufcg/psoft/mercadofacil/controller/LoteApiController.java",
    "raw_url": "https://github.com/psoft-2020-1/mercado-facil/raw/16614dc6a949734ba3458f99cd9d64d4cfefe886/src/main/java/com/ufcg/psoft/mercadofacil/controller/LoteApiController.java",
    "contents_url": "https://api.github.com/repos/psoft-2020-1/mercado-facil/contents/src/main/java/com/ufcg/psoft/mercadofacil/controller/LoteApiController.java?ref=16614dc6a949734ba3458f99cd9d64d4cfefe886",
    "patch": "@@ -43,8 +43,8 @@\n \t\treturn new ResponseEntity<List<Lote>>(lotes, HttpStatus.OK);\n \t}\n \t\n-\t@RequestMapping(value = \"/produto/{idProduto}/lote/\", method = RequestMethod.POST)\n-\tpublic ResponseEntity<?> criarLote(@PathVariable(\"idProduto\") long id, @RequestBody int numItens) {\n+\t@RequestMapping(value = \"/produto/{id}/lote\", method = RequestMethod.POST)\n+\tpublic ResponseEntity<?> criarLote(@PathVariable(\"id\") long id, @RequestBody int numItens) {\n \t\t\n \t\tOptional<Produto> optionalProduto = produtoService.getProdutoById(id);\n \t\t\n@@ -53,15 +53,16 @@\n \t\t}\n \t\t\n \t\tProduto produto = optionalProduto.get();\n-\t\tLote lote = loteService.criaLote(numItens, produto);\n+\t\tLote lote = new Lote(produto, numItens);\n \t\t\n-\t\tif (!produto.isDisponivel() & (numItens > 0)) {\n+\t\tloteService.salvarLote(lote);\n+\t\t\n+\t\tif (numItens > 0) {\n \t\t\tproduto.tornaDisponivel();\n+\t\t\tproduto.addEstoque(numItens);\n \t\t\tprodutoService.salvarProdutoCadastrado(produto);\n \t\t}\n \n-\t\tloteService.salvarLote(lote);\n-\n \t\treturn new ResponseEntity<>(lote, HttpStatus.CREATED);\n \t}\n }\n\\ No newline at end of file"
  },
  {
    "sha": "044263e067b695042317fe30b8146777e7053167",
    "filename": "src/main/java/com/ufcg/psoft/mercadofacil/controller/ProdutoApiController.java",
    "status": "modified",
    "additions": 16,
    "deletions": 11,
    "changes": 27,
    "blob_url": "https://github.com/psoft-2020-1/mercado-facil/blob/16614dc6a949734ba3458f99cd9d64d4cfefe886/src/main/java/com/ufcg/psoft/mercadofacil/controller/ProdutoApiController.java",
    "raw_url": "https://github.com/psoft-2020-1/mercado-facil/raw/16614dc6a949734ba3458f99cd9d64d4cfefe886/src/main/java/com/ufcg/psoft/mercadofacil/controller/ProdutoApiController.java",
    "contents_url": "https://api.github.com/repos/psoft-2020-1/mercado-facil/contents/src/main/java/com/ufcg/psoft/mercadofacil/controller/ProdutoApiController.java?ref=16614dc6a949734ba3458f99cd9d64d4cfefe886",
    "patch": "@@ -14,7 +14,6 @@\n import org.springframework.web.bind.annotation.RestController;\n import org.springframework.web.util.UriComponentsBuilder;\n \n-import com.ufcg.psoft.mercadofacil.DTO.ProdutoDTO;\n import com.ufcg.psoft.mercadofacil.model.Produto;\n import com.ufcg.psoft.mercadofacil.service.ProdutoService;\n import com.ufcg.psoft.mercadofacil.util.ErroProduto;\n@@ -40,19 +39,20 @@\n \t}\n \t\n \t@RequestMapping(value = \"/produto/\", method = RequestMethod.POST)\n-\tpublic ResponseEntity<?> criarProduto(@RequestBody ProdutoDTO produtoDTO, UriComponentsBuilder ucBuilder) {\n+\tpublic ResponseEntity<?> criarProduto(@RequestBody Produto produto, UriComponentsBuilder ucBuilder) {\n \n-\t\tList<Produto> produtos = produtoService.getProdutoByCodigoBarra(produtoDTO.getCodigoBarra());\n+\t\tList<Produto> produtos = produtoService.getProdutoByCodigoBarra(produto.getCodigoBarra());\n \t\t\n \t\tif (!produtos.isEmpty()) {\n-\t\t\treturn ErroProduto.erroProdutoJaCadastrado(produtoDTO);\n+\t\t\treturn ErroProduto.erroProdutoJaCadastrado(produto);\n \t\t}\n \n-\t\tProduto produto = produtoService.criaProduto(produtoDTO);\n+\t\tproduto.tornaIndisponivel();\n \t\tprodutoService.salvarProdutoCadastrado(produto);\n \n \t\treturn new ResponseEntity<Produto>(produto, HttpStatus.CREATED);\n \t}\n+\t\n \n \t@RequestMapping(value = \"/produto/{id}\", method = RequestMethod.GET)\n \tpublic ResponseEntity<?> consultarProduto(@PathVariable(\"id\") long id) {\n@@ -67,20 +67,25 @@\n \t}\n \t\n \t@RequestMapping(value = \"/produto/{id}\", method = RequestMethod.PUT)\n-\tpublic ResponseEntity<?> atualizarProduto(@PathVariable(\"id\") long id, @RequestBody ProdutoDTO produtoDTO) {\n+\tpublic ResponseEntity<?> atualizarProduto(@PathVariable(\"id\") long id, @RequestBody Produto produto) {\n \n \t\tOptional<Produto> optionalProduto = produtoService.getProdutoById(id);\n \t\t\n \t\tif (!optionalProduto.isPresent()) {\n \t\t\treturn ErroProduto.erroProdutoNaoEnconrtrado(id);\n \t\t}\n \t\t\n-\t\tProduto produto = optionalProduto.get();\n+\t\tProduto currentProduto = optionalProduto.get();\n \t\t\n-\t\tprodutoService.atualizaProduto(produtoDTO, produto);\n-\t\tprodutoService.salvarProdutoCadastrado(produto);\n+\t\tcurrentProduto.setNome(produto.getNome());\n+\t\tcurrentProduto.setPreco(produto.getPreco());\n+\t\tcurrentProduto.setCodigoBarra(produto.getCodigoBarra());\n+\t\tcurrentProduto.mudaFabricante(produto.getFabricante());\n+\t\tcurrentProduto.mudaCategoria(produto.getCategoria());\n+\n+\t\tprodutoService.salvarProdutoCadastrado(currentProduto);\n \t\t\n-\t\treturn new ResponseEntity<Produto>(produto, HttpStatus.OK);\n+\t\treturn new ResponseEntity<Produto>(currentProduto, HttpStatus.OK);\n \t}\n \n \t@RequestMapping(value = \"/produto/{id}\", method = RequestMethod.DELETE)\n@@ -94,6 +99,6 @@\n \t\t\t\t\n \t\tprodutoService.removerProdutoCadastrado(optionalProduto.get());\n \n-\t\treturn new ResponseEntity<Produto>(HttpStatus.OK);\n+\t\treturn new ResponseEntity<Produto>(HttpStatus.NO_CONTENT);\n \t}\n }\n\\ No newline at end of file"
  },
  {
    "sha": "79a065dd7b4bbab79546fe6f53d4e36ff5cfd3d3",
    "filename": "src/main/java/com/ufcg/psoft/mercadofacil/model/Compra.java",
    "status": "added",
    "additions": 62,
    "deletions": 0,
    "changes": 62,
    "blob_url": "https://github.com/psoft-2020-1/mercado-facil/blob/16614dc6a949734ba3458f99cd9d64d4cfefe886/src/main/java/com/ufcg/psoft/mercadofacil/model/Compra.java",
    "raw_url": "https://github.com/psoft-2020-1/mercado-facil/raw/16614dc6a949734ba3458f99cd9d64d4cfefe886/src/main/java/com/ufcg/psoft/mercadofacil/model/Compra.java",
    "contents_url": "https://api.github.com/repos/psoft-2020-1/mercado-facil/contents/src/main/java/com/ufcg/psoft/mercadofacil/model/Compra.java?ref=16614dc6a949734ba3458f99cd9d64d4cfefe886",
    "patch": "@@ -0,0 +1,62 @@\n+package com.ufcg.psoft.mercadofacil.model;\n+\n+import java.util.Objects;\n+import javax.persistence.Entity;\n+import javax.persistence.GeneratedValue;\n+import javax.persistence.Id;\n+\n+@Entity\n+public class Compra {\n+\t\n+\t@Id\n+\t@GeneratedValue\n+\tprivate Long id;\n+\tprivate Long idDoProduto;\n+\tprivate int quantidade;\n+\t\n+\tpublic Compra() {\n+\t}\n+\t\n+\tpublic Compra(long idDoProduto, int quantidade) {\n+\t\tthis.idDoProduto = idDoProduto;\n+\t\tthis.quantidade = quantidade;\n+\t}\n+\n+\tpublic long getIdDoProduto() {\n+\t\treturn this.idDoProduto;\n+\t}\n+\n+\tpublic int getQuantidade() {\n+\t\treturn this.quantidade;\n+\t}\n+\t\n+\tpublic void setQuantidade(int novoValor) {\n+\t\tthis.quantidade = novoValor;\n+\t}\n+\t\n+\tpublic int hashMap() {\n+\t\treturn Objects.hashCode(idDoProduto);\n+\t}\n+\t\n+\tpublic boolean equals(Object obj) {\n+\t\tif (this == obj)\n+\t\t\treturn true;\n+\t\tif (obj == null)\n+\t\t\treturn false;\n+\t\tif (getClass() != obj.getClass())\n+\t\t\treturn false;\n+\t\tCompra other = (Compra) obj;\n+\t\tif (this.getIdDoProduto() != other.getIdDoProduto()) {\n+\t\t\treturn false;\n+\t\t}\n+\t\treturn true;\n+\t}\n+\t\n+\tpublic String toString() {\n+\t\treturn this.idDoProduto + \" x \" + this.quantidade;\n+\t}\n+\n+\tpublic void merge(Compra compra) {\n+\t\tthis.quantidade += compra.getQuantidade();\n+\t}\n+}"
  },
  {
    "sha": "d39435cdc003be2fbf070fd3f98aaeaf6568c311",
    "filename": "src/main/java/com/ufcg/psoft/mercadofacil/model/Lote.java",
    "status": "modified",
    "additions": 19,
    "deletions": 7,
    "changes": 26,
    "blob_url": "https://github.com/psoft-2020-1/mercado-facil/blob/16614dc6a949734ba3458f99cd9d64d4cfefe886/src/main/java/com/ufcg/psoft/mercadofacil/model/Lote.java",
    "raw_url": "https://github.com/psoft-2020-1/mercado-facil/raw/16614dc6a949734ba3458f99cd9d64d4cfefe886/src/main/java/com/ufcg/psoft/mercadofacil/model/Lote.java",
    "contents_url": "https://api.github.com/repos/psoft-2020-1/mercado-facil/contents/src/main/java/com/ufcg/psoft/mercadofacil/model/Lote.java?ref=16614dc6a949734ba3458f99cd9d64d4cfefe886",
    "patch": "@@ -2,36 +2,48 @@\n \n import javax.persistence.Entity;\n import javax.persistence.GeneratedValue;\n-import javax.persistence.GenerationType;\n import javax.persistence.Id;\n import javax.persistence.OneToOne;\n \n @Entity\n public class Lote {\n \n \t@Id\n-\t@GeneratedValue(strategy = GenerationType.IDENTITY)\n-    private Long id;\n+\t@GeneratedValue\n+    private long id;\n \t\n \t@OneToOne\n     private Produto produto;\n     private int numeroDeItens;\n \n-    private Lote() { }\n-    \n+    public Lote() {\n+        this.id = 0;\n+    }\n+\n     public Lote(Produto produto, int numeroDeItens) {\n+        super();\n         this.produto = produto;\n         this.numeroDeItens = numeroDeItens;\n     }\n \n-    public Long getId() {\n+    public Lote(long id, Produto produto, int numeroDeItens) {\n+        this.id = id;\n+        this.produto = produto;\n+        this.numeroDeItens = numeroDeItens;\n+    }\n+\n+    public long getId() {\n         return id;\n     }\n \n+    public void setId(long id) {\n+        this.id = id;\n+    }\n+\n     public Produto getProduto() {\n         return produto;\n     }\n-\n+    \n     public void setProduto(Produto produto) {\n         this.produto = produto;\n     }"
  },
  {
    "sha": "c4a28b22e86963bdefe15854535a894ed96013b8",
    "filename": "src/main/java/com/ufcg/psoft/mercadofacil/model/Produto.java",
    "status": "modified",
    "additions": 28,
    "deletions": 11,
    "changes": 39,
    "blob_url": "https://github.com/psoft-2020-1/mercado-facil/blob/16614dc6a949734ba3458f99cd9d64d4cfefe886/src/main/java/com/ufcg/psoft/mercadofacil/model/Produto.java",
    "raw_url": "https://github.com/psoft-2020-1/mercado-facil/raw/16614dc6a949734ba3458f99cd9d64d4cfefe886/src/main/java/com/ufcg/psoft/mercadofacil/model/Produto.java",
    "contents_url": "https://api.github.com/repos/psoft-2020-1/mercado-facil/contents/src/main/java/com/ufcg/psoft/mercadofacil/model/Produto.java?ref=16614dc6a949734ba3458f99cd9d64d4cfefe886",
    "patch": "@@ -1,9 +1,9 @@\n package com.ufcg.psoft.mercadofacil.model;\n \n import java.math.BigDecimal;\n+import java.math.RoundingMode;\n+\n import javax.persistence.Entity;\n-import javax.persistence.GeneratedValue;\n-import javax.persistence.GenerationType;\n import javax.persistence.Id;\n \n import com.ufcg.psoft.mercadofacil.model.Produto;\n@@ -12,7 +12,6 @@\n public class Produto {\n \n \t@Id\n-\t@GeneratedValue(strategy = GenerationType.IDENTITY)\n \tprivate Long id;\n \t\n \tprivate String nome;\n@@ -26,21 +25,27 @@\n \tprivate String categoria;\n \n \tprivate boolean isDisponivel;\n+\t\n+\tprivate int estoque;\n \n-\tprivate Produto() {\t}\n+\tpublic Produto() {\n+\t\tthis.id = (long) 0;\n+\t\tthis.preco = new BigDecimal(0);\n+\t}\n \n-\tpublic Produto(String nome, String codigoBarra, String fabricante,\n-\t\t\tBigDecimal preco, String nomeCategoria) {\n-\t\t\n+\tpublic Produto(long id, String nome, String codigoBarra, String fabricante,\n+\t\t\tString nomeCategoria) {\n+\t\tthis();\n+\t\tthis.id = id;\n \t\tthis.nome = nome;\n-\t\tthis.preco = preco;\n \t\tthis.codigoBarra = codigoBarra;\n \t\tthis.fabricante = fabricante;\n \t\tthis.categoria = nomeCategoria;\n \t\tthis.isDisponivel = false;\n+\t\tthis.estoque = 0;\n \t}\n-\t\n-\tpublic Long getId() {\n+\n+\tpublic long getId() {\n \t\treturn id;\n \t}\n \t\n@@ -88,6 +93,10 @@ public void tornaDisponivel() {\n \t\tthis.isDisponivel = true;\n \t}\n \t\n+\tpublic void tornaIndisponivel() {\n+\t\tthis.isDisponivel = false;\n+\t}\n+\t\n \tpublic boolean isDisponivel() {\n \t\treturn this.isDisponivel;\n \t}\n@@ -124,6 +133,14 @@ public boolean equals(Object obj) {\n \t}\n \t\n \tpublic String toString() {\n-\t\treturn this.id + \" \" + this.nome;\n+\t\treturn this.id + \" \" + this.nome + \" R$\" + preco.setScale(2, RoundingMode.HALF_UP).toString();\n+\t}\n+\n+\tpublic int getEstoque() {\n+\t\treturn this.estoque;\n+\t}\n+\t\n+\tpublic void addEstoque(int novoValor) {\n+\t\tthis.estoque += novoValor;\n \t}\n }\n\\ No newline at end of file"
  },
  {
    "sha": "8304dd91245470c098898648f25634f024d8f0e8",
    "filename": "src/main/java/com/ufcg/psoft/mercadofacil/repository/Carrinho.java",
    "status": "added",
    "additions": 13,
    "deletions": 0,
    "changes": 13,
    "blob_url": "https://github.com/psoft-2020-1/mercado-facil/blob/16614dc6a949734ba3458f99cd9d64d4cfefe886/src/main/java/com/ufcg/psoft/mercadofacil/repository/Carrinho.java",
    "raw_url": "https://github.com/psoft-2020-1/mercado-facil/raw/16614dc6a949734ba3458f99cd9d64d4cfefe886/src/main/java/com/ufcg/psoft/mercadofacil/repository/Carrinho.java",
    "contents_url": "https://api.github.com/repos/psoft-2020-1/mercado-facil/contents/src/main/java/com/ufcg/psoft/mercadofacil/repository/Carrinho.java?ref=16614dc6a949734ba3458f99cd9d64d4cfefe886",
    "patch": "@@ -0,0 +1,13 @@\n+package com.ufcg.psoft.mercadofacil.repository;\n+\n+import java.util.Optional;\n+\n+import org.springframework.data.jpa.repository.JpaRepository;\n+\n+import com.ufcg.psoft.mercadofacil.model.Compra;\n+\n+public interface Carrinho extends JpaRepository<Compra, Long>{\n+\n+\tOptional<Compra> findByIdDoProduto(long idDoProduto);\n+\t\n+}\n\\ No newline at end of file"
  },
  {
    "sha": "c8baa69ec7b77ac7c5e8fdb487ce73d70f7e84b5",
    "filename": "src/main/java/com/ufcg/psoft/mercadofacil/repository/LoteRepository.java",
    "status": "modified",
    "additions": 6,
    "deletions": 0,
    "changes": 6,
    "blob_url": "https://github.com/psoft-2020-1/mercado-facil/blob/16614dc6a949734ba3458f99cd9d64d4cfefe886/src/main/java/com/ufcg/psoft/mercadofacil/repository/LoteRepository.java",
    "raw_url": "https://github.com/psoft-2020-1/mercado-facil/raw/16614dc6a949734ba3458f99cd9d64d4cfefe886/src/main/java/com/ufcg/psoft/mercadofacil/repository/LoteRepository.java",
    "contents_url": "https://api.github.com/repos/psoft-2020-1/mercado-facil/contents/src/main/java/com/ufcg/psoft/mercadofacil/repository/LoteRepository.java?ref=16614dc6a949734ba3458f99cd9d64d4cfefe886",
    "patch": "@@ -1,8 +1,14 @@\n package com.ufcg.psoft.mercadofacil.repository;\n \n+import java.util.List;\n+\n import org.springframework.data.jpa.repository.JpaRepository;\n \n import com.ufcg.psoft.mercadofacil.model.Lote;\n+import com.ufcg.psoft.mercadofacil.model.Produto;\n \n public interface LoteRepository extends JpaRepository<Lote, Long>{\n+\t\n+\tList<Lote> findByProduto(Produto produto);\n+\t\n }\n\\ No newline at end of file"
  },
  {
    "sha": "aac8484fe223b84600d96807f8394147a17c604d",
    "filename": "src/main/java/com/ufcg/psoft/mercadofacil/service/CarrinhoService.java",
    "status": "added",
    "additions": 18,
    "deletions": 0,
    "changes": 18,
    "blob_url": "https://github.com/psoft-2020-1/mercado-facil/blob/16614dc6a949734ba3458f99cd9d64d4cfefe886/src/main/java/com/ufcg/psoft/mercadofacil/service/CarrinhoService.java",
    "raw_url": "https://github.com/psoft-2020-1/mercado-facil/raw/16614dc6a949734ba3458f99cd9d64d4cfefe886/src/main/java/com/ufcg/psoft/mercadofacil/service/CarrinhoService.java",
    "contents_url": "https://api.github.com/repos/psoft-2020-1/mercado-facil/contents/src/main/java/com/ufcg/psoft/mercadofacil/service/CarrinhoService.java?ref=16614dc6a949734ba3458f99cd9d64d4cfefe886",
    "patch": "@@ -0,0 +1,18 @@\n+package com.ufcg.psoft.mercadofacil.service;\n+\n+import java.util.List;\n+import java.util.Optional;\n+\n+import com.ufcg.psoft.mercadofacil.model.Compra;\n+\n+public interface CarrinhoService {\n+\n+\tpublic void adicionarCompra(Compra compra);\n+\n+\tpublic Optional<Compra> getByIdDoProduto(long idDoProduto);\n+\n+\tpublic List<Compra> listarCompras();\n+\n+\tpublic void limparCompras();\n+\n+}"
  },
  {
    "sha": "f679c5c89e6085f8861a811d9b2b7d85866b6a7e",
    "filename": "src/main/java/com/ufcg/psoft/mercadofacil/service/CarrinhoServiceImpl.java",
    "status": "added",
    "additions": 35,
    "deletions": 0,
    "changes": 35,
    "blob_url": "https://github.com/psoft-2020-1/mercado-facil/blob/16614dc6a949734ba3458f99cd9d64d4cfefe886/src/main/java/com/ufcg/psoft/mercadofacil/service/CarrinhoServiceImpl.java",
    "raw_url": "https://github.com/psoft-2020-1/mercado-facil/raw/16614dc6a949734ba3458f99cd9d64d4cfefe886/src/main/java/com/ufcg/psoft/mercadofacil/service/CarrinhoServiceImpl.java",
    "contents_url": "https://api.github.com/repos/psoft-2020-1/mercado-facil/contents/src/main/java/com/ufcg/psoft/mercadofacil/service/CarrinhoServiceImpl.java?ref=16614dc6a949734ba3458f99cd9d64d4cfefe886",
    "patch": "@@ -0,0 +1,35 @@\n+package com.ufcg.psoft.mercadofacil.service;\n+\n+import java.util.List;\n+import java.util.Optional;\n+\n+import org.springframework.beans.factory.annotation.Autowired;\n+import org.springframework.stereotype.Service;\n+\n+import com.ufcg.psoft.mercadofacil.model.Compra;\n+import com.ufcg.psoft.mercadofacil.repository.Carrinho;\n+\n+@Service\n+public class CarrinhoServiceImpl implements CarrinhoService {\n+\t\n+\t@Autowired\n+\tprivate Carrinho carrinho;\n+\n+\tpublic void adicionarCompra(Compra compra) {\n+\t\tcarrinho.save(compra);\n+\t}\n+\n+\tpublic List<Compra> listarCompras() {\n+\t\treturn carrinho.findAll();\n+\t}\n+\n+\tpublic Optional<Compra> getByIdDoProduto(long idDoProduto) {\n+\t\treturn carrinho.findByIdDoProduto(idDoProduto);\n+\t}\n+\n+\tpublic void limparCompras() {\n+\t\tcarrinho.deleteAll();\n+\t}\n+\n+\n+}"
  },
  {
    "sha": "4091e1d6170b810648a965d33e77c38d29b47699",
    "filename": "src/main/java/com/ufcg/psoft/mercadofacil/service/LoteService.java",
    "status": "modified",
    "additions": 3,
    "deletions": 2,
    "changes": 5,
    "blob_url": "https://github.com/psoft-2020-1/mercado-facil/blob/16614dc6a949734ba3458f99cd9d64d4cfefe886/src/main/java/com/ufcg/psoft/mercadofacil/service/LoteService.java",
    "raw_url": "https://github.com/psoft-2020-1/mercado-facil/raw/16614dc6a949734ba3458f99cd9d64d4cfefe886/src/main/java/com/ufcg/psoft/mercadofacil/service/LoteService.java",
    "contents_url": "https://api.github.com/repos/psoft-2020-1/mercado-facil/contents/src/main/java/com/ufcg/psoft/mercadofacil/service/LoteService.java?ref=16614dc6a949734ba3458f99cd9d64d4cfefe886",
    "patch": "@@ -8,8 +8,9 @@\n public interface LoteService {\n \t\n \tpublic List<Lote> listarLotes();\n-\n+\t\n+\tpublic List<Lote> getLotesPeloProduto(Produto produto);\n+\t\n \tpublic void salvarLote(Lote lote);\n \t\n-\tpublic Lote criaLote(int numItens, Produto produto);\n }"
  },
  {
    "sha": "465f27573efb6e62a849f19674b5bb8dc4fbe829",
    "filename": "src/main/java/com/ufcg/psoft/mercadofacil/service/LoteServiceImpl.java",
    "status": "modified",
    "additions": 2,
    "deletions": 3,
    "changes": 5,
    "blob_url": "https://github.com/psoft-2020-1/mercado-facil/blob/16614dc6a949734ba3458f99cd9d64d4cfefe886/src/main/java/com/ufcg/psoft/mercadofacil/service/LoteServiceImpl.java",
    "raw_url": "https://github.com/psoft-2020-1/mercado-facil/raw/16614dc6a949734ba3458f99cd9d64d4cfefe886/src/main/java/com/ufcg/psoft/mercadofacil/service/LoteServiceImpl.java",
    "contents_url": "https://api.github.com/repos/psoft-2020-1/mercado-facil/contents/src/main/java/com/ufcg/psoft/mercadofacil/service/LoteServiceImpl.java?ref=16614dc6a949734ba3458f99cd9d64d4cfefe886",
    "patch": "@@ -23,8 +23,7 @@ public void salvarLote(Lote lote) {\n \t\tloteRepository.save(lote);\t\t\n \t}\n \n-\tpublic Lote criaLote(int numItens, Produto produto) {\n-\t\tLote lote = new Lote(produto, numItens);\n-\t\treturn lote;\n+\tpublic List<Lote> getLotesPeloProduto(Produto produto) {\n+\t\treturn loteRepository.findByProduto(produto);\n \t}\n }"
  },
  {
    "sha": "11ad8a40e152761c0f59b4a3644657ed11aa482b",
    "filename": "src/main/java/com/ufcg/psoft/mercadofacil/service/ProdutoService.java",
    "status": "modified",
    "additions": 0,
    "deletions": 5,
    "changes": 5,
    "blob_url": "https://github.com/psoft-2020-1/mercado-facil/blob/16614dc6a949734ba3458f99cd9d64d4cfefe886/src/main/java/com/ufcg/psoft/mercadofacil/service/ProdutoService.java",
    "raw_url": "https://github.com/psoft-2020-1/mercado-facil/raw/16614dc6a949734ba3458f99cd9d64d4cfefe886/src/main/java/com/ufcg/psoft/mercadofacil/service/ProdutoService.java",
    "contents_url": "https://api.github.com/repos/psoft-2020-1/mercado-facil/contents/src/main/java/com/ufcg/psoft/mercadofacil/service/ProdutoService.java?ref=16614dc6a949734ba3458f99cd9d64d4cfefe886",
    "patch": "@@ -3,7 +3,6 @@\n import java.util.List;\n import java.util.Optional;\n \n-import com.ufcg.psoft.mercadofacil.DTO.ProdutoDTO;\n import com.ufcg.psoft.mercadofacil.model.Produto;\n \n public interface ProdutoService {\n@@ -17,8 +16,4 @@\n \tpublic void salvarProdutoCadastrado(Produto produto);\n \n \tpublic List<Produto> listarProdutos();\n-\t\n-\tpublic Produto criaProduto(ProdutoDTO produto);\n-\t\n-\tpublic Produto atualizaProduto(ProdutoDTO produtoDTO, Produto produto);\n }"
  },
  {
    "sha": "35c2a3fcd7f649496ecb70229f54083b504ce98c",
    "filename": "src/main/java/com/ufcg/psoft/mercadofacil/service/ProdutoServiceImpl.java",
    "status": "modified",
    "additions": 0,
    "deletions": 19,
    "changes": 19,
    "blob_url": "https://github.com/psoft-2020-1/mercado-facil/blob/16614dc6a949734ba3458f99cd9d64d4cfefe886/src/main/java/com/ufcg/psoft/mercadofacil/service/ProdutoServiceImpl.java",
    "raw_url": "https://github.com/psoft-2020-1/mercado-facil/raw/16614dc6a949734ba3458f99cd9d64d4cfefe886/src/main/java/com/ufcg/psoft/mercadofacil/service/ProdutoServiceImpl.java",
    "contents_url": "https://api.github.com/repos/psoft-2020-1/mercado-facil/contents/src/main/java/com/ufcg/psoft/mercadofacil/service/ProdutoServiceImpl.java?ref=16614dc6a949734ba3458f99cd9d64d4cfefe886",
    "patch": "@@ -6,7 +6,6 @@\n import org.springframework.beans.factory.annotation.Autowired;\n import org.springframework.stereotype.Service;\n \n-import com.ufcg.psoft.mercadofacil.DTO.ProdutoDTO;\n import com.ufcg.psoft.mercadofacil.model.Produto;\n import com.ufcg.psoft.mercadofacil.repository.ProdutoRepository;\n \n@@ -35,22 +34,4 @@ public void salvarProdutoCadastrado(Produto produto) {\n \tpublic List<Produto> listarProdutos() {\n \t\treturn produtoRepository.findAll();\n \t}\n-\n-\tpublic Produto criaProduto(ProdutoDTO produtoDTO) {\n-\t\tProduto produto = new Produto(produtoDTO.getNome(), produtoDTO.getFabricante(), produtoDTO.getCodigoBarra(),\n-\t\t\t\tprodutoDTO.getPreco(), produtoDTO.getCategoria());\n-\t\t\n-\t\tproduto.tornaDisponivel();\n-\t\treturn produto;\n-\t}\n-\n-\tpublic Produto atualizaProduto(ProdutoDTO produtoDTO, Produto produto) {\n-\t\tproduto.setNome(produtoDTO.getNome());\n-\t\tproduto.setPreco(produtoDTO.getPreco());\n-\t\tproduto.setCodigoBarra(produtoDTO.getCodigoBarra());\n-\t\tproduto.mudaFabricante(produtoDTO.getFabricante());\n-\t\tproduto.mudaCategoria(produtoDTO.getCategoria());\n-\t\t\n-\t\treturn produto;\n-\t}\n }"
  },
  {
    "sha": "14842a4c2563edc7bf59c7e6d345e83899ed642f",
    "filename": "src/main/java/com/ufcg/psoft/mercadofacil/util/ErroCarrinho.java",
    "status": "added",
    "additions": 24,
    "deletions": 0,
    "changes": 24,
    "blob_url": "https://github.com/psoft-2020-1/mercado-facil/blob/16614dc6a949734ba3458f99cd9d64d4cfefe886/src/main/java/com/ufcg/psoft/mercadofacil/util/ErroCarrinho.java",
    "raw_url": "https://github.com/psoft-2020-1/mercado-facil/raw/16614dc6a949734ba3458f99cd9d64d4cfefe886/src/main/java/com/ufcg/psoft/mercadofacil/util/ErroCarrinho.java",
    "contents_url": "https://api.github.com/repos/psoft-2020-1/mercado-facil/contents/src/main/java/com/ufcg/psoft/mercadofacil/util/ErroCarrinho.java?ref=16614dc6a949734ba3458f99cd9d64d4cfefe886",
    "patch": "@@ -0,0 +1,24 @@\n+package com.ufcg.psoft.mercadofacil.util;\n+\n+import org.springframework.http.HttpStatus;\n+import org.springframework.http.ResponseEntity;\n+\n+import com.ufcg.psoft.mercadofacil.model.Produto;\n+\n+public class ErroCarrinho {\n+\t\n+\tstatic final String ESTOQUE_INSUFICIENTE = \"Não há estoque o suficiente do produto %s\"\n+\t\t\t\t\t\t\t\t\t\t\t + \"do frabricante %s\";\n+\tstatic final String CARRINHO_VAZIO = \"O carrinho está vazio\";\n+\n+\tpublic static ResponseEntity<CustomErrorType> erroEstoqueInsuficiente(Produto produto) {\n+\t\treturn new ResponseEntity<CustomErrorType>(new CustomErrorType(String.format(ErroCarrinho.ESTOQUE_INSUFICIENTE,\n+\t\t\t\tproduto.getNome(), produto.getFabricante())), HttpStatus.NOT_ACCEPTABLE);\n+\t}\n+\t\n+\tpublic static ResponseEntity<CustomErrorType> erroCarrinhoVazio() {\n+\t\treturn new ResponseEntity<CustomErrorType>(new CustomErrorType(ErroCarrinho.CARRINHO_VAZIO),\n+\t\t\t\tHttpStatus.NO_CONTENT);\n+\t}\n+\n+}"
  },
  {
    "sha": "d8d9cef6b5030fe99715f09c857e61a0f7a018d2",
    "filename": "src/main/java/com/ufcg/psoft/mercadofacil/util/ErroProduto.java",
    "status": "modified",
    "additions": 2,
    "deletions": 3,
    "changes": 5,
    "blob_url": "https://github.com/psoft-2020-1/mercado-facil/blob/16614dc6a949734ba3458f99cd9d64d4cfefe886/src/main/java/com/ufcg/psoft/mercadofacil/util/ErroProduto.java",
    "raw_url": "https://github.com/psoft-2020-1/mercado-facil/raw/16614dc6a949734ba3458f99cd9d64d4cfefe886/src/main/java/com/ufcg/psoft/mercadofacil/util/ErroProduto.java",
    "contents_url": "https://api.github.com/repos/psoft-2020-1/mercado-facil/contents/src/main/java/com/ufcg/psoft/mercadofacil/util/ErroProduto.java?ref=16614dc6a949734ba3458f99cd9d64d4cfefe886",
    "patch": "@@ -3,7 +3,6 @@\n import org.springframework.http.HttpStatus;\n import org.springframework.http.ResponseEntity;\n \n-import com.ufcg.psoft.mercadofacil.DTO.ProdutoDTO;\n import com.ufcg.psoft.mercadofacil.model.Produto;\n \n public class ErroProduto {\n@@ -32,8 +31,8 @@\n \t\t\t\tproduto.getNome(), produto.getFabricante())), HttpStatus.NOT_MODIFIED);\n \t}\n \t\n-\tpublic static ResponseEntity<?> erroProdutoJaCadastrado(ProdutoDTO produtoDTO) {\n+\tpublic static ResponseEntity<?> erroProdutoJaCadastrado(Produto produto) {\n \t\treturn new ResponseEntity<CustomErrorType>(new CustomErrorType(String.format(ErroProduto.PRODUTO_JA_CADASTRADO,\n-\t\t\t\tprodutoDTO.getNome(), produtoDTO.getFabricante())), HttpStatus.CONFLICT);\n+\t\t\t\tproduto.getNome(), produto.getFabricante())), HttpStatus.CONFLICT);\n \t}\n }"
  },
  {
    "sha": "dd41224eae10892c4729c498e177e2535f6e4f57",
    "filename": "src/main/resources/data.sql",
    "status": "modified",
    "additions": 10,
    "deletions": 12,
    "changes": 22,
    "blob_url": "https://github.com/psoft-2020-1/mercado-facil/blob/16614dc6a949734ba3458f99cd9d64d4cfefe886/src/main/resources/data.sql",
    "raw_url": "https://github.com/psoft-2020-1/mercado-facil/raw/16614dc6a949734ba3458f99cd9d64d4cfefe886/src/main/resources/data.sql",
    "contents_url": "https://api.github.com/repos/psoft-2020-1/mercado-facil/contents/src/main/resources/data.sql?ref=16614dc6a949734ba3458f99cd9d64d4cfefe886",
    "patch": "@@ -1,12 +1,10 @@\n-insert into produto (ID, NOME, CODIGO_BARRA, FABRICANTE, IS_DISPONIVEL, CATEGORIA, PRECO)\n-values(10001,'Leite Integral', '87654321-B', 'Parmalat', FALSE, 'Mercearia', 4.5);\n-insert into produto (ID, NOME, CODIGO_BARRA, FABRICANTE, IS_DISPONIVEL, CATEGORIA, PRECO)\n-values(10002,'Arroz Integral', '87654322-B', 'Tio Joao', FALSE, 'Perecíveis', 5.5);\n-insert into produto (ID, NOME, CODIGO_BARRA, FABRICANTE, IS_DISPONIVEL, CATEGORIA, PRECO)\n-values(10003,'Sabao em Po', '87654323-B', 'OMO', FALSE, 'Limpeza', 12);\n-insert into produto (ID, NOME, CODIGO_BARRA, FABRICANTE, IS_DISPONIVEL, CATEGORIA, PRECO)\n-values(10004,'Agua Sanitaria', '87654324-C', 'Dragao', FALSE, 'limpesa', 3);\n-insert into produto (ID, NOME, CODIGO_BARRA, FABRICANTE, IS_DISPONIVEL, CATEGORIA, PRECO)\n-values(10005,'Creme Dental', '87654325-C', 'Colgate', FALSE, 'HIGIENE', 2.5);\n-insert into lote (ID, PRODUTO_ID, NUMERO_DE_ITENS)\n-values(1, 10005, 5);\n\\ No newline at end of file\n+insert into produto\n+values(10001,'Leite Integral', '87654321-B', 0, 'Parmalat', FALSE, 'Mercearia', 4.5);\n+insert into produto\n+values(10002,'Arroz Integral', '87654322-B', 0, 'Tio Joao', FALSE, 'Perecíveis', 5.5);\n+insert into produto\n+values(10003,'Sabao em Po', '87654323-B', 0, 'OMO', FALSE, 'Limpeza', 12);\n+insert into produto\n+values(10004,'Agua Sanitaria', '87654324-C', 0, 'Dragao', FALSE, 'limpesa', 3);\n+insert into produto\n+values(10005,'Creme Dental', '87654325-C', 0, 'Colgate', FALSE, 'HIGIENE', 2.5);\n\\ No newline at end of file"
  },
  {
    "sha": "7bcbe9dc1e002aa35e7cebc1ad0c034bb24a11af",
    "filename": "target/classes/com/ufcg/psoft/mercadofacil/MercadoFacilApplication.class",
    "status": "added",
    "additions": 0,
    "deletions": 0,
    "changes": 0,
    "blob_url": "https://github.com/psoft-2020-1/mercado-facil/blob/16614dc6a949734ba3458f99cd9d64d4cfefe886/target/classes/com/ufcg/psoft/mercadofacil/MercadoFacilApplication.class",
    "raw_url": "https://github.com/psoft-2020-1/mercado-facil/raw/16614dc6a949734ba3458f99cd9d64d4cfefe886/target/classes/com/ufcg/psoft/mercadofacil/MercadoFacilApplication.class",
    "contents_url": "https://api.github.com/repos/psoft-2020-1/mercado-facil/contents/target/classes/com/ufcg/psoft/mercadofacil/MercadoFacilApplication.class?ref=16614dc6a949734ba3458f99cd9d64d4cfefe886"
  },
  {
    "sha": "8f3111861e356efbd6b6cdab9e96b2759b541ab8",
    "filename": "target/classes/com/ufcg/psoft/mercadofacil/config/SwaggerConfig.class",
    "status": "added",
    "additions": 0,
    "deletions": 0,
    "changes": 0,
    "blob_url": "https://github.com/psoft-2020-1/mercado-facil/blob/16614dc6a949734ba3458f99cd9d64d4cfefe886/target/classes/com/ufcg/psoft/mercadofacil/config/SwaggerConfig.class",
    "raw_url": "https://github.com/psoft-2020-1/mercado-facil/raw/16614dc6a949734ba3458f99cd9d64d4cfefe886/target/classes/com/ufcg/psoft/mercadofacil/config/SwaggerConfig.class",
    "contents_url": "https://api.github.com/repos/psoft-2020-1/mercado-facil/contents/target/classes/com/ufcg/psoft/mercadofacil/config/SwaggerConfig.class?ref=16614dc6a949734ba3458f99cd9d64d4cfefe886"
  },
  {
    "sha": "73e173fcb66174206a0b919167014bef8aa20527",
    "filename": "target/classes/com/ufcg/psoft/mercadofacil/controller/LoteApiController.class",
    "status": "added",
    "additions": 0,
    "deletions": 0,
    "changes": 0,
    "blob_url": "https://github.com/psoft-2020-1/mercado-facil/blob/16614dc6a949734ba3458f99cd9d64d4cfefe886/target/classes/com/ufcg/psoft/mercadofacil/controller/LoteApiController.class",
    "raw_url": "https://github.com/psoft-2020-1/mercado-facil/raw/16614dc6a949734ba3458f99cd9d64d4cfefe886/target/classes/com/ufcg/psoft/mercadofacil/controller/LoteApiController.class",
    "contents_url": "https://api.github.com/repos/psoft-2020-1/mercado-facil/contents/target/classes/com/ufcg/psoft/mercadofacil/controller/LoteApiController.class?ref=16614dc6a949734ba3458f99cd9d64d4cfefe886"
  },
  {
    "sha": "30a1a196ad838c1c45c8d536767832e16c7cd58f",
    "filename": "target/classes/com/ufcg/psoft/mercadofacil/controller/ProdutoApiController.class",
    "status": "added",
    "additions": 0,
    "deletions": 0,
    "changes": 0,
    "blob_url": "https://github.com/psoft-2020-1/mercado-facil/blob/16614dc6a949734ba3458f99cd9d64d4cfefe886/target/classes/com/ufcg/psoft/mercadofacil/controller/ProdutoApiController.class",
    "raw_url": "https://github.com/psoft-2020-1/mercado-facil/raw/16614dc6a949734ba3458f99cd9d64d4cfefe886/target/classes/com/ufcg/psoft/mercadofacil/controller/ProdutoApiController.class",
    "contents_url": "https://api.github.com/repos/psoft-2020-1/mercado-facil/contents/target/classes/com/ufcg/psoft/mercadofacil/controller/ProdutoApiController.class?ref=16614dc6a949734ba3458f99cd9d64d4cfefe886"
  },
  {
    "sha": "e6d509e8714bd192f44c07800ca8d0f7405dfc6b",
    "filename": "target/classes/com/ufcg/psoft/mercadofacil/model/Lote.class",
    "status": "added",
    "additions": 0,
    "deletions": 0,
    "changes": 0,
    "blob_url": "https://github.com/psoft-2020-1/mercado-facil/blob/16614dc6a949734ba3458f99cd9d64d4cfefe886/target/classes/com/ufcg/psoft/mercadofacil/model/Lote.class",
    "raw_url": "https://github.com/psoft-2020-1/mercado-facil/raw/16614dc6a949734ba3458f99cd9d64d4cfefe886/target/classes/com/ufcg/psoft/mercadofacil/model/Lote.class",
    "contents_url": "https://api.github.com/repos/psoft-2020-1/mercado-facil/contents/target/classes/com/ufcg/psoft/mercadofacil/model/Lote.class?ref=16614dc6a949734ba3458f99cd9d64d4cfefe886"
  },
  {
    "sha": "e883c79a21da0af1b27dbcd9b222cf83bf421d55",
    "filename": "target/classes/com/ufcg/psoft/mercadofacil/model/Produto.class",
    "status": "added",
    "additions": 0,
    "deletions": 0,
    "changes": 0,
    "blob_url": "https://github.com/psoft-2020-1/mercado-facil/blob/16614dc6a949734ba3458f99cd9d64d4cfefe886/target/classes/com/ufcg/psoft/mercadofacil/model/Produto.class",
    "raw_url": "https://github.com/psoft-2020-1/mercado-facil/raw/16614dc6a949734ba3458f99cd9d64d4cfefe886/target/classes/com/ufcg/psoft/mercadofacil/model/Produto.class",
    "contents_url": "https://api.github.com/repos/psoft-2020-1/mercado-facil/contents/target/classes/com/ufcg/psoft/mercadofacil/model/Produto.class?ref=16614dc6a949734ba3458f99cd9d64d4cfefe886"
  },
  {
    "sha": "c71580056f8e515acc6137de7752abf6ae001fc3",
    "filename": "target/classes/com/ufcg/psoft/mercadofacil/repository/LoteRepository.class",
    "status": "added",
    "additions": 0,
    "deletions": 0,
    "changes": 0,
    "blob_url": "https://github.com/psoft-2020-1/mercado-facil/blob/16614dc6a949734ba3458f99cd9d64d4cfefe886/target/classes/com/ufcg/psoft/mercadofacil/repository/LoteRepository.class",
    "raw_url": "https://github.com/psoft-2020-1/mercado-facil/raw/16614dc6a949734ba3458f99cd9d64d4cfefe886/target/classes/com/ufcg/psoft/mercadofacil/repository/LoteRepository.class",
    "contents_url": "https://api.github.com/repos/psoft-2020-1/mercado-facil/contents/target/classes/com/ufcg/psoft/mercadofacil/repository/LoteRepository.class?ref=16614dc6a949734ba3458f99cd9d64d4cfefe886"
  },
  {
    "sha": "19fccda1732d1bcb4c83d624c4199acdfa4b9b8f",
    "filename": "target/classes/com/ufcg/psoft/mercadofacil/repository/ProdutoRepository.class",
    "status": "added",
    "additions": 0,
    "deletions": 0,
    "changes": 0,
    "blob_url": "https://github.com/psoft-2020-1/mercado-facil/blob/16614dc6a949734ba3458f99cd9d64d4cfefe886/target/classes/com/ufcg/psoft/mercadofacil/repository/ProdutoRepository.class",
    "raw_url": "https://github.com/psoft-2020-1/mercado-facil/raw/16614dc6a949734ba3458f99cd9d64d4cfefe886/target/classes/com/ufcg/psoft/mercadofacil/repository/ProdutoRepository.class",
    "contents_url": "https://api.github.com/repos/psoft-2020-1/mercado-facil/contents/target/classes/com/ufcg/psoft/mercadofacil/repository/ProdutoRepository.class?ref=16614dc6a949734ba3458f99cd9d64d4cfefe886"
  },
  {
    "sha": "573a1bb51b4a5f6792059f698d456858c0d6cd55",
    "filename": "target/classes/com/ufcg/psoft/mercadofacil/service/LoteService.class",
    "status": "added",
    "additions": 0,
    "deletions": 0,
    "changes": 0,
    "blob_url": "https://github.com/psoft-2020-1/mercado-facil/blob/16614dc6a949734ba3458f99cd9d64d4cfefe886/target/classes/com/ufcg/psoft/mercadofacil/service/LoteService.class",
    "raw_url": "https://github.com/psoft-2020-1/mercado-facil/raw/16614dc6a949734ba3458f99cd9d64d4cfefe886/target/classes/com/ufcg/psoft/mercadofacil/service/LoteService.class",
    "contents_url": "https://api.github.com/repos/psoft-2020-1/mercado-facil/contents/target/classes/com/ufcg/psoft/mercadofacil/service/LoteService.class?ref=16614dc6a949734ba3458f99cd9d64d4cfefe886"
  }
]
