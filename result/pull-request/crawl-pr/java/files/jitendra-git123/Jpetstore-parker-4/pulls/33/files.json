[
  {
    "sha": "93fa5ff6bd69dd06df7498f8a86525473d983418",
    "filename": "Jenkinsfile",
    "status": "modified",
    "additions": 35,
    "deletions": 58,
    "changes": 93,
    "blob_url": "https://github.com/jitendra-git123/Jpetstore-parker-4/blob/5b4e35aa75648c33c19b69c14fa6d99e0a6f562a/Jenkinsfile",
    "raw_url": "https://github.com/jitendra-git123/Jpetstore-parker-4/raw/5b4e35aa75648c33c19b69c14fa6d99e0a6f562a/Jenkinsfile",
    "contents_url": "https://api.github.com/repos/jitendra-git123/Jpetstore-parker-4/contents/Jenkinsfile?ref=5b4e35aa75648c33c19b69c14fa6d99e0a6f562a",
    "patch": "@@ -1,12 +1,12 @@\n node {\n-        def majorVersion=\"3.0.${BUILD_NUMBER}\"\n+        def majorVersion=\"1.0.${BUILD_NUMBER}\"\n \tcurrentBuild.displayName = majorVersion\n \n \t//currentBuild.displayName = \"2.0.${BUILD_NUMBER}\"\n \tdef GIT_COMMIT\n   stage ('cloning the repository'){\n \t  \n-      def scm = git 'https://github.com/jitendra-git123/Jpetstore-parker-4'\n+      def scm = git 'https://github.com/ravishankarojha/Jpetstore-parker-4'\n \t  GIT_COMMIT = sh(returnStdout: true, script: \"git rev-parse HEAD\").trim()\n \t  echo \"COMMITID ${GIT_COMMIT}\"\n \t  //echo \"BBBB ${scm}\"\n@@ -39,11 +39,11 @@ node {\n                         // Need to change the path of the test result xml result required.               \n                                 filePath: \"target/surefire-reports/TEST-org.mybatis.jpetstore.service.OrderServiceTest.xml\",\n                                 tenant_id: \"5ade13625558f2c6688d15ce\",\n-                                appName: \"JPetStore-velocity\",\n+                                appName: \"Distributed-JPetStore\",\n                                 //appExtId: \"4b006cdb-0e50-43f2-ac87-a7586a65389e\",\n-\t\t\t\tappExtId: \"e85cb6ce-96c6-4a9f-a5f8-d5deae1e2053\",\n+\t\t\t\tappExtId: \"3122ef90-7367-4fb6-90ad-3e9628419a67\",\n \t\t\t\t//appId: \"acdfae67-616f-43e5-8872-2cfa3aa583de\",    \n-                                name: \"Executed in JUnit - 3.0.${BUILD_NUMBER}\",\n+                                name: \"Executed in JUnit - 1.0.${BUILD_NUMBER}\",\n                                 testSetName: \"Junit Test Run from Jenkins\"]\n                            \n                         ])}catch(e){\n@@ -60,8 +60,8 @@ node {\n \t\t\t //\"SONAR_USER_HOME=/opt/bitnami/jenkins/.sonar ${mvnHome}/bin/mvn sonar:sonar\"\n \t\t\t//SONAR_MAVEN_GOAL -Dsonar.host.url=\"http://ec2-3-130-60-241.us-east-2.compute.amazonaws.com:50000\n \t\t\t//sh  \"mvn sonar:sonar -Dsonar.projectName=JpetStore-velocity-latest1 -Dsonar.host.url=http://ec2-3-130-60-241.us-east-2.compute.amazonaws.com:50000 sonarqube\"\n-\t\t\tsh  \"mvn sonar:sonar -Dsonar.projectName=JpetStore-velocity-latest7\" \n-\t\t\t  //sh  \"sonar:sonar -Dsonar.projectName=JpetStore-velocity -Dsonar.host.url=http://ec2-3-130-60-241.us-east-2.compute.amazonaws.com:50000 sonarqube\"\n+\t\t//\tsh  \"mvn sonar:sonar -Dsonar.projectName=JpetStore-Accelerate\" \n+\t\t////\t  sh  \"sonar:sonar -Dsonar.projectName=JpetStore-Accelerate -Dsonar.host.url=http://localhost:50000 sonarqube\"\n \t\t\t//sh \"${path}/bin/gradle --info -Dsonar.host.url=http://localhost:9000 sonarqube\"\n \t\t}\n \t }\n@@ -79,24 +79,23 @@ node {\n \t//]\n //}\n \t\n-echo \"(*******)\"\t\n-  stage('Publish Artificats to UCD'){\n-\t  \n-   step([$class: 'UCDeployPublisher',\n-\t        siteName: 'UCD_Local',\n+echo \"(*******)\"\n+stage('Publish Artificats to Launch'){\t\n+  step([$class: 'UCDeployPublisher',\n+\t        siteName: 'UCD',\n \t        component: [\n \t            $class: 'com.urbancode.jenkins.plugins.ucdeploy.VersionHelper$VersionBlock',\n-\t            componentName: 'JPetStorevelocityComponent',\n+\t            componentName: 'JPetStoreComponent',\n \t            createComponent: [\n \t                $class: 'com.urbancode.jenkins.plugins.ucdeploy.ComponentHelper$CreateComponentBlock',\n \t                componentTemplate: '',\n-\t                componentApplication: 'JPetStore-velocity'\n+\t                componentApplication: 'Distributed-JPetStore'\n \t            ],\n \t            delivery: [\n \t                $class: 'com.urbancode.jenkins.plugins.ucdeploy.DeliveryHelper$Push',\n-\t                pushVersion: '3.0.${BUILD_NUMBER}',\n+\t                pushVersion: '1.1.${BUILD_NUMBER}',\n \t                //baseDir: '/var/jenkins_home/workspace/JPetStore/target',\n-\t\t\t baseDir: '/var/lib/jenkins/workspace/Velocity/Jpetstore-velocity/target/',\n+\t\t\t baseDir: '/var/lib/jenkins/workspace/SAP/sap_distributed/JpetStore/target/',\n \t                fileIncludePatterns: '*.war',\n \t                fileExcludePatterns: '',\n \t               // pushProperties: 'jenkins.server=Jenkins-app\\njenkins.reviewed=false',\n@@ -105,55 +104,33 @@ echo \"(*******)\"\n \t        ]\n      ])\n \t  \n-\t\t//sh 'env > env.txt'\n-\t//\treadFile('env.txt').split(\"\\r?\\n\").each {\n-\t//\tprintln it\n-\t//\t}\n-\techo \"(*******)\"\n-\t  echo \"Demo1234 ${JPetStorevelocityComponent_VersionId}\"\n-\t  def newComponentVersionId = \"${JPetStorevelocityComponent_VersionId}\"\n+          echo \"(*******)\"\n+\t  echo \"Demo1234 ${JPetStoreComponent_VersionId}\"\n+\t  def newComponentVersionId = \"${JPetStoreComponent_VersionId}\"\n \t  echo \"git commit ${GIT_COMMIT}\"\n-\t  //step($class: 'UploadBuild', tenantId: \"5ade13625558f2c6688d15ce\", revision: \"${GIT_COMMIT}\", appName: \"Altoro\", requestor: \"admin\", id: \"${newComponentVersionId}\" )\n- step($class: 'UploadBuild', \n-       tenantId: \"5ade13625558f2c6688d15ce\", \n-       revision: \"${GIT_COMMIT}\", \n-       appName: \"JPetStore-velocity\", \n-       requestor: \"admin\", \n-       id: \"${newComponentVersionId}\", \n-       versionName: \"3.0.${BUILD_NUMBER}\"\n+\n+         step($class: 'UploadBuild', \n+         tenantId: \"5ade13625558f2c6688d15ce\", \n+         revision: \"${GIT_COMMIT}\", \n+         appName: \"Distributed-JPetStore\", \n+         requestor: \"admin\", \n+         id: \"${newComponentVersionId}\", \n+         versionName: \"1.1.${BUILD_NUMBER}\"\n       )\n-     \n-\t//echo \"Demo123 ${newComponentVersionId}\"\n-\t//sleep 25\n-\t  step([$class: 'UCDeployPublisher',\n+}\n+\tstage ('Deploy to DEV') {\n+\tstep([$class: 'UCDeployPublisher',\n \t\tdeploy: [ createSnapshot: [deployWithSnapshot: true, \n-\t\t\t snapshotName: \"3.0.${BUILD_NUMBER}\"],\n-\t\t\t deployApp: 'JPetStore-velocity', \n+\t\t\t snapshotName: \"1.1.${BUILD_NUMBER}\"],\n+\t\t\t deployApp: 'Distributed-JPetStore', \n \t\t\t deployDesc: 'Requested from Jenkins', \n-\t\t\t deployEnv: 'JPetStore-velocity_Dev', \n+\t\t\t deployEnv: 'DEV', \n \t\t\t deployOnlyChanged: false, \n-\t\t\t deployProc: 'Deploy-JPetStore-velocity', \n+\t\t\t deployProc: 'Deploy-JPetStore', \n \t\t\t deployReqProps: '', \n-\t\t\t deployVersions: \"JPetStorevelocityComponent:3.0.${BUILD_NUMBER}\"], \n-\t\tsiteName: 'UCD_Local'])\n+\t\t\t deployVersions: \"JPetStoreComponent:1.1.${BUILD_NUMBER}\"], \n+\t\tsiteName: 'UCD'])\n  }\n-\t//step([\n-          //          $class: 'UploadDeployment',\n-            //        debug: true,\n-              //      name: 'Deploy Internal Docker Compose',\n-                //    appName: 'JPetStore-velocity',\n-               //     description: \"${majorVersion} to DEV\",\n-                 //   startTime: \"${currentBuild.startTimeInMillis}\",\n-            //        endTime: \"${System.currentTimeMillis()}\",\n-              //      environmentId: \"19e805ce-c40a-487e-bfdb-5b06abff4b2d\",\n-                //    environmentName: \"DEV\",\n-                    //initiator: \"${username}\",\n-                //    result: 'success,\n-                  //  tenantId: \"5ade13625558f2c6688d15ce\",\n-                   // type: 'Jenkins',\n-                   // versionExtId: \"${majorVersion}\",\n-                   // versionName: \"${majorVersion}\"\n-                //])\n \t\n stage ('wait for deploy') {\n \tsleep 25"
  },
  {
    "sha": "96e4c97e59525516dc032198afaac6d8343d17ea",
    "filename": "Jenkinsfile_sap_distributed_demo",
    "status": "added",
    "additions": 141,
    "deletions": 0,
    "changes": 141,
    "blob_url": "https://github.com/jitendra-git123/Jpetstore-parker-4/blob/5b4e35aa75648c33c19b69c14fa6d99e0a6f562a/Jenkinsfile_sap_distributed_demo",
    "raw_url": "https://github.com/jitendra-git123/Jpetstore-parker-4/raw/5b4e35aa75648c33c19b69c14fa6d99e0a6f562a/Jenkinsfile_sap_distributed_demo",
    "contents_url": "https://api.github.com/repos/jitendra-git123/Jpetstore-parker-4/contents/Jenkinsfile_sap_distributed_demo?ref=5b4e35aa75648c33c19b69c14fa6d99e0a6f562a",
    "patch": "@@ -0,0 +1,141 @@\n+node {\n+        def majorVersion=\"4.1.${BUILD_NUMBER}\"\n+\tcurrentBuild.displayName = majorVersion\n+\n+\t//currentBuild.displayName = \"2.0.${BUILD_NUMBER}\"\n+\tdef GIT_COMMIT\n+  stage ('cloning the repository'){\n+\t  \n+      def scm = git 'https://github.com/ravishankarojha/Jpetstore-parker-4'\n+\t  GIT_COMMIT = sh(returnStdout: true, script: \"git rev-parse HEAD\").trim()\n+\t  echo \"COMMITID ${GIT_COMMIT}\"\n+\t  //echo \"BBBB ${scm}\"\n+\t  //GIT_COMMIT = scm.GIT_COMMIT\n+\t   //echo \"**** ${GIT_COMMIT}\"\n+\t  \n+  }\n+\t\n+ \n+  stage ('Build') {\n+      withMaven(jdk: 'java1.8', maven: 'Maven3.6.0') {\n+      sh 'mvn clean package'\n+\t      echo \"**** ${GIT_COMMIT}\"\n+\t//step($class: 'UploadBuild', tenantId: \"5ade13625558f2c6688d15ce\", revision: \"${GIT_COMMIT}\", appName: \"JPetStore\", requestor: \"admin\", id: \"${newComponentVersionId}\" )\n+\t\n+\t     \n+    }\n+  }\n+  \n+  stage ('Junit Testcase'){\n+  withMaven(jdk: 'java1.8', maven: 'Maven3.6.0') {\n+      sh 'mvn test -Dtest=Runner'\t     \n+    }\n+  }\n+\n+\techo(\"************************** Test Result Upload Started to Velocity****************************\")\n+                        try{\n+                        step([$class: 'UploadJUnitTestResult',\n+                            properties: [\n+                        // Need to change the path of the test result xml result required.               \n+                                filePath: \"target/surefire-reports/TEST-org.mybatis.jpetstore.service.OrderServiceTest.xml\",\n+                                tenant_id: \"5ade13625558f2c6688d15ce\",\n+                                appName: \"Distributed-JPetStore\",\n+                                //appExtId: \"4b006cdb-0e50-43f2-ac87-a7586a65389e\",\n+\t\t\t\tappExtId: \"3122ef90-7367-4fb6-90ad-3e9628419a67\",\n+\t\t\t\t//appId: \"acdfae67-616f-43e5-8872-2cfa3aa583de\",    \n+                                name: \"Executed in JUnit - 4.0.${BUILD_NUMBER}\",\n+                                testSetName: \"Junit Test Run from Jenkins\"]\n+                           \n+                        ])}catch(e){\n+                        throw e\n+                        }\n+                       \n+         echo(\"************************** Test Result Uploaded Successful to Velocity****************************\")\n+\t\n+\tstage('SonarQube Analysis'){\n+\t\tdef mvnHome = tool name : 'Maven3.6.0', type:'maven'\n+\t\t//def path = tool name: 'gradle-4.7', type: 'gradle'\n+\t\t\n+\t\twithSonarQubeEnv('sonar-server'){\n+\t\t\t //\"SONAR_USER_HOME=/opt/bitnami/jenkins/.sonar ${mvnHome}/bin/mvn sonar:sonar\"\n+\t\t\t//SONAR_MAVEN_GOAL -Dsonar.host.url=\"http://ec2-3-130-60-241.us-east-2.compute.amazonaws.com:50000\n+\t\t\t//sh  \"mvn sonar:sonar -Dsonar.projectName=JpetStore-velocity-latest1 -Dsonar.host.url=http://ec2-3-130-60-241.us-east-2.compute.amazonaws.com:50000 sonarqube\"\n+\t\t//\tsh  \"mvn sonar:sonar -Dsonar.projectName=JpetStore-Accelerate\" \n+\t\t////\t  sh  \"sonar:sonar -Dsonar.projectName=JpetStore-Accelerate -Dsonar.host.url=http://localhost:50000 sonarqube\"\n+\t\t\t//sh \"${path}/bin/gradle --info -Dsonar.host.url=http://localhost:9000 sonarqube\"\n+\t\t}\n+\t }\n+\t\n+\t\n+//stage (\"Appscan\"){\n+  //   //  appscan application: '84963f4f-0cf4-4262-9afe-3bd7c0ec3942', credentials: 'Credential for ASOC', failBuild: true, failureConditions: [failure_condition(failureType: 'high', threshold: 20)], name: '84963f4f-0cf4-4262-9afe-3bd7c0ec39421562', scanner: static_analyzer(hasOptions: false, target: 'D:/Installables/Jenkins/workspace/Velocity/AltoroJ/build/libs/'), type: 'Static Analyzer'\n+  //\tbuild job: '/velocity/Jpetstore/asoc', wait: false, parameters: [\n+\t////build job: '/asoc', wait: false, parameters: [\n+\t////string(name: 'COMMITID', value: GIT_COMMIT),\n+\t//string(name: 'COMMITID', value: GIT_COMMIT),\n+\t//string(name: 'parentBuildNumber', value: BUILD_NUMBER)\n+\t////string(name: 'parentBuildNumber', value: 2.0.${BUILD_NUMBER})\n+\t\t\n+\t//]\n+//}\n+\t\n+echo \"(*******)\"\n+stage('Publish Artificats to Launch'){\t\n+  step([$class: 'UCDeployPublisher',\n+\t        siteName: 'UCD',\n+\t        component: [\n+\t            $class: 'com.urbancode.jenkins.plugins.ucdeploy.VersionHelper$VersionBlock',\n+\t            componentName: 'JPetStoreComponent',\n+\t            createComponent: [\n+\t                $class: 'com.urbancode.jenkins.plugins.ucdeploy.ComponentHelper$CreateComponentBlock',\n+\t                componentTemplate: '',\n+\t                componentApplication: 'Distributed-JPetStore'\n+\t            ],\n+\t            delivery: [\n+\t                $class: 'com.urbancode.jenkins.plugins.ucdeploy.DeliveryHelper$Push',\n+\t                pushVersion: '4.1.${BUILD_NUMBER}',\n+\t                //baseDir: '/var/jenkins_home/workspace/JPetStore/target',\n+\t\t\t baseDir: '/var/lib/jenkins/workspace/SAP/sap_distributed/JpetStore/target/',\n+\t                fileIncludePatterns: '*.war',\n+\t                fileExcludePatterns: '',\n+\t               // pushProperties: 'jenkins.server=Jenkins-app\\njenkins.reviewed=false',\n+\t                pushDescription: 'Pushed from Jenkins'\n+\t            ]\n+\t        ]\n+     ])\n+\t  \n+          echo \"(*******)\"\n+\t  echo \"Demo1234 ${JPetStoreComponent_VersionId}\"\n+\t  def newComponentVersionId = \"${JPetStoreComponent_VersionId}\"\n+\t  echo \"git commit ${GIT_COMMIT}\"\n+\n+         step($class: 'UploadBuild', \n+         tenantId: \"5ade13625558f2c6688d15ce\", \n+         revision: \"${GIT_COMMIT}\", \n+         appName: \"JPetStoreComponent\", \n+         requestor: \"admin\", \n+         id: \"${newComponentVersionId}\", \n+         versionName: \"4.1.${BUILD_NUMBER}\"\n+      )\n+}\n+\tstage ('Deploy to DEV') {\n+\tstep([$class: 'UCDeployPublisher',\n+\t\tdeploy: [ createSnapshot: [deployWithSnapshot: true, \n+\t\t\t snapshotName: \"4.1.${BUILD_NUMBER}\"],\n+\t\t\t deployApp: 'Distributed-JPetStore', \n+\t\t\t deployDesc: 'Requested from Jenkins', \n+\t\t\t deployEnv: 'DEV', \n+\t\t\t deployOnlyChanged: false, \n+\t\t\t deployProc: 'Deploy-JPetStore', \n+\t\t\t deployReqProps: '', \n+\t\t\t deployVersions: \"JPetStoreComponent:4.1.${BUILD_NUMBER}\"], \n+\t\tsiteName: 'UCD'])\n+ }\n+\t\n+stage ('wait for deploy') {\n+\tsleep 25\n+\t// echo 'Executing HCL One test ...'\n+\t//sh '/var/jenkins_home/onetest/hcl-onetest-command.sh'\n+ }\t\n+\n+}"
  },
  {
    "sha": "b4a9e080aa2c96ff42e60e05185c34de86801589",
    "filename": "README.md",
    "status": "modified",
    "additions": 1,
    "deletions": 1,
    "changes": 2,
    "blob_url": "https://github.com/jitendra-git123/Jpetstore-parker-4/blob/5b4e35aa75648c33c19b69c14fa6d99e0a6f562a/README.md",
    "raw_url": "https://github.com/jitendra-git123/Jpetstore-parker-4/raw/5b4e35aa75648c33c19b69c14fa6d99e0a6f562a/README.md",
    "contents_url": "https://api.github.com/repos/jitendra-git123/Jpetstore-parker-4/contents/README.md?ref=5b4e35aa75648c33c19b69c14fa6d99e0a6f562a",
    "patch": "@@ -84,4 +84,4 @@ $ ./mvnw test -P itest\n >\n > * [Two tests are failed on The WebSphere Liberty](https://github.com/mybatis/jpetstore-6/issues/159).\n \n-#Updated on 18-July\n+#Updated on 18-July-2020"
  }
]
