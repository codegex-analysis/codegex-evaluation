[
  {
    "sha": "5a286ef289ecedcdba4549109e8f6b31d5f4c681",
    "filename": "resources/shaders/fragmentShader.glsl",
    "status": "modified",
    "additions": 7,
    "deletions": 2,
    "changes": 9,
    "blob_url": "https://github.com/ThisIsSoNotMe/GaltonBoards/blob/8005ad6b3ba3e9b0fb62c0ad427acfde616d5f3a/resources/shaders/fragmentShader.glsl",
    "raw_url": "https://github.com/ThisIsSoNotMe/GaltonBoards/raw/8005ad6b3ba3e9b0fb62c0ad427acfde616d5f3a/resources/shaders/fragmentShader.glsl",
    "contents_url": "https://api.github.com/repos/ThisIsSoNotMe/GaltonBoards/contents/resources/shaders/fragmentShader.glsl?ref=8005ad6b3ba3e9b0fb62c0ad427acfde616d5f3a",
    "patch": "@@ -1,16 +1,21 @@\n #version 330 core\n \n in vec2 UV;\n+in vec3 colourTemplate;\n \n out vec4 color;\n \n-\n uniform sampler2D texSampler;\n \n void main() {\n     vec4 texVal = vec4(texture( texSampler, UV ));\n     float alpha = 1.0f;\n \n-    color = vec4(texVal);\n+    texVal.x *= colourTemplate.x;\n+    texVal.y *= colourTemplate.y;\n+    texVal.z *= colourTemplate.z;\n+\n+    color = texVal;\n+\n     //gl_FragColor = tonemap(C_diff);\n }"
  },
  {
    "sha": "4f7465ced45b98bb823e1f855e54c7c3ffca060f",
    "filename": "resources/shaders/vertexShader.glsl",
    "status": "modified",
    "additions": 4,
    "deletions": 0,
    "changes": 4,
    "blob_url": "https://github.com/ThisIsSoNotMe/GaltonBoards/blob/8005ad6b3ba3e9b0fb62c0ad427acfde616d5f3a/resources/shaders/vertexShader.glsl",
    "raw_url": "https://github.com/ThisIsSoNotMe/GaltonBoards/raw/8005ad6b3ba3e9b0fb62c0ad427acfde616d5f3a/resources/shaders/vertexShader.glsl",
    "contents_url": "https://api.github.com/repos/ThisIsSoNotMe/GaltonBoards/contents/resources/shaders/vertexShader.glsl?ref=8005ad6b3ba3e9b0fb62c0ad427acfde616d5f3a",
    "patch": "@@ -2,7 +2,9 @@\n \n layout(location = 0) in vec3 vertexPosition;\n layout(location = 1) in vec2 vertexUV;\n+layout(location = 2) in vec3 vertexColourTemplate;\n \n+out vec3 colourTemplate;\n out vec2 UV;\n \n uniform mat4 MVP;\n@@ -11,5 +13,7 @@ void main() {\n \n     gl_Position =  MVP * vec4(vertexPosition, 1);\n \n+    colourTemplate = vertexColourTemplate;\n+\n     UV = vertexUV;\n }"
  },
  {
    "sha": "b54f5e6537a6c3bede52a67859e3dd4e0ac94c59",
    "filename": "src/uk/ac/cam/cl/groupprojectdelta/galtonboards/graphics/Drawable.java",
    "status": "modified",
    "additions": 3,
    "deletions": 0,
    "changes": 3,
    "blob_url": "https://github.com/ThisIsSoNotMe/GaltonBoards/blob/8005ad6b3ba3e9b0fb62c0ad427acfde616d5f3a/src/uk/ac/cam/cl/groupprojectdelta/galtonboards/graphics/Drawable.java",
    "raw_url": "https://github.com/ThisIsSoNotMe/GaltonBoards/raw/8005ad6b3ba3e9b0fb62c0ad427acfde616d5f3a/src/uk/ac/cam/cl/groupprojectdelta/galtonboards/graphics/Drawable.java",
    "contents_url": "https://api.github.com/repos/ThisIsSoNotMe/GaltonBoards/contents/src/uk/ac/cam/cl/groupprojectdelta/galtonboards/graphics/Drawable.java?ref=8005ad6b3ba3e9b0fb62c0ad427acfde616d5f3a",
    "patch": "@@ -4,7 +4,10 @@\n \n public interface Drawable {\n \n+  float z = 1;\n+\n   List<Float> getMesh(float time);\n   List<Float> getUV();\n+  List<Float> getColourTemplate();\n \n }\n\\ No newline at end of file"
  },
  {
    "sha": "0f33a9ffbb9e0fddf06f900262fe7434bdd61f73",
    "filename": "src/uk/ac/cam/cl/groupprojectdelta/galtonboards/graphics/UserInterface.java",
    "status": "modified",
    "additions": 102,
    "deletions": 63,
    "changes": 165,
    "blob_url": "https://github.com/ThisIsSoNotMe/GaltonBoards/blob/8005ad6b3ba3e9b0fb62c0ad427acfde616d5f3a/src/uk/ac/cam/cl/groupprojectdelta/galtonboards/graphics/UserInterface.java",
    "raw_url": "https://github.com/ThisIsSoNotMe/GaltonBoards/raw/8005ad6b3ba3e9b0fb62c0ad427acfde616d5f3a/src/uk/ac/cam/cl/groupprojectdelta/galtonboards/graphics/UserInterface.java",
    "contents_url": "https://api.github.com/repos/ThisIsSoNotMe/GaltonBoards/contents/src/uk/ac/cam/cl/groupprojectdelta/galtonboards/graphics/UserInterface.java?ref=8005ad6b3ba3e9b0fb62c0ad427acfde616d5f3a",
    "patch": "@@ -7,6 +7,7 @@\n import org.liquidengine.legui.component.optional.TextState;\n import org.liquidengine.legui.component.optional.align.HorizontalAlign;\n import org.liquidengine.legui.component.optional.align.VerticalAlign;\n+import org.liquidengine.legui.event.Event;\n import org.liquidengine.legui.event.MouseClickEvent;\n import org.liquidengine.legui.event.ScrollEvent;\n import org.liquidengine.legui.icon.CharIcon;\n@@ -48,78 +49,19 @@\n    * Then, run the main loop\n    */\n \n-  public void sliderChangeEvent(SliderChangeValueEvent<Slider> event) {\n-    if (Workspace.workspace.mouseHandler.selectedClickable instanceof Board) {\n-      for (Peg peg : ((Board) Workspace.workspace.mouseHandler.selectedClickable).getPegs()) {\n-        peg.setProbability(1 - event.getNewValue());\n-      }\n-    }\n-  }\n-\n   public void start() {\n     final int editPanelWidth = 400;\n \n     // Panels for boards and UI sections\n \n-    Panel rightPanel = new Panel(320, 0, windowBoards.getWidth() - 320 - editPanelWidth, windowBoards.getHeight());\n-    rightPanel.getStyle().getBackground().setColor(ColorConstants.transparent());\n-    rightPanel.getStyle().setBorder(new SimpleLineBorder());\n-    rightPanel.getListenerMap().addListener(MouseClickEvent.class,  (MouseClickEventListener) windowBoards::mouseClickEvent);\n-    rightPanel.getListenerMap().addListener(ScrollEvent.class,  (ScrollEventListener) event -> windowBoards.getUserInput().scroll(event));\n-\n-    Panel leftPanel = new Panel(0, 0, 320, windowBoards.getHeight());\n-    leftPanel.getStyle().getBackground().setColor(ColorConstants.gray());\n-    leftPanel.getStyle().setBorder(new SimpleLineBorder());\n-\n-    editPanel = new Panel(windowBoards.getWidth() - editPanelWidth, 0, editPanelWidth, windowBoards.getHeight());\n-    editPanel.getStyle().getBackground().setColor(ColorConstants.lightGray());\n-    editPanel.getStyle().setBorder(new SimpleLineBorder());\n-\n-    Label selectedLabel = new Label(100, 50, 200, 100);\n-    selectedLabel.setTextState(new TextState(\"Test\"));\n-    editPanel.add(selectedLabel);\n-\n-    probabilitySlider = new Slider(100, 150, 200, 30);\n-    probabilitySlider.setMaxValue(1);\n-    probabilitySlider.getListenerMap().addListener(SliderChangeValueEvent.class, this::sliderChangeEvent);\n-    editPanel.add(probabilitySlider);\n+    Panel rightPanel = getRightPanel(editPanelWidth);\n+    Panel leftPanel = getLeftPanel();\n+    editPanel = getEditPanel(editPanelWidth);\n \n     windowBoards.addComponent(rightPanel);\n     windowBoards.addComponent(leftPanel);\n     windowBoards.addComponent(editPanel);\n-\n-    // Buttons for play/pause/stop\n-\n-    windowBoards.addComponent(makeButton(64, 32, 32, 0xF40A,\n-            (MouseClickEventListener) event -> windowBoards.getSimulation().run()));\n-    windowBoards.addComponent(makeButton(64, 128, 32, 0xF3E4,\n-            (MouseClickEventListener) event -> windowBoards.getSimulation().pause()));\n-    windowBoards.addComponent(makeButton(64, 224, 32, 0xF4DB,\n-            (MouseClickEventListener) event -> windowBoards.getSimulation().stop()));\n-\n-    // Zoom buttons\n-\n-    float zoomOffset = 0.2f;\n-    windowBoards.addComponent(makeButton(24, 408, windowBoards.getHeight() - 32, 0xF374,\n-            makeZoomCallback(windowBoards.getCamera(), zoomOffset)));\n-    windowBoards.addComponent(makeButton(24, 408, windowBoards.getHeight() - 64, 0xF415,\n-            makeZoomCallback(windowBoards.getCamera(), -zoomOffset)));\n-\n-    // Movement buttons\n-\n-    float movement = 1.0f;\n-    windowBoards.addComponent(makeButton(24, 324, windowBoards.getHeight() - 64, 0xF141,\n-            makeMovementCallback(windowBoards.getCamera(), movement, 0)));\n-    windowBoards.addComponent(makeButton(24, 352, windowBoards.getHeight() - 32, 0xF140,\n-            makeMovementCallback(windowBoards.getCamera(), 0, -movement)));\n-    windowBoards.addComponent(makeButton(24, 352, windowBoards.getHeight() - 64, 0xF44A,\n-            (MouseClickEventListener) event -> windowBoards.getCamera().Reset()));\n-    windowBoards.addComponent(makeButton(24, 352, windowBoards.getHeight() - 96, 0xF143,\n-            makeMovementCallback(windowBoards.getCamera(), 0, movement)));\n-    windowBoards.addComponent(makeButton(24, 380, windowBoards.getHeight() - 64, 0xF142,\n-            makeMovementCallback(windowBoards.getCamera(), -movement, 0)));\n-\n-\n+    \n       // Select board SelectBox\n \n     EventListener<SelectBoxChangeSelectionEvent<String>> selectEL = new EventListener<>() {\n@@ -169,6 +111,103 @@ public void process(SelectBoxChangeSelectionEvent<String> event) {\n     windowBoards.destroy(windowBoardsID);\n   }\n \n+  private Panel getLeftPanel() {\n+    Panel leftPanel = new Panel(0, 0, 320, windowBoards.getHeight());\n+    leftPanel.getStyle().getBackground().setColor(ColorConstants.gray());\n+    leftPanel.getStyle().setBorder(new SimpleLineBorder());\n+\n+    // Buttons for play/pause/stop\n+\n+    leftPanel.add(makeButton(64, 32, 32, 0xF40A,\n+            (MouseClickEventListener) event -> windowBoards.getSimulation().run()));\n+    leftPanel.add(makeButton(64, 128, 32, 0xF3E4,\n+            (MouseClickEventListener) event -> windowBoards.getSimulation().pause()));\n+    leftPanel.add(makeButton(64, 224, 32, 0xF4DB,\n+            (MouseClickEventListener) event -> windowBoards.getSimulation().stop()));\n+\n+    Slider simSpeedSlider = new Slider(80, 300, 160, 30);\n+    simSpeedSlider.setMinValue(0.05f);\n+    simSpeedSlider.setMaxValue(15);\n+    simSpeedSlider.getListenerMap().addListener(SliderChangeValueEvent.class, this::speedSliderChangeEvent);\n+\n+    leftPanel.add(simSpeedSlider);\n+\n+    Slider ballSpawnSlider = new Slider(80, 400, 160, 30);\n+    ballSpawnSlider.setMinValue(0.5f);\n+    ballSpawnSlider.setMaxValue(30);\n+    ballSpawnSlider.getListenerMap().addListener(SliderChangeValueEvent.class, this::spawnSliderChangeEvent);\n+\n+    leftPanel.add(ballSpawnSlider);\n+\n+    return leftPanel;\n+  }\n+\n+  public void speedSliderChangeEvent(SliderChangeValueEvent<Slider> event) {\n+    Workspace.workspace.getSimulation().speed = event.getNewValue();\n+  }\n+\n+  public void spawnSliderChangeEvent(SliderChangeValueEvent<Slider> event) {\n+    Workspace.workspace.getSimulation().timeBetweenBalls = 1 / event.getNewValue() / event.getNewValue();\n+    Workspace.workspace.getSimulation().timeTillNextBall *= (event.getOldValue() * event.getOldValue());\n+    Workspace.workspace.getSimulation().timeTillNextBall /= (event.getNewValue() * event.getNewValue());\n+  }\n+\n+  private Panel getRightPanel(int editPanelWidth) {\n+    Panel rightPanel = new Panel(320, 0, windowBoards.getWidth() - 320 - editPanelWidth, windowBoards.getHeight());\n+    rightPanel.getStyle().getBackground().setColor(ColorConstants.transparent());\n+    rightPanel.getStyle().setBorder(new SimpleLineBorder());\n+    rightPanel.getListenerMap().addListener(MouseClickEvent.class,  (MouseClickEventListener) windowBoards::mouseClickEvent);\n+    rightPanel.getListenerMap().addListener(ScrollEvent.class,  (ScrollEventListener) event -> windowBoards.getUserInput().scroll(event));\n+\n+    // Zoom buttons\n+\n+    rightPanel.add(makeButton(24, 108, windowBoards.getHeight() - 32, 0xF374,\n+            (MouseClickEventListener) event -> System.out.println(\"TODO\")));\n+    rightPanel.add(makeButton(24, 108, windowBoards.getHeight() - 64, 0xF415,\n+            (MouseClickEventListener) event -> System.out.println(\"TODO\")));\n+\n+    // Movement buttons\n+\n+    float movement = 0.5f;\n+    rightPanel.add(makeButton(24, 24, windowBoards.getHeight() - 64, 0xF141,\n+            makeMovementCallback(windowBoards.getCamera(), movement, 0)));\n+    rightPanel.add(makeButton(24, 52, windowBoards.getHeight() - 32, 0xF140,\n+            makeMovementCallback(windowBoards.getCamera(), 0, -movement)));\n+    rightPanel.add(makeButton(24, 52, windowBoards.getHeight() - 64, 0xF44A,\n+            (MouseClickEventListener) event -> windowBoards.getCamera().Reset()));\n+    rightPanel.add(makeButton(24, 52, windowBoards.getHeight() - 96, 0xF143,\n+            makeMovementCallback(windowBoards.getCamera(), 0, movement)));\n+    rightPanel.add(makeButton(24, 80, windowBoards.getHeight() - 64, 0xF142,\n+            makeMovementCallback(windowBoards.getCamera(), -movement, 0)));\n+\n+    return rightPanel;\n+  }\n+\n+  private Panel getEditPanel(int editPanelWidth) {\n+    Panel editPanel = new Panel(windowBoards.getWidth() - editPanelWidth, 0, editPanelWidth, windowBoards.getHeight());\n+    editPanel.getStyle().getBackground().setColor(ColorConstants.lightGray());\n+    editPanel.getStyle().setBorder(new SimpleLineBorder());\n+\n+    Label selectedLabel = new Label(100, 50, 200, 100);\n+    selectedLabel.setTextState(new TextState(\"Test\"));\n+    editPanel.add(selectedLabel);\n+\n+    probabilitySlider = new Slider(100, 150, 200, 30);\n+    probabilitySlider.setMaxValue(1);\n+    probabilitySlider.getListenerMap().addListener(SliderChangeValueEvent.class, this::sliderChangeEvent);\n+    editPanel.add(probabilitySlider);\n+\n+    return editPanel;\n+  }\n+\n+  public void sliderChangeEvent(SliderChangeValueEvent<Slider> event) {\n+    if (Workspace.workspace.mouseHandler.selectedClickable instanceof Board) {\n+      for (Peg peg : ((Board) Workspace.workspace.mouseHandler.selectedClickable).getPegs()) {\n+        peg.setProbability(1 - event.getNewValue());\n+      }\n+    }\n+  }\n+\n   private static MouseClickEventListener makeMovementCallback(Camera camera, float dx, float dy) {\n     return event -> {\n       if (event.getAction().equals(MouseClickEvent.MouseClickAction.CLICK)) {"
  },
  {
    "sha": "2ee260b2df668570b0cd4309e9de35513465baf4",
    "filename": "src/uk/ac/cam/cl/groupprojectdelta/galtonboards/graphics/WindowBoards.java",
    "status": "modified",
    "additions": 13,
    "deletions": 2,
    "changes": 15,
    "blob_url": "https://github.com/ThisIsSoNotMe/GaltonBoards/blob/8005ad6b3ba3e9b0fb62c0ad427acfde616d5f3a/src/uk/ac/cam/cl/groupprojectdelta/galtonboards/graphics/WindowBoards.java",
    "raw_url": "https://github.com/ThisIsSoNotMe/GaltonBoards/raw/8005ad6b3ba3e9b0fb62c0ad427acfde616d5f3a/src/uk/ac/cam/cl/groupprojectdelta/galtonboards/graphics/WindowBoards.java",
    "contents_url": "https://api.github.com/repos/ThisIsSoNotMe/GaltonBoards/contents/src/uk/ac/cam/cl/groupprojectdelta/galtonboards/graphics/WindowBoards.java?ref=8005ad6b3ba3e9b0fb62c0ad427acfde616d5f3a",
    "patch": "@@ -53,7 +53,7 @@\n   private int programID;\n   private int vertexShaderID;\n   private int fragmentShaderID;\n-  private int vertexBuffer, uvBuffer;\n+  private int vertexBuffer, uvBuffer, colourTemplateBuffer;\n   private int textureID;\n \n   private final String textureFilePath;\n@@ -123,6 +123,7 @@ void initialize(long window) {\n     // Generate buffers\n     vertexBuffer = glGenBuffers();\n     uvBuffer = glGenBuffers();\n+    colourTemplateBuffer = glGenBuffers();\n \n     glEnable(GL_BLEND);\n     glBlendFunc(GL_SRC_ALPHA, GL_ONE_MINUS_SRC_ALPHA);\n@@ -161,7 +162,7 @@ void loop(long window) {\n     float lastTime, deltaTime;\n     Matrix4f MVP = new Matrix4f();\n     List<Float> auxList;\n-    float[] mesh, UVs;\n+    float[] mesh, UVs, colourTemplates;\n \n     // Clear window and setup OpenGL\n     glClear(GL_COLOR_BUFFER_BIT | GL_STENCIL_BUFFER_BIT | GL_DEPTH_BUFFER_BIT);\n@@ -209,6 +210,11 @@ void loop(long window) {\n     for (int i = 0; i < auxList.size(); i++)\n       UVs[i] = auxList.get(i);\n \n+    auxList = workspace.getColourTemplate();\n+    colourTemplates = new float[auxList.size()];\n+    for (int i = 0; i < auxList.size(); i++)\n+      colourTemplates[i] = auxList.get(i);\n+\n     glBindBuffer(GL_ARRAY_BUFFER, vertexBuffer);\n     glBufferData(GL_ARRAY_BUFFER, mesh, GL_STATIC_DRAW);\n     glVertexAttribPointer(0, 3, GL_FLOAT, false, 0, 0);\n@@ -219,6 +225,11 @@ void loop(long window) {\n     glVertexAttribPointer(1, 2, GL_FLOAT, false, 0, 0);\n     glEnableVertexAttribArray(1);\n \n+    glBindBuffer(GL_ARRAY_BUFFER, colourTemplateBuffer);\n+    glBufferData(GL_ARRAY_BUFFER, colourTemplates, GL_STATIC_DRAW);\n+    glVertexAttribPointer(2, 3, GL_FLOAT, false, 0, 0);\n+    glEnableVertexAttribArray(2);\n+\n     glBindTexture(GL_TEXTURE_2D, textureID);\n \n     glDrawArrays("
  },
  {
    "sha": "7393e1982f8037bc8fcb6d671f9cef9abaa051a5",
    "filename": "src/uk/ac/cam/cl/groupprojectdelta/galtonboards/workspace/Ball.java",
    "status": "modified",
    "additions": 25,
    "deletions": 6,
    "changes": 31,
    "blob_url": "https://github.com/ThisIsSoNotMe/GaltonBoards/blob/8005ad6b3ba3e9b0fb62c0ad427acfde616d5f3a/src/uk/ac/cam/cl/groupprojectdelta/galtonboards/workspace/Ball.java",
    "raw_url": "https://github.com/ThisIsSoNotMe/GaltonBoards/raw/8005ad6b3ba3e9b0fb62c0ad427acfde616d5f3a/src/uk/ac/cam/cl/groupprojectdelta/galtonboards/workspace/Ball.java",
    "contents_url": "https://api.github.com/repos/ThisIsSoNotMe/GaltonBoards/contents/src/uk/ac/cam/cl/groupprojectdelta/galtonboards/workspace/Ball.java?ref=8005ad6b3ba3e9b0fb62c0ad427acfde616d5f3a",
    "patch": "@@ -17,6 +17,8 @@\n     Simulation simulation; // Simulation object that contains this ball\n     String tag = \"untagged\";\n \n+    static final float RADIUS = 0.1f;\n+\n     public Ball(LogicalLocation startingPoint, Simulation sim) {\n         simulation = sim;\n         logLocI = 0;\n@@ -167,19 +169,17 @@ public void update(float deltaTime) {\n \n     @Override\n     public List<Float> getMesh(float time) {\n-        List<Float> points = new ArrayList<>();\n+        List<Float> points;\n         Vector2f bound = new Vector2f();\n \n-        Vector2f dimensions = new Vector2f(0.1f, 0.1f);\n+        Vector2f dimensions = new Vector2f(RADIUS);\n         position.add(dimensions, bound);\n \n         //  +----+\n         //  |1 / |\n         //  | / 2|\n         //  +----+\n \n-        float z = 0.25f;\n-\n         points = new ArrayList<>(Arrays.asList(\n                 // Face 1\n                 position.x, position.y, z,\n@@ -202,7 +202,7 @@ public void update(float deltaTime) {\n         final float left = 0.75f;\n         final float right = 1f;\n \n-        List<Float> UVs = List.of(\n+        return List.of(\n                 // face 1\n                 top,left,\n                 bottom,left,\n@@ -212,6 +212,25 @@ public void update(float deltaTime) {\n                 top,right,\n                 bottom,right\n         );\n-        return UVs;\n+    }\n+\n+    @Override\n+    public List<Float> getColourTemplate() {\n+        // todo: colour balls based on colour tagging\n+        final boolean isLow = position.x < 0;\n+        final float red = isLow? 0 : 1f;\n+        final float green = 1;\n+        final float blue = red;\n+\n+        return List.of(\n+                // face 1\n+                red, green, blue,\n+                red, green, blue,\n+                red, green, blue,\n+                // face 2\n+                red, green, blue,\n+                red, green, blue,\n+                red, green, blue\n+        );\n     }\n }"
  },
  {
    "sha": "cadd80ddf4ee0fc690f2469156301043df3335f4",
    "filename": "src/uk/ac/cam/cl/groupprojectdelta/galtonboards/workspace/Configuration.java",
    "status": "modified",
    "additions": 9,
    "deletions": 0,
    "changes": 9,
    "blob_url": "https://github.com/ThisIsSoNotMe/GaltonBoards/blob/8005ad6b3ba3e9b0fb62c0ad427acfde616d5f3a/src/uk/ac/cam/cl/groupprojectdelta/galtonboards/workspace/Configuration.java",
    "raw_url": "https://github.com/ThisIsSoNotMe/GaltonBoards/raw/8005ad6b3ba3e9b0fb62c0ad427acfde616d5f3a/src/uk/ac/cam/cl/groupprojectdelta/galtonboards/workspace/Configuration.java",
    "contents_url": "https://api.github.com/repos/ThisIsSoNotMe/GaltonBoards/contents/src/uk/ac/cam/cl/groupprojectdelta/galtonboards/workspace/Configuration.java?ref=8005ad6b3ba3e9b0fb62c0ad427acfde616d5f3a",
    "patch": "@@ -86,6 +86,15 @@ public void setConfiguration(String label) {\n     return uv;\n   }\n \n+  @Override\n+  public List<Float> getColourTemplate() {\n+    List<Float> ct = new ArrayList<>();\n+    for (Board board : boards) {\n+      ct.addAll(board.getColourTemplate());\n+    }\n+    return ct;\n+  }\n+\n   @Override\n   public Iterable<? extends WorkspaceClickable> getClickables() {\n     return boards;"
  },
  {
    "sha": "df3a6b17be2151ac7864f1c979f7973cd2f82a86",
    "filename": "src/uk/ac/cam/cl/groupprojectdelta/galtonboards/workspace/Simulation.java",
    "status": "modified",
    "additions": 13,
    "deletions": 2,
    "changes": 15,
    "blob_url": "https://github.com/ThisIsSoNotMe/GaltonBoards/blob/8005ad6b3ba3e9b0fb62c0ad427acfde616d5f3a/src/uk/ac/cam/cl/groupprojectdelta/galtonboards/workspace/Simulation.java",
    "raw_url": "https://github.com/ThisIsSoNotMe/GaltonBoards/raw/8005ad6b3ba3e9b0fb62c0ad427acfde616d5f3a/src/uk/ac/cam/cl/groupprojectdelta/galtonboards/workspace/Simulation.java",
    "contents_url": "https://api.github.com/repos/ThisIsSoNotMe/GaltonBoards/contents/src/uk/ac/cam/cl/groupprojectdelta/galtonboards/workspace/Simulation.java?ref=8005ad6b3ba3e9b0fb62c0ad427acfde616d5f3a",
    "patch": "@@ -6,13 +6,15 @@\n import uk.ac.cam.cl.groupprojectdelta.galtonboards.workspace.board.Board;\n \n public class Simulation implements Drawable {\n+    public static Simulation simulation;\n+\n     private Configuration configuration;\n     private enum SimulationState {Running, Paused, Stopped};\n \n     public float speed = 4f;\n     private List<Ball> balls;\n-    private final float timeBetweenBalls = 0.005f;\n-    private float timeTillNextBall = 0;\n+    public float timeBetweenBalls = 0.005f;\n+    public float timeTillNextBall = 0;\n     private SimulationState simulationState;\n \n     public void run() {\n@@ -80,4 +82,13 @@ public void update(float deltaTime) {\n         }\n         return uv;\n     }\n+\n+    @Override\n+    public List<Float> getColourTemplate() {\n+        List<Float> ct = new ArrayList<>();\n+        for (Ball ball : balls) {\n+            ct.addAll(ball.getColourTemplate());\n+        }\n+        return ct;\n+    }\n }"
  },
  {
    "sha": "f725acc6f9885fea46c47ca4f0d1071671656a1d",
    "filename": "src/uk/ac/cam/cl/groupprojectdelta/galtonboards/workspace/Workspace.java",
    "status": "modified",
    "additions": 8,
    "deletions": 0,
    "changes": 8,
    "blob_url": "https://github.com/ThisIsSoNotMe/GaltonBoards/blob/8005ad6b3ba3e9b0fb62c0ad427acfde616d5f3a/src/uk/ac/cam/cl/groupprojectdelta/galtonboards/workspace/Workspace.java",
    "raw_url": "https://github.com/ThisIsSoNotMe/GaltonBoards/raw/8005ad6b3ba3e9b0fb62c0ad427acfde616d5f3a/src/uk/ac/cam/cl/groupprojectdelta/galtonboards/workspace/Workspace.java",
    "contents_url": "https://api.github.com/repos/ThisIsSoNotMe/GaltonBoards/contents/src/uk/ac/cam/cl/groupprojectdelta/galtonboards/workspace/Workspace.java?ref=8005ad6b3ba3e9b0fb62c0ad427acfde616d5f3a",
    "patch": "@@ -69,4 +69,12 @@ public void mouseMove(Vector2f pos) {\n     uv.addAll(cursor.getUV());\n     return uv;\n   }\n+\n+  @Override\n+  public List<Float> getColourTemplate() {\n+    List<Float> ct = configuration.getColourTemplate();\n+    ct.addAll(simulation.getColourTemplate());\n+    ct.addAll(cursor.getColourTemplate());\n+    return ct;\n+  }\n }"
  },
  {
    "sha": "d71200bdbdd79477e3faf4daf4a14cff2c86ad97",
    "filename": "src/uk/ac/cam/cl/groupprojectdelta/galtonboards/workspace/board/Board.java",
    "status": "modified",
    "additions": 35,
    "deletions": 8,
    "changes": 43,
    "blob_url": "https://github.com/ThisIsSoNotMe/GaltonBoards/blob/8005ad6b3ba3e9b0fb62c0ad427acfde616d5f3a/src/uk/ac/cam/cl/groupprojectdelta/galtonboards/workspace/board/Board.java",
    "raw_url": "https://github.com/ThisIsSoNotMe/GaltonBoards/raw/8005ad6b3ba3e9b0fb62c0ad427acfde616d5f3a/src/uk/ac/cam/cl/groupprojectdelta/galtonboards/workspace/board/Board.java",
    "contents_url": "https://api.github.com/repos/ThisIsSoNotMe/GaltonBoards/contents/src/uk/ac/cam/cl/groupprojectdelta/galtonboards/workspace/board/Board.java?ref=8005ad6b3ba3e9b0fb62c0ad427acfde616d5f3a",
    "patch": "@@ -655,18 +655,18 @@ public boolean isOpen() {\n         //  | / 2|\n         //  +----+\n \n-        float z = 1;\n+        float zEpsilon = z + 1E-3f;\n \n         points = new ArrayList<>(Arrays.asList(\n                 // Face 1\n-                lowBound.x, lowBound.y, z,\n-                highBound.x, lowBound.y, z,\n-                highBound.x, highBound.y, z,\n+                lowBound.x, lowBound.y, zEpsilon,\n+                highBound.x, lowBound.y, zEpsilon,\n+                highBound.x, highBound.y, zEpsilon,\n \n                 // Face 2\n-                lowBound.x, lowBound.y, z,\n-                lowBound.x, highBound.y, z,\n-                highBound.x, highBound.y, z\n+                lowBound.x, lowBound.y, zEpsilon,\n+                lowBound.x, highBound.y, zEpsilon,\n+                highBound.x, highBound.y, zEpsilon\n         ));\n \n         for (Peg peg : pegs) {\n@@ -723,7 +723,34 @@ public boolean isOpen() {\n         return UVs;\n     }\n \n-    //TODO: Add the addRowButton and removeRowButton to the color when merged.\n+    @Override\n+    public List<Float> getColourTemplate() {\n+        List<Float> ct = new ArrayList<>(Arrays.asList(\n+                1f, 1f, 1f,\n+                1f, 1f, 1f,\n+                1f, 1f, 1f,\n+\n+                1f, 1f, 1f,\n+                1f, 1f, 1f,\n+                1f, 1f, 1f\n+        ));\n+\n+        for (Peg peg : pegs) {\n+            ct.addAll(peg.getColourTemplate());\n+        }\n+        for (Bucket bucket : buckets) {\n+            ct.addAll(bucket.getColourTemplate());\n+        }\n+\n+        if (Workspace.workspace.getClickableMap() == this) {\n+            ct.addAll(addRowButton.getColourTemplate());\n+            if (isoGridWidth > 1) {\n+                ct.addAll(removeRowButton.getColourTemplate());\n+            }\n+        }\n+\n+        return ct;\n+    }\n \n     /*\n     ====================================================================="
  },
  {
    "sha": "810a744a24a57ded7830b3c23fc797f9fe080d1b",
    "filename": "src/uk/ac/cam/cl/groupprojectdelta/galtonboards/workspace/board/Bucket.java",
    "status": "modified",
    "additions": 20,
    "deletions": 7,
    "changes": 27,
    "blob_url": "https://github.com/ThisIsSoNotMe/GaltonBoards/blob/8005ad6b3ba3e9b0fb62c0ad427acfde616d5f3a/src/uk/ac/cam/cl/groupprojectdelta/galtonboards/workspace/board/Bucket.java",
    "raw_url": "https://github.com/ThisIsSoNotMe/GaltonBoards/raw/8005ad6b3ba3e9b0fb62c0ad427acfde616d5f3a/src/uk/ac/cam/cl/groupprojectdelta/galtonboards/workspace/board/Bucket.java",
    "contents_url": "https://api.github.com/repos/ThisIsSoNotMe/GaltonBoards/contents/src/uk/ac/cam/cl/groupprojectdelta/galtonboards/workspace/board/Bucket.java?ref=8005ad6b3ba3e9b0fb62c0ad427acfde616d5f3a",
    "patch": "@@ -279,18 +279,18 @@ public Vector2f getWorldPos() {\n         //  | / 2|\n         //  +----+\n \n-        float z = 0.75f;\n+        float zEpsilon = z + 1E-4f;\n \n         points = new ArrayList<>(Arrays.asList(\n             // Face 1\n-            lowBound.x, lowBound.y, z,\n-            highBound.x, lowBound.y, z,\n-            highBound.x, highBound.y, z,\n+            lowBound.x, lowBound.y, zEpsilon,\n+            highBound.x, lowBound.y, zEpsilon,\n+            highBound.x, highBound.y, zEpsilon,\n \n             // Face 2\n-            lowBound.x, lowBound.y, z,\n-            lowBound.x, highBound.y, z,\n-            highBound.x, highBound.y, z\n+            lowBound.x, lowBound.y, zEpsilon,\n+            lowBound.x, highBound.y, zEpsilon,\n+            highBound.x, highBound.y, zEpsilon\n         ));\n \n         return points;\n@@ -316,4 +316,17 @@ public Vector2f getWorldPos() {\n \n         return UVs;\n     }\n+\n+    @Override\n+    public List<Float> getColourTemplate() {\n+        return List.of(\n+                1f, 1f, 1f,\n+                1f, 1f, 1f,\n+                1f, 1f, 1f,\n+\n+                1f, 1f, 1f,\n+                1f, 1f, 1f,\n+                1f, 1f, 1f\n+        );\n+    }\n }"
  },
  {
    "sha": "4408b8eff19b97da1587a008682acbc3ff42cf60",
    "filename": "src/uk/ac/cam/cl/groupprojectdelta/galtonboards/workspace/board/Peg.java",
    "status": "modified",
    "additions": 12,
    "deletions": 5,
    "changes": 17,
    "blob_url": "https://github.com/ThisIsSoNotMe/GaltonBoards/blob/8005ad6b3ba3e9b0fb62c0ad427acfde616d5f3a/src/uk/ac/cam/cl/groupprojectdelta/galtonboards/workspace/board/Peg.java",
    "raw_url": "https://github.com/ThisIsSoNotMe/GaltonBoards/raw/8005ad6b3ba3e9b0fb62c0ad427acfde616d5f3a/src/uk/ac/cam/cl/groupprojectdelta/galtonboards/workspace/board/Peg.java",
    "contents_url": "https://api.github.com/repos/ThisIsSoNotMe/GaltonBoards/contents/src/uk/ac/cam/cl/groupprojectdelta/galtonboards/workspace/board/Peg.java?ref=8005ad6b3ba3e9b0fb62c0ad427acfde616d5f3a",
    "patch": "@@ -236,26 +236,24 @@ public Board getBoard() {\n     @Override\n     public List<Float> getMesh(float time) {\n \n-        // todo: generate just one triangle based on the probability see jamboard\n-\n         List<Float> points;\n         Vector2f bound = new Vector2f();\n \n-        Vector2f dimensions = new Vector2f(0.1f, 0.1f);\n+        Vector2f dimensions = new Vector2f(0.1f);\n         worldPos.add(dimensions, bound);\n \n         //  +----+\n         //  |1 / |\n         //  | / 2|\n         //  +----+\n \n-        float z = 0.5f;\n+        float ratio = probability;\n \n         points = new ArrayList<>(Arrays.asList(\n                 // Face 1\n                 worldPos.x, worldPos.y, z,\n                 bound.x, worldPos.y, z,\n-                (bound.x + worldPos.x)/2, bound.y, z\n+                ratio * bound.x + (1 - ratio) * worldPos.x, bound.y, z\n         ));\n \n         return points;\n@@ -278,6 +276,15 @@ public Board getBoard() {\n         return UVs;\n     }\n \n+    @Override\n+    public List<Float> getColourTemplate() {\n+        return List.of(\n+                1f,1f,1f,\n+                1f,1f,1f,\n+                1f,1f,1f\n+        );\n+    }\n+\n         /*\n     =====================================================================\n                                MOUSE EVENTS"
  },
  {
    "sha": "8310ce11511716ccfe493104918903d79d871f59",
    "filename": "src/uk/ac/cam/cl/groupprojectdelta/galtonboards/workspace/board/ui/WorkspaceButton.java",
    "status": "modified",
    "additions": 17,
    "deletions": 0,
    "changes": 17,
    "blob_url": "https://github.com/ThisIsSoNotMe/GaltonBoards/blob/8005ad6b3ba3e9b0fb62c0ad427acfde616d5f3a/src/uk/ac/cam/cl/groupprojectdelta/galtonboards/workspace/board/ui/WorkspaceButton.java",
    "raw_url": "https://github.com/ThisIsSoNotMe/GaltonBoards/raw/8005ad6b3ba3e9b0fb62c0ad427acfde616d5f3a/src/uk/ac/cam/cl/groupprojectdelta/galtonboards/workspace/board/ui/WorkspaceButton.java",
    "contents_url": "https://api.github.com/repos/ThisIsSoNotMe/GaltonBoards/contents/src/uk/ac/cam/cl/groupprojectdelta/galtonboards/workspace/board/ui/WorkspaceButton.java?ref=8005ad6b3ba3e9b0fb62c0ad427acfde616d5f3a",
    "patch": "@@ -88,4 +88,21 @@ public boolean containsPoint(Vector2f point) {\n     );\n     return UVs;\n   }\n+\n+  @Override\n+  public List<Float> getColourTemplate() {\n+    float red = 1;\n+    float green = 0;\n+    float blue = 1;\n+    return List.of(\n+            // face 1\n+            red, green, blue,\n+            red, green, blue,\n+            red, green, blue,\n+            // face 2\n+            red, green, blue,\n+            red, green, blue,\n+            red, green, blue\n+    );\n+  }\n }"
  },
  {
    "sha": "4e338dfd5e04f78916cd20c321e0ccc829df0962",
    "filename": "src/uk/ac/cam/cl/groupprojectdelta/galtonboards/workspace/mouse/Cursor.java",
    "status": "modified",
    "additions": 12,
    "deletions": 2,
    "changes": 14,
    "blob_url": "https://github.com/ThisIsSoNotMe/GaltonBoards/blob/8005ad6b3ba3e9b0fb62c0ad427acfde616d5f3a/src/uk/ac/cam/cl/groupprojectdelta/galtonboards/workspace/mouse/Cursor.java",
    "raw_url": "https://github.com/ThisIsSoNotMe/GaltonBoards/raw/8005ad6b3ba3e9b0fb62c0ad427acfde616d5f3a/src/uk/ac/cam/cl/groupprojectdelta/galtonboards/workspace/mouse/Cursor.java",
    "contents_url": "https://api.github.com/repos/ThisIsSoNotMe/GaltonBoards/contents/src/uk/ac/cam/cl/groupprojectdelta/galtonboards/workspace/mouse/Cursor.java?ref=8005ad6b3ba3e9b0fb62c0ad427acfde616d5f3a",
    "patch": "@@ -26,8 +26,6 @@ public void setPosition(Vector2f position) {\n     //  | / 2|\n     //  +----+\n \n-    float z = 0.25f;\n-\n     points = new ArrayList<>(Arrays.asList(\n         // Face 1\n         position.x, position.y, z,\n@@ -62,4 +60,16 @@ public void setPosition(Vector2f position) {\n     );\n     return UVs;\n   }\n+\n+  @Override\n+  public List<Float> getColourTemplate() {\n+    return List.of(\n+            1f,1f,1f,\n+            1f,1f,1f,\n+            1f,1f,1f,\n+            1f,1f,1f,\n+            1f,1f,1f,\n+            1f,1f,1f\n+    );\n+  }\n }"
  },
  {
    "sha": "bd2a7552a20f04f88d48ec4f16cb62276dc686cb",
    "filename": "src/uk/ac/cam/cl/groupprojectdelta/galtonboards/workspace/mouse/WorkspaceMouseHandler.java",
    "status": "modified",
    "additions": 5,
    "deletions": 5,
    "changes": 10,
    "blob_url": "https://github.com/ThisIsSoNotMe/GaltonBoards/blob/8005ad6b3ba3e9b0fb62c0ad427acfde616d5f3a/src/uk/ac/cam/cl/groupprojectdelta/galtonboards/workspace/mouse/WorkspaceMouseHandler.java",
    "raw_url": "https://github.com/ThisIsSoNotMe/GaltonBoards/raw/8005ad6b3ba3e9b0fb62c0ad427acfde616d5f3a/src/uk/ac/cam/cl/groupprojectdelta/galtonboards/workspace/mouse/WorkspaceMouseHandler.java",
    "contents_url": "https://api.github.com/repos/ThisIsSoNotMe/GaltonBoards/contents/src/uk/ac/cam/cl/groupprojectdelta/galtonboards/workspace/mouse/WorkspaceMouseHandler.java?ref=8005ad6b3ba3e9b0fb62c0ad427acfde616d5f3a",
    "patch": "@@ -31,18 +31,18 @@ public WorkspaceMouseHandler(ClickableMap clickableMap) {\n   public void mouseDown(float time) {\n     selectedClickable = currentClickable;\n     if (currentClickable instanceof Board) {\n-      UserInterface.userInterface.probabilitySlider.setValue(((Board) currentClickable).getPegs().get(0).leftProb());\n+      UserInterface.userInterface.probabilitySlider.setValue(((Board) currentClickable).getPegs().get(0).rightProb());\n     } else {\n       UserInterface.userInterface.probabilitySlider.setValue(-1);  // Ideally we would disable\n     }\n-    String clickedDesciption;\n+    String clickedDescription;\n     if (currentClickable == null) {\n-      clickedDesciption = \"\";\n+      clickedDescription = \"\";\n     } else {\n-      clickedDesciption = currentClickable.toString();\n+      clickedDescription = currentClickable.toString();\n     }\n     ((Label) UserInterface.userInterface.editPanel.getChildComponents().get(0))\n-            .getTextState().setText(clickedDesciption);\n+            .getTextState().setText(clickedDescription);\n \n     switch (state) {\n       case NONE:"
  }
]
