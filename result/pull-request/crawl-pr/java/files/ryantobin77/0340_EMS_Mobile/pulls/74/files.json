[
  {
    "sha": "78d09395e4ebf4ba6bd9434625b9e0d4cf3f0181",
    "filename": "Backend/EMS_Django_Backend/db.sqlite3",
    "status": "modified",
    "additions": 0,
    "deletions": 0,
    "changes": 0,
    "blob_url": "https://github.com/ryantobin77/0340_EMS_Mobile/blob/9cb1fcdf2bcbbe1a90f646c55aa9ddb64cddb9b7/Backend/EMS_Django_Backend/db.sqlite3",
    "raw_url": "https://github.com/ryantobin77/0340_EMS_Mobile/raw/9cb1fcdf2bcbbe1a90f646c55aa9ddb64cddb9b7/Backend/EMS_Django_Backend/db.sqlite3",
    "contents_url": "https://api.github.com/repos/ryantobin77/0340_EMS_Mobile/contents/Backend/EMS_Django_Backend/db.sqlite3?ref=9cb1fcdf2bcbbe1a90f646c55aa9ddb64cddb9b7"
  },
  {
    "sha": "f3d11143d511ec151426f768751b8992422a021a",
    "filename": "EMS iOS App/EMS iOS App.xcodeproj/project.pbxproj",
    "status": "modified",
    "additions": 4,
    "deletions": 0,
    "changes": 4,
    "blob_url": "https://github.com/ryantobin77/0340_EMS_Mobile/blob/9cb1fcdf2bcbbe1a90f646c55aa9ddb64cddb9b7/EMS%20iOS%20App/EMS%20iOS%20App.xcodeproj/project.pbxproj",
    "raw_url": "https://github.com/ryantobin77/0340_EMS_Mobile/raw/9cb1fcdf2bcbbe1a90f646c55aa9ddb64cddb9b7/EMS%20iOS%20App/EMS%20iOS%20App.xcodeproj/project.pbxproj",
    "contents_url": "https://api.github.com/repos/ryantobin77/0340_EMS_Mobile/contents/EMS%20iOS%20App/EMS%20iOS%20App.xcodeproj/project.pbxproj?ref=9cb1fcdf2bcbbe1a90f646c55aa9ddb64cddb9b7",
    "patch": "@@ -7,6 +7,7 @@\n \tobjects = {\n \n /* Begin PBXBuildFile section */\n+\t\t949E8C3625FA9DC500FF934E /* LoadingVC.swift in Sources */ = {isa = PBXBuildFile; fileRef = 949E8C3525FA9DC500FF934E /* LoadingVC.swift */; };\n \t\t94CC6A9F25E6BD3C00D4294C /* Enums.swift in Sources */ = {isa = PBXBuildFile; fileRef = 94CC6A9E25E6BD3C00D4294C /* Enums.swift */; };\n \t\t94CC6AA125E6BD4C00D4294C /* BackendURLs.swift in Sources */ = {isa = PBXBuildFile; fileRef = 94CC6AA025E6BD4C00D4294C /* BackendURLs.swift */; };\n \t\t94CC6AA525E6BD5C00D4294C /* HospitalsTasker.swift in Sources */ = {isa = PBXBuildFile; fileRef = 94CC6AA325E6BD5C00D4294C /* HospitalsTasker.swift */; };\n@@ -42,6 +43,7 @@\n /* End PBXContainerItemProxy section */\n \n /* Begin PBXFileReference section */\n+\t\t949E8C3525FA9DC500FF934E /* LoadingVC.swift */ = {isa = PBXFileReference; lastKnownFileType = sourcecode.swift; path = LoadingVC.swift; sourceTree = \"<group>\"; };\n \t\t94CC6A9E25E6BD3C00D4294C /* Enums.swift */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.swift; path = Enums.swift; sourceTree = \"<group>\"; };\n \t\t94CC6AA025E6BD4C00D4294C /* BackendURLs.swift */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.swift; path = BackendURLs.swift; sourceTree = \"<group>\"; };\n \t\t94CC6AA325E6BD5C00D4294C /* HospitalsTasker.swift */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.swift; path = HospitalsTasker.swift; sourceTree = \"<group>\"; };\n@@ -164,6 +166,7 @@\n \t\t94E3B233255A3B6A0021FCAA /* VCs */ = {\n \t\t\tisa = PBXGroup;\n \t\t\tchildren = (\n+\t\t\t\t949E8C3525FA9DC500FF934E /* LoadingVC.swift */,\n \t\t\t\t94E3B275255A41EA0021FCAA /* Home */,\n \t\t\t);\n \t\t\tpath = VCs;\n@@ -362,6 +365,7 @@\n \t\t\t\t94E3B277255A420F0021FCAA /* HomeTableViewCell.swift in Sources */,\n \t\t\t\t94CC6AA625E6BD5C00D4294C /* WebCallTasker.swift in Sources */,\n \t\t\t\t94E3B205255A3A200021FCAA /* SceneDelegate.swift in Sources */,\n+\t\t\t\t949E8C3625FA9DC500FF934E /* LoadingVC.swift in Sources */,\n \t\t\t);\n \t\t\trunOnlyForDeploymentPostprocessing = 0;\n \t\t};"
  },
  {
    "sha": "b7982cd6b9347dd9cf61e1ab7b5e2c0f4b4cbca4",
    "filename": "EMS iOS App/EMS iOS App.xcodeproj/project.xcworkspace/xcuserdata/ryan.xcuserdatad/UserInterfaceState.xcuserstate",
    "status": "modified",
    "additions": 0,
    "deletions": 0,
    "changes": 0,
    "blob_url": "https://github.com/ryantobin77/0340_EMS_Mobile/blob/9cb1fcdf2bcbbe1a90f646c55aa9ddb64cddb9b7/EMS%20iOS%20App/EMS%20iOS%20App.xcodeproj/project.xcworkspace/xcuserdata/ryan.xcuserdatad/UserInterfaceState.xcuserstate",
    "raw_url": "https://github.com/ryantobin77/0340_EMS_Mobile/raw/9cb1fcdf2bcbbe1a90f646c55aa9ddb64cddb9b7/EMS%20iOS%20App/EMS%20iOS%20App.xcodeproj/project.xcworkspace/xcuserdata/ryan.xcuserdatad/UserInterfaceState.xcuserstate",
    "contents_url": "https://api.github.com/repos/ryantobin77/0340_EMS_Mobile/contents/EMS%20iOS%20App/EMS%20iOS%20App.xcodeproj/project.xcworkspace/xcuserdata/ryan.xcuserdatad/UserInterfaceState.xcuserstate?ref=9cb1fcdf2bcbbe1a90f646c55aa9ddb64cddb9b7"
  },
  {
    "sha": "e9abfcb49d9b1c826fc28f485e7b4913ab86797e",
    "filename": "EMS iOS App/EMS iOS App/Business_Layer/Information_Holders/HospitalIH.swift",
    "status": "modified",
    "additions": 10,
    "deletions": 4,
    "changes": 14,
    "blob_url": "https://github.com/ryantobin77/0340_EMS_Mobile/blob/9cb1fcdf2bcbbe1a90f646c55aa9ddb64cddb9b7/EMS%20iOS%20App/EMS%20iOS%20App/Business_Layer/Information_Holders/HospitalIH.swift",
    "raw_url": "https://github.com/ryantobin77/0340_EMS_Mobile/raw/9cb1fcdf2bcbbe1a90f646c55aa9ddb64cddb9b7/EMS%20iOS%20App/EMS%20iOS%20App/Business_Layer/Information_Holders/HospitalIH.swift",
    "contents_url": "https://api.github.com/repos/ryantobin77/0340_EMS_Mobile/contents/EMS%20iOS%20App/EMS%20iOS%20App/Business_Layer/Information_Holders/HospitalIH.swift?ref=9cb1fcdf2bcbbe1a90f646c55aa9ddb64cddb9b7",
    "patch": "@@ -13,7 +13,9 @@ class HospitalIH: NSObject {\n     var name: String!\n     var nedocsScore: NedocsScore!\n     var specialtyCenters: [HospitalType]!\n-    var distance: Float!\n+    var distance: Double!\n+    var lat: Double!\n+    var long: Double!\n     var hasDiversion: Bool!\n     var diversions: [String]!\n     var address: String!\n@@ -23,11 +25,13 @@ class HospitalIH: NSObject {\n     var rch: String! //Regional Coordinating Hospital\n     \n \n-    init(name: String, nedocsScore: NedocsScore, specialtyCenters: [HospitalType], distance: Float, hasDiversion: Bool, diversions: [String], address: String, phoneNumber: String, regionNumber: String, county: String, rch: String) {\n+    init(name: String, nedocsScore: NedocsScore, specialtyCenters: [HospitalType], distance: Double, lat: Double, long: Double, hasDiversion: Bool, diversions: [String], address: String, phoneNumber: String, regionNumber: String, county: String, rch: String) {\n         self.name = name\n         self.nedocsScore = nedocsScore\n         self.specialtyCenters = specialtyCenters\n         self.distance = distance\n+        self.lat = lat\n+        self.long = long\n         self.hasDiversion = hasDiversion\n         self.diversions = diversions\n         self.address = address\n@@ -70,9 +74,11 @@ class HospitalIH: NSObject {\n                 }\n             }\n             let address = street + \", \" + city + \", \" + state + \" \" + zip\n+            let lat: Double = 33.774760\n+            let long: Double = -84.388860\n             \n-            // Hardcoded: specialty centers, distance\n-            let hosp = HospitalIH(name: name, nedocsScore: NedocsScore(rawValue: nedocsScore)!, specialtyCenters: centers, distance: 1.0, hasDiversion: (diversions.count > 0 && diversions[0] != \"Normal\"), diversions: diversions, address: address, phoneNumber: phone, regionNumber: emsRegion, county: county_val, rch: rch_value)\n+            // Hardcoded: lat, long\n+            let hosp = HospitalIH(name: name, nedocsScore: NedocsScore(rawValue: nedocsScore)!, specialtyCenters: centers, distance: -1.0, lat: lat, long: long, hasDiversion: (diversions.count > 0 && diversions[0] != \"Normal\"), diversions: diversions, address: address, phoneNumber: phone, regionNumber: emsRegion, county: county_val, rch: rch_value)\n             result.append(hosp)\n         }\n         return result"
  },
  {
    "sha": "f46397829bf2ab84ecaa7893dd34070ef9b62614",
    "filename": "EMS iOS App/EMS iOS App/Info.plist",
    "status": "modified",
    "additions": 2,
    "deletions": 0,
    "changes": 2,
    "blob_url": "https://github.com/ryantobin77/0340_EMS_Mobile/blob/9cb1fcdf2bcbbe1a90f646c55aa9ddb64cddb9b7/EMS%20iOS%20App/EMS%20iOS%20App/Info.plist",
    "raw_url": "https://github.com/ryantobin77/0340_EMS_Mobile/raw/9cb1fcdf2bcbbe1a90f646c55aa9ddb64cddb9b7/EMS%20iOS%20App/EMS%20iOS%20App/Info.plist",
    "contents_url": "https://api.github.com/repos/ryantobin77/0340_EMS_Mobile/contents/EMS%20iOS%20App/EMS%20iOS%20App/Info.plist?ref=9cb1fcdf2bcbbe1a90f646c55aa9ddb64cddb9b7",
    "patch": "@@ -2,6 +2,8 @@\n <!DOCTYPE plist PUBLIC \"-//Apple//DTD PLIST 1.0//EN\" \"http://www.apple.com/DTDs/PropertyList-1.0.dtd\">\n <plist version=\"1.0\">\n <dict>\n+\t<key>NSLocationWhenInUseUsageDescription</key>\n+\t<string>We need your location to find the closest hospitals</string>\n \t<key>CFBundleDevelopmentRegion</key>\n \t<string>$(DEVELOPMENT_LANGUAGE)</string>\n \t<key>CFBundleExecutable</key>"
  },
  {
    "sha": "8bf9458b44d24475117d65edee294797d73e9c7e",
    "filename": "EMS iOS App/EMS iOS App/UI_Layer/Storyboards/Base.lproj/Main.storyboard",
    "status": "modified",
    "additions": 32,
    "deletions": 14,
    "changes": 46,
    "blob_url": "https://github.com/ryantobin77/0340_EMS_Mobile/blob/9cb1fcdf2bcbbe1a90f646c55aa9ddb64cddb9b7/EMS%20iOS%20App/EMS%20iOS%20App/UI_Layer/Storyboards/Base.lproj/Main.storyboard",
    "raw_url": "https://github.com/ryantobin77/0340_EMS_Mobile/raw/9cb1fcdf2bcbbe1a90f646c55aa9ddb64cddb9b7/EMS%20iOS%20App/EMS%20iOS%20App/UI_Layer/Storyboards/Base.lproj/Main.storyboard",
    "contents_url": "https://api.github.com/repos/ryantobin77/0340_EMS_Mobile/contents/EMS%20iOS%20App/EMS%20iOS%20App/UI_Layer/Storyboards/Base.lproj/Main.storyboard?ref=9cb1fcdf2bcbbe1a90f646c55aa9ddb64cddb9b7",
    "patch": "@@ -1,18 +1,17 @@\n <?xml version=\"1.0\" encoding=\"UTF-8\"?>\n-<document type=\"com.apple.InterfaceBuilder3.CocoaTouch.Storyboard.XIB\" version=\"3.0\" toolsVersion=\"17701\" targetRuntime=\"iOS.CocoaTouch\" propertyAccessControl=\"none\" useAutolayout=\"YES\" useTraitCollections=\"YES\" useSafeAreas=\"YES\" colorMatched=\"YES\" initialViewController=\"caA-Sf-2pn\">\n+<document type=\"com.apple.InterfaceBuilder3.CocoaTouch.Storyboard.XIB\" version=\"3.0\" toolsVersion=\"16096\" targetRuntime=\"iOS.CocoaTouch\" propertyAccessControl=\"none\" useAutolayout=\"YES\" useTraitCollections=\"YES\" useSafeAreas=\"YES\" colorMatched=\"YES\" initialViewController=\"pZC-Rk-Vgf\">\n     <device id=\"retina6_1\" orientation=\"portrait\" appearance=\"light\"/>\n     <dependencies>\n-        <deployment identifier=\"iOS\"/>\n-        <plugIn identifier=\"com.apple.InterfaceBuilder.IBCocoaTouchPlugin\" version=\"17703\"/>\n+        <plugIn identifier=\"com.apple.InterfaceBuilder.IBCocoaTouchPlugin\" version=\"16087\"/>\n         <capability name=\"Safe area layout guides\" minToolsVersion=\"9.0\"/>\n-        <capability name=\"System colors in document resources\" minToolsVersion=\"11.0\"/>\n         <capability name=\"documents saved in the Xcode 8 format\" minToolsVersion=\"8.0\"/>\n     </dependencies>\n     <scenes>\n         <!--Navigation Controller-->\n         <scene sceneID=\"U3C-ut-zfr\">\n             <objects>\n                 <navigationController id=\"caA-Sf-2pn\" sceneMemberID=\"viewController\">\n+                    <navigationItem key=\"navigationItem\" id=\"s49-iB-Qj2\"/>\n                     <navigationBar key=\"navigationBar\" contentMode=\"scaleToFill\" insetsLayoutMarginsFromSafeArea=\"NO\" id=\"Ky3-yg-Baa\">\n                         <rect key=\"frame\" x=\"0.0\" y=\"44\" width=\"414\" height=\"44\"/>\n                         <autoresizingMask key=\"autoresizingMask\"/>\n@@ -40,7 +39,7 @@\n                         <subviews>\n                             <tableView clipsSubviews=\"YES\" contentMode=\"scaleToFill\" alwaysBounceVertical=\"YES\" dataMode=\"prototypes\" style=\"plain\" separatorStyle=\"default\" rowHeight=\"264\" estimatedRowHeight=\"90\" sectionHeaderHeight=\"28\" sectionFooterHeight=\"28\" translatesAutoresizingMaskIntoConstraints=\"NO\" id=\"5Kd-TW-JX4\">\n                                 <rect key=\"frame\" x=\"0.0\" y=\"88\" width=\"414\" height=\"808\"/>\n-                                <color key=\"backgroundColor\" systemColor=\"systemBackgroundColor\"/>\n+                                <color key=\"backgroundColor\" systemColor=\"systemBackgroundColor\" cocoaTouchSystemColor=\"whiteColor\"/>\n                                 <prototypes>\n                                     <tableViewCell clipsSubviews=\"YES\" contentMode=\"scaleToFill\" insetsLayoutMarginsFromSafeArea=\"NO\" selectionStyle=\"blue\" hidesAccessoryWhenEditing=\"NO\" indentationLevel=\"1\" indentationWidth=\"0.0\" reuseIdentifier=\"hospitalCell\" rowHeight=\"264\" id=\"ayb-Ta-Od8\" customClass=\"HomeTableViewCell\" customModule=\"EMS_iOS_App\" customModuleProvider=\"target\">\n                                         <rect key=\"frame\" x=\"0.0\" y=\"28\" width=\"414\" height=\"264\"/>\n@@ -62,7 +61,7 @@\n                                                             <nil key=\"highlightedColor\"/>\n                                                         </label>\n                                                     </subviews>\n-                                                    <color key=\"backgroundColor\" systemColor=\"systemRedColor\"/>\n+                                                    <color key=\"backgroundColor\" systemColor=\"systemRedColor\" red=\"1\" green=\"0.23137254900000001\" blue=\"0.18823529410000001\" alpha=\"1\" colorSpace=\"custom\" customColorSpace=\"sRGB\"/>\n                                                     <constraints>\n                                                         <constraint firstAttribute=\"bottom\" secondItem=\"ghC-tC-3ji\" secondAttribute=\"bottom\" id=\"8S7-hK-TZa\"/>\n                                                         <constraint firstItem=\"ghC-tC-3ji\" firstAttribute=\"top\" secondItem=\"90S-SX-gSq\" secondAttribute=\"top\" id=\"GlY-eG-uy3\"/>\n@@ -370,14 +369,14 @@\n                                 </prototypes>\n                             </tableView>\n                         </subviews>\n-                        <viewLayoutGuide key=\"safeArea\" id=\"OyN-Ek-oEJ\"/>\n-                        <color key=\"backgroundColor\" systemColor=\"systemBackgroundColor\"/>\n+                        <color key=\"backgroundColor\" systemColor=\"systemBackgroundColor\" cocoaTouchSystemColor=\"whiteColor\"/>\n                         <constraints>\n                             <constraint firstAttribute=\"bottom\" secondItem=\"5Kd-TW-JX4\" secondAttribute=\"bottom\" id=\"5DG-02-2cf\"/>\n                             <constraint firstItem=\"5Kd-TW-JX4\" firstAttribute=\"top\" secondItem=\"OyN-Ek-oEJ\" secondAttribute=\"top\" id=\"Mim-x6-Xrx\"/>\n                             <constraint firstItem=\"5Kd-TW-JX4\" firstAttribute=\"trailing\" secondItem=\"OyN-Ek-oEJ\" secondAttribute=\"trailing\" id=\"VD9-Sf-XkW\"/>\n                             <constraint firstItem=\"5Kd-TW-JX4\" firstAttribute=\"leading\" secondItem=\"OyN-Ek-oEJ\" secondAttribute=\"leading\" id=\"xgf-Hd-s6g\"/>\n                         </constraints>\n+                        <viewLayoutGuide key=\"safeArea\" id=\"OyN-Ek-oEJ\"/>\n                     </view>\n                     <navigationItem key=\"navigationItem\" title=\"EMS\" id=\"Rzh-Mw-DlK\">\n                         <barButtonItem key=\"leftBarButtonItem\" title=\"Item\" image=\"PhoneIconWhite\" id=\"gsh-ru-Jvb\">\n@@ -403,6 +402,31 @@\n             </objects>\n             <point key=\"canvasLocation\" x=\"27.536231884057973\" y=\"112.5\"/>\n         </scene>\n+        <!--LoadingVC-->\n+        <scene sceneID=\"ACA-WT-P7g\">\n+            <objects>\n+                <viewController id=\"pZC-Rk-Vgf\" customClass=\"LoadingVC\" customModule=\"EMS_iOS_App\" customModuleProvider=\"target\" sceneMemberID=\"viewController\">\n+                    <view key=\"view\" contentMode=\"scaleToFill\" id=\"bRA-YE-zy0\">\n+                        <rect key=\"frame\" x=\"0.0\" y=\"0.0\" width=\"414\" height=\"896\"/>\n+                        <autoresizingMask key=\"autoresizingMask\" widthSizable=\"YES\" heightSizable=\"YES\"/>\n+                        <subviews>\n+                            <activityIndicatorView opaque=\"NO\" contentMode=\"scaleToFill\" horizontalHuggingPriority=\"750\" verticalHuggingPriority=\"750\" fixedFrame=\"YES\" style=\"whiteLarge\" translatesAutoresizingMaskIntoConstraints=\"NO\" id=\"ckE-vL-qRJ\">\n+                                <rect key=\"frame\" x=\"189\" y=\"430\" width=\"37\" height=\"37\"/>\n+                                <autoresizingMask key=\"autoresizingMask\" flexibleMinX=\"YES\" flexibleMaxX=\"YES\" flexibleMinY=\"YES\" flexibleMaxY=\"YES\"/>\n+                            </activityIndicatorView>\n+                        </subviews>\n+                        <color key=\"backgroundColor\" red=\"0.12245027059999999\" green=\"0.2332435055\" blue=\"0.56410612309999997\" alpha=\"1\" colorSpace=\"custom\" customColorSpace=\"displayP3\"/>\n+                        <viewLayoutGuide key=\"safeArea\" id=\"Bnk-WY-tDd\"/>\n+                    </view>\n+                    <connections>\n+                        <outlet property=\"spinner\" destination=\"ckE-vL-qRJ\" id=\"IW1-JO-MoE\"/>\n+                        <segue destination=\"caA-Sf-2pn\" kind=\"presentation\" identifier=\"showHospitals\" modalPresentationStyle=\"fullScreen\" id=\"SK9-fo-VNe\"/>\n+                    </connections>\n+                </viewController>\n+                <placeholder placeholderIdentifier=\"IBFirstResponder\" id=\"gJK-HO-LhM\" userLabel=\"First Responder\" customClass=\"UIResponder\" sceneMemberID=\"firstResponder\"/>\n+            </objects>\n+            <point key=\"canvasLocation\" x=\"-1614\" y=\"113\"/>\n+        </scene>\n     </scenes>\n     <resources>\n         <image name=\"AddressIcon\" width=\"20\" height=\"20\"/>\n@@ -417,11 +441,5 @@\n         <image name=\"SearchIcon\" width=\"24\" height=\"24\"/>\n         <image name=\"SortIcon\" width=\"24\" height=\"24\"/>\n         <image name=\"WarningIcon\" width=\"512\" height=\"512\"/>\n-        <systemColor name=\"systemBackgroundColor\">\n-            <color white=\"1\" alpha=\"1\" colorSpace=\"custom\" customColorSpace=\"genericGamma22GrayColorSpace\"/>\n-        </systemColor>\n-        <systemColor name=\"systemRedColor\">\n-            <color red=\"1\" green=\"0.23137254901960785\" blue=\"0.18823529411764706\" alpha=\"1\" colorSpace=\"custom\" customColorSpace=\"sRGB\"/>\n-        </systemColor>\n     </resources>\n </document>"
  },
  {
    "sha": "fb2a50c8565c6e65b846295bf460a2fa738db58d",
    "filename": "EMS iOS App/EMS iOS App/UI_Layer/VCs/Home/HomeVC.swift",
    "status": "modified",
    "additions": 6,
    "deletions": 18,
    "changes": 24,
    "blob_url": "https://github.com/ryantobin77/0340_EMS_Mobile/blob/9cb1fcdf2bcbbe1a90f646c55aa9ddb64cddb9b7/EMS%20iOS%20App/EMS%20iOS%20App/UI_Layer/VCs/Home/HomeVC.swift",
    "raw_url": "https://github.com/ryantobin77/0340_EMS_Mobile/raw/9cb1fcdf2bcbbe1a90f646c55aa9ddb64cddb9b7/EMS%20iOS%20App/EMS%20iOS%20App/UI_Layer/VCs/Home/HomeVC.swift",
    "contents_url": "https://api.github.com/repos/ryantobin77/0340_EMS_Mobile/contents/EMS%20iOS%20App/EMS%20iOS%20App/UI_Layer/VCs/Home/HomeVC.swift?ref=9cb1fcdf2bcbbe1a90f646c55aa9ddb64cddb9b7",
    "patch": "@@ -19,25 +19,8 @@ class HomeVC: UIViewController, UITableViewDelegate, UITableViewDataSource, UIGe\n     override func viewDidLoad() {\n         super.viewDidLoad()\n         self.navigationController?.navigationBar.barStyle = UIBarStyle.black\n-        self.hospitals = Array<HospitalIH>()\n         self.tableView.delegate = self\n         self.tableView.dataSource = self\n-        let tasker = HospitalsTasker()\n-        tasker.getAllHospitals(failure: {\n-            print(\"Failure\")\n-        }, success: { (hospitals) in\n-            guard let hospitals = hospitals else {\n-                self.hospitals = Array<HospitalIH>()\n-                DispatchQueue.main.async {\n-                    self.tableView.reloadData()\n-                }\n-                return\n-            }\n-            self.hospitals = hospitals\n-            DispatchQueue.main.async {\n-                self.tableView.reloadData()\n-            }\n-        })\n     }\n     \n     func tableView(_ tableView: UITableView, numberOfRowsInSection section: Int) -> Int {\n@@ -155,7 +138,12 @@ class HomeVC: UIViewController, UITableViewDelegate, UITableViewDataSource, UIGe\n             }\n         }\n         \n-        cell.distanceLabel.text = \"\\(String(hospital.distance)) mi\"\n+        if (hospital.distance == -1.0) {\n+            cell.distanceLabel.text = \"-- mi\"\n+        } else {\n+            cell.distanceLabel.text = \"\\(String(hospital.distance)) mi\"\n+        }\n+        \n         cell.address.attributedText = NSAttributedString(string: hospital.address, attributes:\n             [.underlineStyle: NSUnderlineStyle.single.rawValue])\n         cell.address.textColor = UIColor.blue"
  },
  {
    "sha": "be65983edb5704c1cc5ea18dc90d29490dcea173",
    "filename": "EMS iOS App/EMS iOS App/UI_Layer/VCs/LoadingVC.swift",
    "status": "added",
    "additions": 90,
    "deletions": 0,
    "changes": 90,
    "blob_url": "https://github.com/ryantobin77/0340_EMS_Mobile/blob/9cb1fcdf2bcbbe1a90f646c55aa9ddb64cddb9b7/EMS%20iOS%20App/EMS%20iOS%20App/UI_Layer/VCs/LoadingVC.swift",
    "raw_url": "https://github.com/ryantobin77/0340_EMS_Mobile/raw/9cb1fcdf2bcbbe1a90f646c55aa9ddb64cddb9b7/EMS%20iOS%20App/EMS%20iOS%20App/UI_Layer/VCs/LoadingVC.swift",
    "contents_url": "https://api.github.com/repos/ryantobin77/0340_EMS_Mobile/contents/EMS%20iOS%20App/EMS%20iOS%20App/UI_Layer/VCs/LoadingVC.swift?ref=9cb1fcdf2bcbbe1a90f646c55aa9ddb64cddb9b7",
    "patch": "@@ -0,0 +1,90 @@\n+//\n+//  LoadingVC.swift\n+//  EMS iOS App\n+//\n+//  Created by Ryan Tobin on 3/11/21.\n+//  Copyright Â© 2021 JD_0340_EMS. All rights reserved.\n+//\n+\n+import UIKit\n+import MapKit\n+\n+class LoadingVC: UIViewController {\n+    \n+    @IBOutlet var spinner: UIActivityIndicatorView!\n+    var hospitals: Array<HospitalIH>!\n+    var locationManager: CLLocationManager!\n+\n+    func getHospitalDistances() {\n+        let currentLocation: CLLocation = self.determineCurrentLocation()\n+        var count = 0\n+        for hospital in self.hospitals {\n+            let hospitalLocation = CLLocation(latitude: CLLocationDegrees(exactly: hospital.lat)!, longitude: CLLocationDegrees(exactly: hospital.long)!)\n+            let request = MKDirections.Request()\n+            request.source = MKMapItem(placemark: MKPlacemark(coordinate: currentLocation.coordinate))\n+            request.destination = MKMapItem(placemark: MKPlacemark(coordinate: hospitalLocation.coordinate))\n+            request.requestsAlternateRoutes = true\n+            request.transportType = .automobile\n+            let directions = MKDirections(request: request)\n+            directions.calculate { response, error in\n+                var distance = currentLocation.distance(from: hospitalLocation)\n+                if let unwrappedResponse = response {\n+                    let route = unwrappedResponse.routes[0]\n+                    distance = route.distance\n+                }\n+                distance = (distance / 1000) * 0.62137\n+                distance = Double(round(distance * 100) / 100)\n+                hospital.distance = distance\n+                count += 1\n+                if count == self.hospitals.count {\n+                    DispatchQueue.main.async {\n+                        self.spinner.stopAnimating()\n+                        self.performSegue(withIdentifier: \"showHospitals\", sender: self)\n+                    }\n+                }\n+            }\n+        }\n+    }\n+    \n+    func determineCurrentLocation() -> CLLocation {\n+        if (CLLocationManager.authorizationStatus() == .authorizedWhenInUse || CLLocationManager.authorizationStatus() == .authorizedAlways){\n+            if let location = self.locationManager.location {\n+                return location\n+            } else {\n+                return self.determineCurrentLocation()\n+            }\n+        }\n+        return CLLocation()\n+    }\n+    \n+    override func viewDidLoad() {\n+        super.viewDidLoad()\n+        self.spinner.startAnimating()\n+        self.locationManager = CLLocationManager()\n+        self.locationManager.requestWhenInUseAuthorization()\n+        self.hospitals = Array<HospitalIH>()\n+        let tasker = HospitalsTasker()\n+        tasker.getAllHospitals(failure: {\n+            print(\"Failure\")\n+        }, success: { (hospitals) in\n+            guard let hospitals = hospitals else {\n+                self.hospitals = Array<HospitalIH>()\n+                DispatchQueue.main.async {\n+                    self.spinner.stopAnimating()\n+                    self.performSegue(withIdentifier: \"showHospitals\", sender: self)\n+                }\n+                return\n+            }\n+            self.hospitals = hospitals\n+            self.getHospitalDistances()\n+        })\n+    }\n+    \n+    override func prepare(for segue: UIStoryboardSegue, sender: Any?) {\n+        let navVC = segue.destination as! UINavigationController\n+        let homeVC = navVC.viewControllers.first as! HomeVC\n+        homeVC.hospitals = self.hospitals\n+    }\n+    \n+\n+}"
  }
]
