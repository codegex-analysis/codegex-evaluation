[
  {
    "sha": "b6c7fa32124714d040182555737565af777c58c2",
    "filename": ".travis.yml",
    "status": "modified",
    "additions": 3,
    "deletions": 1,
    "changes": 4,
    "blob_url": "https://github.com/SCADA-LTS/Scada-LTS/blob/467c7e12ec004ebcecb11d1ec2c876f192ad864e/.travis.yml",
    "raw_url": "https://github.com/SCADA-LTS/Scada-LTS/raw/467c7e12ec004ebcecb11d1ec2c876f192ad864e/.travis.yml",
    "contents_url": "https://api.github.com/repos/SCADA-LTS/Scada-LTS/contents/.travis.yml?ref=467c7e12ec004ebcecb11d1ec2c876f192ad864e",
    "patch": "@@ -30,7 +30,9 @@ branches:\n   only:\n   - \"/^develop.*$/\"\n   - \"/^master.*$/\"\n-  - \"/^feature/#1545.*$/\"\n+  - \"/^feature/#1563.*$/\"\n+  - \"/^feature/#1546.*$/\"\n+  - \"/^feature/#1533.*$/\"\n notifications:\n   email: false\n env:"
  },
  {
    "sha": "85618ca5447b56294a3de095e399e47d3b27245a",
    "filename": "scadalts-ui/README.md",
    "status": "added",
    "additions": 33,
    "deletions": 0,
    "changes": 33,
    "blob_url": "https://github.com/SCADA-LTS/Scada-LTS/blob/467c7e12ec004ebcecb11d1ec2c876f192ad864e/scadalts-ui/README.md",
    "raw_url": "https://github.com/SCADA-LTS/Scada-LTS/raw/467c7e12ec004ebcecb11d1ec2c876f192ad864e/scadalts-ui/README.md",
    "contents_url": "https://api.github.com/repos/SCADA-LTS/Scada-LTS/contents/scadalts-ui/README.md?ref=467c7e12ec004ebcecb11d1ec2c876f192ad864e",
    "patch": "@@ -0,0 +1,33 @@\n+# Scada-LTS - Vue User Interface\n+Vue.js subproject for modern Views and Components\n+\n+## Description\n+\n+User Interface subproject to display ScadaLTS content.\n+\n+## Usage\n+\n+- To start a developmnent server type inside this directory:  \n+`npm run-script serve`\n+- To run unit test type:  \n+`npm run-script test:unit`\n+- To run E2E cypress tests type:  \n+`npm run-script test:e2e`\n+- To run Cypress testing framework type:  \n+`npm run-script cypress`\n+- To build the fornt-end application type:  \n+`npm run-script prettier && npm run-script build`  \n+  _This code runs prettier and then builds the application to dist directory_\n+\n+## Cypress Testing\n+\n+Before starting the Cypress Tests make sure that you are using blank Database to ensure the TestingSuite the clear Scada-LTS application otherwise more tests may fail.\n+\n+[Here](./cypress/README.md) you can find Tutorial presenting how to create Cypress Tests for Scada-LTS.\n+\n+## Creators\n+\n+Developers from Scada-LTS project:\n+\n+- @grzesiekb\n+- @radek2s"
  },
  {
    "sha": "2114e0bd45c51a4c99eba5d3a9db331dafcb096e",
    "filename": "scadalts-ui/cypress/README.md",
    "status": "added",
    "additions": 106,
    "deletions": 0,
    "changes": 106,
    "blob_url": "https://github.com/SCADA-LTS/Scada-LTS/blob/467c7e12ec004ebcecb11d1ec2c876f192ad864e/scadalts-ui/cypress/README.md",
    "raw_url": "https://github.com/SCADA-LTS/Scada-LTS/raw/467c7e12ec004ebcecb11d1ec2c876f192ad864e/scadalts-ui/cypress/README.md",
    "contents_url": "https://api.github.com/repos/SCADA-LTS/Scada-LTS/contents/scadalts-ui/cypress/README.md?ref=467c7e12ec004ebcecb11d1ec2c876f192ad864e",
    "patch": "@@ -0,0 +1,106 @@\n+# Scada-LTS - Cypress Testing\n+Cypress Test Runner is the tool to create and run Integration Tests. It provides many useful tools like integrated browser driver and do not require external webdriver to run tests.\n+\n+## Directory structure\n+\n+- **fixtures** -> Set of example configuration data that can be loaded to the Scada-LTS application\n+- **integration** -> Integration Tests files\n+- **plugins** -> additional plugins for test runner\n+- **screenshots** -> location of test run screenshoots\n+- **support** -> additional utils that extend the functionality of Cypress Runner.\n+- **utils** (deprecated) -> place with util functions.\n+- **videos** -> location to save Test Run recoding.\n+\n+## Writting simple test\n+\n+Most tests are written for Moder User Interface validation to improve the quality of the Scada-LTS application. Before releasing a new Scada-LTS version, all checks must be passed. This test runner require a running Scada-LTS core application with established database connection (but Database should be blank).\n+\n+Test are divied into specific files with `*.spec.js` extension. We use **snake_case** file naming convention for that files. Tests that are related to View on the Modern User Interface are located inside `integration/ModernUI` directory. Tests that check the elements on the Classic User Interface are placed inside `integration/ScadaLTS_Views` folder. If you want just to check the single component try to keep the test files inside `integration/components` direcotry. \n+\n+### Quick start guide\n+Single file can contain multiple testing scenarios.\n+Each scenario is divided into specific Test Suite that provide multiple test cases. For Example:\n+```\n+- simple_test.spec.js\n+\n+  * Scenario - Point Details Page validation\n+\n+    + Test - Validate visible elements\n+      - Is Header rendered properly\n+      - Is Data Point table rendered properly\n+      ...\n+\n+    + Test - Save basic configuration\n+      - Create Point Event Detector\n+      - Change Text Renderer\n+      ...  \n+    ...\n+\n+  * Scenario - Data Point Properties validation\n+  (etc.)\n+  ...\n+\n+- another_test_file.spec.js\n+``` \n+Each test Scenario should leave the Bussines Object state as it was before test execution. To keep the aplication clean you should use `before(() => {})` and `after(() => {})` hooks that prepare and clear the test configuration.\n+\n+To make the preparation easier there is an method that extends the cypress functionality. **cy.loadConfiguration()** method open Import/Export Scada-LTS page nad load JSON configuration into the application.\n+\n+```JavaScript\n+// Load Scada-LTS configuration from fixture JSON file.\n+cy.fixture('<path-to-fixture-file>').then(config => {\n+    cy.loadConfiguration(config)\n+});\n+```\n+\n+But!  \n+Most of the functionality (like sending or receiving requests) require user authorization. To handle that problem there was prepared another extension that use REST interface to authorize the user. \n+```JavaScript\n+// Authorize as an administrator user\n+cy.restLogin()\n+\n+// Authorize as 'temp_user' with 'temp' password\n+cy.restLogin('temp_user', 'temp')\n+```\n+As you can see on the example you are able to login into the Scada-LTS application as other user but you must remember that before that you have to create that user inside Scada-LTS. \n+\n+⚠️ See [Tutorial for writting your first Cypress Test](https://docs.cypress.io/guides/getting-started/writing-your-first-test.html#Add-a-test-file).\n+\n+### Example test\n+Here you can find the example initial test structure:\n+```JavaScript\n+//Loading configuration\n+before(() => {\n+    cy.restLogin();\n+    cy.fixture('ExampleConfig').then(configuration => {\n+        cy.loadConfiguration(configuration);\n+    });\n+})\n+\n+context(\"Scenario - Example Test Scenario\", () => {\n+\n+    describe(\"Test - Example Test Suite\", () => {\n+\n+        it('Example Test Case', () => {\n+\n+            cy.get('h1').contains('Title'); //Example expectation\n+        });\n+\n+        ...\n+    });\n+\n+    ...\n+});\n+\n+```\n+\n+## Using CypressTest Runner\n+To run your tests you have to start the Cypress application. It can be easly done with this simple command typed inside your `/scadalts-ui` directory:\n+```console\n+npm run-script cypress\n+```\n+### Run headless tests\n+You can start also all test without opening the browser by just typing:\n+```console\n+npm run-script test:cypress\n+```\n\\ No newline at end of file"
  },
  {
    "sha": "ef02a7cfadda957b5e426299ba693eae8d5e1a6c",
    "filename": "scadalts-ui/cypress/fixtures/RecipientList/BasicConfiguration.json",
    "status": "added",
    "additions": 509,
    "deletions": 0,
    "changes": 509,
    "blob_url": "https://github.com/SCADA-LTS/Scada-LTS/blob/467c7e12ec004ebcecb11d1ec2c876f192ad864e/scadalts-ui/cypress/fixtures/RecipientList/BasicConfiguration.json",
    "raw_url": "https://github.com/SCADA-LTS/Scada-LTS/raw/467c7e12ec004ebcecb11d1ec2c876f192ad864e/scadalts-ui/cypress/fixtures/RecipientList/BasicConfiguration.json",
    "contents_url": "https://api.github.com/repos/SCADA-LTS/Scada-LTS/contents/scadalts-ui/cypress/fixtures/RecipientList/BasicConfiguration.json?ref=467c7e12ec004ebcecb11d1ec2c876f192ad864e",
    "patch": "@@ -0,0 +1,509 @@\n+{\n+    \"users\":[\n+       {\n+          \"admin\":true,\n+          \"disabled\":false,\n+          \"email\":\"admin@yourMangoDomain.com\",\n+          \"homeUrl\":\"\",\n+          \"password\":\"0DPiKuNIrrVmD8IUCuw1hQxNqZc=\",\n+          \"phone\":\"\",\n+          \"receiveOwnAuditEvents\":false,\n+          \"userProfile\":-1,\n+          \"username\":\"admin\"\n+       },\n+       {\n+          \"admin\":false,\n+          \"disabled\":false,\n+          \"email\":\"user00@mail.com\",\n+          \"homeUrl\":null,\n+          \"password\":\"Et6pb+wgWTVmq3VpLJlJWWgzrck=\",\n+          \"phone\":\"111000111\",\n+          \"receiveOwnAuditEvents\":false,\n+          \"userProfile\":-1,\n+          \"username\":\"user_00\"\n+       },\n+       {\n+          \"dataSourcePermissions\":[\n+          ],\n+          \"dataPointPermissions\":null,\n+          \"admin\":false,\n+          \"disabled\":false,\n+          \"email\":\"user01@mail.com\",\n+          \"homeUrl\":null,\n+          \"password\":\"Et6pb+wgWTVmq3VpLJlJWWgzrck=\",\n+          \"phone\":\"001001001\",\n+          \"receiveOwnAuditEvents\":false,\n+          \"userProfile\":-1,\n+          \"username\":\"user_01\"\n+       },\n+       {\n+          \"dataSourcePermissions\":[\n+          ],\n+          \"dataPointPermissions\":null,\n+          \"admin\":false,\n+          \"disabled\":false,\n+          \"email\":\"user02@mail.com\",\n+          \"homeUrl\":null,\n+          \"password\":\"Et6pb+wgWTVmq3VpLJlJWWgzrck=\",\n+          \"phone\":\"010010010\",\n+          \"receiveOwnAuditEvents\":false,\n+          \"userProfile\":-1,\n+          \"username\":\"user_02\"\n+       },\n+       {\n+          \"dataSourcePermissions\":[\n+          ],\n+          \"dataPointPermissions\":null,\n+          \"admin\":false,\n+          \"disabled\":false,\n+          \"email\":\"user03@mail.com\",\n+          \"homeUrl\":null,\n+          \"password\":\"Et6pb+wgWTVmq3VpLJlJWWgzrck=\",\n+          \"phone\":\"011011011\",\n+          \"receiveOwnAuditEvents\":false,\n+          \"userProfile\":-1,\n+          \"username\":\"user_03\"\n+       },\n+       {\n+        \"admin\":false,\n+        \"disabled\":false,\n+        \"email\":\"user04@mail.com\",\n+        \"homeUrl\":null,\n+        \"password\":\"Et6pb+wgWTVmq3VpLJlJWWgzrck=\",\n+        \"phone\":\"111000111\",\n+        \"receiveOwnAuditEvents\":false,\n+        \"userProfile\":-1,\n+        \"username\":\"user_04\"\n+     }\n+    ],\n+    \"mailingLists\":[\n+       {\n+          \"xid\":\"ML_TEST_01\",\n+          \"entries\":[\n+             {\n+                \"recipientType\":\"USER\",\n+                \"username\":\"admin\"\n+             },\n+             {\n+                \"recipientType\":\"USER\",\n+                \"username\":\"user_00\"\n+             }\n+          ],\n+          \"inactiveIntervals\":[\n+          ],\n+          \"name\":\"01_Admin_ML\"\n+       },\n+       {\n+          \"xid\":\"ML_TEST_02\",\n+          \"entries\":[\n+             {\n+                \"recipientType\":\"USER\",\n+                \"username\":\"user_01\"\n+             },\n+             {\n+                \"recipientType\":\"USER\",\n+                \"username\":\"user_02\"\n+             },\n+             {\n+                \"recipientType\":\"USER\",\n+                \"username\":\"user_03\"\n+             }\n+          ],\n+          \"inactiveIntervals\":[\n+          ],\n+          \"name\":\"02_User_ML\"\n+       },\n+       {\n+          \"xid\":\"ML_TEST_03\",\n+          \"entries\":[\n+             {\n+                \"recipientType\":\"ADDRESS\",\n+                \"address\":\"plain@mail.com\"\n+             }\n+          ],\n+          \"inactiveIntervals\":[\n+          ],\n+          \"name\":\"03_Plain_mail_ML\"\n+       },\n+       {\n+          \"xid\":\"ML_TEST_04\",\n+          \"entries\":[\n+             {\n+                \"recipientType\":\"ADDRESS\",\n+                \"address\":\"123456789\"\n+             }\n+          ],\n+          \"inactiveIntervals\":[\n+          ],\n+          \"name\":\"04_Plain_sms_ML\"\n+       },\n+       {\n+          \"xid\":\"ML_TEST_05\",\n+          \"entries\":[\n+             {\n+                \"recipientType\":\"ADDRESS\",\n+                \"address\":\"123456789\"\n+             },\n+             {\n+                \"recipientType\":\"ADDRESS\",\n+                \"address\":\"example@mail.com\"\n+             }\n+          ],\n+          \"inactiveIntervals\":[\n+          ],\n+          \"name\":\"05_Plain_sms_mail_ML\"\n+       },\n+       {\n+          \"xid\":\"ML_TEST_06\",\n+          \"entries\":[\n+             {\n+                \"recipientType\":\"USER\",\n+                \"username\":\"admin\"\n+             },\n+             {\n+                \"recipientType\":\"USER\",\n+                \"username\":\"user_00\"\n+             }\n+          ],\n+          \"inactiveIntervals\":[\n+             4,\n+             5,\n+             6,\n+             7,\n+             12,\n+             13,\n+             14,\n+             15,\n+             20,\n+             21,\n+             22,\n+             23,\n+             28,\n+             29,\n+             30,\n+             31,\n+             36,\n+             37,\n+             38,\n+             39,\n+             44,\n+             45,\n+             46,\n+             47,\n+             52,\n+             53,\n+             54,\n+             55,\n+             60,\n+             61,\n+             62,\n+             63,\n+             68,\n+             69,\n+             70,\n+             71,\n+             76,\n+             77,\n+             78,\n+             79,\n+             84,\n+             85,\n+             86,\n+             87,\n+             92,\n+             93,\n+             94,\n+             95,\n+             100,\n+             101,\n+             102,\n+             103,\n+             108,\n+             109,\n+             110,\n+             111,\n+             116,\n+             117,\n+             118,\n+             119,\n+             124,\n+             125,\n+             126,\n+             127,\n+             132,\n+             133,\n+             134,\n+             135,\n+             140,\n+             141,\n+             142,\n+             143,\n+             148,\n+             149,\n+             150,\n+             151,\n+             156,\n+             157,\n+             158,\n+             159,\n+             164,\n+             165,\n+             166,\n+             167,\n+             172,\n+             173,\n+             174,\n+             175,\n+             180,\n+             181,\n+             182,\n+             183,\n+             188,\n+             189,\n+             190,\n+             191,\n+             196,\n+             197,\n+             198,\n+             199,\n+             204,\n+             205,\n+             206,\n+             207,\n+             212,\n+             213,\n+             214,\n+             215,\n+             220,\n+             221,\n+             222,\n+             223,\n+             228,\n+             229,\n+             230,\n+             231,\n+             236,\n+             237,\n+             238,\n+             239,\n+             244,\n+             245,\n+             246,\n+             247,\n+             252,\n+             253,\n+             254,\n+             255,\n+             260,\n+             261,\n+             262,\n+             263,\n+             268,\n+             269,\n+             270,\n+             271,\n+             276,\n+             277,\n+             278,\n+             279,\n+             284,\n+             285,\n+             286,\n+             287,\n+             292,\n+             293,\n+             294,\n+             295,\n+             300,\n+             301,\n+             302,\n+             303,\n+             308,\n+             309,\n+             310,\n+             311,\n+             316,\n+             317,\n+             318,\n+             319,\n+             324,\n+             325,\n+             326,\n+             327,\n+             332,\n+             333,\n+             334,\n+             335,\n+             340,\n+             341,\n+             342,\n+             343,\n+             348,\n+             349,\n+             350,\n+             351,\n+             356,\n+             357,\n+             358,\n+             359,\n+             364,\n+             365,\n+             366,\n+             367,\n+             372,\n+             373,\n+             374,\n+             375,\n+             380,\n+             381,\n+             382,\n+             383,\n+             388,\n+             389,\n+             390,\n+             391,\n+             396,\n+             397,\n+             398,\n+             399,\n+             404,\n+             405,\n+             406,\n+             407,\n+             412,\n+             413,\n+             414,\n+             415,\n+             420,\n+             421,\n+             422,\n+             423,\n+             428,\n+             429,\n+             430,\n+             431,\n+             436,\n+             437,\n+             438,\n+             439,\n+             444,\n+             445,\n+             446,\n+             447,\n+             452,\n+             453,\n+             454,\n+             455,\n+             460,\n+             461,\n+             462,\n+             463,\n+             468,\n+             469,\n+             470,\n+             471,\n+             476,\n+             477,\n+             478,\n+             479,\n+             484,\n+             485,\n+             486,\n+             487,\n+             492,\n+             493,\n+             494,\n+             495,\n+             500,\n+             501,\n+             502,\n+             503,\n+             508,\n+             509,\n+             510,\n+             511,\n+             516,\n+             517,\n+             518,\n+             519,\n+             524,\n+             525,\n+             526,\n+             527,\n+             532,\n+             533,\n+             534,\n+             535,\n+             540,\n+             541,\n+             542,\n+             543,\n+             548,\n+             549,\n+             550,\n+             551,\n+             556,\n+             557,\n+             558,\n+             559,\n+             564,\n+             565,\n+             566,\n+             567,\n+             572,\n+             573,\n+             574,\n+             575,\n+             580,\n+             581,\n+             582,\n+             583,\n+             588,\n+             589,\n+             590,\n+             591,\n+             596,\n+             597,\n+             598,\n+             599,\n+             604,\n+             605,\n+             606,\n+             607,\n+             612,\n+             613,\n+             614,\n+             615,\n+             620,\n+             621,\n+             622,\n+             623,\n+             628,\n+             629,\n+             630,\n+             631,\n+             636,\n+             637,\n+             638,\n+             639,\n+             644,\n+             645,\n+             646,\n+             647,\n+             652,\n+             653,\n+             654,\n+             655,\n+             660,\n+             661,\n+             662,\n+             663,\n+             668,\n+             669,\n+             670,\n+             671\n+          ],\n+          \"name\":\"06_Inactive_Admin_ML\"\n+       }\n+    ]\n+ }\n\\ No newline at end of file"
  },
  {
    "sha": "e6483e2a5b8941fdd9faf749f0c91f969c8bf19b",
    "filename": "scadalts-ui/cypress/integration/ModernUI/recipient_list.spec.js",
    "status": "added",
    "additions": 198,
    "deletions": 0,
    "changes": 198,
    "blob_url": "https://github.com/SCADA-LTS/Scada-LTS/blob/467c7e12ec004ebcecb11d1ec2c876f192ad864e/scadalts-ui/cypress/integration/ModernUI/recipient_list.spec.js",
    "raw_url": "https://github.com/SCADA-LTS/Scada-LTS/raw/467c7e12ec004ebcecb11d1ec2c876f192ad864e/scadalts-ui/cypress/integration/ModernUI/recipient_list.spec.js",
    "contents_url": "https://api.github.com/repos/SCADA-LTS/Scada-LTS/contents/scadalts-ui/cypress/integration/ModernUI/recipient_list.spec.js?ref=467c7e12ec004ebcecb11d1ec2c876f192ad864e",
    "patch": "@@ -0,0 +1,198 @@\n+before(() => {\n+    cy.restLogin();\n+    cy.fixture('RecipientList/BasicConfiguration').then(configuration => {\n+        cy.loadConfiguration(configuration);\n+        cy.visit('/app.shtm#/recipient-list')\n+    })\n+})\n+\n+after(() => {\n+    cy.restLogin();\n+    cy.visit('mailing_lists.shtm');\n+    for(let i = 0; i < 6; i++) {\n+        cy.get('#mailingListsTable > tbody:nth-of-type(2)').click();\n+        cy.get('#mailingListDetails #deleteMailingListImg').click();\n+        cy.wait(500);\n+    };\n+    cy.visit('users.shtm');\n+    for(let i = 0; i < 5; i++) {\n+        cy.get('#usersTable > tbody:nth-of-type(3)').click();\n+        cy.get('#userDetails #deleteImg').click();\n+        cy.wait(500);\n+    };\n+})\n+\n+\n+context(\"Scenario - Recipient List validation\", () => {\n+    \n+    describe(\"Test - Validate visible elements\", () => {\n+\n+        it('Is Header displayed properly', () => {\n+            cy.get('h1').contains('Recipient List')\n+            cy.get('#recipientListSection').find('div.v-list-item').should('have.length', 6);\n+            cy.get('#recipientListSection').find('div.v-list-item').first().contains('01_Admin_ML');\n+            cy.get('#recipientListCreation').find('div.v-list-item').should('have.length', 1);\n+            cy.get('#recipientListDetails').find('h3').contains('Select a recipient list to see details');\n+        });\n+\n+        it('Is Recipient List details rendered properly', () => {\n+            cy.restLogin();\n+            cy.get('#recipientListSection').find('div.v-list-item').first().trigger('click');\n+            cy.get('#recipientListDetails #rl-section-details').find('h2').contains('Recipient list details');\n+            cy.get('#rl-section-details > .row > .col:nth-of-type(2) .v-input label').contains('Name');\n+            cy.get('#rl-section-details > .row > .col:nth-of-type(2) .v-input input').should('have.value', '01_Admin_ML')\n+            cy.get('#rl-section-details > .row > .col:nth-of-type(3) .v-input label').contains('Export ID');\n+            cy.get('#rl-section-details > .row > .col:nth-of-type(3) .v-input input').should('have.value', 'ML_TEST_01')\n+            cy.get('#rl-section-details > .row > .col:nth-of-type(5) .v-input input').should('be.disabled');\n+        });\n+\n+        it('Is Recipients in Recipients Details rendered properly', () => {\n+            cy.restLogin();\n+            cy.get('#rl-section-recipients').find('div.v-list-item').should('have.length', 2);\n+            cy.get('#rl-section-recipients').find('div.v-list-item').first().contains('admin');        \n+            cy.get('#rl-section-recipients').find('div.v-list-item').first().contains('admin@yourMangoDomain.com');\n+            cy.get('#rl-section-recipients').find('div.v-list-item .mdi-account').should('have.length', 2);\n+        });\n+\n+        it('Is Recipient List details changed properly', () => {\n+            cy.restLogin();\n+            cy.get('#recipientListSection').find('div.v-list-item').eq(1).trigger('click');\n+            cy.get('#rl-section-details > .row > .col:nth-of-type(2) .v-input label').contains('Name');\n+            cy.get('#rl-section-details > .row > .col:nth-of-type(2) .v-input input').should('have.value', '02_User_ML');\n+        });\n+\n+        it('Is Plain Mail Recipient rendered properly', () => {\n+            cy.restLogin();\n+            cy.get('#recipientListSection').find('div.v-list-item').eq(2).trigger('click');\n+            cy.get('#rl-section-details > .row > .col:nth-of-type(2) .v-input input').should('have.value', '03_Plain_mail_ML');\n+            cy.get('#rl-section-recipients').find('div.v-list-item .mdi-email').should('have.length', 1);\n+        });\n+\n+        it('Is Add User Entry Dialog rendered properly', ()=> {\n+            cy.get('#rl-section-details .row .heading-action-buttons').find('h3').contains('Entries');\n+            cy.get('#rl-section-details .row .heading-action-buttons').find('.mdi-account-plus').trigger('click');\n+            cy.get('.v-dialog--active').find('.v-card__title').contains('Add recipient');\n+            cy.get('.v-dialog--active').find('.v-card__text .v-select').should('be.visible');\n+            cy.get('.v-dialog--active').find('.v-card__actions button').last().should('be.disabled');\n+            cy.get('.v-dialog--active').find('.v-card__text .v-select').trigger('click');\n+            cy.get('.v-application > .menuable__content__active > div[role=\"listbox\"]').find('div.v-list-item').should('have.length', 6);\n+            cy.get('.v-dialog--active').find('.v-card__actions button').first().trigger('click', {force: true});\n+        });\n+\n+        it('Is Add Plain Mail Entry Dialog rendered properly', ()=> {\n+            cy.get('#rl-section-details .row .heading-action-buttons').find('.mdi-email-plus').trigger('click');\n+            cy.get('.v-dialog--active').find('.v-card__title').contains('Add recipient');\n+            cy.get('.v-dialog--active').find('.v-card__text .v-input').should('be.visible');\n+            cy.get('.v-dialog--active').find('.v-card__text .v-input label').contains('Add e-mail address');\n+            cy.get('.v-dialog--active').find('.v-card__actions button').last().should('be.disabled');\n+            cy.get('.v-dialog--active').find('.v-card__actions button').first().trigger('click');\n+        });\n+\n+        it('Is Add Plain SMS Entry Dialog rendered properly', ()=> {\n+            cy.get('#rl-section-details .row .heading-action-buttons').find('.mdi-phone-plus').trigger('click');\n+            cy.get('.v-dialog--active').find('.v-card__title').contains('Add recipient');\n+            cy.get('.v-dialog--active').find('.v-card__text .v-input').should('be.visible');\n+            cy.get('.v-dialog--active').find('.v-card__text .v-input label').contains('Add phone address');\n+            cy.get('.v-dialog--active').find('.v-card__actions button').last().should('be.disabled');\n+            cy.get('.v-dialog--active').find('.v-card__actions button').first().trigger('click');\n+        });\n+\n+    })\n+\n+    describe(\"Test - Create Recipient List\", () => {\n+        \n+        it('Is Creation Dialog Visible', () => {\n+            cy.restLogin();\n+            cy.get('#recipientListCreation').find('button.v-btn--fab').trigger('click');\n+            cy.get('.v-dialog--active').find('.v-card__title').contains('Create Recipient List');\n+            cy.get('.v-dialog--active #rl-section-details > .row > .col:nth-of-type(2) .v-input label').contains('Name');\n+            cy.get('.v-dialog--active #rl-section-details > .row > .col:nth-of-type(2) .v-input input').should('have.value', '');\n+            cy.get('.v-dialog--active #rl-section-recipients').find('div.v-list-item').should('not.exist');\n+        })\n+\n+        it('Add User Recipient', () => {\n+            cy.get('.v-dialog--active #rl-section-details .row .heading-action-buttons').find('.mdi-account-plus').trigger('click');\n+            cy.get('.v-dialog--active:last-of-type').find('.v-card__title').contains('Add recipient');\n+            cy.get('.v-dialog--active:last-of-type').find('.v-card__text .v-select').trigger('click');\n+            cy.get('.v-application > .menuable__content__active > div[role=\"listbox\"]').find('div.v-list-item').eq(0).trigger('click');\n+            cy.get('.v-dialog--active:last-of-type').find('.v-card__actions button').last().should('not.be.disabled');\n+            cy.get('.v-dialog--active:last-of-type').find('.v-card__actions button').last().trigger('click');\n+            cy.get('.v-dialog--active #rl-section-recipients').find('div.v-list-item').should('have.length', 1);\n+            cy.get('.v-dialog--active #rl-section-recipients').find('div.v-list-item').first().contains('admin');        \n+            cy.get('.v-dialog--active #rl-section-recipients').find('div.v-list-item').first().contains('admin@yourMangoDomain.com');\n+            cy.get('.v-dialog--active #rl-section-recipients').find('div.v-list-item .mdi-account').should('have.length', 1);\n+        })\n+\n+        it('Add Not valid Plain Mail Recipient', () => {\n+            cy.get('.v-dialog--active #rl-section-details .row .heading-action-buttons').find('.mdi-email-plus').trigger('click');\n+            cy.get('.v-dialog--active:last-of-type').find('.v-card__title').contains('Add recipient');\n+            cy.get('.v-dialog--active:last-of-type').find('.v-card__text .v-input input').last().type('notvalidmail');\n+            cy.get('.v-dialog--active:last-of-type').find('.v-card__actions button').last().should('be.disabled');\n+            cy.get('.v-dialog--active:last-of-type').find('.v-card__actions button').eq(2).trigger('click');\n+        })\n+\n+        it('Add Not valid Plain Mail Recipient', () => {\n+            cy.get('.v-dialog--active #rl-section-details .row .heading-action-buttons').find('.mdi-email-plus').trigger('click');\n+            cy.get('.v-dialog--active:last-of-type').find('.v-card__title').contains('Add recipient');\n+            cy.get('.v-dialog--active:last-of-type').find('.v-card__text .v-input input').last().type('valid@mail.com');\n+            cy.get('.v-dialog--active:last-of-type').find('.v-card__actions button').last().should('not.be.disabled');\n+            cy.get('.v-dialog--active:last-of-type').find('.v-card__actions button').last().trigger('click');\n+            cy.get('.v-dialog--active #rl-section-recipients').find('div.v-list-item').should('have.length', 2);\n+            cy.get('.v-dialog--active #rl-section-recipients').find('div.v-list-item').eq(1).contains('valid@mail.com');\n+        })\n+\n+        it('Add Not valid Plain SMS Recipient', () => {\n+            cy.get('.v-dialog--active #rl-section-details .row .heading-action-buttons').find('.mdi-phone-plus').trigger('click');\n+            cy.get('.v-dialog--active:last-of-type').find('.v-card__title').contains('Add recipient');\n+            cy.get('.v-dialog--active:last-of-type').find('.v-card__text .v-input input').last().type('notValidPhone0123');\n+            cy.get('.v-dialog--active:last-of-type').find('.v-card__actions button').last().should('be.disabled');\n+            cy.get('.v-dialog--active:last-of-type').find('.v-card__actions button').eq(2).trigger('click');\n+        })\n+\n+        it('Add Not valid Plain SMS Recipient', () => {\n+            cy.get('.v-dialog--active #rl-section-details .row .heading-action-buttons').find('.mdi-phone-plus').trigger('click');\n+            cy.get('.v-dialog--active:last-of-type').find('.v-card__title').contains('Add recipient');\n+            cy.get('.v-dialog--active:last-of-type').find('.v-card__text .v-input input').last().type('123456123');\n+            cy.get('.v-dialog--active:last-of-type').find('.v-card__actions button').last().should('not.be.disabled');\n+            cy.get('.v-dialog--active:last-of-type').find('.v-card__actions button').last().trigger('click');\n+            cy.get('.v-dialog--active #rl-section-recipients').find('div.v-list-item').should('have.length', 3);\n+            cy.get('.v-dialog--active #rl-section-recipients').find('div.v-list-item').eq(2).contains('123456123');\n+        })\n+\n+        it('Add Recipient List properties', () => {\n+            cy.get('.v-dialog--active #rl-section-details > .row > .col:nth-of-type(2) .v-input input').type('07_Test_ML');\n+            cy.get('.v-dialog--active #rl-section-details > .row > .col:nth-of-type(4) .v-input').trigger('click');\n+            cy.get('.v-dialog--active #rl-section-details > .row > .col:nth-of-type(5) .v-input input').clear().type('2 */15 */10 * * ?');\n+        })\n+\n+        it('Save Recipient List', () => {\n+            cy.restLogin();\n+            cy.get('.v-dialog--active:last-of-type').find('.v-card__actions button').last().trigger('click');\n+            cy.get('.v-snack__wrapper .v-snack__content').contains('Added successful!');\n+            cy.get('.v-snack__wrapper .v-snack__content').should('be.visible');\n+            cy.get('#recipientListSection').find('div.v-list-item').should('have.length', 7);\n+            cy.get('#recipientListSection').find('div.v-list-item').last().contains('07_Test_ML');\n+        })\n+    })\n+\n+    describe(\"Test - Delete Recipient List\", () => {\n+\n+        before(() => {\n+            cy.restLogin();\n+            cy.reload()\n+        });\n+\n+        it('Is Deletion confirmation dialog visible', ()=> {\n+            cy.get('#recipientListSection').find('div.v-list-item .mdi-minus-circle').last().trigger('click');\n+            cy.get('.v-dialog--active:last-of-type').find('.v-card__title').contains('Delete');\n+        });\n+\n+        it('Is Recipient List Deleted', () => {\n+            cy.restLogin();\n+            cy.get('.v-dialog--active:last-of-type').find('.v-card__actions button').last().trigger('click');\n+            cy.get('.v-snack__wrapper .v-snack__content').contains('Deleted successful!');\n+            cy.get('.v-snack__wrapper .v-snack__content').should('be.visible');\n+            cy.get('#recipientListSection').find('div.v-list-item').should('have.length', 6);\n+        });\n+    })\n+})\n\\ No newline at end of file"
  },
  {
    "sha": "344335ae39b5cac72eab90cd02063b91647e692c",
    "filename": "scadalts-ui/jest.config.js",
    "status": "removed",
    "additions": 0,
    "deletions": 3,
    "changes": 3,
    "blob_url": "https://github.com/SCADA-LTS/Scada-LTS/blob/d139e20418734202dbbeb8bab3d503304500db8f/scadalts-ui/jest.config.js",
    "raw_url": "https://github.com/SCADA-LTS/Scada-LTS/raw/d139e20418734202dbbeb8bab3d503304500db8f/scadalts-ui/jest.config.js",
    "contents_url": "https://api.github.com/repos/SCADA-LTS/Scada-LTS/contents/scadalts-ui/jest.config.js?ref=d139e20418734202dbbeb8bab3d503304500db8f",
    "patch": "@@ -1,3 +0,0 @@\n-module.exports = {\n-\tpreset: '@vue/cli-plugin-unit-jest',\n-};"
  },
  {
    "sha": "44610f55d53ef29b0c43708b38418f19f8c94df1",
    "filename": "scadalts-ui/package.json",
    "status": "modified",
    "additions": 1,
    "deletions": 1,
    "changes": 2,
    "blob_url": "https://github.com/SCADA-LTS/Scada-LTS/blob/467c7e12ec004ebcecb11d1ec2c876f192ad864e/scadalts-ui/package.json",
    "raw_url": "https://github.com/SCADA-LTS/Scada-LTS/raw/467c7e12ec004ebcecb11d1ec2c876f192ad864e/scadalts-ui/package.json",
    "contents_url": "https://api.github.com/repos/SCADA-LTS/Scada-LTS/contents/scadalts-ui/package.json?ref=467c7e12ec004ebcecb11d1ec2c876f192ad864e",
    "patch": "@@ -26,7 +26,7 @@\n \t\t\"@fortawesome/fontawesome-svg-core\": \"^1.2.29\",\n \t\t\"@fortawesome/free-solid-svg-icons\": \"^5.13.1\",\n \t\t\"@fortawesome/vue-fontawesome\": \"^0.1.10\",\n-\t\t\"@mdi/font\": \"^3.6.95\",\n+\t\t\"@mdi/font\": \"^5.9.55\",\n \t\t\"@min-gb/vuejs-components\": \"0.0.7\",\n \t\t\"ag-grid\": \"^18.1.2\",\n \t\t\"ag-grid-community\": \"21.2.2\","
  },
  {
    "sha": "580698d150ca4699ccdb5f4f136ac11b403d6739",
    "filename": "scadalts-ui/src/README.md",
    "status": "removed",
    "additions": 0,
    "deletions": 27,
    "changes": 27,
    "blob_url": "https://github.com/SCADA-LTS/Scada-LTS/blob/d139e20418734202dbbeb8bab3d503304500db8f/scadalts-ui/src/README.md",
    "raw_url": "https://github.com/SCADA-LTS/Scada-LTS/raw/d139e20418734202dbbeb8bab3d503304500db8f/scadalts-ui/src/README.md",
    "contents_url": "https://api.github.com/repos/SCADA-LTS/Scada-LTS/contents/scadalts-ui/src/README.md?ref=d139e20418734202dbbeb8bab3d503304500db8f",
    "patch": "@@ -1,27 +0,0 @@\n-# Scada-LTS User Interface\n-\n-## Vue.js subproject for Views and Components\n-\n-## Description\n-\n-User Interface subproject to display ScadaLTS content.\n-\n-## Usage\n-\n-- To start a developmnent server type inside this directory: `npm run-script serve`\n-- To run unit test type: `npm run-script test:unit`\n-- To run E2E cypress tests type: `npm run-script test:e2e`\n-- To run Cypress testing framework type: `npm run-script cypress`\n-- To build the fornt-end application type: `npm run-script prettier && npm run-script build`  \n-  _This code runs prettier and then builds the application to dist directory_\n-\n-## Cypress Testing\n-\n-Before starting the Cypress Tests make sure that you are using blank Database to ensure the TestingSuite the clear Scada-LTS application otherwise more tests may fail\n-\n-## Creators\n-\n-Developers from Scada-LTS project:\n-\n-- @grzesiekb\n-- @radek2s"
  },
  {
    "sha": "db6b774fd3475b376965b55781387693431d648e",
    "filename": "scadalts-ui/src/apps/App.vue",
    "status": "modified",
    "additions": 8,
    "deletions": 0,
    "changes": 8,
    "blob_url": "https://github.com/SCADA-LTS/Scada-LTS/blob/467c7e12ec004ebcecb11d1ec2c876f192ad864e/scadalts-ui/src/apps/App.vue",
    "raw_url": "https://github.com/SCADA-LTS/Scada-LTS/raw/467c7e12ec004ebcecb11d1ec2c876f192ad864e/scadalts-ui/src/apps/App.vue",
    "contents_url": "https://api.github.com/repos/SCADA-LTS/Scada-LTS/contents/scadalts-ui/src/apps/App.vue?ref=467c7e12ec004ebcecb11d1ec2c876f192ad864e",
    "patch": "@@ -28,6 +28,14 @@\n \t\t\t\t\t\t$t('datapointDetails.pointList.title')\n \t\t\t\t\t}}</v-list-item-title>\n \t\t\t\t</v-list-item>\n+\t\t\t\t<v-list-item link href=\"#/recipient-list\" v-if=\"isUserRoleAdmin\">\n+\t\t\t\t\t<v-list-item-icon>\n+\t\t\t\t\t\t<v-icon>mdi-book-account</v-icon>\n+\t\t\t\t\t</v-list-item-icon>\n+\t\t\t\t\t<v-list-item-title>\n+\t\t\t\t\t\t{{$t('recipientlist.title')}}\n+\t\t\t\t\t</v-list-item-title>\n+\t\t\t\t</v-list-item>\n \t\t\t\t<v-list-item link href=\"#/system-settings\" v-if=\"isUserRoleAdmin\">\n \t\t\t\t\t<v-list-item-icon>\n \t\t\t\t\t\t<v-icon>mdi-tune</v-icon>"
  },
  {
    "sha": "1675581bf2e2f682244683af3e16e3a3ffd6c31a",
    "filename": "scadalts-ui/src/locales/en.json",
    "status": "modified",
    "additions": 30,
    "deletions": 0,
    "changes": 30,
    "blob_url": "https://github.com/SCADA-LTS/Scada-LTS/blob/467c7e12ec004ebcecb11d1ec2c876f192ad864e/scadalts-ui/src/locales/en.json",
    "raw_url": "https://github.com/SCADA-LTS/Scada-LTS/raw/467c7e12ec004ebcecb11d1ec2c876f192ad864e/scadalts-ui/src/locales/en.json",
    "contents_url": "https://api.github.com/repos/SCADA-LTS/Scada-LTS/contents/scadalts-ui/src/locales/en.json?ref=467c7e12ec004ebcecb11d1ec2c876f192ad864e",
    "patch": "@@ -31,6 +31,8 @@\n \t\"common.timeperiod.title\": \"Time period\",\n \t\"common.timeperiod.weeks\": \"Week(s)\",\n \t\"common.timeperiod.years\": \"Year(s)\",\n+\t\"common.xid\": \"Export ID\",\n+\t\"common.name\": \"Name\",\n \t\"datapoint.search.label\": \"Selected Data Point\",\n \t\"datapoint.search.placeholder\": \"Type to search DataPoint\",\n \t\"datapoint.type.1\": \"Binary\",\n@@ -232,6 +234,34 @@\n \t\"purge.dialog.confirm.title\": \"Purge data from Data Point\",\n \t\"purge.dialog.confirm.text\": \"This operation cannot be undone\",\n \t\"systemsettings.alert.purgedata\": \"This operation will permanently delete datapoint history content. Continue?\",\n+\t\"recipientlist.title\": \"Recipient List\",\n+\t\"recipientlist.list.create\": \"Create a new recipient list\",\n+\t\"recipientlist.list.blank\": \"Select a recipient list to see details\",\n+\t\"recipientlist.dialog.create.title\": \"Create Recipient List\",\n+\t\"recipientlist.dialog.delete.title\": \"Delete\",\n+\t\"recipientlist.dialog.delete.text\": \"Are you sure you want to delete this mailing list? This operation cannot be undone.\",\n+\t\"recipientlistDetails.title\": \"Recipient list details\",\n+\t\"recipientlistDetails.properties.collinactmsg\": \"Collect inactive messages\",\n+\t\"recipientlistDetails.properties.cron\": \"Cron Pattern\",\n+\t\"recipientlistDetails.entries.title\": \"Entries\",\n+\t\"recipientlistDetails.entries.add.user\": \"Add user recipient\",\n+\t\"recipientlistDetails.entries.add.mail\": \"Add e-mail recipient\",\n+\t\"recipientlistDetails.entries.add.sms\": \"Add SMS recipient\",\n+\t\"recipientlistDetails.activetime.title\": \"Active Time\",\n+\t\"recipientlistDetails.activetime.table.time\": \"Time\",\n+\t\"recipientlistDetails.activetime.table.day.monday\": \"Mon.\",\n+\t\"recipientlistDetails.activetime.table.day.tuesday\": \"Tue.\",\n+\t\"recipientlistDetails.activetime.table.day.wednesday\": \"Wed.\",\n+\t\"recipientlistDetails.activetime.table.day.thursday\": \"Thu.\",\n+\t\"recipientlistDetails.activetime.table.day.friday\": \"Fri.\",\n+\t\"recipientlistDetails.activetime.table.day.saturday\": \"Sat.\",\n+\t\"recipientlistDetails.activetime.table.day.sunday\": \"Sun.\",\n+\t\"recipientlistDetails.dialog.recipient.title\": \"Add recipient\",\n+\t\"recipientlistDetails.dialog.recipient.required.item\": \"Item is required\",\n+\t\"recipientlistDetails.dialog.recipient.label.mail\": \"Add e-mail address\",\n+\t\"recipientlistDetails.dialog.recipient.label.phone\": \"Add phone address\",\n+\t\"recipientlistDetails.dialog.recipient.valid.mail\": \"E-mail must be valid\",\n+\t\"recipientlistDetails.dialog.recipient.valid.phone\": \"Phone number must be valid\",\n \t\"systemsettings.alert.purgedata.title\": \"Purge data?\",\n \t\"systemsettings.audit.title\": \"Audit event alarm levels\",\n \t\"systemsettings.database\": \"Using Database\","
  },
  {
    "sha": "d90f920e4c8ca7fa68713dab2a79ead4fcf915fc",
    "filename": "scadalts-ui/src/router.js",
    "status": "modified",
    "additions": 6,
    "deletions": 0,
    "changes": 6,
    "blob_url": "https://github.com/SCADA-LTS/Scada-LTS/blob/467c7e12ec004ebcecb11d1ec2c876f192ad864e/scadalts-ui/src/router.js",
    "raw_url": "https://github.com/SCADA-LTS/Scada-LTS/raw/467c7e12ec004ebcecb11d1ec2c876f192ad864e/scadalts-ui/src/router.js",
    "contents_url": "https://api.github.com/repos/SCADA-LTS/Scada-LTS/contents/scadalts-ui/src/router.js?ref=467c7e12ec004ebcecb11d1ec2c876f192ad864e",
    "patch": "@@ -5,6 +5,7 @@ import About from './views/About';\n import HistoricalAlarms from './views/HistoricalAlarms';\n import SystemSettings from './views/SystemSettings';\n import AlarmNotifications from './views/AlarmNotifications';\n+import RecipientList from './views/RecipientList';\n import DataPointList from './views/DataPointDetails/DataPointList';\n import DataPointDetails from './views/DataPointDetails';\n \n@@ -44,6 +45,11 @@ export default new Router({\n \t\t\tname: 'alarm-notifications',\n \t\t\tcomponent: AlarmNotifications,\n \t\t},\n+\t\t{\n+\t\t\tpath: '/recipient-list',\n+\t\t\tname: 'recipient-list',\n+\t\t\tcomponent: RecipientList,\n+\t\t},\n \t\t{\n \t\t\tpath: '/datapoint-list',\n \t\t\tname: 'datapoint-list',"
  },
  {
    "sha": "14bb926e26c594ca3f1a8c15d7773aa3da5962a1",
    "filename": "scadalts-ui/src/store/index.js",
    "status": "modified",
    "additions": 4,
    "deletions": 0,
    "changes": 4,
    "blob_url": "https://github.com/SCADA-LTS/Scada-LTS/blob/467c7e12ec004ebcecb11d1ec2c876f192ad864e/scadalts-ui/src/store/index.js",
    "raw_url": "https://github.com/SCADA-LTS/Scada-LTS/raw/467c7e12ec004ebcecb11d1ec2c876f192ad864e/scadalts-ui/src/store/index.js",
    "contents_url": "https://api.github.com/repos/SCADA-LTS/Scada-LTS/contents/scadalts-ui/src/store/index.js?ref=467c7e12ec004ebcecb11d1ec2c876f192ad864e",
    "patch": "@@ -8,6 +8,8 @@ import graphicView from './graphicView';\n import pointHierarchy from './pointHierarchy';\n import amcharts from './amcharts';\n import alarms from './alarms';\n+import storeUsers from './users';\n+import storeMailingList from './mailingList';\n import storeAlarmsNotifications from './alarms/notifications';\n import systemSettings from './systemSettings';\n import axios from 'axios';\n@@ -30,7 +32,9 @@ export default new Vuex.Store({\n \t\tpointHierarchy,\n \t\tamcharts,\n \t\talarms,\n+\t\tstoreUsers,\n \t\tsystemSettings,\n+\t\tstoreMailingList,\n \t\tstoreAlarmsNotifications,\n \t},\n \tstate: {"
  },
  {
    "sha": "437219831ed49569fd91ebf615768c5162ec9a36",
    "filename": "scadalts-ui/src/store/mailingList/index.js",
    "status": "added",
    "additions": 50,
    "deletions": 0,
    "changes": 50,
    "blob_url": "https://github.com/SCADA-LTS/Scada-LTS/blob/467c7e12ec004ebcecb11d1ec2c876f192ad864e/scadalts-ui/src/store/mailingList/index.js",
    "raw_url": "https://github.com/SCADA-LTS/Scada-LTS/raw/467c7e12ec004ebcecb11d1ec2c876f192ad864e/scadalts-ui/src/store/mailingList/index.js",
    "contents_url": "https://api.github.com/repos/SCADA-LTS/Scada-LTS/contents/scadalts-ui/src/store/mailingList/index.js?ref=467c7e12ec004ebcecb11d1ec2c876f192ad864e",
    "patch": "@@ -0,0 +1,50 @@\n+import mailingListTemplate from \"./templates\";\n+\n+const storeMailingList = {\n+\tstate: {\n+\t\tmailingListTemplate: mailingListTemplate,\n+\t},\n+\n+\tmutations: {},\n+\n+\tactions: {\n+\t\tgetSimpleMailingLists({ dispatch }) {\n+\t\t\treturn dispatch('requestGet', '/mailingList/getAllSimple');\n+\t\t},\n+\n+\t\tgetMailingList({ dispatch }, mailingListId) {\n+\t\t\treturn dispatch('requestGet', `/mailingList/get/id/${mailingListId}`);\n+\t\t},\n+\n+\t\tgetUniqueMailingListXid({dispatch}) {\n+\t\t\treturn dispatch('requestGet', '/mailingList/generateUniqueXid');\n+\t\t},\n+\n+\t\tdeleteMailingList({dispatch}, mailingListId) {\n+\t\t\treturn dispatch('requestDelete', `/mailingList/${mailingListId}`);\n+\t\t},\n+\n+\t\tcreateMailingList({ dispatch }, mailingList) {\n+\t\t\treturn dispatch('requestPost', {\n+\t\t\t\turl: `/mailingList/`,\n+\t\t\t\tdata: mailingList\n+\t\t\t})\n+\t\t},\n+\n+\t\tupdateMailingList({ dispatch }, mailingList) {\n+\t\t\tlet requestPayload = Object.assign({}, mailingList);\n+\t\t\trequestPayload.entries.forEach(e => {\n+\t\t\t\tdelete e.user\n+\t\t\t});\n+\t\t\treturn dispatch('requestPut', {\n+\t\t\t\turl: `/mailingList/`,\n+\t\t\t\tdata: requestPayload\n+\t\t\t})\n+\t\t},\n+\n+\t},\n+\n+\tgetters: {},\n+};\n+\n+export default storeMailingList;"
  },
  {
    "sha": "7aa3467ee46db259a10c77bbb9ca0ab0ef94a54a",
    "filename": "scadalts-ui/src/store/mailingList/templates.js",
    "status": "added",
    "additions": 12,
    "deletions": 0,
    "changes": 12,
    "blob_url": "https://github.com/SCADA-LTS/Scada-LTS/blob/467c7e12ec004ebcecb11d1ec2c876f192ad864e/scadalts-ui/src/store/mailingList/templates.js",
    "raw_url": "https://github.com/SCADA-LTS/Scada-LTS/raw/467c7e12ec004ebcecb11d1ec2c876f192ad864e/scadalts-ui/src/store/mailingList/templates.js",
    "contents_url": "https://api.github.com/repos/SCADA-LTS/Scada-LTS/contents/scadalts-ui/src/store/mailingList/templates.js?ref=467c7e12ec004ebcecb11d1ec2c876f192ad864e",
    "patch": "@@ -0,0 +1,12 @@\n+export const mailingListTemplate = {\n+\tid: -1,\n+\txid: 'ML_000000',\n+\tname: '',\n+\tentries: [],\n+\tcronPattern: '1 */15 * * * ?',\n+\tcollectInactiveEmails: false,\n+\tdailyLimitSentEmailsNumber: 0,\n+\tdailyLimitSentEmails: false,\n+\tinactiveIntervals: [],\n+};\n+export default mailingListTemplate;"
  },
  {
    "sha": "9b61d822b7146bf69150b8f1132d10cda9e5aae3",
    "filename": "scadalts-ui/src/store/systemSettings/index.js",
    "status": "modified",
    "additions": 118,
    "deletions": 428,
    "changes": 546,
    "blob_url": "https://github.com/SCADA-LTS/Scada-LTS/blob/467c7e12ec004ebcecb11d1ec2c876f192ad864e/scadalts-ui/src/store/systemSettings/index.js",
    "raw_url": "https://github.com/SCADA-LTS/Scada-LTS/raw/467c7e12ec004ebcecb11d1ec2c876f192ad864e/scadalts-ui/src/store/systemSettings/index.js",
    "contents_url": "https://api.github.com/repos/SCADA-LTS/Scada-LTS/contents/scadalts-ui/src/store/systemSettings/index.js?ref=467c7e12ec004ebcecb11d1ec2c876f192ad864e",
    "patch": "@@ -8,11 +8,6 @@ import axios from 'axios';\n const storeSystemSettings = {\n \tstate: {\n \t\tsystemSettingsApiUrl: './api/systemSettings',\n-\t\trequestOptions: {\n-\t\t\ttimeout: 5000,\n-\t\t\tuseCredentials: true,\n-\t\t\tcredentials: 'same-origin',\n-\t\t},\n \t\tdatabaseType: undefined,\n \t\tdatabaseInfo: undefined,\n \t\tsystemEventTypes: undefined,\n@@ -70,26 +65,13 @@ const storeSystemSettings = {\n \t\t},\n \t},\n \tactions: {\n-\t\tgetDatabaseType(context) {\n-\t\t\treturn new Promise((resolve, reject) => {\n-\t\t\t\taxios\n-\t\t\t\t\t.get(\n-\t\t\t\t\t\t`${context.state.systemSettingsApiUrl}/getDatabaseType`,\n-\t\t\t\t\t\tcontext.state.requestOptions,\n-\t\t\t\t\t)\n-\t\t\t\t\t.then((response) => {\n-\t\t\t\t\t\tif (response.status == 200) {\n-\t\t\t\t\t\t\tcontext.commit('setDatabaseType', response.data);\n-\t\t\t\t\t\t\tresolve(response.data);\n-\t\t\t\t\t\t}\n-\t\t\t\t\t\treject(false);\n-\t\t\t\t\t})\n-\t\t\t\t\t.catch((err) => {\n-\t\t\t\t\t\tconsole.error(err);\n-\t\t\t\t\t\treject(false);\n-\t\t\t\t\t});\n+\t\tgetDatabaseType({ commit, dispatch }) {\n+\t\t\treturn dispatch('requestGet', `/systemSettings/getDatabaseType`).then((r) => {\n+\t\t\t\tcommit('setDatabaseType', r);\n+\t\t\t\treturn r;\n \t\t\t});\n \t\t},\n+\n \t\tsaveDatabaseType(context, databaseType) {\n \t\t\treturn new Promise((resolve, reject) => {\n \t\t\t\taxios\n@@ -105,388 +87,155 @@ const storeSystemSettings = {\n \t\t\t\t\t});\n \t\t\t});\n \t\t},\n-\t\tgetSchemaVersion(context) {\n-\t\t\treturn new Promise((resolve, reject) => {\n-\t\t\t\taxios\n-\t\t\t\t\t.get(`${context.state.systemSettingsApiUrl}/getSchemaVersion`, {\n-\t\t\t\t\t\ttimeout: 5000,\n-\t\t\t\t\t\tuseCredentials: true,\n-\t\t\t\t\t\tcredentials: 'same-origin',\n-\t\t\t\t\t})\n-\t\t\t\t\t.then((response) => {\n-\t\t\t\t\t\tif (response.status == 200) {\n-\t\t\t\t\t\t\tcontext.commit('setSchemaVersion', response.data.schemaVersion);\n-\t\t\t\t\t\t}\n-\t\t\t\t\t\tresolve(true);\n-\t\t\t\t\t})\n-\t\t\t\t\t.catch((err) => {\n-\t\t\t\t\t\treject(err);\n-\t\t\t\t\t});\n+\t\tgetSchemaVersion({ commit, dispatch }) {\n+\t\t\treturn dispatch('requestGet', `/systemSettings/getSchemaVersion`).then((r) => {\n+\t\t\t\tcommit('setSchemaVersion', r.schemaVersion);\n+\t\t\t\treturn r;\n \t\t\t});\n \t\t},\n-\t\tgetSystemInfoSettings(context) {\n-\t\t\treturn new Promise((resolve, reject) => {\n-\t\t\t\taxios\n-\t\t\t\t\t.get(\n-\t\t\t\t\t\t`${context.state.systemSettingsApiUrl}/getSystemInfo`,\n-\t\t\t\t\t\tcontext.state.requestOptions,\n-\t\t\t\t\t)\n-\t\t\t\t\t.then((response) => {\n-\t\t\t\t\t\tif (response.status == 200) {\n-\t\t\t\t\t\t\tcontext.commit('setSystemInfoSettings', response.data);\n-\t\t\t\t\t\t\tresolve(response.data);\n-\t\t\t\t\t\t}\n-\t\t\t\t\t\treject(false);\n-\t\t\t\t\t})\n-\t\t\t\t\t.catch((err) => {\n-\t\t\t\t\t\tconsole.error(err);\n-\t\t\t\t\t\treject(false);\n-\t\t\t\t\t});\n+\n+\t\tgetDatabaseSize({ commit, dispatch }) {\n+\t\t\treturn dispatch('requestGet', `/systemSettings/getDatabaseSize`).then((r) => {\n+\t\t\t\tcommit('setDatabaseInfo', r);\n+\t\t\t\treturn r;\n \t\t\t});\n \t\t},\n-\t\tgetSystemStartupTime(context) {\n-\t\t\treturn new Promise((resolve, reject) => {\n-\t\t\t\taxios\n-\t\t\t\t\t.get(`${context.state.systemSettingsApiUrl}/getStartupTime`, {\n-\t\t\t\t\t\ttimeout: 5000,\n-\t\t\t\t\t\tuseCredentials: true,\n-\t\t\t\t\t\tcredentials: 'same-origin',\n-\t\t\t\t\t})\n-\t\t\t\t\t.then((response) => {\n-\t\t\t\t\t\tif (response.status == 200) {\n-\t\t\t\t\t\t\tcontext.commit('setSystemStartupTime', response.data.startupTime);\n-\t\t\t\t\t\t}\n-\t\t\t\t\t\tresolve(true);\n-\t\t\t\t\t})\n-\t\t\t\t\t.catch((err) => {\n-\t\t\t\t\t\treject(err);\n-\t\t\t\t\t});\n+\n+\t\tgetSystemInfoSettings({ commit, dispatch }) {\n+\t\t\treturn dispatch('requestGet', '/systemSettings/getSystemInfo').then((r) => {\n+\t\t\t\tcommit('setSystemInfoSettings', r);\n+\t\t\t\treturn r;\n \t\t\t});\n \t\t},\n-\t\tgetAllSettings(context) {\n-\t\t\treturn new Promise((resolve, reject) => {\n-\t\t\t\taxios\n-\t\t\t\t\t.get(`${context.state.systemSettingsApiUrl}/getSettings`, {\n-\t\t\t\t\t\ttimeout: 5000,\n-\t\t\t\t\t\tuseCredentials: true,\n-\t\t\t\t\t\tcredentials: 'same-origin',\n-\t\t\t\t\t})\n-\t\t\t\t\t.then((response) => {\n-\t\t\t\t\t\tif (response.status == 200) {\n-\t\t\t\t\t\t\tcontext.commit('setDatabaseType', response.data.databaseType);\n-\t\t\t\t\t\t\tcontext.commit('setSystemEventTypes', response.data.systemEventTypes);\n-\t\t\t\t\t\t\tcontext.commit('setAuditEventTypes', response.data.auditEventTypes);\n-\t\t\t\t\t\t\tcontext.commit('setSystemInfoSettings', response.data.systemInfoSettings);\n-\t\t\t\t\t\t\tcontext.commit('setEmailSettings', response.data.emailSettings);\n-\t\t\t\t\t\t\tcontext.commit('setHttpSettings', response.data.httpSettings);\n-\t\t\t\t\t\t\tcontext.commit('setMiscSettings', response.data.miscSettings);\n-\t\t\t\t\t\t\tcontext.commit('setScadaConfig', response.data.scadaConfig);\n-\t\t\t\t\t\t}\n-\t\t\t\t\t\tresolve(true);\n-\t\t\t\t\t})\n-\t\t\t\t\t.catch((err) => {\n-\t\t\t\t\t\treject(err);\n-\t\t\t\t\t});\n+\n+\t\tsaveSystemInfoSettings({ state, dispatch }) {\n+\t\t\treturn dispatch('requestPost', {\n+\t\t\t\turl: '/systemSettings/saveSystemInfo',\n+\t\t\t\tdata: state.systemInfoSettings,\n \t\t\t});\n \t\t},\n-\t\tgetAuditEventTypes(context) {\n-\t\t\treturn new Promise((resolve, reject) => {\n-\t\t\t\taxios\n-\t\t\t\t\t.get(\n-\t\t\t\t\t\t`${context.state.systemSettingsApiUrl}/getAuditEventAlarmLevels`,\n-\t\t\t\t\t\tcontext.state.requestOptions,\n-\t\t\t\t\t)\n-\t\t\t\t\t.then((response) => {\n-\t\t\t\t\t\tif (response.status == 200) {\n-\t\t\t\t\t\t\tcontext.commit('setAuditEventTypes', response.data);\n-\t\t\t\t\t\t\tresolve(response.data);\n-\t\t\t\t\t\t}\n-\t\t\t\t\t\treject(false);\n-\t\t\t\t\t})\n-\t\t\t\t\t.catch((err) => {\n-\t\t\t\t\t\tconsole.error(err);\n-\t\t\t\t\t\treject(false);\n-\t\t\t\t\t});\n+\n+\t\tgetSystemStartupTime({ commit, dispatch }) {\n+\t\t\treturn dispatch('requestGet', '/systemSettings/getStartupTime').then((r) => {\n+\t\t\t\tcommit('setSystemStartupTime', r.startupTime);\n+\t\t\t\treturn r;\n \t\t\t});\n \t\t},\n-\t\tgetSystemEventTypes(context) {\n-\t\t\treturn new Promise((resolve, reject) => {\n-\t\t\t\taxios\n-\t\t\t\t\t.get(\n-\t\t\t\t\t\t`${context.state.systemSettingsApiUrl}/getSystemEventAlarmLevels`,\n-\t\t\t\t\t\tcontext.state.requestOptions,\n-\t\t\t\t\t)\n-\t\t\t\t\t.then((response) => {\n-\t\t\t\t\t\tif (response.status == 200) {\n-\t\t\t\t\t\t\tcontext.commit('setSystemEventTypes', response.data);\n-\t\t\t\t\t\t\tresolve(response.data);\n-\t\t\t\t\t\t}\n-\t\t\t\t\t\treject(false);\n-\t\t\t\t\t})\n-\t\t\t\t\t.catch((err) => {\n-\t\t\t\t\t\tconsole.error(err);\n-\t\t\t\t\t\treject(false);\n-\t\t\t\t\t});\n-\t\t\t});\n+\n+\t\tgetAuditEventTypes({ commit, dispatch }) {\n+\t\t\treturn dispatch('requestGet', '/systemSettings/getAuditEventAlarmLevels').then(\n+\t\t\t\t(r) => {\n+\t\t\t\t\tcommit('setAuditEventTypes', r);\n+\t\t\t\t\treturn r;\n+\t\t\t\t}\n+\t\t\t);\n \t\t},\n-\t\tgetEmailSettings(context) {\n-\t\t\treturn new Promise((resolve, reject) => {\n-\t\t\t\taxios\n-\t\t\t\t\t.get(\n-\t\t\t\t\t\t`${context.state.systemSettingsApiUrl}/getEmail`,\n-\t\t\t\t\t\tcontext.state.requestOptions,\n-\t\t\t\t\t)\n-\t\t\t\t\t.then((response) => {\n-\t\t\t\t\t\tif (response.status == 200) {\n-\t\t\t\t\t\t\tcontext.commit('setEmailSettings', response.data);\n-\t\t\t\t\t\t\tresolve(response.data);\n-\t\t\t\t\t\t}\n-\t\t\t\t\t\treject(false);\n-\t\t\t\t\t})\n-\t\t\t\t\t.catch((err) => {\n-\t\t\t\t\t\tconsole.error(err);\n-\t\t\t\t\t\treject(false);\n-\t\t\t\t\t});\n+\n+\t\tsaveAuditEventTypes({ state, dispatch }) {\n+\t\t\treturn dispatch('requestPost', {\n+\t\t\t\turl: '/systemSettings/saveAuditEventAlarmLevels',\n+\t\t\t\tdata: state.auditEventTypes,\n \t\t\t});\n \t\t},\n-\t\tgetHttpSettings(context) {\n-\t\t\treturn new Promise((resolve, reject) => {\n-\t\t\t\taxios\n-\t\t\t\t\t.get(\n-\t\t\t\t\t\t`${context.state.systemSettingsApiUrl}/getHttp`,\n-\t\t\t\t\t\tcontext.state.requestOptions,\n-\t\t\t\t\t)\n-\t\t\t\t\t.then((response) => {\n-\t\t\t\t\t\tif (response.status == 200) {\n-\t\t\t\t\t\t\tcontext.commit('setHttpSettings', response.data);\n-\t\t\t\t\t\t\tresolve(response.data);\n-\t\t\t\t\t\t}\n-\t\t\t\t\t\treject(false);\n-\t\t\t\t\t})\n-\t\t\t\t\t.catch((err) => {\n-\t\t\t\t\t\tconsole.error(err);\n-\t\t\t\t\t\treject(false);\n-\t\t\t\t\t});\n+\n+\t\tgetSystemEventTypes({ commit, dispatch }) {\n+\t\t\treturn dispatch('requestGet', '/systemSettings/getSystemEventAlarmLevels').then(\n+\t\t\t\t(r) => {\n+\t\t\t\t\tcommit('setSystemEventTypes', r);\n+\t\t\t\t\treturn r;\n+\t\t\t\t}\n+\t\t\t);\n+\t\t},\n+\n+\t\tsaveSystemEventTypes({ state, dispatch }) {\n+\t\t\treturn dispatch('requestPost', {\n+\t\t\t\turl: '/systemSettings/saveSystemEventAlarmLevels',\n+\t\t\t\tdata: state.systemEventTypes,\n \t\t\t});\n \t\t},\n-\t\tgetMiscSettings(context) {\n-\t\t\treturn new Promise((resolve, reject) => {\n-\t\t\t\taxios\n-\t\t\t\t\t.get(\n-\t\t\t\t\t\t`${context.state.systemSettingsApiUrl}/getMisc`,\n-\t\t\t\t\t\tcontext.state.requestOptions,\n-\t\t\t\t\t)\n-\t\t\t\t\t.then((response) => {\n-\t\t\t\t\t\tif (response.status == 200) {\n-\t\t\t\t\t\t\tcontext.commit('setMiscSettings', response.data);\n-\t\t\t\t\t\t\tresolve(response.data);\n-\t\t\t\t\t\t}\n-\t\t\t\t\t\treject(false);\n-\t\t\t\t\t})\n-\t\t\t\t\t.catch((err) => {\n-\t\t\t\t\t\tconsole.error(err);\n-\t\t\t\t\t\treject(false);\n-\t\t\t\t\t});\n+\n+\t\tgetEmailSettings({ commit, dispatch }) {\n+\t\t\treturn dispatch('requestGet', '/systemSettings/getEmail').then((r) => {\n+\t\t\t\tcommit('setEmailSettings', r);\n+\t\t\t\treturn r;\n \t\t\t});\n \t\t},\n-\t\tgetSmsDomainSettings(context) {\n-\t\t\treturn new Promise((resolve, reject) => {\n-\t\t\t\taxios\n-\t\t\t\t\t.get(\n-\t\t\t\t\t\t`${context.state.systemSettingsApiUrl}/getSMSDomain`,\n-\t\t\t\t\t\tcontext.state.requestOptions,\n-\t\t\t\t\t)\n-\t\t\t\t\t.then((response) => {\n-\t\t\t\t\t\tif (response.status == 200) {\n-\t\t\t\t\t\t\tcontext.commit('setSmsDomainSettings', response.data);\n-\t\t\t\t\t\t\tresolve(response.data);\n-\t\t\t\t\t\t}\n-\t\t\t\t\t\treject(false);\n-\t\t\t\t\t})\n-\t\t\t\t\t.catch((err) => {\n-\t\t\t\t\t\tconsole.error(err);\n-\t\t\t\t\t\treject(false);\n-\t\t\t\t\t});\n+\n+\t\tsaveEmailSettings({ state, dispatch }) {\n+\t\t\treturn dispatch('requestPost', {\n+\t\t\t\turl: '/systemSettings/saveEmail',\n+\t\t\t\tdata: state.emailSettings,\n \t\t\t});\n \t\t},\n-\t\tgetScadaConfiguration(context) {\n-\t\t\treturn new Promise((resolve, reject) => {\n-\t\t\t\taxios\n-\t\t\t\t\t.get(\n-\t\t\t\t\t\t`${context.state.systemSettingsApiUrl}/getScadaConfig`,\n-\t\t\t\t\t\tcontext.state.requestOptions,\n-\t\t\t\t\t)\n-\t\t\t\t\t.then((response) => {\n-\t\t\t\t\t\tif (response.status == 200) {\n-\t\t\t\t\t\t\tcontext.commit('setScadaConfig', response.data);\n-\t\t\t\t\t\t\tresolve(response.data);\n-\t\t\t\t\t\t}\n-\t\t\t\t\t\treject(false);\n-\t\t\t\t\t})\n-\t\t\t\t\t.catch((err) => {\n-\t\t\t\t\t\tconsole.error(err);\n-\t\t\t\t\t\treject(false);\n-\t\t\t\t\t});\n+\n+\t\tsendTestEmail({ dispatch }) {\n+\t\t\treturn dispatch('requestGet', '/systemSettings/sendTestEmail');\n+\t\t},\n+\n+\t\tgetHttpSettings({ commit, dispatch }) {\n+\t\t\treturn dispatch('requestGet', '/systemSettings/getHttp').then((r) => {\n+\t\t\t\tcommit('setHttpSettings', r);\n+\t\t\t\treturn r;\n \t\t\t});\n \t\t},\n-\t\tgetDatabaseSize(context) {\n-\t\t\treturn new Promise((resolve, reject) => {\n-\t\t\t\taxios\n-\t\t\t\t\t.get(`${context.state.systemSettingsApiUrl}/getDatabaseSize`, {\n-\t\t\t\t\t\ttimeout: 5000,\n-\t\t\t\t\t\tuseCredentials: true,\n-\t\t\t\t\t\tcredentials: 'same-origin',\n-\t\t\t\t\t})\n-\t\t\t\t\t.then((response) => {\n-\t\t\t\t\t\tif (response.status == 200) {\n-\t\t\t\t\t\t\tcontext.commit('setDatabaseInfo', response.data);\n-\t\t\t\t\t\t}\n-\t\t\t\t\t\tresolve(true);\n-\t\t\t\t\t})\n-\t\t\t\t\t.catch((err) => {\n-\t\t\t\t\t\treject(err);\n-\t\t\t\t\t});\n+\n+\t\tsaveHttpSettings({ state, dispatch }) {\n+\t\t\treturn dispatch('requestPost', {\n+\t\t\t\turl: '/systemSettings/saveHttp',\n+\t\t\t\tdata: state.httpSettings,\n \t\t\t});\n \t\t},\n-\t\tsaveEmailSettings(context) {\n-\t\t\treturn new Promise((resolve, reject) => {\n-\t\t\t\taxios\n-\t\t\t\t\t.post(\n-\t\t\t\t\t\t`${context.state.systemSettingsApiUrl}/saveEmail`,\n-\t\t\t\t\t\tcontext.state.emailSettings,\n-\t\t\t\t\t\t{ timeout: 5000, useCredentials: true, credentials: 'same-origin' },\n-\t\t\t\t\t)\n-\t\t\t\t\t.then((response) => {\n-\t\t\t\t\t\tif (response.status == 200) {\n-\t\t\t\t\t\t\tresolve(true);\n-\t\t\t\t\t\t} else {\n-\t\t\t\t\t\t\treject(false);\n-\t\t\t\t\t\t}\n-\t\t\t\t\t})\n-\t\t\t\t\t.catch((err) => {\n-\t\t\t\t\t\treject(err);\n-\t\t\t\t\t});\n+\n+\t\tgetMiscSettings({ commit, dispatch }) {\n+\t\t\treturn dispatch('requestGet', '/systemSettings/getMisc').then((r) => {\n+\t\t\t\tcommit('setMiscSettings', r);\n+\t\t\t\treturn r;\n \t\t\t});\n \t\t},\n-\t\tsaveMiscSettings(context) {\n-\t\t\treturn new Promise((resolve, reject) => {\n-\t\t\t\taxios\n-\t\t\t\t\t.post(\n-\t\t\t\t\t\t`${context.state.systemSettingsApiUrl}/saveMisc`,\n-\t\t\t\t\t\tcontext.state.miscSettings,\n-\t\t\t\t\t\t{ timeout: 5000, useCredentials: true, credentials: 'same-origin' },\n-\t\t\t\t\t)\n-\t\t\t\t\t.then((response) => {\n-\t\t\t\t\t\tif (response.status == 200) {\n-\t\t\t\t\t\t\tresolve(true);\n-\t\t\t\t\t\t} else {\n-\t\t\t\t\t\t\treject(false);\n-\t\t\t\t\t\t}\n-\t\t\t\t\t})\n-\t\t\t\t\t.catch((err) => {\n-\t\t\t\t\t\treject(err);\n-\t\t\t\t\t});\n+\n+\t\tsaveMiscSettings({ state, dispatch }) {\n+\t\t\treturn dispatch('requestPost', {\n+\t\t\t\turl: '/systemSettings/saveMisc',\n+\t\t\t\tdata: state.miscSettings,\n \t\t\t});\n \t\t},\n-\t\tsaveSmsDomainSettings(context) {\n-\t\t\treturn new Promise((resolve, reject) => {\n-\t\t\t\taxios\n-\t\t\t\t\t.post(\n-\t\t\t\t\t\t`${context.state.systemSettingsApiUrl}/saveSMSDomain/${context.state.smsDomainSettings}`,\n-\t\t\t\t\t\t{ timeout: 5000, useCredentials: true, credentials: 'same-origin' },\n-\t\t\t\t\t)\n-\t\t\t\t\t.then((response) => {\n-\t\t\t\t\t\tif (response.status == 200) {\n-\t\t\t\t\t\t\tresolve(true);\n-\t\t\t\t\t\t} else {\n-\t\t\t\t\t\t\treject(false);\n-\t\t\t\t\t\t}\n-\t\t\t\t\t})\n-\t\t\t\t\t.catch((err) => {\n-\t\t\t\t\t\treject(err);\n-\t\t\t\t\t});\n+\n+\t\tgetSmsDomainSettings({ commit, dispatch }) {\n+\t\t\treturn dispatch('requestGet', '/systemSettings/getSMSDomain').then((r) => {\n+\t\t\t\tcommit('setSmsDomainSettings', r);\n+\t\t\t\treturn r;\n \t\t\t});\n \t\t},\n-\t\tsaveHttpSettings(context) {\n-\t\t\treturn new Promise((resolve, reject) => {\n-\t\t\t\taxios\n-\t\t\t\t\t.post(\n-\t\t\t\t\t\t`${context.state.systemSettingsApiUrl}/saveHttp`,\n-\t\t\t\t\t\tcontext.state.httpSettings,\n-\t\t\t\t\t\t{ timeout: 5000, useCredentials: true, credentials: 'same-origin' },\n-\t\t\t\t\t)\n-\t\t\t\t\t.then((response) => {\n-\t\t\t\t\t\tif (response.status == 200) {\n-\t\t\t\t\t\t\tresolve(true);\n-\t\t\t\t\t\t} else {\n-\t\t\t\t\t\t\treject(false);\n-\t\t\t\t\t\t}\n-\t\t\t\t\t})\n-\t\t\t\t\t.catch((err) => {\n-\t\t\t\t\t\treject(err);\n-\t\t\t\t\t});\n+\n+\t\tsaveSmsDomainSettings({ state, dispatch }) {\n+\t\t\treturn dispatch('requestPost', {\n+\t\t\t\turl: `/systemSettings/saveSMSDomain/${state.smsDomainSettings}`,\n+\t\t\t\tdata: null,\n \t\t\t});\n \t\t},\n-\t\tsaveSystemEventTypes(context) {\n-\t\t\treturn new Promise((resolve, reject) => {\n-\t\t\t\taxios\n-\t\t\t\t\t.post(\n-\t\t\t\t\t\t`${context.state.systemSettingsApiUrl}/saveSystemEventAlarmLevels`,\n-\t\t\t\t\t\tcontext.state.systemEventTypes,\n-\t\t\t\t\t\t{ timeout: 5000, useCredentials: true, credentials: 'same-origin' },\n-\t\t\t\t\t)\n-\t\t\t\t\t.then((response) => {\n-\t\t\t\t\t\tif (response.status == 200) {\n-\t\t\t\t\t\t\tresolve(true);\n-\t\t\t\t\t\t} else {\n-\t\t\t\t\t\t\treject(false);\n-\t\t\t\t\t\t}\n-\t\t\t\t\t})\n-\t\t\t\t\t.catch((err) => {\n-\t\t\t\t\t\treject(err);\n-\t\t\t\t\t});\n+\n+\t\tgetScadaConfiguration({ commit, dispatch }) {\n+\t\t\treturn dispatch('requestGet', '/systemSettings/getScadaConfig').then((r) => {\n+\t\t\t\tcommit('setScadaConfig', r);\n+\t\t\t\treturn r;\n \t\t\t});\n \t\t},\n-\t\tsaveAuditEventTypes(context) {\n-\t\t\treturn new Promise((resolve, reject) => {\n-\t\t\t\taxios\n-\t\t\t\t\t.post(\n-\t\t\t\t\t\t`${context.state.systemSettingsApiUrl}/saveAuditEventAlarmLevels`,\n-\t\t\t\t\t\tcontext.state.auditEventTypes,\n-\t\t\t\t\t\t{ timeout: 5000, useCredentials: true, credentials: 'same-origin' },\n-\t\t\t\t\t)\n-\t\t\t\t\t.then((response) => {\n-\t\t\t\t\t\tif (response.status == 200) {\n-\t\t\t\t\t\t\tresolve(true);\n-\t\t\t\t\t\t} else {\n-\t\t\t\t\t\t\treject(false);\n-\t\t\t\t\t\t}\n-\t\t\t\t\t})\n-\t\t\t\t\t.catch((err) => {\n-\t\t\t\t\t\treject(err);\n-\t\t\t\t\t});\n+\n+\t\tgetDefaultLoggingType({ commit, dispatch }) {\n+\t\t\treturn dispatch('requestGet', '/systemSettings/getDefaultLoggingType').then((r) => {\n+\t\t\t\tcommit('setDefaultLoggingType', r.defaultLoggingType);\n+\t\t\t\treturn r.defaultLoggingType;\n \t\t\t});\n+\t\t\t\n \t\t},\n-\t\tsendTestEmail(context) {\n-\t\t\treturn new Promise((resolve, reject) => {\n-\t\t\t\taxios\n-\t\t\t\t\t.get(`${context.state.systemSettingsApiUrl}/sendTestEmail`, {\n-\t\t\t\t\t\ttimeout: 5000,\n-\t\t\t\t\t\tuseCredentials: true,\n-\t\t\t\t\t\tcredentials: 'same-origin',\n-\t\t\t\t\t})\n-\t\t\t\t\t.then((response) => {\n-\t\t\t\t\t\tif (response.status == 200) {\n-\t\t\t\t\t\t\tresolve(response.data);\n-\t\t\t\t\t\t} else {\n-\t\t\t\t\t\t\treject(false);\n-\t\t\t\t\t\t}\n-\t\t\t\t\t})\n-\t\t\t\t\t.catch((err) => {\n-\t\t\t\t\t\treject(err);\n-\t\t\t\t\t});\n+\n+\t\tsaveDefaultLoggingType({ state, dispatch }) {\n+\t\t\treturn dispatch('requestPost', {\n+\t\t\t\turl: `/systemSettings/saveDefaultLoggingType/${state.defaultLoggingType}`,\n+\t\t\t\tdata: null,\n \t\t\t});\n \t\t},\n+\n \t\tpurgeData(context) {\n \t\t\treturn new Promise((resolve, reject) => {\n \t\t\t\taxios\n@@ -507,66 +256,7 @@ const storeSystemSettings = {\n \t\t\t\t\t});\n \t\t\t});\n \t\t},\n-\t\tsaveSystemInfoSettings(context) {\n-\t\t\treturn new Promise((resolve, reject) => {\n-\t\t\t\taxios\n-\t\t\t\t\t.post(\n-\t\t\t\t\t\t`${context.state.systemSettingsApiUrl}/saveSystemInfo`,\n-\t\t\t\t\t\tcontext.state.systemInfoSettings,\n-\t\t\t\t\t\t{ timeout: 5000, useCredentials: true, credentials: 'same-origin' },\n-\t\t\t\t\t)\n-\t\t\t\t\t.then((response) => {\n-\t\t\t\t\t\tif (response.status == 200) {\n-\t\t\t\t\t\t\tresolve(true);\n-\t\t\t\t\t\t} else {\n-\t\t\t\t\t\t\treject(false);\n-\t\t\t\t\t\t}\n-\t\t\t\t\t})\n-\t\t\t\t\t.catch((err) => {\n-\t\t\t\t\t\treject(err);\n-\t\t\t\t\t});\n-\t\t\t});\n-\t\t},\n-\t\tsaveDefaultLoggingType(context) {\n-\t\t\treturn new Promise((resolve, reject) => {\n-\t\t\t\taxios\n-\t\t\t\t\t.post(\n-\t\t\t\t\t\t`${context.state.systemSettingsApiUrl}/saveDefaultLoggingType/${context.state.defaultLoggingType}`,\n-\t\t\t\t\t\t{ timeout: 5000, useCredentials: true, credentials: 'same-origin' },\n-\t\t\t\t\t)\n-\t\t\t\t\t.then((response) => {\n-\t\t\t\t\t\tif (response.status === 200) {\n-\t\t\t\t\t\t\tresolve(true);\n-\t\t\t\t\t\t} else {\n-\t\t\t\t\t\t\treject(false);\n-\t\t\t\t\t\t}\n-\t\t\t\t\t})\n-\t\t\t\t\t.catch((err) => {\n-\t\t\t\t\t\treject(err);\n-\t\t\t\t\t});\n-\t\t\t});\n-\t\t},\n-\t\tgetDefaultLoggingType(context) {\n-\t\t\treturn new Promise((resolve, reject) => {\n-\t\t\t\taxios\n-\t\t\t\t\t.get(\n-\t\t\t\t\t\t`${context.state.systemSettingsApiUrl}/getDefaultLoggingType`,\n-\t\t\t\t\t\tcontext.state.requestOptions,\n-\t\t\t\t\t)\n-\t\t\t\t\t.then((response) => {\n-\t\t\t\t\t\tif (response.status === 200) {\n-\t\t\t\t\t\t\tconsole.debug(response.data);\n-\t\t\t\t\t\t\tcontext.commit('setDefaultLoggingType', response.data.defaultLoggingType);\n-\t\t\t\t\t\t\tresolve(response.data.defaultLoggingType);\n-\t\t\t\t\t\t}\n-\t\t\t\t\t\treject(false);\n-\t\t\t\t\t})\n-\t\t\t\t\t.catch((err) => {\n-\t\t\t\t\t\tconsole.error(err);\n-\t\t\t\t\t\treject(false);\n-\t\t\t\t\t});\n-\t\t\t});\n-\t\t},\n+\n \t\tconfigurationEqual(ctx, objects) {\n \t\t\treturn new Promise((resolve, reject) => {\n \t\t\t\tconst keys1 = Object.keys(objects.object1);"
  },
  {
    "sha": "45f7b1c57022d1dfb261f3790fd898687eb4bc3a",
    "filename": "scadalts-ui/src/store/users/index.js",
    "status": "added",
    "additions": 17,
    "deletions": 0,
    "changes": 17,
    "blob_url": "https://github.com/SCADA-LTS/Scada-LTS/blob/467c7e12ec004ebcecb11d1ec2c876f192ad864e/scadalts-ui/src/store/users/index.js",
    "raw_url": "https://github.com/SCADA-LTS/Scada-LTS/raw/467c7e12ec004ebcecb11d1ec2c876f192ad864e/scadalts-ui/src/store/users/index.js",
    "contents_url": "https://api.github.com/repos/SCADA-LTS/Scada-LTS/contents/scadalts-ui/src/store/users/index.js?ref=467c7e12ec004ebcecb11d1ec2c876f192ad864e",
    "patch": "@@ -0,0 +1,17 @@\n+const storeUsers = {\n+\tstate: {\n+\t\t\n+\t},\n+\n+\tmutations: {},\n+\n+\tactions: {\n+        getAllUsers({dispatch}) {\n+            return dispatch('requestGet', `/user/getAll`);\n+        },    \n+\t},\n+\n+\tgetters: {},\n+};\n+\n+export default storeUsers;"
  },
  {
    "sha": "9881f9ea962137e9ed21c862bbe5a48bc0cd2552",
    "filename": "scadalts-ui/src/views/RecipientList/RecipientListDetails.vue",
    "status": "added",
    "additions": 478,
    "deletions": 0,
    "changes": 478,
    "blob_url": "https://github.com/SCADA-LTS/Scada-LTS/blob/467c7e12ec004ebcecb11d1ec2c876f192ad864e/scadalts-ui/src/views/RecipientList/RecipientListDetails.vue",
    "raw_url": "https://github.com/SCADA-LTS/Scada-LTS/raw/467c7e12ec004ebcecb11d1ec2c876f192ad864e/scadalts-ui/src/views/RecipientList/RecipientListDetails.vue",
    "contents_url": "https://api.github.com/repos/SCADA-LTS/Scada-LTS/contents/scadalts-ui/src/views/RecipientList/RecipientListDetails.vue?ref=467c7e12ec004ebcecb11d1ec2c876f192ad864e",
    "patch": "@@ -0,0 +1,478 @@\n+<template>\n+\t<v-row v-if=\"!!recipientList\" id=\"recipient-list-details\">\n+\t\t<v-col md=\"5\" sm=\"12\" xs=\"12\" id=\"rl-section-details\">\n+\t\t\t<v-row>\n+\t\t\t\t<v-col cols=\"12\">\n+\t\t\t\t\t<h2>{{$t('recipientlistDetails.title')}}</h2>\n+\t\t\t\t</v-col>\n+\n+\t\t\t\t<v-col cols=\"8\">\n+\t\t\t\t\t<v-text-field v-model=\"recipientList.name\" :label=\"$t('common.name')\" dense>\n+\t\t\t\t\t</v-text-field>\n+\t\t\t\t</v-col>\n+\t\t\t\t<v-col cols=\"4\">\n+\t\t\t\t\t<v-text-field v-model=\"recipientList.xid\" :label=\"$t('common.xid')\" dense>\n+\t\t\t\t\t</v-text-field>\n+\t\t\t\t</v-col>\n+\n+\t\t\t\t<v-col md=\"8\" sm=\"12\" xs=\"12\">\n+\t\t\t\t\t<v-switch\n+\t\t\t\t\t\tv-model=\"recipientList.collectInactiveEmails\"\n+\t\t\t\t\t\t:label=\"$t('recipientlistDetails.properties.collinactmsg')\"\n+\t\t\t\t\t\tdense\n+\t\t\t\t\t></v-switch>\n+\t\t\t\t</v-col>\n+\n+\t\t\t\t<v-col md=\"4\" sm=\"12\" xs=\"12\">\n+\t\t\t\t\t<v-text-field\n+\t\t\t\t\t\tv-model=\"recipientList.cronPattern\"\n+\t\t\t\t\t\t:label=\"$t('recipientlistDetails.properties.cron')\"\n+\t\t\t\t\t\t:disabled=\"!recipientList.collectInactiveEmails\"\n+\t\t\t\t\t\tdense\n+\t\t\t\t\t>\n+\t\t\t\t\t</v-text-field>\n+\t\t\t\t</v-col>\n+\n+\t\t\t\t<v-col cols=\"12\" class=\"heading-action-buttons\">\n+\t\t\t\t\t<h3>{{$t('recipientlistDetails.entries.title')}}</h3>\n+\t\t\t\t\t<v-spacer></v-spacer>\n+\t\t\t\t\t<v-tooltip bottom>\n+\t\t\t\t\t\t<template v-slot:activator=\"{ on, attrs }\">\n+\t\t\t\t\t\t\t<v-btn\n+\t\t\t\t\t\t\t\tfab\n+\t\t\t\t\t\t\t\televation=\"0\"\n+\t\t\t\t\t\t\t\tsmall\n+\t\t\t\t\t\t\t\t@click=\"prepareRecipientDialog(TYPE_USER)\"\n+\t\t\t\t\t\t\t\tclass=\"small-margin\"\n+\t\t\t\t\t\t\t\tv-bind=\"attrs\"\n+\t\t\t\t\t\t\t\tv-on=\"on\"\n+\t\t\t\t\t\t\t\t><v-icon>mdi-account-plus</v-icon></v-btn\n+\t\t\t\t\t\t\t>\n+\t\t\t\t\t\t</template>\n+\t\t\t\t\t\t<span>{{$t('recipientlistDetails.entries.add.user')}}</span>\n+\t\t\t\t\t</v-tooltip>\n+\t\t\t\t\t<v-tooltip bottom>\n+\t\t\t\t\t\t<template v-slot:activator=\"{ on, attrs }\">\n+\t\t\t\t\t\t\t<v-btn\n+\t\t\t\t\t\t\t\tfab\n+\t\t\t\t\t\t\t\televation=\"0\"\n+\t\t\t\t\t\t\t\tsmall\n+\t\t\t\t\t\t\t\t@click=\"prepareRecipientDialog(TYPE_MAIL)\"\n+\t\t\t\t\t\t\t\tclass=\"small-margin\"\n+\t\t\t\t\t\t\t\tv-bind=\"attrs\"\n+\t\t\t\t\t\t\t\tv-on=\"on\"\n+\t\t\t\t\t\t\t\t><v-icon>mdi-email-plus</v-icon></v-btn\n+\t\t\t\t\t\t\t>\n+\t\t\t\t\t\t</template>\n+\t\t\t\t\t\t<span>{{$t('recipientlistDetails.entries.add.mail')}}</span>\n+\t\t\t\t\t</v-tooltip>\n+\t\t\t\t\t<v-tooltip bottom>\n+\t\t\t\t\t\t<template v-slot:activator=\"{ on, attrs }\">\n+\t\t\t\t\t\t\t<v-btn\n+\t\t\t\t\t\t\t\tfab\n+\t\t\t\t\t\t\t\televation=\"0\"\n+\t\t\t\t\t\t\t\tsmall\n+\t\t\t\t\t\t\t\t@click=\"prepareRecipientDialog(TYPE_SMS)\"\n+\t\t\t\t\t\t\t\tclass=\"small-margin\"\n+\t\t\t\t\t\t\t\tv-bind=\"attrs\"\n+\t\t\t\t\t\t\t\tv-on=\"on\"\n+\t\t\t\t\t\t\t\t><v-icon>mdi-phone-plus</v-icon></v-btn\n+\t\t\t\t\t\t\t>\n+\t\t\t\t\t\t</template>\n+\t\t\t\t\t\t<span>{{$t('recipientlistDetails.entries.add.sms')}}</span>\n+\t\t\t\t\t</v-tooltip>\n+\t\t\t\t</v-col>\n+\n+\t\t\t\t<v-col cols=\"12\" id=\"rl-section-recipients\">\n+\t\t\t\t\t<v-list v-if=\"!!recipientList.entries\">\n+\t\t\t\t\t\t<v-list-item v-for=\"(entry, index) in recipientList.entries\" :key=\"`${entry}-${index}`\">\n+\t\t\t\t\t\t\t<v-list-item-icon>\n+\t\t\t\t\t\t\t\t<v-icon v-show=\"entry.recipientType === TYPE_USER\">mdi-account </v-icon>\n+\t\t\t\t\t\t\t\t<v-icon v-show=\"entry.recipientType === TYPE_MAIL\">mdi-email </v-icon>\n+\t\t\t\t\t\t\t</v-list-item-icon>\n+\t\t\t\t\t\t\t<v-list-item-content>\n+\t\t\t\t\t\t\t\t<v-list-item-title>\n+\t\t\t\t\t\t\t\t\t<span v-if=\"entry.recipientType === TYPE_USER\">\n+\t\t\t\t\t\t\t\t\t\t{{ entry.user.username }}\n+\t\t\t\t\t\t\t\t\t</span>\n+\t\t\t\t\t\t\t\t\t<span v-else>\n+\t\t\t\t\t\t\t\t\t\t{{ entry.referenceAddress }}\n+\t\t\t\t\t\t\t\t\t</span>\n+\t\t\t\t\t\t\t\t</v-list-item-title>\n+\t\t\t\t\t\t\t\t<v-list-item-subtitle v-if=\"entry.recipientType === TYPE_USER\">\n+\t\t\t\t\t\t\t\t\t<span>\n+\t\t\t\t\t\t\t\t\t\t{{ entry.user.email }}\n+\t\t\t\t\t\t\t\t\t</span>\n+\t\t\t\t\t\t\t\t</v-list-item-subtitle>\n+\t\t\t\t\t\t\t</v-list-item-content>\n+\t\t\t\t\t\t\t<v-list-item-action @click=\"deleteRecipient(entry)\">\n+\t\t\t\t\t\t\t\t<v-icon> mdi-minus-circle </v-icon>\n+\t\t\t\t\t\t\t</v-list-item-action>\n+\t\t\t\t\t\t</v-list-item>\n+\t\t\t\t\t</v-list>\n+\t\t\t\t</v-col>\n+\t\t\t</v-row>\n+\t\t</v-col>\n+\t\t<v-col md=\"7\" sm=\"12\" xs=\"12\" v-if=\"inactiveTime\" id=\"section-active-time\">\n+\t\t\t<v-row @mousedown=\"startSelecting\">\n+\t\t\t\t<v-col cols=\"12\" class=\"heading-action-buttons\">\n+\t\t\t\t\t<h3>{{$t('recipientlistDetails.activetime.title')}}</h3>\n+\t\t\t\t\t<v-spacer></v-spacer>\n+\t\t\t\t\t<v-btn fab elevation=\"2\" color=\"primary\" small v-if=\"!edit\" @click=\"save()\">\n+\t\t\t\t\t\t<v-icon>mdi-content-save</v-icon>\n+\t\t\t\t\t</v-btn>\n+\t\t\t\t</v-col>\n+\t\t\t\t<v-col cols=\"12\" v-if=\"!loadingInactiveTime\">\n+\t\t\t\t\t<div class=\"day\">\n+\t\t\t\t\t\t<div>{{$t('recipientlistDetails.activetime.table.time')}}</div>\n+\t\t\t\t\t\t<div>{{$t('recipientlistDetails.activetime.table.day.monday')}}</div>\n+\t\t\t\t\t\t<div>{{$t('recipientlistDetails.activetime.table.day.tuesday')}}</div>\n+\t\t\t\t\t\t<div>{{$t('recipientlistDetails.activetime.table.day.wednesday')}}</div>\n+\t\t\t\t\t\t<div>{{$t('recipientlistDetails.activetime.table.day.thursday')}}</div>\n+\t\t\t\t\t\t<div>{{$t('recipientlistDetails.activetime.table.day.friday')}}</div>\n+\t\t\t\t\t\t<div>{{$t('recipientlistDetails.activetime.table.day.saturday')}}</div>\n+\t\t\t\t\t\t<div>{{$t('recipientlistDetails.activetime.table.day.sunday')}}</div>\n+\t\t\t\t\t</div>\n+\t\t\t\t\t<div v-for=\"h in 24\" :key=\"h\" class=\"day\">\n+\t\t\t\t\t\t{{ formatHours(h) }}\n+\t\t\t\t\t\t<div v-for=\"d in 7\" :key=\"d\" class=\"hour\">\n+\t\t\t\t\t\t\t<span\n+\t\t\t\t\t\t\t\tv-for=\"m in 4\"\n+\t\t\t\t\t\t\t\t:key=\"m\"\n+\t\t\t\t\t\t\t\tv-bind:class=\"{\n+\t\t\t\t\t\t\t\t\t'inactive-time': inactiveTime[d - 1][h - 1][m - 1],\n+\t\t\t\t\t\t\t\t}\"\n+\t\t\t\t\t\t\t\tclass=\"quarter\"\n+\t\t\t\t\t\t\t\t@mouseover=\"toggle(d - 1, h - 1, m - 1)\"\n+\t\t\t\t\t\t\t\t@click=\"toggleC(d - 1, h - 1, m - 1)\"\n+\t\t\t\t\t\t\t>\n+\t\t\t\t\t\t\t</span>\n+\t\t\t\t\t\t</div>\n+\t\t\t\t\t</div>\n+\t\t\t\t</v-col>\n+\t\t\t\t<v-col cols=\"12\" v-else>\n+\t\t\t\t\t<v-skeleton-loader type=\"list-item-two-line\"></v-skeleton-loader>\n+\t\t\t\t</v-col>\n+\t\t\t</v-row>\n+\t\t</v-col>\n+\n+\t\t<v-dialog v-model=\"showRecipientDialog\" max-width=\"300\">\n+\t\t\t<v-card v-if=\"entry\" id=\"dialog-recipient-add\">\n+\t\t\t\t<v-form ref=\"form\" v-model=\"valid\">\n+\t\t\t\t\t<v-card-title> {{$t('recipientlistDetails.dialog.recipient.title')}} </v-card-title>\n+\t\t\t\t\t<v-card-text>\n+\t\t\t\t\t\t<v-row>\n+\t\t\t\t\t\t\t<v-col cols=\"12\" v-if=\"entry.recipientType === TYPE_USER\">\n+\t\t\t\t\t\t\t\t<v-select\n+\t\t\t\t\t\t\t\t\tv-model=\"userRecipient\"\n+\t\t\t\t\t\t\t\t\t:items=\"userList\"\n+\t\t\t\t\t\t\t\t\t:rules=\"[(v) => !!v || $t('recipientlistDetails.dialog.recipient.required.item')]\"\n+\t\t\t\t\t\t\t\t\titem-value=\"id\"\n+\t\t\t\t\t\t\t\t\titem-text=\"username\"\n+\t\t\t\t\t\t\t\t\treturn-object\n+\t\t\t\t\t\t\t\t\trequired\n+\t\t\t\t\t\t\t\t\tdense\n+\t\t\t\t\t\t\t\t></v-select>\n+\t\t\t\t\t\t\t</v-col>\n+\t\t\t\t\t\t\t<v-col cols=\"12\" v-if=\"entry.recipientType === TYPE_MAIL\">\n+\t\t\t\t\t\t\t\t<v-text-field\n+\t\t\t\t\t\t\t\t\tautofocus\n+\t\t\t\t\t\t\t\t\tv-model=\"plainRecipient\"\n+\t\t\t\t\t\t\t\t\t:rules=\"emailRules\"\n+\t\t\t\t\t\t\t\t\t:label=\"$t('recipientlistDetails.dialog.recipient.label.mail')\"\n+\t\t\t\t\t\t\t\t\trequired\n+\t\t\t\t\t\t\t\t\tdense\n+\t\t\t\t\t\t\t\t></v-text-field>\n+\t\t\t\t\t\t\t</v-col>\n+\t\t\t\t\t\t\t<v-col cols=\"12\" v-if=\"entry.recipientType === TYPE_SMS\">\n+\t\t\t\t\t\t\t\t<v-text-field\n+\t\t\t\t\t\t\t\t\tautofocus\n+\t\t\t\t\t\t\t\t\tv-model=\"plainRecipient\"\n+\t\t\t\t\t\t\t\t\t:rules=\"phoneRules\"\n+\t\t\t\t\t\t\t\t\t:label=\"$t('recipientlistDetails.dialog.recipient.label.phone')\"\n+\t\t\t\t\t\t\t\t\trequired\n+\t\t\t\t\t\t\t\t\tdense\n+\t\t\t\t\t\t\t\t></v-text-field>\n+\t\t\t\t\t\t\t</v-col>\n+\t\t\t\t\t\t</v-row>\n+\t\t\t\t\t</v-card-text>\n+\t\t\t\t\t<v-card-actions>\n+\t\t\t\t\t\t<v-spacer></v-spacer>\n+\t\t\t\t\t\t<v-btn text @click=\"showRecipientDialog = false\">{{\n+\t\t\t\t\t\t\t$t('common.cancel')\n+\t\t\t\t\t\t}}</v-btn>\n+\t\t\t\t\t\t<v-btn :disabled=\"!valid\" text color=\"success\" @click=\"addRecipient()\">{{\n+\t\t\t\t\t\t\t$t('common.ok')\n+\t\t\t\t\t\t}}</v-btn>\n+\t\t\t\t\t</v-card-actions>\n+\t\t\t\t</v-form>\n+\t\t\t</v-card>\n+\t\t</v-dialog>\n+\t</v-row>\n+</template>\n+<script>\n+/**\n+ * Recipient List Details\n+ *\n+ * Provide all required specification for that Recipient List.\n+ * Setup the Inactive Interval or extend the entries list with\n+ * additional recipients.\n+ *\n+ * @param recipientList Object - Reciepent List detailed object\n+ * @param edit boolean - Enabled \"edit\" mode\n+ *\n+ * @author Radoslaw Jajko <rjajko@softq.pl>\n+ * @version 1.0.0\n+ */\n+export default {\n+\tname: 'RecipientListDetails',\n+\n+\tprops: {\n+\t\trecipientList: {\n+\t\t\ttype: Object,\n+\t\t},\n+\t\tedit: {\n+\t\t\ttype: Boolean,\n+\t\t\tdefault: false,\n+\t\t},\n+\t},\n+\n+\tdata() {\n+\t\treturn {\n+\t\t\tTYPE_USER: 2,\n+\t\t\tTYPE_MAIL: 3,\n+\t\t\tTYPE_SMS: 4,\n+\t\t\tshowRecipientDialog: false,\n+\t\t\tentry: undefined,\n+\t\t\tuserList: undefined,\n+\t\t\tuserRecipient: undefined,\n+\t\t\tplainRecipient: '',\n+\t\t\tmouseSelecting: false,\n+\t\t\tloadingInactiveTime: true,\n+\t\t\tinactiveTime: [[], [], [], [], [], [], []],\n+\t\t\tvalid: true,\n+\t\t\temailRules: [\n+\t\t\t\t(v) =>\n+\t\t\t\t\t/.+@.+\\..+/.test(v) ||\n+\t\t\t\t\tthis.$t('recipientlistDetails.dialog.recipient.valid.mail'),\n+\t\t\t],\n+\t\t\tphoneRules: [\n+\t\t\t\t(v) =>\n+\t\t\t\t\t/\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}/.test(\n+\t\t\t\t\t\tv\n+\t\t\t\t\t) || this.$t('recipientlistDetails.dialog.recipient.valid.phone'),\n+\t\t\t],\n+\t\t};\n+\t},\n+\n+\tmounted() {\n+\t\tthis.fetchUserList();\n+\t\tthis.clearInactiveIntervals();\n+\t\tthis.convertInactiveIntervals(this.recipientList.inactiveIntervals);\n+\n+\t\twindow.addEventListener('mouseup', this.endSelecting);\n+\t},\n+\n+\tmethods: {\n+\t\tasync fetchUserList() {\n+\t\t\tthis.userList = await this.$store.dispatch('getAllUsers');\n+\t\t},\n+\n+\t\t// Adding and deleting recipients methods\n+\t\tprepareRecipientDialog(type) {\n+\t\t\tthis.showRecipientDialog = true;\n+\t\t\tthis.plainRecipient = '';\n+\t\t\tthis.entry = {\n+\t\t\t\trecipientType: type,\n+\t\t\t};\n+\t\t},\n+\n+\t\taddRecipient() {\n+\t\t\tif (this.entry.recipientType === this.TYPE_USER) {\n+\t\t\t\tthis.entry = {\n+\t\t\t\t\trecipientType: this.TYPE_USER,\n+\t\t\t\t\treferenceAddress: '',\n+\t\t\t\t\treferenceId: this.userRecipient.id,\n+\t\t\t\t\tuser: Object.assign({}, this.userRecipient),\n+\t\t\t\t\tuserId: this.userRecipient.id,\n+\t\t\t\t};\n+\t\t\t} else if (\n+\t\t\t\tthis.entry.recipientType === this.TYPE_MAIL ||\n+\t\t\t\tthis.entry.recipientType === this.TYPE_SMS\n+\t\t\t) {\n+\t\t\t\tthis.entry = {\n+\t\t\t\t\trecipientType: this.TYPE_MAIL,\n+\t\t\t\t\treferenceAddress: this.plainRecipient,\n+\t\t\t\t\treferenceId: 0,\n+\t\t\t\t\taddress: this.plainRecipient,\n+\t\t\t\t};\n+\t\t\t}\n+\n+\t\t\tthis.recipientList.entries.push(this.entry);\n+\t\t\tthis.showRecipientDialog = false;\n+\t\t},\n+\n+\t\tdeleteRecipient(recipient) {\n+\t\t\tthis.recipientList.entries = this.recipientList.entries.filter((e) => {\n+\t\t\t\treturn e !== recipient;\n+\t\t\t});\n+\t\t},\n+\n+\t\t// Inactive Period methods\n+\t\tstartSelecting() {\n+\t\t\tthis.mouseSelecting = true;\n+\t\t},\n+\n+\t\tendSelecting() {\n+\t\t\tthis.mouseSelecting = false;\n+\t\t},\n+\n+\t\ttoggle(day, hour, quarter) {\n+\t\t\tif (this.mouseSelecting) {\n+\t\t\t\tthis.$set(\n+\t\t\t\t\tthis.inactiveTime[day][hour],\n+\t\t\t\t\tquarter,\n+\t\t\t\t\t!this.inactiveTime[day][hour][quarter]\n+\t\t\t\t);\n+\t\t\t}\n+\t\t},\n+\n+\t\ttoggleC(day, hour, quarter) {\n+\t\t\tthis.$set(\n+\t\t\t\tthis.inactiveTime[day][hour],\n+\t\t\t\tquarter,\n+\t\t\t\t!this.inactiveTime[day][hour][quarter]\n+\t\t\t);\n+\t\t},\n+\n+\t\t/**\n+\t\t * Prepare Save\n+\t\t *\n+\t\t * While creating a new Recipient List\n+\t\t * perform the convertion from 3-dimensional inactiveTime array\n+\t\t * to 1 dimension InactiveInterval property\n+\t\t */\n+\t\tpreSave() {\n+\t\t\tthis.recipientList.inactiveIntervals = this.convertInactiveIntervals(\n+\t\t\t\tthis.inactiveTime\n+\t\t\t);\n+\t\t},\n+\n+\t\t/**\n+\t\t * Save Recipient List\n+\t\t *\n+\t\t * After saving emit the event for parent component to handle\n+\t\t * the result of that operation\n+\t\t */\n+\t\tasync save() {\n+\t\t\tthis.preSave();\n+\t\t\tlet resp = await this.$store.dispatch('updateMailingList', this.recipientList);\n+\t\t\tthis.$emit('saved', resp);\n+\t\t\t// console.log(this.convertInactiveIntervals(this.inactiveTime));\n+\t\t},\n+\n+\t\t/**\n+\t\t * Clear Inactive Intervals\n+\t\t *\n+\t\t * Prepare the reactive propery for new data.\n+\t\t * Initialize the inactive time array.\n+\t\t */\n+\t\tclearInactiveIntervals() {\n+\t\t\tthis.loadingInactiveTime = true;\n+\t\t\tthis.inactiveTime = [[], [], [], [], [], [], []];\n+\t\t\tfor (let d = 0; d < 7; d++) {\n+\t\t\t\tthis.$set(this.inactiveTime, d, new Array(24));\n+\t\t\t\tfor (let h = 0; h < 24; h++) {\n+\t\t\t\t\tthis.$set(this.inactiveTime[d], h, new Array(4).fill(false));\n+\t\t\t\t}\n+\t\t\t}\n+\t\t\tthis.loadingInactiveTime = false;\n+\t\t},\n+\n+\t\t/**\n+\t\t * Convert Inactive Intervals\n+\t\t *\n+\t\t * Convert from Vue 3-dimensional array\n+\t\t * to inactiveInterval array from recipientList object\n+\t\t * and do the same on the other side.\n+\t\t *\n+\t\t * @param intervalArray\n+\t\t */\n+\t\tconvertInactiveIntervals(intervalArray) {\n+\t\t\tif (intervalArray.length > 0) {\n+\t\t\t\tif (typeof intervalArray[0] === 'number') {\n+\t\t\t\t\tintervalArray.forEach((element) => {\n+\t\t\t\t\t\tlet day, hour, quarter, temp;\n+\t\t\t\t\t\tday = Math.floor(element / (24 * 4));\n+\t\t\t\t\t\ttemp = element - day * 24 * 4;\n+\t\t\t\t\t\thour = Math.floor(temp / 4);\n+\t\t\t\t\t\tquarter = temp - hour * 4;\n+\t\t\t\t\t\tthis.$set(this.inactiveTime[day][hour], quarter, true);\n+\t\t\t\t\t});\n+\t\t\t\t\treturn;\n+\t\t\t\t} else {\n+\t\t\t\t\tlet inactiveIntervals = [];\n+\t\t\t\t\tlet index = 0;\n+\t\t\t\t\tfor (let d = 0; d < 7; d++) {\n+\t\t\t\t\t\tfor (let h = 0; h < 24; h++) {\n+\t\t\t\t\t\t\tfor (let q = 0; q < 4; q++) {\n+\t\t\t\t\t\t\t\tif (intervalArray[d][h][q]) {\n+\t\t\t\t\t\t\t\t\tinactiveIntervals.push(index);\n+\t\t\t\t\t\t\t\t}\n+\t\t\t\t\t\t\t\tindex = index + 1;\n+\t\t\t\t\t\t\t}\n+\t\t\t\t\t\t}\n+\t\t\t\t\t}\n+\t\t\t\t\treturn inactiveIntervals;\n+\t\t\t\t}\n+\t\t\t}\n+\t\t},\n+\n+\t\t/**\n+\t\t * Format Hours time range label\n+\t\t *\n+\t\t * @private\n+\t\t */\n+\t\tformatHours(hour) {\n+\t\t\tif (hour < 10) {\n+\t\t\t\treturn `0${hour}:00`;\n+\t\t\t} else {\n+\t\t\t\treturn `${hour}:00`;\n+\t\t\t}\n+\t\t},\n+\t},\n+};\n+</script>\n+\n+<style scoped>\n+#section-active-time {\n+\tuser-select: none;\n+}\n+.day {\n+\tdisplay: flex;\n+\tflex-direction: row;\n+\tjustify-content: space-between;\n+}\n+.hour {\n+\tmargin: 2px 5px;\n+}\n+.quarter {\n+\tbackground-color: green;\n+\tborder: solid 1px black;\n+\tmargin: 1px;\n+\tpadding: 0.2px 3.8px;\n+}\n+.quarter:hover {\n+\tbackground-color: cadetblue;\n+}\n+.inactive-time {\n+\tbackground-color: red;\n+}\n+.heading-action-buttons {\n+\tdisplay: flex;\n+\talign-items: center;\n+}\n+.small-margin {\n+\tmargin: 0 5px;\n+}\n+</style>"
  },
  {
    "sha": "6067c68143c3231048ccf1713a08265b5c2dbeac",
    "filename": "scadalts-ui/src/views/RecipientList/index.vue",
    "status": "added",
    "additions": 242,
    "deletions": 0,
    "changes": 242,
    "blob_url": "https://github.com/SCADA-LTS/Scada-LTS/blob/467c7e12ec004ebcecb11d1ec2c876f192ad864e/scadalts-ui/src/views/RecipientList/index.vue",
    "raw_url": "https://github.com/SCADA-LTS/Scada-LTS/raw/467c7e12ec004ebcecb11d1ec2c876f192ad864e/scadalts-ui/src/views/RecipientList/index.vue",
    "contents_url": "https://api.github.com/repos/SCADA-LTS/Scada-LTS/contents/scadalts-ui/src/views/RecipientList/index.vue?ref=467c7e12ec004ebcecb11d1ec2c876f192ad864e",
    "patch": "@@ -0,0 +1,242 @@\n+<template>\n+\t<div>\n+\t\t<v-container fluid>\n+\t\t\t<h1>{{$t('recipientlist.title')}}</h1>\n+\t\t</v-container>\n+\t\t<v-container fluid>\n+\t\t\t<v-card class=\"slts-card\">\n+\t\t\t\t<v-row>\n+\t\t\t\t\t<v-col md=\"3\" sm=\"12\" xs=\"12\">\n+\t\t\t\t\t\t<v-list v-if=\"recipeintListsLoaded\" id=\"recipientListSection\">\n+\t\t\t\t\t\t\t<v-list-item\n+\t\t\t\t\t\t\t\tv-for=\"item in recipeintLists\"\n+\t\t\t\t\t\t\t\t:key=\"item.id\"\n+\t\t\t\t\t\t\t\t@click=\"changeActiveRL(item)\"\n+\t\t\t\t\t\t\t>\n+\t\t\t\t\t\t\t\t<v-list-item-content>\n+\t\t\t\t\t\t\t\t\t<v-list-item-title>\n+\t\t\t\t\t\t\t\t\t\t{{ item.name }}\n+\t\t\t\t\t\t\t\t\t</v-list-item-title>\n+\t\t\t\t\t\t\t\t</v-list-item-content>\n+\t\t\t\t\t\t\t\t<v-list-item-action @click=\"deleteRecipientList\">\n+\t\t\t\t\t\t\t\t\t<v-icon> mdi-minus-circle </v-icon>\n+\t\t\t\t\t\t\t\t</v-list-item-action>\n+\t\t\t\t\t\t\t</v-list-item>\n+\t\t\t\t\t\t</v-list>\n+\t\t\t\t\t\t<v-skeleton-loader v-else type=\"list-item-two-line\"></v-skeleton-loader>\n+\t\t\t\t\t\t<v-list id=\"recipientListCreation\">\n+\t\t\t\t\t\t\t<v-list-item>\n+\t\t\t\t\t\t\t\t<v-list-item-content>\n+\t\t\t\t\t\t\t\t\t<v-list-item-title>\n+\t\t\t\t\t\t\t\t\t\t<v-fab-transition>\n+\t\t\t\t\t\t\t\t\t\t\t<v-btn\n+\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n+\t\t\t\t\t\t\t\t\t\t\t\tdark\n+\t\t\t\t\t\t\t\t\t\t\t\tabsolute\n+\t\t\t\t\t\t\t\t\t\t\t\tbottom\n+\t\t\t\t\t\t\t\t\t\t\t\tright\n+\t\t\t\t\t\t\t\t\t\t\t\tx-small\n+\t\t\t\t\t\t\t\t\t\t\t\tfab\n+\t\t\t\t\t\t\t\t\t\t\t\t@click=\"createRecipientList()\"\n+\t\t\t\t\t\t\t\t\t\t\t>\n+\t\t\t\t\t\t\t\t\t\t\t\t<v-icon> mdi-plus </v-icon>\n+\t\t\t\t\t\t\t\t\t\t\t</v-btn>\n+\t\t\t\t\t\t\t\t\t\t</v-fab-transition>\n+\t\t\t\t\t\t\t\t\t\t{{$t('recipientlist.list.create')}}\n+\t\t\t\t\t\t\t\t\t</v-list-item-title>\n+\t\t\t\t\t\t\t\t</v-list-item-content>\n+\t\t\t\t\t\t\t</v-list-item>\n+\t\t\t\t\t\t</v-list>\n+\t\t\t\t\t</v-col>\n+\t\t\t\t\t<v-divider vertical class=\"divider-horizontal-margin\"></v-divider>\n+\t\t\t\t\t<v-col md=\"8\" sm=\"12\" xs=\"12\" id=\"recipientListDetails\">\n+\t\t\t\t\t\t<RecipientListDetails\n+\t\t\t\t\t\t\tref=\"recipientListDetails\"\n+\t\t\t\t\t\t\t:recipientList=\"activeRecipientList\"\n+\t\t\t\t\t\t\tv-if=\"activeRecipientList\"\n+\t\t\t\t\t\t\t:key=\"activeRecipientList.id\"\n+\t\t\t\t\t\t\t@saved=\"updateRecipientList\"\n+\t\t\t\t\t\t></RecipientListDetails>\n+\t\t\t\t\t\t<v-row v-else>\n+\t\t\t\t\t\t\t<v-col cols=\"12\">\n+\t\t\t\t\t\t\t\t<h3>{{$t('recipientlist.list.blank')}}</h3>\n+\t\t\t\t\t\t\t</v-col>\n+\t\t\t\t\t\t</v-row>\n+\t\t\t\t\t</v-col>\n+\t\t\t\t</v-row>\n+\t\t\t</v-card>\n+\t\t</v-container>\n+\t\t<v-dialog v-model=\"showRLCreationDialog\" max-width=\"1200\">\n+\t\t\t<v-card>\n+\t\t\t\t<v-card-title>{{$t('recipientlist.dialog.create.title')}}</v-card-title>\n+\t\t\t\t<v-card-text class=\"dialog-card-text\">\n+\t\t\t\t\t<RecipientListDetails\n+\t\t\t\t\t\tref=\"recipientListDialog\"\n+\t\t\t\t\t\t:recipientList=\"blankRecipientList\"\n+\t\t\t\t\t\t:edit=\"true\"\n+\t\t\t\t\t></RecipientListDetails>\n+\t\t\t\t</v-card-text>\n+\t\t\t\t<v-card-actions>\n+\t\t\t\t\t<v-spacer></v-spacer>\n+\t\t\t\t\t<v-btn text @click=\"showRLCreationDialog = false\">{{\n+\t\t\t\t\t\t$t('common.cancel')\n+\t\t\t\t\t}}</v-btn>\n+\t\t\t\t\t<v-btn text color=\"success\" @click=\"addRecipientList()\">{{\n+\t\t\t\t\t\t$t('common.ok')\n+\t\t\t\t\t}}</v-btn>\n+\t\t\t\t</v-card-actions>\n+\t\t\t</v-card>\n+\t\t</v-dialog>\n+\t\t<ConfirmationDialog\n+\t\t\t:btnvisible=\"false\"\n+\t\t\t:dialog=\"deleteRecipientDialog\"\n+\t\t\t@result=\"deleteRecipientDialogResult\"\n+\t\t\t:title=\"$t('recipientlist.dialog.delete.title')\"\n+\t\t\t:message=\"$t('recipientlist.dialog.delete.text')\"\n+\t\t></ConfirmationDialog>\n+\t\t<v-snackbar v-model=\"response.status\">\n+\t\t\t{{ response.message }}\n+\t\t</v-snackbar>\n+\t</div>\n+</template>\n+<script>\n+import RecipientListDetails from './RecipientListDetails';\n+import ConfirmationDialog from '@/layout/dialogs/ConfirmationDialog';\n+\n+/**\n+ * Recipient List component - View page.\n+ * \n+ * Recipient list display all recipient lists from Scada-LTS application.\n+ * Previously it was named as Mailing List but now it can contains also \n+ * a phone numbers. Users can be notified using also that channel.\n+ * User are able to create, delete or modify Recipient Lists from that View.\n+ * \n+ * Using REST API the Recipient Lists are provided to that component\n+ * but more detailed information about specific list is \n+ * passed to the \"RecipientListDetails\" component.\n+ * \n+ * @author Radoslaw Jajko <rjajko@softq.pl>\n+ * @version 1.0.0\n+ */\n+export default {\n+\tname: 'RecipientList',\n+\n+\tcomponents: {\n+\t\tRecipientListDetails,\n+\t\tConfirmationDialog,\n+\t},\n+\n+\tdata() {\n+\t\treturn {\n+\t\t\tshowRLCreationDialog: false,\n+\t\t\trecipeintListsLoaded: false,\n+\t\t\trecipeintLists: undefined,\n+\t\t\tactiveRecipientList: undefined,\n+\t\t\tblankRecipientList: undefined,\n+\t\t\tdeleteRecipientDialog: false,\n+\t\t\tresponse: {\n+\t\t\t\tstatus: false,\n+\t\t\t\tmessage: '',\n+\t\t\t},\n+\t\t};\n+\t},\n+\n+\tmounted() {\n+\t\tthis.fetchRecipeintLists();\n+\t},\n+\n+\tmethods: {\n+\t\tasync fetchRecipeintLists() {\n+\t\t\tthis.recipeintListsLoaded = false;\n+\t\t\tthis.recipeintLists = await this.$store.dispatch('getSimpleMailingLists');\n+\t\t\tthis.recipeintListsLoaded = true;\n+\t\t},\n+\n+\t\tchangeActiveRL(item) {\n+\t\t\tthis.$store.dispatch('getMailingList', item.id).then((resp) => {\n+\t\t\t\tthis.activeRecipientList = resp;\n+\t\t\t});\n+\t\t},\n+\n+\t\tdeleteRecipientList() {\n+\t\t\tthis.deleteRecipientDialog = true;\n+\t\t},\n+\n+\t\tasync deleteRecipientDialogResult(e) {\n+\t\t\tthis.deleteRecipientDialog = false;\n+\t\t\tif (e) {\n+\t\t\t\tlet resp = await this.$store.dispatch(\n+\t\t\t\t\t'deleteMailingList',\n+\t\t\t\t\tthis.activeRecipientList.id\n+\t\t\t\t);\n+\t\t\t\tthis.showSnackBar(resp, 'deleted', 'delete');\n+\t\t\t\tif(!!resp.status) {\n+\t\t\t\t\tif(resp.status === 'deleted') {\n+\t\t\t\t\t\tthis.activeRecipientList = null;\n+\t\t\t\t\t\tthis.fetchRecipeintLists();\n+\t\t\t\t\t}\n+\t\t\t\t}\n+\t\t\t}\n+\t\t},\n+\n+\t\tasync createRecipientList() {\n+\t\t\tthis.showRLCreationDialog = true;\n+\t\t\tthis.blankRecipientList = JSON.parse(\n+\t\t\t\tJSON.stringify(this.$store.state.storeMailingList.mailingListTemplate)\n+\t\t\t);\n+\t\t\tthis.blankRecipientList.xid = await this.$store.dispatch('getUniqueMailingListXid');\n+\t\t},\n+\n+\t\tasync addRecipientList() {\n+\t\t\tthis.$refs.recipientListDialog.preSave();\n+\t\t\tlet resp = await this.$store.dispatch('createMailingList', this.blankRecipientList);\n+\t\t\tthis.showSnackBar(resp, 'created', 'add');\n+\t\t\tif(!!resp.status) {\n+\t\t\t\tif(resp.status === 'created') {\n+\t\t\t\t\tthis.fetchRecipeintLists();\n+\t\t\t\t}\n+\t\t\t}\n+\t\t\tthis.showRLCreationDialog = false;\n+\t\t},\n+\n+\t\tupdateRecipientList(resp) {\n+\t\t\tthis.showSnackBar(resp, 'updated', 'update');\n+\t\t},\n+\n+\t\tshowSnackBar(resp, type, message) {\n+\t\t\tif (!!resp.status) {\n+\t\t\t\tif (resp.status === type) {\n+\t\t\t\t\tthis.response.status = true;\n+\t\t\t\t\tthis.response.message = this.$t(`common.snackbar.${message}.success`);\n+\t\t\t\t}\n+\t\t\t} else {\n+\t\t\t\tthis.response.status = true;\n+\t\t\t\tthis.response.message = this.$t(`common.snackbar.${message}.fail`);\n+\t\t\t}\n+\n+\t\t}\n+\t},\n+};\n+</script>\n+<style scoped>\n+.slts-card {\n+\tmin-height: 72vh;\n+}\n+.divider-horizontal-margin {\n+\tmargin: 0 3.5%;\n+\tmin-height: 72vh;\n+}\n+@media (max-width: 960px) {\n+\t.divider-horizontal-margin {\n+\t\tdisplay: none;\n+\t}\n+}\n+.dialog-card-text {\n+\tmax-height: 74vh;\n+\toverflow-y: auto;\n+}\n+#recipientListSection {\n+\tmax-height: 67vh;\n+\toverflow-y: auto;\n+}\n+</style>"
  },
  {
    "sha": "268b8a8c9c6d7713e331e12191f6beb20a48aab6",
    "filename": "scadalts-ui/src/views/SystemSettings/MiscSettingsComponent.vue",
    "status": "modified",
    "additions": 1,
    "deletions": 1,
    "changes": 2,
    "blob_url": "https://github.com/SCADA-LTS/Scada-LTS/blob/467c7e12ec004ebcecb11d1ec2c876f192ad864e/scadalts-ui/src/views/SystemSettings/MiscSettingsComponent.vue",
    "raw_url": "https://github.com/SCADA-LTS/Scada-LTS/raw/467c7e12ec004ebcecb11d1ec2c876f192ad864e/scadalts-ui/src/views/SystemSettings/MiscSettingsComponent.vue",
    "contents_url": "https://api.github.com/repos/SCADA-LTS/Scada-LTS/contents/scadalts-ui/src/views/SystemSettings/MiscSettingsComponent.vue?ref=467c7e12ec004ebcecb11d1ec2c876f192ad864e",
    "patch": "@@ -16,7 +16,7 @@\n \t\t\t</v-card-title>\n \n \t\t\t<v-card-text>\n-\t\t\t\t<v-row>\n+\t\t\t\t<v-row v-if=\"!!miscSettings\">\n \t\t\t\t\t<v-col cols=\"12\">\n \t\t\t\t\t\t<v-select\n \t\t\t\t\t\t\t@change=\"watchDataChange()\""
  },
  {
    "sha": "79088a5c57faa2a3c59103506010ccb27969c640",
    "filename": "scadalts-ui/src/views/SystemSettings/index.vue",
    "status": "modified",
    "additions": 1,
    "deletions": 4,
    "changes": 5,
    "blob_url": "https://github.com/SCADA-LTS/Scada-LTS/blob/467c7e12ec004ebcecb11d1ec2c876f192ad864e/scadalts-ui/src/views/SystemSettings/index.vue",
    "raw_url": "https://github.com/SCADA-LTS/Scada-LTS/raw/467c7e12ec004ebcecb11d1ec2c876f192ad864e/scadalts-ui/src/views/SystemSettings/index.vue",
    "contents_url": "https://api.github.com/repos/SCADA-LTS/Scada-LTS/contents/scadalts-ui/src/views/SystemSettings/index.vue?ref=467c7e12ec004ebcecb11d1ec2c876f192ad864e",
    "patch": "@@ -140,7 +140,7 @@\n \t\t\t\t\t\t</v-col>\n \t\t\t\t\t</v-row>\n \n-\t\t\t\t\t<v-row>\n+\t\t\t\t\t<v-row v-if=\"!!systemInfoSettings\">\n \t\t\t\t\t\t<v-col cols=\"12\">\n \t\t\t\t\t\t\t<v-text-field\n \t\t\t\t\t\t\t\tv-model=\"systemInfoSettings.instanceDescription\"\n@@ -149,9 +149,7 @@\n \t\t\t\t\t\t\t\tdense\n \t\t\t\t\t\t\t></v-text-field>\n \t\t\t\t\t\t</v-col>\n-\t\t\t\t\t</v-row>\n \n-\t\t\t\t\t<v-row>\n \t\t\t\t\t\t<v-col cols=\"12\">\n \t\t\t\t\t\t\t<v-select\n \t\t\t\t\t\t\t\t@change=\"saveSystemInfoSettings()\"\n@@ -328,7 +326,6 @@ import MiscSettingsComponent from './MiscSettingsComponent';\n import DefaultLoggingTypeSettingsComponent from './DefaultLoggingTypeComponent';\n import SmsDomainSettingsComponent from './SmsDomainSettingsComponent';\n import ScadaConfigurationComponent from './ScadaConfigurationComponent';\n-import { keys } from '@amcharts/amcharts4/.internal/core/utils/Object';\n \n export default {\n \tel: '#systemsettings',"
  },
  {
    "sha": "97358d6a58e80660fbe571077acd2e28783fd678",
    "filename": "scadalts-ui/tests/mocks/objects/DataPointMock.js",
    "status": "modified",
    "additions": 1,
    "deletions": 1,
    "changes": 2,
    "blob_url": "https://github.com/SCADA-LTS/Scada-LTS/blob/467c7e12ec004ebcecb11d1ec2c876f192ad864e/scadalts-ui/tests/mocks/objects/DataPointMock.js",
    "raw_url": "https://github.com/SCADA-LTS/Scada-LTS/raw/467c7e12ec004ebcecb11d1ec2c876f192ad864e/scadalts-ui/tests/mocks/objects/DataPointMock.js",
    "contents_url": "https://api.github.com/repos/SCADA-LTS/Scada-LTS/contents/scadalts-ui/tests/mocks/objects/DataPointMock.js?ref=467c7e12ec004ebcecb11d1ec2c876f192ad864e",
    "patch": "@@ -7,7 +7,7 @@ export const dataPointMock = {\n \tdeviceName: 'Example DataSource',\n \tenabled: true,\n \tpointFolderId: 0,\n-\tloggingType: 4,\n+\tloggingType: 1,\n \tintervalLoggingPeriodType: 2,\n \tintervalLoggingPeriod: 15,\n \tintervalLoggingType: 1,"
  },
  {
    "sha": "371c262bc5d371420e296dd79180aac9683fb418",
    "filename": "scadalts-ui/tests/mocks/objects/MailingListObjectMock.js",
    "status": "added",
    "additions": 53,
    "deletions": 0,
    "changes": 53,
    "blob_url": "https://github.com/SCADA-LTS/Scada-LTS/blob/467c7e12ec004ebcecb11d1ec2c876f192ad864e/scadalts-ui/tests/mocks/objects/MailingListObjectMock.js",
    "raw_url": "https://github.com/SCADA-LTS/Scada-LTS/raw/467c7e12ec004ebcecb11d1ec2c876f192ad864e/scadalts-ui/tests/mocks/objects/MailingListObjectMock.js",
    "contents_url": "https://api.github.com/repos/SCADA-LTS/Scada-LTS/contents/scadalts-ui/tests/mocks/objects/MailingListObjectMock.js?ref=467c7e12ec004ebcecb11d1ec2c876f192ad864e",
    "patch": "@@ -0,0 +1,53 @@\n+export let mlMock = {\n+\tid: 1,\n+\txid: 'ML0001',\n+\tname: 'Example MailingList',\n+\tentries: [\n+\t\t{\n+\t\t\tuserId: 1,\n+\t\t\tuser: {\n+\t\t\t\tid: 1,\n+\t\t\t\tusername: 'admin',\n+\t\t\t\temail: 'admin@yourMangoDomain.com',\n+\t\t\t\tphone: '',\n+\t\t\t\tadmin: true,\n+\t\t\t\tdisabled: false,\n+\t\t\t\thomeUrl: '',\n+\t\t\t\tlastLogin: 1614587974686,\n+\t\t\t\tfirstLogin: false,\n+\t\t\t},\n+\t\t\trecipientType: 2,\n+\t\t\treferenceAddress: null,\n+\t\t\treferenceId: 1,\n+\t\t},\n+\t\t{\n+\t\t\tuserId: 3,\n+\t\t\tuser: {\n+\t\t\t\tid: 3,\n+\t\t\t\tusername: 'tester',\n+\t\t\t\temail: 'tester@mail.com',\n+\t\t\t\tphone: '123123131',\n+\t\t\t\tadmin: true,\n+\t\t\t\tdisabled: false,\n+\t\t\t\thomeUrl: null,\n+\t\t\t\tlastLogin: 0,\n+\t\t\t\tfirstLogin: true,\n+\t\t\t},\n+\t\t\trecipientType: 2,\n+\t\t\treferenceAddress: null,\n+\t\t\treferenceId: 3,\n+\t\t},\n+\t\t{\n+\t\t\taddress: 'mail@mail.com',\n+\t\t\trecipientType: 3,\n+\t\t\treferenceAddress: 'mail@mail.com',\n+\t\t\treferenceId: 0,\n+\t\t},\n+\t],\n+\tcronPattern: '1 */15 * * * ?',\n+\tcollectInactiveEmails: false,\n+\tdailyLimitSentEmailsNumber: 0,\n+\tdailyLimitSentEmails: false,\n+\tinactiveIntervals: [0,1,2,3],\n+};\n+export default mlMock\n\\ No newline at end of file"
  },
  {
    "sha": "bed1d31c4845598c2f78c1795da9fa6042a65f84",
    "filename": "scadalts-ui/tests/mocks/store/dataPointMock.js",
    "status": "modified",
    "additions": 7,
    "deletions": 0,
    "changes": 7,
    "blob_url": "https://github.com/SCADA-LTS/Scada-LTS/blob/467c7e12ec004ebcecb11d1ec2c876f192ad864e/scadalts-ui/tests/mocks/store/dataPointMock.js",
    "raw_url": "https://github.com/SCADA-LTS/Scada-LTS/raw/467c7e12ec004ebcecb11d1ec2c876f192ad864e/scadalts-ui/tests/mocks/store/dataPointMock.js",
    "contents_url": "https://api.github.com/repos/SCADA-LTS/Scada-LTS/contents/scadalts-ui/tests/mocks/store/dataPointMock.js?ref=467c7e12ec004ebcecb11d1ec2c876f192ad864e",
    "patch": "@@ -26,6 +26,13 @@ export const dataPoint = {\n \t\t\t{ id: 4, type: 'INTERVAL', label: 'Interval' },\n \t\t\t{ id: 5, type: 'ON_TS_CHANGE', label: 'On Ts Change' },\n \t\t],\n+\n+\t\tchartRenderersList: [\n+\t\t\t{ id: -1, label: 'None' },\n+\t\t\t{ id: 0, label: 'Table' },\n+\t\t\t{ id: 1, label: 'Image' },\n+\t\t\t{ id: 2, label: 'Stats' },\n+\t\t],\n \t},\n \n \tmutations: {},"
  },
  {
    "sha": "18c66d7e49278c55230daf83b37d3ec0a25d0ad5",
    "filename": "scadalts-ui/tests/mocks/store/recipientListMock.js",
    "status": "added",
    "additions": 113,
    "deletions": 0,
    "changes": 113,
    "blob_url": "https://github.com/SCADA-LTS/Scada-LTS/blob/467c7e12ec004ebcecb11d1ec2c876f192ad864e/scadalts-ui/tests/mocks/store/recipientListMock.js",
    "raw_url": "https://github.com/SCADA-LTS/Scada-LTS/raw/467c7e12ec004ebcecb11d1ec2c876f192ad864e/scadalts-ui/tests/mocks/store/recipientListMock.js",
    "contents_url": "https://api.github.com/repos/SCADA-LTS/Scada-LTS/contents/scadalts-ui/tests/mocks/store/recipientListMock.js?ref=467c7e12ec004ebcecb11d1ec2c876f192ad864e",
    "patch": "@@ -0,0 +1,113 @@\n+import mailingListTemplate from '../../../src/store/mailingList/templates';\n+\n+export const storeMailingList = {\n+\tstate: {\n+\t\tmailingListTemplate: mailingListTemplate,\n+\t},\n+\n+\tmutations: {},\n+\n+\tactions: {\n+\t\tgetSimpleMailingLists({ dispatch }) {\n+\t\t\treturn new Promise((resolve) => {\n+\t\t\t\tlet data = [\n+\t\t\t\t\t{ id: 1, xid: 'ML0001', name: 'Example MailingList' },\n+\t\t\t\t\t{ id: 2, xid: 'ML0013', name: 'Example RecipientList' },\n+\t\t\t\t\t{ id: 3, xid: 'ML0341', name: 'Test RecipientList' },\n+\t\t\t\t];\n+\t\t\t\tresolve(data);\n+\t\t\t});\n+\t\t},\n+\n+\t\tgetMailingList({ dispatch }, mailingListId) {\n+\t\t\treturn new Promise((resolve) => {\n+\t\t\t\tlet data = {\n+\t\t\t\t\tid: 1,\n+\t\t\t\t\txid: 'ML0001',\n+\t\t\t\t\tname: 'Example MailingList',\n+\t\t\t\t\tentries: [\n+\t\t\t\t\t\t{\n+\t\t\t\t\t\t\tuserId: 1,\n+\t\t\t\t\t\t\tuser: {\n+\t\t\t\t\t\t\t\tid: 1,\n+\t\t\t\t\t\t\t\tusername: 'admin',\n+\t\t\t\t\t\t\t\temail: 'admin@yourMangoDomain.com',\n+\t\t\t\t\t\t\t\tphone: '',\n+\t\t\t\t\t\t\t\tadmin: true,\n+\t\t\t\t\t\t\t\tdisabled: false,\n+\t\t\t\t\t\t\t\thomeUrl: '',\n+\t\t\t\t\t\t\t\tlastLogin: 1614587974686,\n+\t\t\t\t\t\t\t\tfirstLogin: false,\n+\t\t\t\t\t\t\t},\n+\t\t\t\t\t\t\trecipientType: 2,\n+\t\t\t\t\t\t\treferenceAddress: null,\n+\t\t\t\t\t\t\treferenceId: 1,\n+\t\t\t\t\t\t},\n+\t\t\t\t\t\t{\n+\t\t\t\t\t\t\tuserId: 3,\n+\t\t\t\t\t\t\tuser: {\n+\t\t\t\t\t\t\t\tid: 3,\n+\t\t\t\t\t\t\t\tusername: 'tester',\n+\t\t\t\t\t\t\t\temail: 'tester@mail.com',\n+\t\t\t\t\t\t\t\tphone: '123123131',\n+\t\t\t\t\t\t\t\tadmin: true,\n+\t\t\t\t\t\t\t\tdisabled: false,\n+\t\t\t\t\t\t\t\thomeUrl: null,\n+\t\t\t\t\t\t\t\tlastLogin: 0,\n+\t\t\t\t\t\t\t\tfirstLogin: true,\n+\t\t\t\t\t\t\t},\n+\t\t\t\t\t\t\trecipientType: 2,\n+\t\t\t\t\t\t\treferenceAddress: null,\n+\t\t\t\t\t\t\treferenceId: 3,\n+\t\t\t\t\t\t},\n+                        {\n+                            address: \"mail@mail.com\",\n+                            recipientType: 3,\n+                            referenceAddress: \"mail@mail.com\",\n+                            referenceId: 0\n+                        }\n+\t\t\t\t\t],\n+\t\t\t\t\tcronPattern: '1 */15 * * * ?',\n+\t\t\t\t\tcollectInactiveEmails: false,\n+\t\t\t\t\tdailyLimitSentEmailsNumber: 0,\n+\t\t\t\t\tdailyLimitSentEmails: false,\n+\t\t\t\t\tinactiveIntervals: [],\n+\t\t\t\t\trecipientType: 1,\n+\t\t\t\t\treferenceAddress: null,\n+\t\t\t\t\treferenceId: 3,\n+\t\t\t\t};\n+\t\t\t\tresolve(data);\n+\t\t\t});\n+\t\t},\n+\n+\t\tgetUniqueMailingListXid({ dispatch }) {\n+\t\t\treturn new Promise((resolve) => {\n+\t\t\t\tlet data = 'ML_01231';\n+\t\t\t\tresolve(data);\n+\t\t\t});\n+\t\t},\n+\n+\t\tdeleteMailingList({ dispatch }, mailingListId) {\n+\t\t\treturn new Promise((resolve) => {\n+\t\t\t\tlet data = {status: \"deleted\"};\n+\t\t\t\tresolve(data);\n+\t\t\t});\n+\t\t},\n+\n+\t\tcreateMailingList({ dispatch }, mailingList) {\n+\t\t\treturn new Promise((resolve) => {\n+\t\t\t\tlet data = {status: \"created\"};\n+\t\t\t\tresolve(data);\n+\t\t\t});\n+\t\t},\n+\n+\t\tupdateMailingList({ dispatch }, mailingList) {\n+\t\t\treturn new Promise((resolve) => {\n+\t\t\t\tlet data = {status: \"updated\"};\n+\t\t\t\tresolve(data);\n+\t\t\t});\n+\t\t},\n+\t},\n+};\n+\n+export default storeMailingList;"
  },
  {
    "sha": "4be154e2b2b2eb7e3923f91fd08009644cf41309",
    "filename": "scadalts-ui/tests/mocks/store/systemSettings/index.js",
    "status": "modified",
    "additions": 0,
    "deletions": 5,
    "changes": 5,
    "blob_url": "https://github.com/SCADA-LTS/Scada-LTS/blob/467c7e12ec004ebcecb11d1ec2c876f192ad864e/scadalts-ui/tests/mocks/store/systemSettings/index.js",
    "raw_url": "https://github.com/SCADA-LTS/Scada-LTS/raw/467c7e12ec004ebcecb11d1ec2c876f192ad864e/scadalts-ui/tests/mocks/store/systemSettings/index.js",
    "contents_url": "https://api.github.com/repos/SCADA-LTS/Scada-LTS/contents/scadalts-ui/tests/mocks/store/systemSettings/index.js?ref=467c7e12ec004ebcecb11d1ec2c876f192ad864e",
    "patch": "@@ -80,11 +80,6 @@ const storeSystemSettings = {\n \t\t\t\tresolve();\n \t\t\t});\n \t\t},\n-\t\tgetAllSettings(context) {\n-\t\t\treturn new Promise((resolve, reject) => {\n-\t\t\t\tresolve();\n-\t\t\t});\n-\t\t},\n \t\tgetDatabaseSize(context) {\n \t\t\treturn new Promise((resolve, reject) => {\n \t\t\t\tresolve();"
  },
  {
    "sha": "69b571b59154c5075d1d74ef0080af2a4471a4b8",
    "filename": "scadalts-ui/tests/mocks/store/systemSettingsMock.js",
    "status": "added",
    "additions": 27,
    "deletions": 0,
    "changes": 27,
    "blob_url": "https://github.com/SCADA-LTS/Scada-LTS/blob/467c7e12ec004ebcecb11d1ec2c876f192ad864e/scadalts-ui/tests/mocks/store/systemSettingsMock.js",
    "raw_url": "https://github.com/SCADA-LTS/Scada-LTS/raw/467c7e12ec004ebcecb11d1ec2c876f192ad864e/scadalts-ui/tests/mocks/store/systemSettingsMock.js",
    "contents_url": "https://api.github.com/repos/SCADA-LTS/Scada-LTS/contents/scadalts-ui/tests/mocks/store/systemSettingsMock.js?ref=467c7e12ec004ebcecb11d1ec2c876f192ad864e",
    "patch": "@@ -0,0 +1,27 @@\n+export const systemSettings = {\n+\tstate: {\n+\t\tdefaultLoggingType: 1,\n+\t},\n+\n+\tmutations: {\n+\t\tsetDefaultLoggingType(state, defaultLoggingType) {\n+\t\t\tstate.defaultLoggingType = defaultLoggingType;\n+\t\t},\n+\t},\n+\n+\tactions: {\n+\t\tgetDefaultLoggingType(context) {\n+\t\t\treturn new Promise((resolve) => {\n+\t\t\t\tcontext.state.defaultLoggingType = 3;\n+\t\t\t\tresolve(3);\n+\t\t\t});\n+\t\t},\n+\t\tsaveDefaultLoggingType(context) {\n+\t\t\treturn new Promise((resolve) => {\n+\t\t\t\tresolve(true);\n+\t\t\t});\n+\t\t},\n+\t},\n+};\n+\n+export default systemSettings;\n\\ No newline at end of file"
  },
  {
    "sha": "03dd79fe2ba9955b0830ce75e6076b8847452f18",
    "filename": "scadalts-ui/tests/mocks/store/usersMock.js",
    "status": "added",
    "additions": 22,
    "deletions": 0,
    "changes": 22,
    "blob_url": "https://github.com/SCADA-LTS/Scada-LTS/blob/467c7e12ec004ebcecb11d1ec2c876f192ad864e/scadalts-ui/tests/mocks/store/usersMock.js",
    "raw_url": "https://github.com/SCADA-LTS/Scada-LTS/raw/467c7e12ec004ebcecb11d1ec2c876f192ad864e/scadalts-ui/tests/mocks/store/usersMock.js",
    "contents_url": "https://api.github.com/repos/SCADA-LTS/Scada-LTS/contents/scadalts-ui/tests/mocks/store/usersMock.js?ref=467c7e12ec004ebcecb11d1ec2c876f192ad864e",
    "patch": "@@ -0,0 +1,22 @@\n+const storeUsersMock = {\n+\tstate: {\n+\t\t\n+\t},\n+\n+\tmutations: {},\n+\n+\tactions: {\n+        getAllUsers({dispatch}) {\n+            return new Promise(resolve => {\n+                let data = [\n+                    {id: 1, username: 'Admin', email: 'testmail@scada.com', phone: '123456789'}\n+                ]\n+                resolve(data);\n+            })\n+        },    \n+\t},\n+\n+\tgetters: {},\n+};\n+\n+export default storeUsersMock;"
  },
  {
    "sha": "003670ba4a8581b91aa9042e5019fd1e29e50c4d",
    "filename": "scadalts-ui/tests/unit/DataPointDetails/PointPropChartRenderer.spec.js",
    "status": "modified",
    "additions": 20,
    "deletions": 50,
    "changes": 70,
    "blob_url": "https://github.com/SCADA-LTS/Scada-LTS/blob/467c7e12ec004ebcecb11d1ec2c876f192ad864e/scadalts-ui/tests/unit/DataPointDetails/PointPropChartRenderer.spec.js",
    "raw_url": "https://github.com/SCADA-LTS/Scada-LTS/raw/467c7e12ec004ebcecb11d1ec2c876f192ad864e/scadalts-ui/tests/unit/DataPointDetails/PointPropChartRenderer.spec.js",
    "contents_url": "https://api.github.com/repos/SCADA-LTS/Scada-LTS/contents/scadalts-ui/tests/unit/DataPointDetails/PointPropChartRenderer.spec.js?ref=467c7e12ec004ebcecb11d1ec2c876f192ad864e",
    "patch": "@@ -1,88 +1,62 @@\n-import Vuex from 'vuex';\n-import Vuetify from '@/plugins/vuetify';\n import { expect } from 'chai';\n-import { createLocalVue, mount } from '@vue/test-utils';\n-import i18n from '@/i18n';\n \n import dataPoint from '../../mocks/store/dataPointMock';\n-import mainStore from '../../mocks/store/index';\n \n import PointPropChartRenderer from '@/views/DataPointDetails/PointProperties/PointPropChartRenderer';\n import dataPointMock from '../../mocks/objects/DataPointMock';\n \n+import { prepareMountWrapper } from '../../utils/testing-utils';\n+\n const modules = {\n \tdataPoint,\n };\n \n-const store = new Vuex.Store({ modules, state: mainStore.state });\n+/**\n+ * @private\n+ * Initialize VueWrapper for local testing\n+ * Prepare wrapper wiht all required stubs and props.\n+ */\n+function initWrapper(props = dataPointMock) {\n+\treturn prepareMountWrapper(\n+\t\tPointPropChartRenderer, \n+\t\tmodules,\n+\t\t{data: props}\n+\t);\n+}\n \n describe('Point Properties Tests --- Chart Renderer', () => {\n-\tconst localVue = createLocalVue();\n-\tlocalVue.use(i18n);\n-\tlocalVue.use(Vuex);\n-\tconst vuetify = Vuetify;\n-\n-\tconst mountFunction = (options) => {\n-\t\treturn mount(PointPropChartRenderer, {\n-\t\t\tstore,\n-\t\t\tlocalVue,\n-\t\t\tvuetify,\n-\t\t\ti18n,\n-\t\t\t...options,\n-\t\t});\n-\t};\n \n \tit('Initialize Component', () => {\n-\t\tconst wrapper = mountFunction({\n-\t\t\tpropsData: {\n-\t\t\t\tdata: dataPointMock,\n-\t\t\t},\n-\t\t});\n+\t\tconst wrapper = initWrapper();\n \t\texpect(wrapper.name()).to.equal('PointPropChartRenderer');\n \t\texpect(wrapper.vm.data.id).to.equal(1);\n \t\texpect(wrapper.vm.data.chartRenderer).to.equal(null);\n \t\texpect(wrapper.vm.selected).to.equal(-1);\n \t});\n \n \tit('Select has 4 Items', () => {\n-\t\tconst wrapper = mountFunction({\n-\t\t\tpropsData: {\n-\t\t\t\tdata: dataPointMock,\n-\t\t\t},\n-\t\t});\n+\t\tconst wrapper = initWrapper();\n \t\tconst items = wrapper.find('.v-select:first-of-type').props('items');\n \t\texpect(items.length).to.equal(4);\n \t});\n \n \tit('Select type Table', () => {\n-\t\tconst wrapper = mountFunction({\n-\t\t\tpropsData: {\n-\t\t\t\tdata: dataPointMock,\n-\t\t\t},\n-\t\t});\n+\t\tconst wrapper = initWrapper();\n \t\twrapper.vm.watchChartRendererChange(0);\n \t\texpect(wrapper.vm.data.chartRenderer.limit).to.equal(2);\n \t\texpect(wrapper.vm.data.chartRenderer.def.exportName).to.equal('TABLE');\n \t});\n \n \tit('Select type Image', async () => {\n-\t\tconst wrapper = mountFunction({\n-\t\t\tpropsData: {\n-\t\t\t\tdata: dataPointMock,\n-\t\t\t},\n-\t\t});\n+\t\tconst wrapper = initWrapper();\n \t\twrapper.vm.watchChartRendererChange(1);\n \t\texpect(wrapper.vm.data.chartRenderer.timePeriod).to.equal(2);\n \t\texpect(wrapper.vm.data.chartRenderer.numberOfPeriods).to.equal(1);\n \t\texpect(wrapper.vm.data.chartRenderer.def.exportName).to.equal('IMAGE');\n \t});\n \n \tit('Select type Statistics', () => {\n-\t\tconst wrapper = mountFunction({\n-\t\t\tpropsData: {\n-\t\t\t\tdata: dataPointMock,\n-\t\t\t},\n-\t\t});\n+\t\tconst wrapper = initWrapper();\n \t\twrapper.vm.watchChartRendererChange(2);\n \t\texpect(wrapper.vm.data.chartRenderer.timePeriod).to.equal(2);\n \t\texpect(wrapper.vm.data.chartRenderer.numberOfPeriods).to.equal(1);\n@@ -96,11 +70,7 @@ describe('Point Properties Tests --- Chart Renderer', () => {\n \t\t\t{},\n \t\t\tmodules.dataPoint.state.chartRenderersTemplates[1],\n \t\t);\n-\t\tconst wrapper = mountFunction({\n-\t\t\tpropsData: {\n-\t\t\t\tdata: complexDataPointMock,\n-\t\t\t},\n-\t\t});\n+\t\tconst wrapper = initWrapper(complexDataPointMock);\n \t\texpect(wrapper.vm.data.chartRenderer).to.not.equal(null);\n \t\texpect(wrapper.vm.selected).to.equal(1);\n \t\texpect(wrapper.vm.data.chartRenderer.def.exportName).to.equal('IMAGE');"
  },
  {
    "sha": "1c6841c069f9168f86a707c2b419e84dcefb603a",
    "filename": "scadalts-ui/tests/unit/DataPointDetails/PointPropEventRenderer.spec.js",
    "status": "modified",
    "additions": 18,
    "deletions": 40,
    "changes": 58,
    "blob_url": "https://github.com/SCADA-LTS/Scada-LTS/blob/467c7e12ec004ebcecb11d1ec2c876f192ad864e/scadalts-ui/tests/unit/DataPointDetails/PointPropEventRenderer.spec.js",
    "raw_url": "https://github.com/SCADA-LTS/Scada-LTS/raw/467c7e12ec004ebcecb11d1ec2c876f192ad864e/scadalts-ui/tests/unit/DataPointDetails/PointPropEventRenderer.spec.js",
    "contents_url": "https://api.github.com/repos/SCADA-LTS/Scada-LTS/contents/scadalts-ui/tests/unit/DataPointDetails/PointPropEventRenderer.spec.js?ref=467c7e12ec004ebcecb11d1ec2c876f192ad864e",
    "patch": "@@ -1,46 +1,36 @@\n-import Vuex from 'vuex';\n-import Vuetify from '@/plugins/vuetify';\n import { expect } from 'chai';\n-import { createLocalVue, mount } from '@vue/test-utils';\n-import i18n from '@/i18n';\n \n import dataPoint from '../../mocks/store/dataPointMock';\n \n import PointPropEventRenderer from '@/views/DataPointDetails/PointProperties/PointPropEventRenderer';\n import dataPointMock from '../../mocks/objects/DataPointMock';\n \n+import { prepareMountWrapper } from '../../utils/testing-utils';\n+\n const modules = {\n \tdataPoint,\n };\n \n-const store = new Vuex.Store({ modules });\n+/**\n+ * @private\n+ * Initialize VueWrapper for local testing\n+ * Prepare wrapper wiht all required stubs and props.\n+ */\n+function initWrapper(props = dataPointMock) {\n+\treturn prepareMountWrapper(\n+\t\tPointPropEventRenderer, \n+\t\tmodules,\n+\t\t{data: props}\n+\t);\n+}\n \n global.requestAnimationFrame = (cb) => cb();\n \n-const localVue = createLocalVue();\n-localVue.use(i18n);\n-localVue.use(Vuex);\n-const vuetify = Vuetify;\n-\n-const mountFunction = (options) => {\n-\treturn mount(PointPropEventRenderer, {\n-\t\tstore,\n-\t\tlocalVue,\n-\t\tvuetify,\n-\t\ti18n,\n-\t\t...options,\n-\t});\n-};\n-\n describe('Point Properties Tests - Event Renderer Numeric', () => {\n \tlet wrapper;\n \n \tbeforeEach(() => {\n-\t\twrapper = mountFunction({\n-\t\t\tpropsData: {\n-\t\t\t\tdata: dataPointMock,\n-\t\t\t},\n-\t\t});\n+\t\twrapper = initWrapper();\n \t});\n \n \tit('Initialize Component with Numeric DP', () => {\n@@ -86,11 +76,7 @@ describe('Point Properties Tests - Event Renderer Binary', () => {\n \tbeforeEach(() => {\n \t\tlet binaryDataPointMock = Object.assign({}, dataPointMock);\n \t\tbinaryDataPointMock.pointLocator.dataTypeId = 1;\n-\t\twrapper = mountFunction({\n-\t\t\tpropsData: {\n-\t\t\t\tdata: binaryDataPointMock,\n-\t\t\t},\n-\t\t});\n+\t\twrapper = initWrapper(binaryDataPointMock);\n \t});\n \n \tit('Initialize Component with Binary DP', () => {\n@@ -121,11 +107,7 @@ describe('Point Properties Tests - Event Renderer Multistate', () => {\n \tbeforeEach(() => {\n \t\tlet binaryDataPointMock = Object.assign({}, dataPointMock);\n \t\tbinaryDataPointMock.pointLocator.dataTypeId = 2;\n-\t\twrapper = mountFunction({\n-\t\t\tpropsData: {\n-\t\t\t\tdata: binaryDataPointMock,\n-\t\t\t},\n-\t\t});\n+\t\twrapper = initWrapper(binaryDataPointMock);\n \t});\n \n \tit('Initialize Component with Multistate DP', () => {\n@@ -169,11 +151,7 @@ describe('Point Properties Tests - Event Renderer None', () => {\n \tbeforeEach(() => {\n \t\tlet binaryDataPointMock = Object.assign({}, dataPointMock);\n \t\tbinaryDataPointMock.pointLocator.dataTypeId = 4;\n-\t\twrapper = mountFunction({\n-\t\t\tpropsData: {\n-\t\t\t\tdata: binaryDataPointMock,\n-\t\t\t},\n-\t\t});\n+\t\twrapper = initWrapper(binaryDataPointMock);\n \t});\n \n \tit('Initialize Component with Alphanumeric DP', () => {"
  },
  {
    "sha": "06b9a71da36c1bd774b8d81f9003923a04e1c8d0",
    "filename": "scadalts-ui/tests/unit/DataPointDetails/PointPropLogging.spec.js",
    "status": "modified",
    "additions": 20,
    "deletions": 33,
    "changes": 53,
    "blob_url": "https://github.com/SCADA-LTS/Scada-LTS/blob/467c7e12ec004ebcecb11d1ec2c876f192ad864e/scadalts-ui/tests/unit/DataPointDetails/PointPropLogging.spec.js",
    "raw_url": "https://github.com/SCADA-LTS/Scada-LTS/raw/467c7e12ec004ebcecb11d1ec2c876f192ad864e/scadalts-ui/tests/unit/DataPointDetails/PointPropLogging.spec.js",
    "contents_url": "https://api.github.com/repos/SCADA-LTS/Scada-LTS/contents/scadalts-ui/tests/unit/DataPointDetails/PointPropLogging.spec.js?ref=467c7e12ec004ebcecb11d1ec2c876f192ad864e",
    "patch": "@@ -1,65 +1,52 @@\n-import Vuex from 'vuex';\n-import Vuetify from '@/plugins/vuetify';\n import { expect } from 'chai';\n-import { createLocalVue, mount } from '@vue/test-utils';\n-import i18n from '@/i18n';\n \n import dataPoint from '../../mocks/store/dataPointMock';\n-import mainStore from '../../mocks/store/index';\n \n import PointPropLogging from '@/views/DataPointDetails/PointProperties/PointPropLogging';\n import dataPointMock from '../../mocks/objects/DataPointMock';\n \n+import { prepareMountWrapper } from '../../utils/testing-utils';\n+\n const modules = {\n \tdataPoint,\n };\n \n-const store = new Vuex.Store({ modules, state: mainStore.state });\n+/**\n+ * @private\n+ * Initialize VueWrapper for local testing\n+ * Prepare wrapper wiht all required stubs and props.\n+ */\n+function initWrapper() {\n+\treturn prepareMountWrapper(\n+\t\tPointPropLogging, \n+\t\tmodules,\n+\t\t{data: dataPointMock}\n+\t);\n+}\n \n global.requestAnimationFrame = (cb) => cb();\n \n-const localVue = createLocalVue();\n-localVue.use(i18n);\n-localVue.use(Vuex);\n-const vuetify = Vuetify;\n-\n-const mountFunction = (options) => {\n-\treturn mount(PointPropLogging, {\n-\t\tstore,\n-\t\tlocalVue,\n-\t\tvuetify,\n-\t\ti18n,\n-\t\t...options,\n-\t});\n-};\n-\n describe('Point Properties Tests - Logging properties', () => {\n-\tlet wrapper;\n-\n-\tbeforeEach(() => {\n-\t\twrapper = mountFunction({\n-\t\t\tpropsData: {\n-\t\t\t\tdata: dataPointMock,\n-\t\t\t},\n-\t\t});\n-\t});\n-\n+\t\n \tit('Initialize Component', () => {\n+\t\tconst wrapper = initWrapper();\n \t\tconst items = wrapper.find('.v-select:first-of-type').props('items');\n \t\texpect(items.length).to.equal(5);\n-\t\texpect(wrapper.vm.data.intervalLoggingType).to.equal(1);\n+\t\texpect(wrapper.vm.data.loggingType).to.equal(1);\n \t\texpect(wrapper.get('.row[style=\"display: none;\"]').html()).to.contain(\n \t\t\t'Interval logging period every',\n \t\t);\n \t});\n \n \tit('Change to \"Interval\" property', async () => {\n-\t\twrapper.vm.data.intervalLoggingType = 4;\n+\t\tconst wrapper = initWrapper();\n+\t\twrapper.vm.data.loggingType = 4;\n \t\tawait wrapper.vm.$nextTick();\n \t\texpect(wrapper.text()).contains('logging period');\n \t});\n \n \tit('Clear DataPoint cache', async () => {\n+\t\tconst wrapper = initWrapper();\n \t\tawait wrapper.vm.clearCache();\n \t\texpect(wrapper.vm.response.status).to.equal(true);\n \t});"
  }
]
