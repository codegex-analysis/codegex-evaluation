[
  {
    "sha": "96ed88a3d4e5878916f307ede0ed9928ff6a8d50",
    "filename": ".idea/misc.xml",
    "status": "modified",
    "additions": 1,
    "deletions": 1,
    "changes": 2,
    "blob_url": "https://github.com/yacooler/JavaEEeducation/blob/9de2a676792106d31b22aae7a99086cd6e763310/.idea/misc.xml",
    "raw_url": "https://github.com/yacooler/JavaEEeducation/raw/9de2a676792106d31b22aae7a99086cd6e763310/.idea/misc.xml",
    "contents_url": "https://api.github.com/repos/yacooler/JavaEEeducation/contents/.idea/misc.xml?ref=9de2a676792106d31b22aae7a99086cd6e763310",
    "patch": "@@ -12,7 +12,7 @@\n       </list>\n     </option>\n   </component>\n-  <component name=\"ProjectRootManager\" version=\"2\" languageLevel=\"JDK_14\" project-jdk-name=\"14\" project-jdk-type=\"JavaSDK\">\n+  <component name=\"ProjectRootManager\" version=\"2\" languageLevel=\"JDK_11\" default=\"false\" project-jdk-name=\"11\" project-jdk-type=\"JavaSDK\">\n     <output url=\"file://$PROJECT_DIR$/out\" />\n   </component>\n </project>\n\\ No newline at end of file"
  },
  {
    "sha": "0606f4fcabab921e49aeed96c00bb6fe013a8fbe",
    "filename": "app-common-classes/pom.xml",
    "status": "modified",
    "additions": 3,
    "deletions": 3,
    "changes": 6,
    "blob_url": "https://github.com/yacooler/JavaEEeducation/blob/9de2a676792106d31b22aae7a99086cd6e763310/app-common-classes/pom.xml",
    "raw_url": "https://github.com/yacooler/JavaEEeducation/raw/9de2a676792106d31b22aae7a99086cd6e763310/app-common-classes/pom.xml",
    "contents_url": "https://api.github.com/repos/yacooler/JavaEEeducation/contents/app-common-classes/pom.xml?ref=9de2a676792106d31b22aae7a99086cd6e763310",
    "patch": "@@ -9,9 +9,10 @@\n     <packaging>jar</packaging>\n     <version>1.0-SNAPSHOT</version>\n \n+    <!--Нет parentа, надо указывать версию-->\n     <properties>\n-        <maven.compiler.source>14</maven.compiler.source>\n-        <maven.compiler.target>14</maven.compiler.target>\n+        <maven.compiler.source>11</maven.compiler.source>\n+        <maven.compiler.target>11</maven.compiler.target>\n     </properties>\n \n     <dependencies>\n@@ -21,5 +22,4 @@\n             <version>1.18.16</version>\n         </dependency>\n     </dependencies>\n-\n </project>\n\\ No newline at end of file"
  },
  {
    "sha": "8c3c6ebed6b7bdd2071baca45a12db37947883d3",
    "filename": "app-common-classes/src/main/java/ru/vyazankin/common/dto/ProductDto.java",
    "status": "modified",
    "additions": 2,
    "deletions": 0,
    "changes": 2,
    "blob_url": "https://github.com/yacooler/JavaEEeducation/blob/9de2a676792106d31b22aae7a99086cd6e763310/app-common-classes/src/main/java/ru/vyazankin/common/dto/ProductDto.java",
    "raw_url": "https://github.com/yacooler/JavaEEeducation/raw/9de2a676792106d31b22aae7a99086cd6e763310/app-common-classes/src/main/java/ru/vyazankin/common/dto/ProductDto.java",
    "contents_url": "https://api.github.com/repos/yacooler/JavaEEeducation/contents/app-common-classes/src/main/java/ru/vyazankin/common/dto/ProductDto.java?ref=9de2a676792106d31b22aae7a99086cd6e763310",
    "patch": "@@ -1,5 +1,6 @@\n package ru.vyazankin.common.dto;\n \n+import lombok.AllArgsConstructor;\n import lombok.Getter;\n import lombok.NoArgsConstructor;\n import lombok.Setter;\n@@ -9,6 +10,7 @@\n @Getter\n @Setter\n @NoArgsConstructor\n+@AllArgsConstructor\n public class ProductDto implements Serializable {\n     private Long id;\n     private String name;"
  },
  {
    "sha": "a6ebf45f8a8cb91360130447a9300374cce624fe",
    "filename": "first-jsf-app/pom.xml",
    "status": "modified",
    "additions": 18,
    "deletions": 5,
    "changes": 23,
    "blob_url": "https://github.com/yacooler/JavaEEeducation/blob/9de2a676792106d31b22aae7a99086cd6e763310/first-jsf-app/pom.xml",
    "raw_url": "https://github.com/yacooler/JavaEEeducation/raw/9de2a676792106d31b22aae7a99086cd6e763310/first-jsf-app/pom.xml",
    "contents_url": "https://api.github.com/repos/yacooler/JavaEEeducation/contents/first-jsf-app/pom.xml?ref=9de2a676792106d31b22aae7a99086cd6e763310",
    "patch": "@@ -7,16 +7,12 @@\n         <groupId>ru.vyazankin</groupId>\n         <version>1.0-SNAPSHOT</version>\n     </parent>\n+\n     <modelVersion>4.0.0</modelVersion>\n \n     <artifactId>first-jsf-app</artifactId>\n     <packaging>war</packaging>\n \n-    <properties>\n-        <maven.compiler.source>14</maven.compiler.source>\n-        <maven.compiler.target>14</maven.compiler.target>\n-    </properties>\n-\n     <dependencies>\n \n         <dependency>\n@@ -90,6 +86,23 @@\n             <artifactId>app-common-classes</artifactId>\n             <version>1.0-SNAPSHOT</version>\n         </dependency>\n+\n+        <!--Зависимость для подключения очереди сообщений-->\n+        <dependency>\n+            <groupId>javax.jms</groupId>\n+            <artifactId>javax.jms-api</artifactId>\n+            <version>2.0.1</version>\n+            <scope>provided</scope>\n+        </dependency>\n+\n+        <!--Вебсервисы, в частности рест-->\n+        <dependency>\n+            <groupId>javax.ws.rs</groupId>\n+            <artifactId>javax.ws.rs-api</artifactId>\n+            <version>2.1.1</version>\n+            <scope>provided</scope>\n+        </dependency>\n+\n     </dependencies>\n \n "
  },
  {
    "sha": "24616f0a243cd17489f5295ccad9068e6de4866e",
    "filename": "first-jsf-app/src/main/java/ru/vyazankin/jms/JmsProductReceiver.java",
    "status": "added",
    "additions": 50,
    "deletions": 0,
    "changes": 50,
    "blob_url": "https://github.com/yacooler/JavaEEeducation/blob/9de2a676792106d31b22aae7a99086cd6e763310/first-jsf-app/src/main/java/ru/vyazankin/jms/JmsProductReceiver.java",
    "raw_url": "https://github.com/yacooler/JavaEEeducation/raw/9de2a676792106d31b22aae7a99086cd6e763310/first-jsf-app/src/main/java/ru/vyazankin/jms/JmsProductReceiver.java",
    "contents_url": "https://api.github.com/repos/yacooler/JavaEEeducation/contents/first-jsf-app/src/main/java/ru/vyazankin/jms/JmsProductReceiver.java?ref=9de2a676792106d31b22aae7a99086cd6e763310",
    "patch": "@@ -0,0 +1,50 @@\n+package ru.vyazankin.jms;\n+\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+import ru.vyazankin.common.dto.ProductDto;\n+import ru.vyazankin.services.ProductService;\n+\n+import javax.annotation.PostConstruct;\n+import javax.ejb.ActivationConfigProperty;\n+import javax.ejb.EJB;\n+import javax.ejb.MessageDriven;\n+import javax.jms.JMSException;\n+import javax.jms.Message;\n+import javax.jms.MessageListener;\n+import javax.jms.ObjectMessage;\n+\n+\n+@MessageDriven(\n+    activationConfig = {\n+            @ActivationConfigProperty(propertyName = \"destinationType\", propertyValue = \"javax.jms.Queue\"),\n+            @ActivationConfigProperty(propertyName = \"destination\", propertyValue = \"java:jboss/exported/jms/productQueue\")\n+    })\n+public class JmsProductReceiver implements MessageListener {\n+\n+    @EJB\n+    private ProductService productService;\n+\n+    private Logger logger;\n+\n+    @PostConstruct\n+    private void init(){\n+        logger = LoggerFactory.getLogger(JmsProductReceiver.class);\n+        logger.info(\"Логгер создан\");\n+    }\n+\n+\n+    @Override\n+    public void onMessage(Message message) {\n+        logger.info(\"Получено новое сообщение\");\n+\n+        if (message instanceof ObjectMessage){\n+            try {\n+                productService.saveOrUpdate((ProductDto) ((ObjectMessage) message).getObject());\n+            } catch (JMSException e) {\n+                throw new RuntimeException(\"Не удалось привести message к ProductDto\", e);\n+            }\n+        }\n+\n+    }\n+}"
  },
  {
    "sha": "3ba8a9e2e2624f81cbe506f26cd1c7cce4304b01",
    "filename": "first-jsf-app/src/main/java/ru/vyazankin/rest/CategoryServiceRest.java",
    "status": "added",
    "additions": 37,
    "deletions": 0,
    "changes": 37,
    "blob_url": "https://github.com/yacooler/JavaEEeducation/blob/9de2a676792106d31b22aae7a99086cd6e763310/first-jsf-app/src/main/java/ru/vyazankin/rest/CategoryServiceRest.java",
    "raw_url": "https://github.com/yacooler/JavaEEeducation/raw/9de2a676792106d31b22aae7a99086cd6e763310/first-jsf-app/src/main/java/ru/vyazankin/rest/CategoryServiceRest.java",
    "contents_url": "https://api.github.com/repos/yacooler/JavaEEeducation/contents/first-jsf-app/src/main/java/ru/vyazankin/rest/CategoryServiceRest.java?ref=9de2a676792106d31b22aae7a99086cd6e763310",
    "patch": "@@ -0,0 +1,37 @@\n+package ru.vyazankin.rest;\n+\n+import ru.vyazankin.common.dto.CategoryDto;\n+import ru.vyazankin.persists.Category;\n+import ru.vyazankin.services.BaseService;\n+\n+import javax.ejb.Local;\n+import javax.ws.rs.*;\n+import javax.ws.rs.core.MediaType;\n+import java.util.List;\n+\n+@Local\n+@Path(\"/v1/category\")\n+public interface CategoryServiceRest extends BaseService<Category, CategoryDto> {\n+\n+    @Override\n+    @GET\n+    @Produces(MediaType.APPLICATION_JSON)\n+    default List<CategoryDto> findAll() {\n+        return null;\n+    }\n+\n+    @Override\n+    @DELETE\n+    @Consumes(MediaType.APPLICATION_JSON)\n+    void delete(CategoryDto categoryDto);\n+\n+    @POST\n+    @Consumes(MediaType.APPLICATION_JSON)\n+    @Produces(MediaType.APPLICATION_JSON)\n+    CategoryDto insert(CategoryDto categoryDto);\n+\n+    @PUT\n+    @Consumes(MediaType.APPLICATION_JSON)\n+    @Produces(MediaType.APPLICATION_JSON)\n+    CategoryDto update(CategoryDto categoryDto);\n+}"
  },
  {
    "sha": "b60b01dac29d183a8d3960ed03ce711309f1559c",
    "filename": "first-jsf-app/src/main/java/ru/vyazankin/rest/JaxRsApplication.java",
    "status": "added",
    "additions": 9,
    "deletions": 0,
    "changes": 9,
    "blob_url": "https://github.com/yacooler/JavaEEeducation/blob/9de2a676792106d31b22aae7a99086cd6e763310/first-jsf-app/src/main/java/ru/vyazankin/rest/JaxRsApplication.java",
    "raw_url": "https://github.com/yacooler/JavaEEeducation/raw/9de2a676792106d31b22aae7a99086cd6e763310/first-jsf-app/src/main/java/ru/vyazankin/rest/JaxRsApplication.java",
    "contents_url": "https://api.github.com/repos/yacooler/JavaEEeducation/contents/first-jsf-app/src/main/java/ru/vyazankin/rest/JaxRsApplication.java?ref=9de2a676792106d31b22aae7a99086cd6e763310",
    "patch": "@@ -0,0 +1,9 @@\n+package ru.vyazankin.rest;\n+\n+import javax.ws.rs.ApplicationPath;\n+import javax.ws.rs.core.Application;\n+\n+@ApplicationPath(\"api/\")\n+public class JaxRsApplication extends Application {\n+\n+}"
  },
  {
    "sha": "516f89d26a0a625d88836d402ab5ddba2d1f60db",
    "filename": "first-jsf-app/src/main/java/ru/vyazankin/rest/ProductServiceRest.java",
    "status": "added",
    "additions": 60,
    "deletions": 0,
    "changes": 60,
    "blob_url": "https://github.com/yacooler/JavaEEeducation/blob/9de2a676792106d31b22aae7a99086cd6e763310/first-jsf-app/src/main/java/ru/vyazankin/rest/ProductServiceRest.java",
    "raw_url": "https://github.com/yacooler/JavaEEeducation/raw/9de2a676792106d31b22aae7a99086cd6e763310/first-jsf-app/src/main/java/ru/vyazankin/rest/ProductServiceRest.java",
    "contents_url": "https://api.github.com/repos/yacooler/JavaEEeducation/contents/first-jsf-app/src/main/java/ru/vyazankin/rest/ProductServiceRest.java?ref=9de2a676792106d31b22aae7a99086cd6e763310",
    "patch": "@@ -0,0 +1,60 @@\n+package ru.vyazankin.rest;\n+\n+\n+import ru.vyazankin.common.dto.ProductDto;\n+import ru.vyazankin.persists.Product;\n+import ru.vyazankin.services.BaseService;\n+\n+import javax.ejb.Local;\n+import javax.ws.rs.*;\n+import javax.ws.rs.core.MediaType;\n+import java.util.List;\n+\n+@Local\n+@Path(\"/v1/product\")\n+public interface ProductServiceRest extends BaseService<Product, ProductDto> {\n+    @GET\n+    @Produces(MediaType.APPLICATION_JSON)\n+    @Path(\"/category/{categoryId}\")\n+    List<ProductDto> findAllByCategoryId(@PathParam(\"categoryId\") Long categoryId);\n+\n+    @Override\n+    @GET\n+    @Produces(MediaType.APPLICATION_JSON)\n+    @Path(\"/{id}\")\n+    ProductDto findById(@PathParam(\"id\") Long id);\n+\n+    @Override\n+    @GET\n+    @Produces(MediaType.APPLICATION_JSON)\n+    default List<ProductDto> findAll() {\n+        return null;\n+    }\n+\n+    @POST\n+    @Consumes(MediaType.APPLICATION_JSON)\n+    @Produces(MediaType.APPLICATION_JSON)\n+    ProductDto insert(ProductDto t);\n+\n+    @PUT\n+    @Consumes(MediaType.APPLICATION_JSON)\n+    @Produces(MediaType.APPLICATION_JSON)\n+    ProductDto update(ProductDto t);\n+\n+    @Override\n+    @DELETE\n+    @Consumes(MediaType.APPLICATION_JSON)\n+    void delete(ProductDto productDto);\n+\n+    @Override\n+    @GET\n+    @Produces(MediaType.APPLICATION_JSON)\n+    @Path(\"/empty\")\n+    boolean isEmpty();\n+\n+    @Override\n+    @GET\n+    @Produces(MediaType.APPLICATION_JSON)\n+    @Path(\"/count\")\n+    Long countAll();\n+}"
  },
  {
    "sha": "a76a63e9be9e669f3df87961f798c50f2dc355c0",
    "filename": "first-jsf-app/src/main/java/ru/vyazankin/services/CategoryServiceImpl.java",
    "status": "modified",
    "additions": 12,
    "deletions": 1,
    "changes": 13,
    "blob_url": "https://github.com/yacooler/JavaEEeducation/blob/9de2a676792106d31b22aae7a99086cd6e763310/first-jsf-app/src/main/java/ru/vyazankin/services/CategoryServiceImpl.java",
    "raw_url": "https://github.com/yacooler/JavaEEeducation/raw/9de2a676792106d31b22aae7a99086cd6e763310/first-jsf-app/src/main/java/ru/vyazankin/services/CategoryServiceImpl.java",
    "contents_url": "https://api.github.com/repos/yacooler/JavaEEeducation/contents/first-jsf-app/src/main/java/ru/vyazankin/services/CategoryServiceImpl.java?ref=9de2a676792106d31b22aae7a99086cd6e763310",
    "patch": "@@ -3,6 +3,7 @@\n import ru.vyazankin.common.dto.CategoryDto;\n import ru.vyazankin.persists.Category;\n import ru.vyazankin.repositories.CategoryRepository;\n+import ru.vyazankin.rest.CategoryServiceRest;\n \n \n import javax.ejb.EJB;\n@@ -12,7 +13,7 @@\n import java.util.stream.Collectors;\n \n @Stateless\n-public class CategoryServiceImpl implements CategoryService{\n+public class CategoryServiceImpl implements CategoryService, CategoryServiceRest {\n \n     @EJB\n     private CategoryRepository categoryRepository;\n@@ -55,4 +56,14 @@ public boolean isEmpty() {\n     public Long countAll() {\n         return categoryRepository.countAll();\n     }\n+\n+    @Override\n+    public CategoryDto insert(CategoryDto categoryDto) {\n+        return saveOrUpdate(categoryDto);\n+    }\n+\n+    @Override\n+    public CategoryDto update(CategoryDto categoryDto) {\n+        return saveOrUpdate(categoryDto);\n+    }\n }"
  },
  {
    "sha": "e7fc12e053a71f4b6a96bd35757d4a2f9520a0a2",
    "filename": "first-jsf-app/src/main/java/ru/vyazankin/services/ProductServiceImpl.java",
    "status": "modified",
    "additions": 12,
    "deletions": 2,
    "changes": 14,
    "blob_url": "https://github.com/yacooler/JavaEEeducation/blob/9de2a676792106d31b22aae7a99086cd6e763310/first-jsf-app/src/main/java/ru/vyazankin/services/ProductServiceImpl.java",
    "raw_url": "https://github.com/yacooler/JavaEEeducation/raw/9de2a676792106d31b22aae7a99086cd6e763310/first-jsf-app/src/main/java/ru/vyazankin/services/ProductServiceImpl.java",
    "contents_url": "https://api.github.com/repos/yacooler/JavaEEeducation/contents/first-jsf-app/src/main/java/ru/vyazankin/services/ProductServiceImpl.java?ref=9de2a676792106d31b22aae7a99086cd6e763310",
    "patch": "@@ -6,6 +6,7 @@\n import ru.vyazankin.mappers.ProductMapper;\n import ru.vyazankin.persists.Product;\n import ru.vyazankin.repositories.ProductRepository;\n+import ru.vyazankin.rest.ProductServiceRest;\n \n import javax.ejb.EJB;\n import javax.ejb.Remote;\n@@ -18,7 +19,7 @@\n \n @Stateless\n @Remote(value = {ProductServiceRemote.class})\n-public class ProductServiceImpl implements ProductService, ProductServiceRemote {\n+public class ProductServiceImpl implements ProductService, ProductServiceRemote, ProductServiceRest {\n \n     @EJB\n     private ProductRepository productRepository;\n@@ -36,7 +37,6 @@ public ProductDto findById(Long id) {\n         return productRepository.findAll().stream().map(productMapper::toDto).collect(Collectors.toList());\n     }\n \n-\n     @TransactionAttribute\n     @Override\n     public ProductDto saveOrUpdate(ProductDto t) {\n@@ -71,4 +71,14 @@ public Long countAll() {\n     public List<ProductDto> findAllByCategoryId(Long categoryId) {\n         return productRepository.findAllByCategoryId(categoryId).stream().map(productMapper::toDto).collect(Collectors.toList());\n     }\n+\n+    @Override\n+    public ProductDto insert(ProductDto t) {\n+        return saveOrUpdate(t);\n+    }\n+\n+    @Override\n+    public ProductDto update(ProductDto t) {\n+        return saveOrUpdate(t);\n+    }\n }"
  },
  {
    "sha": "9f139343bd96cf1733ec6ed09b1620317653a480",
    "filename": "pom.xml",
    "status": "modified",
    "additions": 3,
    "deletions": 2,
    "changes": 5,
    "blob_url": "https://github.com/yacooler/JavaEEeducation/blob/9de2a676792106d31b22aae7a99086cd6e763310/pom.xml",
    "raw_url": "https://github.com/yacooler/JavaEEeducation/raw/9de2a676792106d31b22aae7a99086cd6e763310/pom.xml",
    "contents_url": "https://api.github.com/repos/yacooler/JavaEEeducation/contents/pom.xml?ref=9de2a676792106d31b22aae7a99086cd6e763310",
    "patch": "@@ -21,8 +21,8 @@\n     <packaging>pom</packaging>\n \n     <properties>\n-        <maven.compiler.source>14</maven.compiler.source>\n-        <maven.compiler.target>14</maven.compiler.target>\n+        <maven.compiler.source>11</maven.compiler.source>\n+        <maven.compiler.target>11</maven.compiler.target>\n     </properties>\n \n     <dependencies>\n@@ -31,6 +31,7 @@\n             <artifactId>lombok</artifactId>\n             <version>1.18.16</version>\n         </dependency>\n+\n     </dependencies>\n \n </project>\n\\ No newline at end of file"
  },
  {
    "sha": "db46130d5d2918ea11f522f2530681821b8acf21",
    "filename": "remote-client/pom.xml",
    "status": "modified",
    "additions": 24,
    "deletions": 10,
    "changes": 34,
    "blob_url": "https://github.com/yacooler/JavaEEeducation/blob/9de2a676792106d31b22aae7a99086cd6e763310/remote-client/pom.xml",
    "raw_url": "https://github.com/yacooler/JavaEEeducation/raw/9de2a676792106d31b22aae7a99086cd6e763310/remote-client/pom.xml",
    "contents_url": "https://api.github.com/repos/yacooler/JavaEEeducation/contents/remote-client/pom.xml?ref=9de2a676792106d31b22aae7a99086cd6e763310",
    "patch": "@@ -11,25 +11,30 @@\n \n     <artifactId>remote-client</artifactId>\n \n-    <properties>\n-        <maven.compiler.source>14</maven.compiler.source>\n-        <maven.compiler.target>14</maven.compiler.target>\n-    </properties>\n-\n-\n     <dependencies>\n \n+        <dependency>\n+            <groupId>org.jboss.spec.javax.ejb</groupId>\n+            <artifactId>jboss-ejb-api_3.2_spec</artifactId>\n+            <version>2.0.0.Final</version>\n+            <scope>compile</scope>\n+        </dependency>\n+\n+        <!--Зависимость для подключения к ejb-->\n         <dependency>\n             <groupId>org.wildfly</groupId>\n             <artifactId>wildfly-ejb-client-bom</artifactId>\n-            <version>22.0.1.Final</version>\n+            <version>22.0.0.Final</version>\n             <type>pom</type>\n         </dependency>\n \n+\n+        <!--Зависимость для подключения к очереди сообщений-->\n         <dependency>\n-            <groupId>org.jboss.spec.javax.ejb</groupId>\n-            <artifactId>jboss-ejb-api_3.2_spec</artifactId>\n-            <version>2.0.0.Final</version>\n+            <groupId>org.wildfly</groupId>\n+            <artifactId>wildfly-jms-client-bom</artifactId>\n+            <version>18.0.1.Final</version>\n+            <type>pom</type>\n         </dependency>\n \n         <!--Общие файлы собственной разработки-->\n@@ -39,6 +44,15 @@\n             <version>1.0-SNAPSHOT</version>\n         </dependency>\n \n+        <dependency>\n+            <groupId>javax.jms</groupId>\n+            <artifactId>javax.jms-api</artifactId>\n+            <version>2.0.1</version>\n+            <scope>compile</scope>\n+        </dependency>\n+\n+\n+\n     </dependencies>\n \n "
  },
  {
    "sha": "969258cbc8dc1b7a415d887f62ffb4809c9b323a",
    "filename": "remote-client/src/main/java/EjbClient.java",
    "status": "renamed",
    "additions": 2,
    "deletions": 2,
    "changes": 4,
    "blob_url": "https://github.com/yacooler/JavaEEeducation/blob/9de2a676792106d31b22aae7a99086cd6e763310/remote-client/src/main/java/EjbClient.java",
    "raw_url": "https://github.com/yacooler/JavaEEeducation/raw/9de2a676792106d31b22aae7a99086cd6e763310/remote-client/src/main/java/EjbClient.java",
    "contents_url": "https://api.github.com/repos/yacooler/JavaEEeducation/contents/remote-client/src/main/java/EjbClient.java?ref=9de2a676792106d31b22aae7a99086cd6e763310",
    "patch": "@@ -6,7 +6,7 @@\n import java.io.IOException;\n import java.util.Properties;\n \n-public class MainApp {\n+public class EjbClient {\n \n \n     public static void main(String[] args) throws IOException, NamingException {\n@@ -21,7 +21,7 @@ public static void main(String[] args) throws IOException, NamingException {\n \n     public static Context createInitialContext() throws IOException, NamingException {\n         final Properties env = new Properties();\n-        env.load(MainApp.class.getClassLoader().getResourceAsStream(\"wildfly-jndi.properties\"));\n+        env.load(EjbClient.class.getClassLoader().getResourceAsStream(\"wildfly-jndi.properties\"));\n         return new InitialContext(env);\n     }\n }",
    "previous_filename": "remote-client/src/main/java/MainApp.java"
  },
  {
    "sha": "fb6bcfe5fd5f0341e66fe2096e112e6652f5bf6e",
    "filename": "remote-client/src/main/java/JmsClient.java",
    "status": "added",
    "additions": 51,
    "deletions": 0,
    "changes": 51,
    "blob_url": "https://github.com/yacooler/JavaEEeducation/blob/9de2a676792106d31b22aae7a99086cd6e763310/remote-client/src/main/java/JmsClient.java",
    "raw_url": "https://github.com/yacooler/JavaEEeducation/raw/9de2a676792106d31b22aae7a99086cd6e763310/remote-client/src/main/java/JmsClient.java",
    "contents_url": "https://api.github.com/repos/yacooler/JavaEEeducation/contents/remote-client/src/main/java/JmsClient.java?ref=9de2a676792106d31b22aae7a99086cd6e763310",
    "patch": "@@ -0,0 +1,51 @@\n+\n+import ru.vyazankin.common.dto.ProductDto;\n+\n+import javax.jms.*;\n+import javax.naming.Context;\n+import javax.naming.InitialContext;\n+import javax.naming.NamingException;\n+\n+import java.io.IOException;\n+import java.util.Properties;\n+\n+public class JmsClient {\n+\n+\n+    public static void main(String[] args) throws IOException, NamingException {\n+        Context context = createInitialContext();\n+\n+        ConnectionFactory connectionFactory = (ConnectionFactory) context.lookup(\"jms/RemoteConnectionFactory\");\n+        JMSContext jmsContext = connectionFactory.createContext(\"jms\", \"jmsjms_1\");\n+        //<secret value=\"am1zam1zXzE=\" />\n+        Destination destination = (Destination) context.lookup(\"jms/productQueue\");\n+\n+        JMSProducer producer = jmsContext.createProducer();\n+\n+//        private Long id;\n+//        private String name;\n+//        private String description;\n+//        private Long price;\n+//        private Long categoryId;\n+//        private String categoryName;\n+\n+        ObjectMessage om = jmsContext.createObjectMessage(\n+                new ProductDto(\n+                    null,\n+                    \"Колонки настольные\",\n+                    \"Колонки настольные компактные\",\n+                    1500L,\n+                    4L,\n+                    null)\n+            );\n+\n+        producer.send(destination, om);\n+    }\n+\n+    public static Context createInitialContext() throws IOException, NamingException {\n+        final Properties env = new Properties();\n+        env.load(JmsClient.class.getClassLoader().getResourceAsStream(\"wildfly-jndi.properties\"));\n+        return new InitialContext(env);\n+    }\n+}\n+"
  },
  {
    "sha": "28449edaf1d35c47bfd12c5d29ee7866aab40579",
    "filename": "remote-client/src/main/resources/wildfly-jndi.properties",
    "status": "modified",
    "additions": 1,
    "deletions": 1,
    "changes": 2,
    "blob_url": "https://github.com/yacooler/JavaEEeducation/blob/9de2a676792106d31b22aae7a99086cd6e763310/remote-client/src/main/resources/wildfly-jndi.properties",
    "raw_url": "https://github.com/yacooler/JavaEEeducation/raw/9de2a676792106d31b22aae7a99086cd6e763310/remote-client/src/main/resources/wildfly-jndi.properties",
    "contents_url": "https://api.github.com/repos/yacooler/JavaEEeducation/contents/remote-client/src/main/resources/wildfly-jndi.properties?ref=9de2a676792106d31b22aae7a99086cd6e763310",
    "patch": "@@ -1,4 +1,4 @@\n java.naming.factory.initial=org.wildfly.naming.client.WildFlyInitialContextFactory\n java.naming.provider.url=http-remoting://127.0.0.1:8080\n jboss.naming.client.ejb.context=true\n-java.naming.factory.url.pkgs=org.jboss.ejb.client.naming\n\\ No newline at end of file\n+java.naming.factory.url.pkgs=org.jboss.ejb.client.naming"
  }
]
