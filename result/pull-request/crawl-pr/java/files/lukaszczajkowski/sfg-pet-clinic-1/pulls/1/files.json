[
  {
    "sha": "96370e4c9b27bb6cf9c42c025d3afbfec4e82702",
    "filename": "pet-clinic-data/pom.xml",
    "status": "added",
    "additions": 100,
    "deletions": 0,
    "changes": 100,
    "blob_url": "https://github.com/lukaszczajkowski/sfg-pet-clinic-1/blob/fdf0e1a83f8f3db2d50870f05e58d1b264497445/pet-clinic-data/pom.xml",
    "raw_url": "https://github.com/lukaszczajkowski/sfg-pet-clinic-1/raw/fdf0e1a83f8f3db2d50870f05e58d1b264497445/pet-clinic-data/pom.xml",
    "contents_url": "https://api.github.com/repos/lukaszczajkowski/sfg-pet-clinic-1/contents/pet-clinic-data/pom.xml?ref=fdf0e1a83f8f3db2d50870f05e58d1b264497445",
    "patch": "@@ -0,0 +1,100 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n+    <parent>\n+        <artifactId>sfg-pet-clinic</artifactId>\n+        <groupId>guru.springframework</groupId>\n+        <version>0.0.2</version>\n+    </parent>\n+    <modelVersion>4.0.0</modelVersion>\n+\n+    <artifactId>pet-clinic-data</artifactId>\n+\n+    <properties>\n+        <maven.compiler.source>13</maven.compiler.source>\n+        <maven.compiler.target>13</maven.compiler.target>\n+        <spring-boot.repackage.skip>true</spring-boot.repackage.skip>\n+    </properties>\n+\n+    <dependencies>\n+        <dependency>\n+            <groupId>org.springframework.boot</groupId>\n+            <artifactId>spring-boot-starter-data-jpa</artifactId>\n+        </dependency>\n+        <dependency>\n+            <groupId>com.h2database</groupId>\n+            <artifactId>h2</artifactId>\n+            <scope>runtime</scope>\n+        </dependency>\n+        <dependency>\n+            <groupId>mysql</groupId>\n+            <artifactId>mysql-connector-java</artifactId>\n+            <scope>runtime</scope>\n+        </dependency>\n+        <dependency>\n+            <groupId>org.projectlombok</groupId>\n+            <artifactId>lombok</artifactId>\n+            <optional>true</optional>\n+        </dependency>\n+        <dependency>\n+            <groupId>org.springframework.boot</groupId>\n+            <artifactId>spring-boot-starter-test</artifactId>\n+            <scope>test</scope>\n+            <exclusions>\n+                <exclusion>\n+                    <groupId>org.junit.vintage</groupId>\n+                    <artifactId>junit-vintage-engine</artifactId>\n+                </exclusion>\n+            </exclusions>\n+        </dependency>\n+        <dependency>\n+            <groupId>org.javassist</groupId>\n+            <artifactId>javassist</artifactId>\n+            <version>3.25.0-GA</version>\n+        </dependency>\n+        <dependency>\n+            <groupId>javax.xml.bind</groupId>\n+            <artifactId>jaxb-api</artifactId>\n+            <version>2.3.1</version>\n+        </dependency>\n+        <dependency>\n+            <groupId>org.springframework.boot</groupId>\n+            <artifactId>spring-boot-starter-validation</artifactId>\n+            <version>2.4.1</version>\n+        </dependency>\n+        <dependency>\n+            <groupId>org.hibernate.validator</groupId>\n+            <artifactId>hibernate-validator</artifactId>\n+            <version>7.0.0.CR1</version>\n+        </dependency>\n+        <dependency>\n+            <groupId>org.junit.jupiter</groupId>\n+            <artifactId>junit-jupiter-api</artifactId>\n+            <scope>test</scope>\n+        </dependency>\n+        <dependency>\n+            <groupId>org.junit.jupiter</groupId>\n+            <artifactId>junit-jupiter-engine</artifactId>\n+            <scope>test</scope>\n+        </dependency>\n+        <dependency>\n+            <groupId>org.junit.vintage</groupId>\n+            <artifactId>junit-vintage-engine</artifactId>\n+            <version>5.7.0</version>\n+        </dependency>\n+    </dependencies>\n+\n+    <build>\n+        <plugins>\n+            <plugin>\n+                <groupId>org.springframework.boot</groupId>\n+                <artifactId>spring-boot-maven-plugin</artifactId>\n+            </plugin>\n+            <plugin>\n+                <groupId>org.apache.maven.plugins</groupId>\n+                <artifactId>maven-surefire-plugin</artifactId>\n+                <version>3.0.0-M5</version>\n+            </plugin>\n+        </plugins>\n+    </build>\n+\n+</project>\n\\ No newline at end of file"
  },
  {
    "sha": "2f28fa3b7ab6f82b3b4ccfe56646fbb8d2c12087",
    "filename": "pet-clinic-data/pom.xml.releaseBackup",
    "status": "added",
    "additions": 54,
    "deletions": 0,
    "changes": 54,
    "blob_url": "https://github.com/lukaszczajkowski/sfg-pet-clinic-1/blob/fdf0e1a83f8f3db2d50870f05e58d1b264497445/pet-clinic-data/pom.xml.releaseBackup",
    "raw_url": "https://github.com/lukaszczajkowski/sfg-pet-clinic-1/raw/fdf0e1a83f8f3db2d50870f05e58d1b264497445/pet-clinic-data/pom.xml.releaseBackup",
    "contents_url": "https://api.github.com/repos/lukaszczajkowski/sfg-pet-clinic-1/contents/pet-clinic-data/pom.xml.releaseBackup?ref=fdf0e1a83f8f3db2d50870f05e58d1b264497445",
    "patch": "@@ -0,0 +1,54 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n+    <parent>\n+        <artifactId>sfg-pet-clinic</artifactId>\n+        <groupId>guru.springframework</groupId>\n+        <version>0.0.2-SNAPSHOT</version>\n+    </parent>\n+    <modelVersion>4.0.0</modelVersion>\n+\n+    <artifactId>pet-clinic-data</artifactId>\n+\n+    <properties>\n+        <maven.compiler.source>13</maven.compiler.source>\n+        <maven.compiler.target>13</maven.compiler.target>\n+        <spring-boot.repackage.skip>true</spring-boot.repackage.skip>\n+    </properties>\n+\n+    <dependencies>\n+        <dependency>\n+            <groupId>org.springframework.boot</groupId>\n+            <artifactId>spring-boot-starter-data-jpa</artifactId>\n+        </dependency>\n+        <dependency>\n+            <groupId>com.h2database</groupId>\n+            <artifactId>h2</artifactId>\n+            <scope>runtime</scope>\n+        </dependency>\n+        <dependency>\n+            <groupId>mysql</groupId>\n+            <artifactId>mysql-connector-java</artifactId>\n+            <scope>runtime</scope>\n+        </dependency>\n+        <dependency>\n+            <groupId>org.projectlombok</groupId>\n+            <artifactId>lombok</artifactId>\n+            <optional>true</optional>\n+        </dependency>\n+        <dependency>\n+            <groupId>org.springframework.boot</groupId>\n+            <artifactId>spring-boot-starter-test</artifactId>\n+            <scope>test</scope>\n+        </dependency>\n+    </dependencies>\n+\n+    <build>\n+        <plugins>\n+            <plugin>\n+                <groupId>org.springframework.boot</groupId>\n+                <artifactId>spring-boot-maven-plugin</artifactId>\n+            </plugin>\n+        </plugins>\n+    </build>\n+\n+</project>\n\\ No newline at end of file"
  },
  {
    "sha": "863b4faa9ff5c368efa14a8361b757f9ececd65b",
    "filename": "pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/model/BaseEntity.java",
    "status": "added",
    "additions": 30,
    "deletions": 0,
    "changes": 30,
    "blob_url": "https://github.com/lukaszczajkowski/sfg-pet-clinic-1/blob/fdf0e1a83f8f3db2d50870f05e58d1b264497445/pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/model/BaseEntity.java",
    "raw_url": "https://github.com/lukaszczajkowski/sfg-pet-clinic-1/raw/fdf0e1a83f8f3db2d50870f05e58d1b264497445/pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/model/BaseEntity.java",
    "contents_url": "https://api.github.com/repos/lukaszczajkowski/sfg-pet-clinic-1/contents/pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/model/BaseEntity.java?ref=fdf0e1a83f8f3db2d50870f05e58d1b264497445",
    "patch": "@@ -0,0 +1,30 @@\n+package guru.springframework.sfgpetclinic.model;\n+\n+import lombok.Getter;\n+import lombok.NoArgsConstructor;\n+import lombok.Setter;\n+\n+import javax.persistence.GeneratedValue;\n+import javax.persistence.GenerationType;\n+import javax.persistence.Id;\n+import javax.persistence.MappedSuperclass;\n+import java.io.Serializable;\n+\n+@Getter\n+@Setter\n+@NoArgsConstructor\n+@MappedSuperclass\n+public class BaseEntity implements Serializable {\n+\n+    public BaseEntity(Long id) {\n+        this.id = id;\n+    }\n+\n+    @Id\n+    @GeneratedValue(strategy = GenerationType.IDENTITY)\n+    private Long id;\n+\n+    public boolean isNew() {\n+        return id == null;\n+    }\n+}"
  },
  {
    "sha": "63b4f61284f35263a0d9b132c1dd9b163f138cd9",
    "filename": "pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/model/Owner.java",
    "status": "added",
    "additions": 75,
    "deletions": 0,
    "changes": 75,
    "blob_url": "https://github.com/lukaszczajkowski/sfg-pet-clinic-1/blob/fdf0e1a83f8f3db2d50870f05e58d1b264497445/pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/model/Owner.java",
    "raw_url": "https://github.com/lukaszczajkowski/sfg-pet-clinic-1/raw/fdf0e1a83f8f3db2d50870f05e58d1b264497445/pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/model/Owner.java",
    "contents_url": "https://api.github.com/repos/lukaszczajkowski/sfg-pet-clinic-1/contents/pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/model/Owner.java?ref=fdf0e1a83f8f3db2d50870f05e58d1b264497445",
    "patch": "@@ -0,0 +1,75 @@\n+package guru.springframework.sfgpetclinic.model;\n+\n+import lombok.Builder;\n+import lombok.Getter;\n+import lombok.NoArgsConstructor;\n+import lombok.Setter;\n+\n+import javax.persistence.*;\n+import java.util.HashSet;\n+import java.util.Set;\n+\n+@Setter\n+@Getter\n+@NoArgsConstructor\n+@Entity\n+@Table(name = \"owners\")\n+public class Owner extends Person {\n+\n+    @Builder\n+    public Owner(Long id, String firstName, String lastName, String address, String city,\n+                 String telephone, Set<Pet> pets) {\n+        super(id, firstName, lastName);\n+        this.address = address;\n+        this.city = city;\n+        this.telephone = telephone;\n+\n+        if(pets != null) {\n+            this.pets = pets;\n+        }\n+    }\n+\n+    @Column(name = \"address\")\n+    private String address;\n+\n+    @Column(name = \"city\")\n+    private String city;\n+\n+    @Column(name = \"telephone\")\n+    private String telephone;\n+\n+    @OneToMany(cascade = CascadeType.ALL, mappedBy = \"owner\")\n+    private Set<Pet> pets = new HashSet<>();\n+\n+\n+    /**\n+     * Return the Pet with the given name, or null if none found for this Owner.\n+     *\n+     * @param name to test\n+     * @return true if pet name is already in use\n+     */\n+    public Pet getPet(String name) {\n+        return getPet(name, false);\n+    }\n+\n+    /**\n+     * Return the Pet with the given name, or null if none found for this Owner.\n+     *\n+     * @param name to test\n+     * @return true if pet name is already in use\n+     */\n+    public Pet getPet(String name, boolean ignoreNew) {\n+        name = name.toLowerCase();\n+        for (Pet pet : pets) {\n+            if (!ignoreNew || !pet.isNew()) {\n+                String compName = pet.getName();\n+                compName = compName.toLowerCase();\n+                if (compName.equals(name)) {\n+                    return pet;\n+                }\n+            }\n+        }\n+        return null;\n+    }\n+\n+}"
  },
  {
    "sha": "7380b473b1cddb5056617f104d492163634e5ad1",
    "filename": "pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/model/Person.java",
    "status": "added",
    "additions": 45,
    "deletions": 0,
    "changes": 45,
    "blob_url": "https://github.com/lukaszczajkowski/sfg-pet-clinic-1/blob/fdf0e1a83f8f3db2d50870f05e58d1b264497445/pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/model/Person.java",
    "raw_url": "https://github.com/lukaszczajkowski/sfg-pet-clinic-1/raw/fdf0e1a83f8f3db2d50870f05e58d1b264497445/pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/model/Person.java",
    "contents_url": "https://api.github.com/repos/lukaszczajkowski/sfg-pet-clinic-1/contents/pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/model/Person.java?ref=fdf0e1a83f8f3db2d50870f05e58d1b264497445",
    "patch": "@@ -0,0 +1,45 @@\n+package guru.springframework.sfgpetclinic.model;\n+\n+import lombok.AllArgsConstructor;\n+import lombok.Getter;\n+import lombok.NoArgsConstructor;\n+import lombok.Setter;\n+\n+import javax.persistence.Column;\n+import javax.persistence.MappedSuperclass;\n+\n+@Getter\n+@Setter\n+@NoArgsConstructor\n+@AllArgsConstructor\n+@MappedSuperclass\n+public class Person extends BaseEntity {\n+\n+    public Person(Long id, String firstName, String lastName) {\n+        super(id);\n+        this.firstName = firstName;\n+        this.lastName = lastName;\n+    }\n+\n+    @Column(name = \"first_name\")\n+    private String firstName;\n+\n+    @Column(name = \"last_name\")\n+    private String lastName;\n+\n+    public String getFirstName() {\n+        return firstName;\n+    }\n+\n+    public void setFirstName(String firstName) {\n+        this.firstName = firstName;\n+    }\n+\n+    public String getLastName() {\n+        return lastName;\n+    }\n+\n+    public void setLastName(String lastName) {\n+        this.lastName = lastName;\n+    }\n+}"
  },
  {
    "sha": "f96cd0387e0ef1bdcaf0276b7088b899c6a2d9dc",
    "filename": "pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/model/Pet.java",
    "status": "added",
    "additions": 50,
    "deletions": 0,
    "changes": 50,
    "blob_url": "https://github.com/lukaszczajkowski/sfg-pet-clinic-1/blob/fdf0e1a83f8f3db2d50870f05e58d1b264497445/pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/model/Pet.java",
    "raw_url": "https://github.com/lukaszczajkowski/sfg-pet-clinic-1/raw/fdf0e1a83f8f3db2d50870f05e58d1b264497445/pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/model/Pet.java",
    "contents_url": "https://api.github.com/repos/lukaszczajkowski/sfg-pet-clinic-1/contents/pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/model/Pet.java?ref=fdf0e1a83f8f3db2d50870f05e58d1b264497445",
    "patch": "@@ -0,0 +1,50 @@\n+package guru.springframework.sfgpetclinic.model;\n+\n+import lombok.*;\n+import org.springframework.format.annotation.DateTimeFormat;\n+\n+import javax.persistence.*;\n+import java.time.LocalDate;\n+import java.util.HashSet;\n+import java.util.Set;\n+\n+@Setter\n+@Getter\n+@NoArgsConstructor\n+@AllArgsConstructor\n+@Entity\n+@Table(name = \"pets\")\n+public class Pet extends BaseEntity{\n+\n+    @Builder\n+    public Pet(Long id, String name, PetType petType, Owner owner, LocalDate birthDate, Set<Visit> visits) {\n+        super(id);\n+        this.name = name;\n+        this.petType = petType;\n+        this.owner = owner;\n+        this.birthDate = birthDate;\n+\n+        if (visits == null || visits.size() > 0 ) {\n+            this.visits = visits;\n+        }\n+    }\n+\n+    @Column(name = \"name\")\n+    private String name;\n+\n+    @ManyToOne\n+    @JoinColumn(name = \"type_id\")\n+    private PetType petType;\n+\n+    @ManyToOne\n+    @JoinColumn(name = \"owner_id\")\n+    private Owner owner;\n+\n+    @Column(name = \"birth_date\")\n+    @DateTimeFormat(pattern = \"yyyy-MM-dd\")\n+    private LocalDate birthDate;\n+\n+    @OneToMany(cascade = CascadeType.ALL, mappedBy = \"pet\")\n+    private Set<Visit> visits = new HashSet<>();\n+\n+}"
  },
  {
    "sha": "f4372512cc8d9bbabe139f39b1546997a984ba88",
    "filename": "pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/model/PetType.java",
    "status": "added",
    "additions": 30,
    "deletions": 0,
    "changes": 30,
    "blob_url": "https://github.com/lukaszczajkowski/sfg-pet-clinic-1/blob/fdf0e1a83f8f3db2d50870f05e58d1b264497445/pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/model/PetType.java",
    "raw_url": "https://github.com/lukaszczajkowski/sfg-pet-clinic-1/raw/fdf0e1a83f8f3db2d50870f05e58d1b264497445/pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/model/PetType.java",
    "contents_url": "https://api.github.com/repos/lukaszczajkowski/sfg-pet-clinic-1/contents/pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/model/PetType.java?ref=fdf0e1a83f8f3db2d50870f05e58d1b264497445",
    "patch": "@@ -0,0 +1,30 @@\n+package guru.springframework.sfgpetclinic.model;\n+\n+import lombok.*;\n+\n+import javax.persistence.Column;\n+import javax.persistence.Entity;\n+import javax.persistence.Table;\n+\n+@Setter\n+@Getter\n+@NoArgsConstructor\n+@AllArgsConstructor\n+@Entity\n+@Table(name = \"types\")\n+public class PetType extends BaseEntity{\n+\n+    @Builder\n+    public PetType(Long id, String name) {\n+        super(id);\n+        this.name = name;\n+    }\n+\n+    @Column(name = \"name\")\n+    private String name;\n+\n+    @Override\n+    public String toString() {\n+        return this.getName();\n+    }\n+}"
  },
  {
    "sha": "d85c52fdfd896584dec2581be79c214b29112b14",
    "filename": "pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/model/Speciality.java",
    "status": "added",
    "additions": 21,
    "deletions": 0,
    "changes": 21,
    "blob_url": "https://github.com/lukaszczajkowski/sfg-pet-clinic-1/blob/fdf0e1a83f8f3db2d50870f05e58d1b264497445/pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/model/Speciality.java",
    "raw_url": "https://github.com/lukaszczajkowski/sfg-pet-clinic-1/raw/fdf0e1a83f8f3db2d50870f05e58d1b264497445/pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/model/Speciality.java",
    "contents_url": "https://api.github.com/repos/lukaszczajkowski/sfg-pet-clinic-1/contents/pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/model/Speciality.java?ref=fdf0e1a83f8f3db2d50870f05e58d1b264497445",
    "patch": "@@ -0,0 +1,21 @@\n+package guru.springframework.sfgpetclinic.model;\n+\n+import lombok.*;\n+\n+import javax.persistence.Column;\n+import javax.persistence.Entity;\n+import javax.persistence.Table;\n+\n+@Setter\n+@Getter\n+@NoArgsConstructor\n+@AllArgsConstructor\n+@Builder\n+@Entity\n+@Table(name = \"specialties\")\n+public class Speciality extends BaseEntity {\n+\n+    @Column(name = \"description\")\n+    private String description;\n+\n+}"
  },
  {
    "sha": "79d5984255ca936b5da3fda67fc3d4ed08dc0491",
    "filename": "pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/model/Vet.java",
    "status": "added",
    "additions": 24,
    "deletions": 0,
    "changes": 24,
    "blob_url": "https://github.com/lukaszczajkowski/sfg-pet-clinic-1/blob/fdf0e1a83f8f3db2d50870f05e58d1b264497445/pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/model/Vet.java",
    "raw_url": "https://github.com/lukaszczajkowski/sfg-pet-clinic-1/raw/fdf0e1a83f8f3db2d50870f05e58d1b264497445/pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/model/Vet.java",
    "contents_url": "https://api.github.com/repos/lukaszczajkowski/sfg-pet-clinic-1/contents/pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/model/Vet.java?ref=fdf0e1a83f8f3db2d50870f05e58d1b264497445",
    "patch": "@@ -0,0 +1,24 @@\n+package guru.springframework.sfgpetclinic.model;\n+\n+import lombok.*;\n+\n+import javax.persistence.*;\n+import java.util.HashSet;\n+import java.util.Set;\n+\n+@Setter\n+@Getter\n+@NoArgsConstructor\n+@AllArgsConstructor\n+@Builder\n+@Entity\n+@Table(name = \"vets\")\n+public class Vet extends Person{\n+\n+    @ManyToMany(fetch = FetchType.EAGER)\n+    @JoinTable(name = \"vet_specialties\",\n+    joinColumns = @JoinColumn(name = \"vet_id\"),\n+    inverseJoinColumns = @JoinColumn(name = \"speciality_id\"))\n+    private Set<Speciality> specialities = new HashSet<>();\n+\n+}"
  },
  {
    "sha": "3544da65d6e112f76e877d1c1cbe0d7a5a0cf97f",
    "filename": "pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/model/Visit.java",
    "status": "added",
    "additions": 27,
    "deletions": 0,
    "changes": 27,
    "blob_url": "https://github.com/lukaszczajkowski/sfg-pet-clinic-1/blob/fdf0e1a83f8f3db2d50870f05e58d1b264497445/pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/model/Visit.java",
    "raw_url": "https://github.com/lukaszczajkowski/sfg-pet-clinic-1/raw/fdf0e1a83f8f3db2d50870f05e58d1b264497445/pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/model/Visit.java",
    "contents_url": "https://api.github.com/repos/lukaszczajkowski/sfg-pet-clinic-1/contents/pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/model/Visit.java?ref=fdf0e1a83f8f3db2d50870f05e58d1b264497445",
    "patch": "@@ -0,0 +1,27 @@\n+package guru.springframework.sfgpetclinic.model;\n+\n+import lombok.*;\n+\n+import javax.persistence.*;\n+import java.time.LocalDate;\n+\n+@Setter\n+@Getter\n+@NoArgsConstructor\n+@AllArgsConstructor\n+@Builder\n+@Entity\n+@Table(name = \"visits\")\n+public class Visit extends BaseEntity {\n+\n+    @Column(name = \"date\")\n+    private LocalDate date;\n+\n+    @Column(name = \"description\")\n+    private String description;\n+\n+    @ManyToOne\n+    @JoinColumn(name = \"pet_id\")\n+    private Pet pet;\n+\n+}"
  },
  {
    "sha": "79c08c5e632aa0732fc3e061a14e5c0b8122f81a",
    "filename": "pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/repositories/OwnerRepository.java",
    "status": "added",
    "additions": 12,
    "deletions": 0,
    "changes": 12,
    "blob_url": "https://github.com/lukaszczajkowski/sfg-pet-clinic-1/blob/fdf0e1a83f8f3db2d50870f05e58d1b264497445/pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/repositories/OwnerRepository.java",
    "raw_url": "https://github.com/lukaszczajkowski/sfg-pet-clinic-1/raw/fdf0e1a83f8f3db2d50870f05e58d1b264497445/pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/repositories/OwnerRepository.java",
    "contents_url": "https://api.github.com/repos/lukaszczajkowski/sfg-pet-clinic-1/contents/pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/repositories/OwnerRepository.java?ref=fdf0e1a83f8f3db2d50870f05e58d1b264497445",
    "patch": "@@ -0,0 +1,12 @@\n+package guru.springframework.sfgpetclinic.repositories;\n+\n+import guru.springframework.sfgpetclinic.model.Owner;\n+import org.springframework.data.repository.CrudRepository;\n+\n+import java.util.List;\n+\n+public interface OwnerRepository extends CrudRepository<Owner, Long> {\n+    Owner findByLastName(String lastName);\n+\n+    List<Owner> findAllByLastNameLike(String anyString);\n+}"
  },
  {
    "sha": "0f412e9cac185c248096aa6904782488f610f6da",
    "filename": "pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/repositories/PetRepository.java",
    "status": "added",
    "additions": 7,
    "deletions": 0,
    "changes": 7,
    "blob_url": "https://github.com/lukaszczajkowski/sfg-pet-clinic-1/blob/fdf0e1a83f8f3db2d50870f05e58d1b264497445/pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/repositories/PetRepository.java",
    "raw_url": "https://github.com/lukaszczajkowski/sfg-pet-clinic-1/raw/fdf0e1a83f8f3db2d50870f05e58d1b264497445/pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/repositories/PetRepository.java",
    "contents_url": "https://api.github.com/repos/lukaszczajkowski/sfg-pet-clinic-1/contents/pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/repositories/PetRepository.java?ref=fdf0e1a83f8f3db2d50870f05e58d1b264497445",
    "patch": "@@ -0,0 +1,7 @@\n+package guru.springframework.sfgpetclinic.repositories;\n+\n+import guru.springframework.sfgpetclinic.model.Pet;\n+import org.springframework.data.repository.CrudRepository;\n+\n+public interface PetRepository extends CrudRepository<Pet, Long> {\n+}"
  },
  {
    "sha": "c00c498c8470ac67cd484a4b61aafb00ce756ae4",
    "filename": "pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/repositories/PetTypeRepository.java",
    "status": "added",
    "additions": 7,
    "deletions": 0,
    "changes": 7,
    "blob_url": "https://github.com/lukaszczajkowski/sfg-pet-clinic-1/blob/fdf0e1a83f8f3db2d50870f05e58d1b264497445/pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/repositories/PetTypeRepository.java",
    "raw_url": "https://github.com/lukaszczajkowski/sfg-pet-clinic-1/raw/fdf0e1a83f8f3db2d50870f05e58d1b264497445/pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/repositories/PetTypeRepository.java",
    "contents_url": "https://api.github.com/repos/lukaszczajkowski/sfg-pet-clinic-1/contents/pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/repositories/PetTypeRepository.java?ref=fdf0e1a83f8f3db2d50870f05e58d1b264497445",
    "patch": "@@ -0,0 +1,7 @@\n+package guru.springframework.sfgpetclinic.repositories;\n+\n+import guru.springframework.sfgpetclinic.model.PetType;\n+import org.springframework.data.repository.CrudRepository;\n+\n+public interface PetTypeRepository extends CrudRepository<PetType, Long> {\n+}"
  },
  {
    "sha": "aee593a3273b06bbcfa3ad3a48f869962308bcf3",
    "filename": "pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/repositories/SpecialityRepository.java",
    "status": "added",
    "additions": 7,
    "deletions": 0,
    "changes": 7,
    "blob_url": "https://github.com/lukaszczajkowski/sfg-pet-clinic-1/blob/fdf0e1a83f8f3db2d50870f05e58d1b264497445/pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/repositories/SpecialityRepository.java",
    "raw_url": "https://github.com/lukaszczajkowski/sfg-pet-clinic-1/raw/fdf0e1a83f8f3db2d50870f05e58d1b264497445/pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/repositories/SpecialityRepository.java",
    "contents_url": "https://api.github.com/repos/lukaszczajkowski/sfg-pet-clinic-1/contents/pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/repositories/SpecialityRepository.java?ref=fdf0e1a83f8f3db2d50870f05e58d1b264497445",
    "patch": "@@ -0,0 +1,7 @@\n+package guru.springframework.sfgpetclinic.repositories;\n+\n+import guru.springframework.sfgpetclinic.model.Speciality;\n+import org.springframework.data.repository.CrudRepository;\n+\n+public interface SpecialityRepository extends CrudRepository<Speciality, Long> {\n+}"
  },
  {
    "sha": "8d09224fdfde83684485bc705e57606d84672fa3",
    "filename": "pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/repositories/VetRepository.java",
    "status": "added",
    "additions": 7,
    "deletions": 0,
    "changes": 7,
    "blob_url": "https://github.com/lukaszczajkowski/sfg-pet-clinic-1/blob/fdf0e1a83f8f3db2d50870f05e58d1b264497445/pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/repositories/VetRepository.java",
    "raw_url": "https://github.com/lukaszczajkowski/sfg-pet-clinic-1/raw/fdf0e1a83f8f3db2d50870f05e58d1b264497445/pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/repositories/VetRepository.java",
    "contents_url": "https://api.github.com/repos/lukaszczajkowski/sfg-pet-clinic-1/contents/pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/repositories/VetRepository.java?ref=fdf0e1a83f8f3db2d50870f05e58d1b264497445",
    "patch": "@@ -0,0 +1,7 @@\n+package guru.springframework.sfgpetclinic.repositories;\n+\n+import guru.springframework.sfgpetclinic.model.Vet;\n+import org.springframework.data.repository.CrudRepository;\n+\n+public interface VetRepository extends CrudRepository<Vet, Long> {\n+}"
  },
  {
    "sha": "1c72b49a3090ed3f43f7cacacdb1374c0832f04d",
    "filename": "pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/repositories/VisitRepository.java",
    "status": "added",
    "additions": 7,
    "deletions": 0,
    "changes": 7,
    "blob_url": "https://github.com/lukaszczajkowski/sfg-pet-clinic-1/blob/fdf0e1a83f8f3db2d50870f05e58d1b264497445/pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/repositories/VisitRepository.java",
    "raw_url": "https://github.com/lukaszczajkowski/sfg-pet-clinic-1/raw/fdf0e1a83f8f3db2d50870f05e58d1b264497445/pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/repositories/VisitRepository.java",
    "contents_url": "https://api.github.com/repos/lukaszczajkowski/sfg-pet-clinic-1/contents/pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/repositories/VisitRepository.java?ref=fdf0e1a83f8f3db2d50870f05e58d1b264497445",
    "patch": "@@ -0,0 +1,7 @@\n+package guru.springframework.sfgpetclinic.repositories;\n+\n+import guru.springframework.sfgpetclinic.model.Visit;\n+import org.springframework.data.repository.CrudRepository;\n+\n+public interface VisitRepository extends CrudRepository<Visit, Long> {\n+}"
  },
  {
    "sha": "6ceffe1f1f0e52376b603166ca748ccbe79164e2",
    "filename": "pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/services/CrudService.java",
    "status": "added",
    "additions": 17,
    "deletions": 0,
    "changes": 17,
    "blob_url": "https://github.com/lukaszczajkowski/sfg-pet-clinic-1/blob/fdf0e1a83f8f3db2d50870f05e58d1b264497445/pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/services/CrudService.java",
    "raw_url": "https://github.com/lukaszczajkowski/sfg-pet-clinic-1/raw/fdf0e1a83f8f3db2d50870f05e58d1b264497445/pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/services/CrudService.java",
    "contents_url": "https://api.github.com/repos/lukaszczajkowski/sfg-pet-clinic-1/contents/pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/services/CrudService.java?ref=fdf0e1a83f8f3db2d50870f05e58d1b264497445",
    "patch": "@@ -0,0 +1,17 @@\n+package guru.springframework.sfgpetclinic.services;\n+\n+import java.util.Set;\n+\n+public interface CrudService <T, ID> {\n+\n+    Set<T> findAll();\n+\n+    T findById(ID id);\n+\n+    T save(T object);\n+\n+    void delete(T object);\n+\n+    void deleteById(ID id);\n+\n+}"
  },
  {
    "sha": "0e39470a4cf81b82186ce66fb1f7b2b28cf721c8",
    "filename": "pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/services/OwnerService.java",
    "status": "added",
    "additions": 12,
    "deletions": 0,
    "changes": 12,
    "blob_url": "https://github.com/lukaszczajkowski/sfg-pet-clinic-1/blob/fdf0e1a83f8f3db2d50870f05e58d1b264497445/pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/services/OwnerService.java",
    "raw_url": "https://github.com/lukaszczajkowski/sfg-pet-clinic-1/raw/fdf0e1a83f8f3db2d50870f05e58d1b264497445/pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/services/OwnerService.java",
    "contents_url": "https://api.github.com/repos/lukaszczajkowski/sfg-pet-clinic-1/contents/pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/services/OwnerService.java?ref=fdf0e1a83f8f3db2d50870f05e58d1b264497445",
    "patch": "@@ -0,0 +1,12 @@\n+package guru.springframework.sfgpetclinic.services;\n+\n+import guru.springframework.sfgpetclinic.model.Owner;\n+\n+import java.util.List;\n+\n+public interface OwnerService extends CrudService<Owner, Long>{\n+\n+    Owner findByLastName(String lastName);\n+\n+    List<Owner> findAllByLastNameLike(String anyString);\n+}"
  },
  {
    "sha": "abb3e94617ea47ecac5091a338f9cad92d4348aa",
    "filename": "pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/services/PetService.java",
    "status": "added",
    "additions": 6,
    "deletions": 0,
    "changes": 6,
    "blob_url": "https://github.com/lukaszczajkowski/sfg-pet-clinic-1/blob/fdf0e1a83f8f3db2d50870f05e58d1b264497445/pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/services/PetService.java",
    "raw_url": "https://github.com/lukaszczajkowski/sfg-pet-clinic-1/raw/fdf0e1a83f8f3db2d50870f05e58d1b264497445/pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/services/PetService.java",
    "contents_url": "https://api.github.com/repos/lukaszczajkowski/sfg-pet-clinic-1/contents/pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/services/PetService.java?ref=fdf0e1a83f8f3db2d50870f05e58d1b264497445",
    "patch": "@@ -0,0 +1,6 @@\n+package guru.springframework.sfgpetclinic.services;\n+\n+import guru.springframework.sfgpetclinic.model.Pet;\n+\n+public interface PetService extends CrudService<Pet, Long> {\n+}"
  },
  {
    "sha": "045b322c0e87e3fe5e4e3d491d4f10639961f9c0",
    "filename": "pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/services/PetTypeService.java",
    "status": "added",
    "additions": 6,
    "deletions": 0,
    "changes": 6,
    "blob_url": "https://github.com/lukaszczajkowski/sfg-pet-clinic-1/blob/fdf0e1a83f8f3db2d50870f05e58d1b264497445/pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/services/PetTypeService.java",
    "raw_url": "https://github.com/lukaszczajkowski/sfg-pet-clinic-1/raw/fdf0e1a83f8f3db2d50870f05e58d1b264497445/pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/services/PetTypeService.java",
    "contents_url": "https://api.github.com/repos/lukaszczajkowski/sfg-pet-clinic-1/contents/pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/services/PetTypeService.java?ref=fdf0e1a83f8f3db2d50870f05e58d1b264497445",
    "patch": "@@ -0,0 +1,6 @@\n+package guru.springframework.sfgpetclinic.services;\n+\n+import guru.springframework.sfgpetclinic.model.PetType;\n+\n+public interface PetTypeService extends CrudService<PetType, Long> {\n+}"
  },
  {
    "sha": "4f88a2b08641a2129d8cc5c7693ca4bdfdb3dd23",
    "filename": "pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/services/SpecialityService.java",
    "status": "added",
    "additions": 6,
    "deletions": 0,
    "changes": 6,
    "blob_url": "https://github.com/lukaszczajkowski/sfg-pet-clinic-1/blob/fdf0e1a83f8f3db2d50870f05e58d1b264497445/pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/services/SpecialityService.java",
    "raw_url": "https://github.com/lukaszczajkowski/sfg-pet-clinic-1/raw/fdf0e1a83f8f3db2d50870f05e58d1b264497445/pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/services/SpecialityService.java",
    "contents_url": "https://api.github.com/repos/lukaszczajkowski/sfg-pet-clinic-1/contents/pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/services/SpecialityService.java?ref=fdf0e1a83f8f3db2d50870f05e58d1b264497445",
    "patch": "@@ -0,0 +1,6 @@\n+package guru.springframework.sfgpetclinic.services;\n+\n+import guru.springframework.sfgpetclinic.model.Speciality;\n+\n+public interface SpecialityService extends CrudService<Speciality, Long> {\n+}"
  },
  {
    "sha": "97d56c8bd4ef79356ec968233f0a280bdb3939f7",
    "filename": "pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/services/VetService.java",
    "status": "added",
    "additions": 6,
    "deletions": 0,
    "changes": 6,
    "blob_url": "https://github.com/lukaszczajkowski/sfg-pet-clinic-1/blob/fdf0e1a83f8f3db2d50870f05e58d1b264497445/pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/services/VetService.java",
    "raw_url": "https://github.com/lukaszczajkowski/sfg-pet-clinic-1/raw/fdf0e1a83f8f3db2d50870f05e58d1b264497445/pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/services/VetService.java",
    "contents_url": "https://api.github.com/repos/lukaszczajkowski/sfg-pet-clinic-1/contents/pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/services/VetService.java?ref=fdf0e1a83f8f3db2d50870f05e58d1b264497445",
    "patch": "@@ -0,0 +1,6 @@\n+package guru.springframework.sfgpetclinic.services;\n+\n+import guru.springframework.sfgpetclinic.model.Vet;\n+\n+public interface VetService extends CrudService<Vet, Long> {\n+}"
  },
  {
    "sha": "97534468e14fbc89b1ba0e620c902d2dab0dea31",
    "filename": "pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/services/VisitService.java",
    "status": "added",
    "additions": 6,
    "deletions": 0,
    "changes": 6,
    "blob_url": "https://github.com/lukaszczajkowski/sfg-pet-clinic-1/blob/fdf0e1a83f8f3db2d50870f05e58d1b264497445/pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/services/VisitService.java",
    "raw_url": "https://github.com/lukaszczajkowski/sfg-pet-clinic-1/raw/fdf0e1a83f8f3db2d50870f05e58d1b264497445/pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/services/VisitService.java",
    "contents_url": "https://api.github.com/repos/lukaszczajkowski/sfg-pet-clinic-1/contents/pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/services/VisitService.java?ref=fdf0e1a83f8f3db2d50870f05e58d1b264497445",
    "patch": "@@ -0,0 +1,6 @@\n+package guru.springframework.sfgpetclinic.services;\n+\n+import guru.springframework.sfgpetclinic.model.Visit;\n+\n+public interface VisitService extends CrudService<Visit, Long>{\n+}"
  },
  {
    "sha": "a2f93ce32410af9255eeca5a1ef0ba4373e514d3",
    "filename": "pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/services/map/AbstractMapService.java",
    "status": "added",
    "additions": 45,
    "deletions": 0,
    "changes": 45,
    "blob_url": "https://github.com/lukaszczajkowski/sfg-pet-clinic-1/blob/fdf0e1a83f8f3db2d50870f05e58d1b264497445/pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/services/map/AbstractMapService.java",
    "raw_url": "https://github.com/lukaszczajkowski/sfg-pet-clinic-1/raw/fdf0e1a83f8f3db2d50870f05e58d1b264497445/pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/services/map/AbstractMapService.java",
    "contents_url": "https://api.github.com/repos/lukaszczajkowski/sfg-pet-clinic-1/contents/pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/services/map/AbstractMapService.java?ref=fdf0e1a83f8f3db2d50870f05e58d1b264497445",
    "patch": "@@ -0,0 +1,45 @@\n+package guru.springframework.sfgpetclinic.services.map;\n+\n+import guru.springframework.sfgpetclinic.model.BaseEntity;\n+\n+import java.util.*;\n+\n+public abstract class AbstractMapService<T extends BaseEntity, ID extends Long> {\n+\n+    protected Map<Long, T> map = new HashMap<>();\n+\n+    Set<T> findAll() {\n+        return new HashSet<>(map.values());\n+    }\n+\n+    T findById(ID id) {\n+        return map.get(id);\n+    }\n+\n+    T save (T object) {\n+\n+        if(object != null) {\n+            if(object.getId() == null){\n+                object.setId(getNextId());\n+            }\n+\n+            map.put(object.getId(), object);\n+        } else {\n+            throw new RuntimeException(\"Object cannot be null\");\n+        }\n+\n+        return object;\n+    }\n+\n+    void deleteById(ID id) {\n+        map.remove(id);\n+    }\n+\n+    void delete(T object) {\n+        map.entrySet().removeIf(idtEntry -> idtEntry.getValue().equals(object));\n+    }\n+\n+    private long getNextId() {\n+        return map.isEmpty() ? 1L : Collections.max(map.keySet()) + 1;\n+    }\n+}"
  },
  {
    "sha": "911cb3925be5fb79bc02015be6ead6f4e3281dca",
    "filename": "pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/services/map/OwnerServiceMap.java",
    "status": "added",
    "additions": 86,
    "deletions": 0,
    "changes": 86,
    "blob_url": "https://github.com/lukaszczajkowski/sfg-pet-clinic-1/blob/fdf0e1a83f8f3db2d50870f05e58d1b264497445/pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/services/map/OwnerServiceMap.java",
    "raw_url": "https://github.com/lukaszczajkowski/sfg-pet-clinic-1/raw/fdf0e1a83f8f3db2d50870f05e58d1b264497445/pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/services/map/OwnerServiceMap.java",
    "contents_url": "https://api.github.com/repos/lukaszczajkowski/sfg-pet-clinic-1/contents/pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/services/map/OwnerServiceMap.java?ref=fdf0e1a83f8f3db2d50870f05e58d1b264497445",
    "patch": "@@ -0,0 +1,86 @@\n+package guru.springframework.sfgpetclinic.services.map;\n+\n+import guru.springframework.sfgpetclinic.model.Owner;\n+import guru.springframework.sfgpetclinic.model.Pet;\n+import guru.springframework.sfgpetclinic.services.OwnerService;\n+import guru.springframework.sfgpetclinic.services.PetService;\n+import guru.springframework.sfgpetclinic.services.PetTypeService;\n+import org.springframework.context.annotation.Profile;\n+import org.springframework.stereotype.Service;\n+\n+import java.util.List;\n+import java.util.Set;\n+\n+@Service\n+@Profile({\"default\", \"map\"})\n+public class OwnerServiceMap extends AbstractMapService<Owner, Long> implements OwnerService {\n+\n+    private final PetTypeService petTypeService;\n+    private final PetService petService;\n+\n+    public OwnerServiceMap(PetTypeService petTypeService, PetService petService) {\n+        this.petTypeService = petTypeService;\n+        this.petService = petService;\n+    }\n+\n+    @Override\n+    public Set<Owner> findAll() {\n+        return super.findAll();\n+    }\n+\n+    @Override\n+    public void deleteById(Long id) {\n+        super.deleteById(id);\n+    }\n+\n+    @Override\n+    public Owner save(Owner owner) {\n+\n+        if(owner != null){\n+            if(owner.getPets() != null) {\n+                owner.getPets().forEach(pet -> {\n+                    if(pet.getPetType() != null) {\n+                        if(pet.getPetType().getId() == null) {\n+                            pet.setPetType(petTypeService.save(pet.getPetType()));\n+                        }\n+                    } else {\n+                        throw new RuntimeException(\"Pet type is required\");\n+                    }\n+\n+                    if(pet.getId() == null) {\n+                        Pet savedPet = petService.save(pet);\n+                        pet.setId(savedPet.getId());\n+                    }\n+                });\n+            }\n+            return super.save(owner);\n+        } else {\n+            return null;\n+        }\n+    }\n+\n+    @Override\n+    public void delete(Owner owner) {\n+        super.delete(owner);\n+    }\n+\n+    @Override\n+    public Owner findById(Long id) {\n+        return super.findById(id);\n+    }\n+\n+    @Override\n+    public Owner findByLastName(String lastName) {\n+        return this.findAll()\n+                .stream()\n+                .filter(owner -> owner.getLastName().equalsIgnoreCase(lastName))\n+                .findFirst()\n+                .orElse(null);\n+    }\n+\n+    @Override\n+    public List<Owner> findAllByLastNameLike(String anyString) {\n+        //todo - impl\n+        return null;\n+    }\n+}"
  },
  {
    "sha": "16b66064af9248e72c8cac5a2baaaee4121ea9fc",
    "filename": "pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/services/map/PetServiceMap.java",
    "status": "added",
    "additions": 36,
    "deletions": 0,
    "changes": 36,
    "blob_url": "https://github.com/lukaszczajkowski/sfg-pet-clinic-1/blob/fdf0e1a83f8f3db2d50870f05e58d1b264497445/pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/services/map/PetServiceMap.java",
    "raw_url": "https://github.com/lukaszczajkowski/sfg-pet-clinic-1/raw/fdf0e1a83f8f3db2d50870f05e58d1b264497445/pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/services/map/PetServiceMap.java",
    "contents_url": "https://api.github.com/repos/lukaszczajkowski/sfg-pet-clinic-1/contents/pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/services/map/PetServiceMap.java?ref=fdf0e1a83f8f3db2d50870f05e58d1b264497445",
    "patch": "@@ -0,0 +1,36 @@\n+package guru.springframework.sfgpetclinic.services.map;\n+\n+import guru.springframework.sfgpetclinic.model.Pet;\n+import guru.springframework.sfgpetclinic.services.PetService;\n+import org.springframework.context.annotation.Profile;\n+import org.springframework.stereotype.Service;\n+import java.util.Set;\n+\n+@Service\n+@Profile({\"default\", \"map\"})\n+public class PetServiceMap extends AbstractMapService<Pet, Long> implements PetService {\n+    @Override\n+    public Set<Pet> findAll() {\n+        return super.findAll();\n+    }\n+\n+    @Override\n+    public void deleteById(Long id) {\n+        super.deleteById(id);\n+    }\n+\n+    @Override\n+    public void delete(Pet pet) {\n+        super.delete(pet);\n+    }\n+\n+    @Override\n+    public Pet save(Pet pet) {\n+        return super.save(pet);\n+    }\n+\n+    @Override\n+    public Pet findById(Long id) {\n+        return super.findById(id);\n+    }\n+}"
  },
  {
    "sha": "1db35547f359a85d217d15c48c883878a051b8db",
    "filename": "pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/services/map/PetTypeServiceMap.java",
    "status": "added",
    "additions": 37,
    "deletions": 0,
    "changes": 37,
    "blob_url": "https://github.com/lukaszczajkowski/sfg-pet-clinic-1/blob/fdf0e1a83f8f3db2d50870f05e58d1b264497445/pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/services/map/PetTypeServiceMap.java",
    "raw_url": "https://github.com/lukaszczajkowski/sfg-pet-clinic-1/raw/fdf0e1a83f8f3db2d50870f05e58d1b264497445/pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/services/map/PetTypeServiceMap.java",
    "contents_url": "https://api.github.com/repos/lukaszczajkowski/sfg-pet-clinic-1/contents/pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/services/map/PetTypeServiceMap.java?ref=fdf0e1a83f8f3db2d50870f05e58d1b264497445",
    "patch": "@@ -0,0 +1,37 @@\n+package guru.springframework.sfgpetclinic.services.map;\n+\n+import guru.springframework.sfgpetclinic.model.PetType;\n+import guru.springframework.sfgpetclinic.services.PetTypeService;\n+import org.springframework.context.annotation.Profile;\n+import org.springframework.stereotype.Service;\n+\n+import java.util.Set;\n+\n+@Service\n+@Profile({\"default\", \"map\"})\n+public class PetTypeServiceMap extends AbstractMapService<PetType, Long> implements PetTypeService {\n+    @Override\n+    public Set<PetType> findAll() {\n+        return super.findAll();\n+    }\n+\n+    @Override\n+    public void deleteById(Long id) {\n+        super.deleteById(id);\n+    }\n+\n+    @Override\n+    public void delete(PetType petType) {\n+        super.delete(petType);\n+    }\n+\n+    @Override\n+    public PetType save(PetType petType) {\n+        return super.save(petType);\n+    }\n+\n+    @Override\n+    public PetType findById(Long id) {\n+        return super.findById(id);\n+    }\n+}"
  },
  {
    "sha": "67bec51df1b6f5686208a84a79b47daa3aa5ce88",
    "filename": "pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/services/map/SpecialityServiceMap.java",
    "status": "added",
    "additions": 37,
    "deletions": 0,
    "changes": 37,
    "blob_url": "https://github.com/lukaszczajkowski/sfg-pet-clinic-1/blob/fdf0e1a83f8f3db2d50870f05e58d1b264497445/pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/services/map/SpecialityServiceMap.java",
    "raw_url": "https://github.com/lukaszczajkowski/sfg-pet-clinic-1/raw/fdf0e1a83f8f3db2d50870f05e58d1b264497445/pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/services/map/SpecialityServiceMap.java",
    "contents_url": "https://api.github.com/repos/lukaszczajkowski/sfg-pet-clinic-1/contents/pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/services/map/SpecialityServiceMap.java?ref=fdf0e1a83f8f3db2d50870f05e58d1b264497445",
    "patch": "@@ -0,0 +1,37 @@\n+package guru.springframework.sfgpetclinic.services.map;\n+\n+import guru.springframework.sfgpetclinic.model.Speciality;\n+import guru.springframework.sfgpetclinic.services.SpecialityService;\n+import org.springframework.context.annotation.Profile;\n+import org.springframework.stereotype.Service;\n+\n+import java.util.Set;\n+\n+@Service\n+@Profile({\"default\", \"map\"})\n+public class SpecialityServiceMap extends AbstractMapService<Speciality, Long> implements SpecialityService {\n+    @Override\n+    public Set<Speciality> findAll() {\n+        return super.findAll();\n+    }\n+\n+    @Override\n+    public void deleteById(Long id) {\n+        super.deleteById(id);\n+    }\n+\n+    @Override\n+    public Speciality save(Speciality speciality) {\n+        return super.save(speciality);\n+    }\n+\n+    @Override\n+    public void delete(Speciality object) {\n+        super.delete(object);\n+    }\n+\n+    @Override\n+    public Speciality findById(Long id) {\n+        return super.findById(id);\n+    }\n+}"
  },
  {
    "sha": "363bf77e26a067336cc0195bc2fdd7c0d0d43e08",
    "filename": "pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/services/map/VetServiceMap.java",
    "status": "added",
    "additions": 54,
    "deletions": 0,
    "changes": 54,
    "blob_url": "https://github.com/lukaszczajkowski/sfg-pet-clinic-1/blob/fdf0e1a83f8f3db2d50870f05e58d1b264497445/pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/services/map/VetServiceMap.java",
    "raw_url": "https://github.com/lukaszczajkowski/sfg-pet-clinic-1/raw/fdf0e1a83f8f3db2d50870f05e58d1b264497445/pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/services/map/VetServiceMap.java",
    "contents_url": "https://api.github.com/repos/lukaszczajkowski/sfg-pet-clinic-1/contents/pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/services/map/VetServiceMap.java?ref=fdf0e1a83f8f3db2d50870f05e58d1b264497445",
    "patch": "@@ -0,0 +1,54 @@\n+package guru.springframework.sfgpetclinic.services.map;\n+\n+import guru.springframework.sfgpetclinic.model.Speciality;\n+import guru.springframework.sfgpetclinic.model.Vet;\n+import guru.springframework.sfgpetclinic.services.SpecialityService;\n+import guru.springframework.sfgpetclinic.services.VetService;\n+import org.springframework.context.annotation.Profile;\n+import org.springframework.stereotype.Service;\n+import java.util.Set;\n+\n+@Service\n+@Profile({\"default\", \"map\"})\n+public class VetServiceMap extends AbstractMapService<Vet, Long> implements VetService {\n+\n+    private final SpecialityService specialityService;\n+\n+    public VetServiceMap(SpecialityService specialityService) {\n+        this.specialityService = specialityService;\n+    }\n+\n+    @Override\n+    public Set<Vet> findAll() {\n+        return super.findAll();\n+    }\n+\n+    @Override\n+    public void deleteById(Long id) {\n+        super.deleteById(id);\n+    }\n+\n+    @Override\n+    public void delete(Vet vet) {\n+        super.delete(vet);\n+    }\n+\n+    @Override\n+    public Vet save(Vet vet) {\n+\n+        if(!vet.getSpecialities().isEmpty()) {\n+            vet.getSpecialities().forEach(speciality -> {\n+                if(speciality.getId() == null) {\n+                    Speciality savedSpecialty = specialityService.save(speciality);\n+                    speciality.setId(savedSpecialty.getId());\n+                }\n+            });\n+        }\n+        return super.save(vet);\n+    }\n+\n+    @Override\n+    public Vet findById(Long id) {\n+        return super.findById(id);\n+    }\n+}"
  },
  {
    "sha": "f84d804a398699eff6d523b6bf06e8dbf85a5bc3",
    "filename": "pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/services/map/VisitServiceMap.java",
    "status": "added",
    "additions": 42,
    "deletions": 0,
    "changes": 42,
    "blob_url": "https://github.com/lukaszczajkowski/sfg-pet-clinic-1/blob/fdf0e1a83f8f3db2d50870f05e58d1b264497445/pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/services/map/VisitServiceMap.java",
    "raw_url": "https://github.com/lukaszczajkowski/sfg-pet-clinic-1/raw/fdf0e1a83f8f3db2d50870f05e58d1b264497445/pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/services/map/VisitServiceMap.java",
    "contents_url": "https://api.github.com/repos/lukaszczajkowski/sfg-pet-clinic-1/contents/pet-clinic-data/src/main/java/guru/springframework/sfgpetclinic/services/map/VisitServiceMap.java?ref=fdf0e1a83f8f3db2d50870f05e58d1b264497445",
    "patch": "@@ -0,0 +1,42 @@\n+package guru.springframework.sfgpetclinic.services.map;\n+\n+import guru.springframework.sfgpetclinic.model.Visit;\n+import guru.springframework.sfgpetclinic.services.VisitService;\n+import org.springframework.context.annotation.Profile;\n+import org.springframework.stereotype.Service;\n+import java.util.Set;\n+\n+@Service\n+@Profile({\"default\", \"map\"})\n+public class VisitServiceMap extends AbstractMapService<Visit, Long> implements VisitService {\n+\n+    @Override\n+    public Set<Visit> findAll() {\n+        return super.findAll();\n+    }\n+\n+    @Override\n+    public void deleteById(Long id) {\n+        super.deleteById(id);\n+    }\n+\n+    @Override\n+    public void delete(Visit object) {\n+        super.delete(object);\n+    }\n+\n+    @Override\n+    public Visit save(Visit visit) {\n+        if(visit.getPet() == null || visit.getPet().getOwner() == null ||\n+                visit.getPet().getId() == null || visit.getPet().getOwner() == null) {\n+            throw new RuntimeException(\"Invalid visit\");\n+        }\n+\n+        return super.save(visit);\n+    }\n+\n+    @Override\n+    public Visit findById(Long id) {\n+        return super.findById(id);\n+    }\n+}"
  }
]
