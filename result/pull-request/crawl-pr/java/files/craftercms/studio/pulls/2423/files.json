[
  {
    "sha": "84800f201f45907a6aab50e74bbc01f9d9be011b",
    "filename": "src/main/webapp/repo-bootstrap/global/blueprints/2000_headless_store/config/studio/context-nav/sidebar.xml",
    "status": "modified",
    "additions": 106,
    "deletions": 62,
    "changes": 168,
    "blob_url": "https://github.com/craftercms/studio/blob/035ab778835bddf7a4688b1ec7c4c8bc78c5157a/src/main/webapp/repo-bootstrap/global/blueprints/2000_headless_store/config/studio/context-nav/sidebar.xml",
    "raw_url": "https://github.com/craftercms/studio/raw/035ab778835bddf7a4688b1ec7c4c8bc78c5157a/src/main/webapp/repo-bootstrap/global/blueprints/2000_headless_store/config/studio/context-nav/sidebar.xml",
    "contents_url": "https://api.github.com/repos/craftercms/studio/contents/src/main/webapp/repo-bootstrap/global/blueprints/2000_headless_store/config/studio/context-nav/sidebar.xml?ref=035ab778835bddf7a4688b1ec7c4c8bc78c5157a",
    "patch": "@@ -98,87 +98,131 @@\n \t\t\t\t\t\t\t\t<!-- Dashboard -->\n \t\t\t\t\t\t\t\t<modulehook>\n \t\t\t\t\t\t\t\t\t<name>dashboard</name>\n-                                    <params>\n-                                        <label>Dashboard</label>\n-                                        <path>/site-dashboard</path>\n+\t\t\t\t\t\t\t\t\t<params>\n+\t\t\t\t\t\t\t\t\t\t<label>Dashboard</label>\n+\t\t\t\t\t\t\t\t\t\t<path>/site-dashboard</path>\n \t\t\t\t\t\t\t\t\t</params>\n \t\t\t\t\t\t\t\t</modulehook>\n-\n-\t\t\t\t\t\t\t\t<!-- Site IA Pages -->\n+\t\t\t\t\t\t\t\t<!-- Site Config -->\n \t\t\t\t\t\t\t\t<modulehook>\n-\t\t\t\t\t\t\t\t\t<name>wcm-root-folder</name>\t\t\t\t\t\t\t\t\t\n+\t\t\t\t\t\t\t\t\t<name>site-config</name>\n+\t\t\t\t\t\t\t\t\t<divider>true</divider>\n \t\t\t\t\t\t\t\t\t<params>\n-\t\t\t\t\t\t\t\t\t\t<label>Example Store</label>\n-\t\t\t\t\t\t\t\t\t\t<path>/site/website</path>\n-\t\t\t\t\t\t\t\t\t\t<showRootItem>true</showRootItem>\n-\t\t\t\t\t\t\t\t\t\t<onClick>preview</onClick>\n+\t\t\t\t\t\t\t\t\t\t<roles>\n+\t\t\t\t\t\t\t\t\t\t\t<role>admin</role>\n+\t\t\t\t\t\t\t\t\t\t\t<role>developer</role>\n+\t\t\t\t\t\t\t\t\t\t</roles>\n+\t\t\t\t\t\t\t\t\t\t<label>Site Config</label>\n+\t\t\t\t\t\t\t\t\t\t<path>/site-config</path>\n \t\t\t\t\t\t\t\t\t</params>\n \t\t\t\t\t\t\t\t</modulehook>\n-\n-\t\t\t\t\t\t\t\t<!-- Components -->\n+\t\t\t\t\t\t\t\t<!-- Path Navigator: Pages -->\n \t\t\t\t\t\t\t\t<modulehook>\n-\t\t\t\t\t\t\t\t\t<name>wcm-root-folder</name>\t\t\t\t\t\t\t\t\t\n-\t\t\t\t\t\t\t\t\t<params>\n-\t\t\t\t\t\t\t\t\t\t<label>Items</label>\n-\t\t\t\t\t\t\t\t\t\t<path>/site/items</path>\n-\t\t\t\t\t\t\t\t\t\t<showRootItem>false</showRootItem>\n-\t\t\t\t\t\t\t\t\t</params>\n+\t\t\t\t\t\t\t\t\t<render>PagesWidget</render>\n+\t\t\t\t\t\t\t\t\t<props>\n+\t\t\t\t\t\t\t\t\t\t<label>Pages</label>\n+\t\t\t\t\t\t\t\t\t\t<icon>\n+\t\t\t\t\t\t\t\t\t\t\t<baseClass>fa fa-file-text-o</baseClass>\n+\t\t\t\t\t\t\t\t\t\t</icon>\n+\t\t\t\t\t\t\t\t\t\t<rootPath>/site/website</rootPath>\n+\t\t\t\t\t\t\t\t\t\t<locale>en</locale>\n+\t\t\t\t\t\t\t\t\t</props>\n+\t\t\t\t\t\t\t\t\t<container>\n+\t\t\t\t\t\t\t\t\t\t<style>\n+\t\t\t\t\t\t\t\t\t\t\t<padding-left>9px</padding-left>\n+\t\t\t\t\t\t\t\t\t\t</style>\n+\t\t\t\t\t\t\t\t\t\t<class>next-pages-widget</class>\n+\t\t\t\t\t\t\t\t\t</container>\n \t\t\t\t\t\t\t\t</modulehook>\n-\n-\t\t\t\t\t\t\t\t<!-- Taxonomy -->\n+\t\t\t\t\t\t\t\t<!-- Path Navigator: Components -->\n \t\t\t\t\t\t\t\t<modulehook>\n-\t\t\t\t\t\t\t\t\t<name>wcm-root-folder</name>\t\t\t\t\t\t\t\t\t\n-\t\t\t\t\t\t\t\t\t<params>\n-\t\t\t\t\t\t\t\t\t\t<label>Taxonomy</label>\n-\t\t\t\t\t\t\t\t\t\t<path>/site/taxonomy</path>\n-\t\t\t\t\t\t\t\t\t\t<showRootItem>false</showRootItem>\n-\t\t\t\t\t\t\t\t\t</params>\n+\t\t\t\t\t\t\t\t\t<render>PagesWidget</render>\n+\t\t\t\t\t\t\t\t\t<props>\n+\t\t\t\t\t\t\t\t\t\t<label>Items</label>\n+\t\t\t\t\t\t\t\t\t\t<icon>\n+\t\t\t\t\t\t\t\t\t\t\t<baseClass>fa fa-puzzle-piece</baseClass>\n+\t\t\t\t\t\t\t\t\t\t</icon>\n+\t\t\t\t\t\t\t\t\t\t<rootPath>/site/items</rootPath>\n+\t\t\t\t\t\t\t\t\t\t<locale>en</locale>\n+\t\t\t\t\t\t\t\t\t</props>\n+\t\t\t\t\t\t\t\t\t<container>\n+\t\t\t\t\t\t\t\t\t\t<style>\n+\t\t\t\t\t\t\t\t\t\t\t<padding-left>9px</padding-left>\n+\t\t\t\t\t\t\t\t\t\t</style>\n+\t\t\t\t\t\t\t\t\t\t<class>next-pages-widget</class>\n+\t\t\t\t\t\t\t\t\t</container>\n \t\t\t\t\t\t\t\t</modulehook>\n-\n-\t\t\t\t\t\t\t\t<!-- Scripts -->\n+\t\t\t\t\t\t\t\t<!-- Path Navigator: Taxonomy -->\n \t\t\t\t\t\t\t\t<modulehook>\n-\t\t\t\t\t\t\t\t\t<name>wcm-assets-folder</name>\t\t\t\t\t\t\t\t\t\n-\t\t\t\t\t\t\t\t\t<params>\n-\t\t\t\t\t\t\t\t\t\t<label>Scripts</label>\n-\t\t\t\t\t\t\t\t\t\t<path>/scripts</path>\n-\t\t\t\t\t\t\t\t\t\t<showRootItem>true</showRootItem>\n-\t\t\t\t\t\t\t\t\t\t<onClick>none</onClick>\n-\t\t\t\t\t\t\t\t\t</params>\n+\t\t\t\t\t\t\t\t\t<render>PagesWidget</render>\n+\t\t\t\t\t\t\t\t\t<props>\n+\t\t\t\t\t\t\t\t\t\t<label>Taxonomy</label>\n+\t\t\t\t\t\t\t\t\t\t<icon>\n+\t\t\t\t\t\t\t\t\t\t\t<baseClass>fa fa-tags</baseClass>\n+\t\t\t\t\t\t\t\t\t\t</icon>\n+\t\t\t\t\t\t\t\t\t\t<rootPath>/site/taxonomy</rootPath>\n+\t\t\t\t\t\t\t\t\t\t<locale>en</locale>\n+\t\t\t\t\t\t\t\t\t</props>\n+\t\t\t\t\t\t\t\t\t<container>\n+\t\t\t\t\t\t\t\t\t\t<style>\n+\t\t\t\t\t\t\t\t\t\t\t<padding-left>9px</padding-left>\n+\t\t\t\t\t\t\t\t\t\t</style>\n+\t\t\t\t\t\t\t\t\t\t<class>next-pages-widget</class>\n+\t\t\t\t\t\t\t\t\t</container>\n \t\t\t\t\t\t\t\t</modulehook>\n-\n-\t\t\t\t\t\t\t\t<!-- Static Assets -->\n+\t\t\t\t\t\t\t\t<!-- Path Navigator: Static Assets -->\n \t\t\t\t\t\t\t\t<modulehook>\n-\t\t\t\t\t\t\t\t\t<name>wcm-assets-folder</name>\t\t\t\t\t\t\t\t\t\n-\t\t\t\t\t\t\t\t\t<params>\n+\t\t\t\t\t\t\t\t\t<render>PagesWidget</render>\n+\t\t\t\t\t\t\t\t\t<props>\n \t\t\t\t\t\t\t\t\t\t<label>Static Assets</label>\n-\t\t\t\t\t\t\t\t\t\t<path>/static-assets</path>\n-\t\t\t\t\t\t\t\t\t\t<showRootItem>true</showRootItem>\n-\t\t\t\t\t\t\t\t\t\t<onClick>none</onClick>\n-\t\t\t\t\t\t\t\t\t</params>\n+\t\t\t\t\t\t\t\t\t\t<icon>\n+\t\t\t\t\t\t\t\t\t\t\t<baseClass>fa fa-image</baseClass>\n+\t\t\t\t\t\t\t\t\t\t</icon>\n+\t\t\t\t\t\t\t\t\t\t<rootPath>/static-assets</rootPath>\n+\t\t\t\t\t\t\t\t\t\t<locale>en</locale>\n+\t\t\t\t\t\t\t\t\t</props>\n+\t\t\t\t\t\t\t\t\t<container>\n+\t\t\t\t\t\t\t\t\t\t<style>\n+\t\t\t\t\t\t\t\t\t\t\t<padding-left>9px</padding-left>\n+\t\t\t\t\t\t\t\t\t\t</style>\n+\t\t\t\t\t\t\t\t\t\t<class>next-pages-widget</class>\n+\t\t\t\t\t\t\t\t\t</container>\n \t\t\t\t\t\t\t\t</modulehook>\n-\n-\t\t\t\t\t\t\t\t<!-- Templates -->\n+\t\t\t\t\t\t\t\t<!-- Path Navigator: Templates -->\n \t\t\t\t\t\t\t\t<modulehook>\n-\t\t\t\t\t\t\t\t\t<name>wcm-assets-folder</name>\t\t\t\t\t\t\t\t\t\n-\t\t\t\t\t\t\t\t\t<params>\n+\t\t\t\t\t\t\t\t\t<render>PagesWidget</render>\n+\t\t\t\t\t\t\t\t\t<props>\n \t\t\t\t\t\t\t\t\t\t<label>Templates</label>\n-\t\t\t\t\t\t\t\t\t\t<path>/templates</path>\n-\t\t\t\t\t\t\t\t\t\t<showRootItem>true</showRootItem>\n-\t\t\t\t\t\t\t\t\t\t<onClick>none</onClick>\n-\t\t\t\t\t\t\t\t\t</params>\n+\t\t\t\t\t\t\t\t\t\t<icon>\n+\t\t\t\t\t\t\t\t\t\t\t<baseClass>fa fa-file-code-o</baseClass>\n+\t\t\t\t\t\t\t\t\t\t</icon>\n+\t\t\t\t\t\t\t\t\t\t<rootPath>/templates</rootPath>\n+\t\t\t\t\t\t\t\t\t\t<locale>en</locale>\n+\t\t\t\t\t\t\t\t\t</props>\n+\t\t\t\t\t\t\t\t\t<container>\n+\t\t\t\t\t\t\t\t\t\t<style>\n+\t\t\t\t\t\t\t\t\t\t\t<padding-left>9px</padding-left>\n+\t\t\t\t\t\t\t\t\t\t</style>\n+\t\t\t\t\t\t\t\t\t\t<class>next-pages-widget</class>\n+\t\t\t\t\t\t\t\t\t</container>\n \t\t\t\t\t\t\t\t</modulehook>\n-\n-\t\t\t\t\t\t\t\t<!-- Site Config -->\n+\t\t\t\t\t\t\t\t<!-- Path Navigator: Scripts -->\n \t\t\t\t\t\t\t\t<modulehook>\n-\t\t\t\t\t\t\t\t\t<name>site-config</name>\t\t\t\t\t\t\t\t\t\n-\t\t\t\t\t\t\t\t\t<params>\n-\t\t\t\t\t\t\t\t\t\t<roles>\n-\t\t\t\t\t\t\t\t\t\t\t<role>admin</role>\n-\t\t\t\t\t\t\t\t\t\t\t<role>developer</role>\n-\t\t\t\t\t\t\t\t\t\t</roles>\n-                                        <label>Site Config</label>\n-                                        <path>/site-config</path>\n-\t\t\t\t\t\t\t\t\t</params>\n+\t\t\t\t\t\t\t\t\t<render>PagesWidget</render>\n+\t\t\t\t\t\t\t\t\t<props>\n+\t\t\t\t\t\t\t\t\t\t<label>Scripts</label>\n+\t\t\t\t\t\t\t\t\t\t<icon>\n+\t\t\t\t\t\t\t\t\t\t\t<baseClass>fa fa-code</baseClass>\n+\t\t\t\t\t\t\t\t\t\t</icon>\n+\t\t\t\t\t\t\t\t\t\t<rootPath>/scripts</rootPath>\n+\t\t\t\t\t\t\t\t\t\t<locale>en</locale>\n+\t\t\t\t\t\t\t\t\t</props>\n+\t\t\t\t\t\t\t\t\t<container>\n+\t\t\t\t\t\t\t\t\t\t<style>\n+\t\t\t\t\t\t\t\t\t\t\t<padding-left>9px</padding-left>\n+\t\t\t\t\t\t\t\t\t\t</style>\n+\t\t\t\t\t\t\t\t\t\t<class>next-pages-widget</class>\n+\t\t\t\t\t\t\t\t\t</container>\n \t\t\t\t\t\t\t\t</modulehook>\n \t\t\t\t\t\t\t</modulehooks>\n "
  },
  {
    "sha": "2c76fff37c521422795075f1a4a47c050f212a48",
    "filename": "src/main/webapp/repo-bootstrap/global/blueprints/2000_headless_store/config/studio/ui.xml",
    "status": "added",
    "additions": 383,
    "deletions": 0,
    "changes": 383,
    "blob_url": "https://github.com/craftercms/studio/blob/035ab778835bddf7a4688b1ec7c4c8bc78c5157a/src/main/webapp/repo-bootstrap/global/blueprints/2000_headless_store/config/studio/ui.xml",
    "raw_url": "https://github.com/craftercms/studio/raw/035ab778835bddf7a4688b1ec7c4c8bc78c5157a/src/main/webapp/repo-bootstrap/global/blueprints/2000_headless_store/config/studio/ui.xml",
    "contents_url": "https://api.github.com/repos/craftercms/studio/contents/src/main/webapp/repo-bootstrap/global/blueprints/2000_headless_store/config/studio/ui.xml?ref=035ab778835bddf7a4688b1ec7c4c8bc78c5157a",
    "patch": "@@ -0,0 +1,383 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n+<!--\n+  ~ Copyright (C) 2007-2020 Crafter Software Corporation. All Rights Reserved.\n+  ~\n+  ~ This program is free software: you can redistribute it and/or modify\n+  ~ it under the terms of the GNU General Public License version 3 as published by\n+  ~ the Free Software Foundation.\n+  ~\n+  ~ This program is distributed in the hope that it will be useful,\n+  ~ but WITHOUT ANY WARRANTY; without even the implied warranty of\n+  ~ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+  ~ GNU General Public License for more details.\n+  ~\n+  ~ You should have received a copy of the GNU General Public License\n+  ~ along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+  -->\n+<siteUi>\n+  <widget id=\"craftercms.components.ToolsPanel\">\n+    <configuration>\n+      <widgets>\n+        <widget id=\"craftercms.components.ToolsPanelEmbeddedAppViewButton\">\n+          <configuration>\n+            <title id=\"words.dashboard\" defaultMessage=\"Dashboard\" />\n+            <icon baseClass=\"fa fa-tasks\" />\n+            <widget id=\"craftercms.components.LegacyDashboardFrame\" />\n+          </configuration>\n+        </widget>\n+        <widget id=\"craftercms.components.ToolsPanelPageButton\">\n+          <configuration>\n+            <title id=\"previewSiteExplorerPanel.title\" defaultMessage=\"Site Explorer\" />\n+            <icon id=\"craftercms.icons.SiteExplorer\" />\n+            <widgets>\n+              <widget id=\"craftercms.components.PathNavigator\">\n+                <configuration>\n+                  <id>Pages</id>\n+                  <label>Pages</label>\n+                  <icon baseClass=\"fa fa-file-text-o\" />\n+                  <rootPath>/site/website</rootPath>\n+                  <locale>en</locale>\n+                </configuration>\n+              </widget>\n+              <widget id=\"craftercms.components.PathNavigator\">\n+                <configuration>\n+                  <id>Items</id>\n+                  <label>Items</label>\n+                  <icon baseClass=\"fa fa-puzzle-piece\" />\n+                  <rootPath>/site/items</rootPath>\n+                  <locale>en</locale>\n+                </configuration>\n+              </widget>\n+              <widget id=\"craftercms.components.PathNavigator\">\n+                <configuration>\n+                  <id>Taxonomy</id>\n+                  <label>Taxonomy</label>\n+                  <icon baseClass=\"fa fa-tags\" />\n+                  <rootPath>/site/taxonomy</rootPath>\n+                  <locale>en</locale>\n+                </configuration>\n+              </widget>\n+              <widget id=\"craftercms.components.PathNavigator\">\n+                <configuration>\n+                  <id>StaticAssets</id>\n+                  <label>Static Assets</label>\n+                  <icon baseClass=\"fa fa-image\" />\n+                  <rootPath>/static-assets</rootPath>\n+                  <locale>en</locale>\n+                </configuration>\n+              </widget>\n+              <widget id=\"craftercms.components.PathNavigator\">\n+                <configuration>\n+                  <label>Templates</label>\n+                  <icon baseClass=\"fa fa-file-code-o\" />\n+                  <rootPath>/templates</rootPath>\n+                  <locale>en</locale>\n+                </configuration>\n+              </widget>\n+              <widget id=\"craftercms.components.PathNavigator\">\n+                <configuration>\n+                  <label>Scripts</label>\n+                  <icon baseClass=\"fa fa-code\" />\n+                  <rootPath>/scripts</rootPath>\n+                  <locale>en</locale>\n+                </configuration>\n+              </widget>\n+            </widgets>\n+          </configuration>\n+        </widget>\n+        <widget id=\"craftercms.components.ToolsPanelPageButton\">\n+          <configuration>\n+            <title id=\"pageBuilder.title\" defaultMessage=\"Page Building\" />\n+            <icon id=\"@material-ui/icons/BrushOutlined\" />\n+            <widgets>\n+              <widget id=\"craftercms.components.ToolsPanelPageButton\">\n+                <configuration>\n+                  <title id=\"previewSearchPanel.title\" defaultMessage=\"Search\" />\n+                  <icon id=\"@material-ui/icons/SearchRounded\" />\n+                  <widgets>\n+                    <widget id=\"craftercms.components.PreviewSearchPanel\" />\n+                  </widgets>\n+                </configuration>\n+              </widget>\n+              <widget id=\"craftercms.components.ToolsPanelPageButton\">\n+                <configuration>\n+                  <title id=\"previewComponentsPanel.title\" defaultMessage=\"Add Components\" />\n+                  <icon id=\"@material-ui/icons/ExtensionOutlined\" />\n+                  <widget id=\"craftercms.components.PreviewComponentsPanel\" />\n+                </configuration>\n+              </widget>\n+              <widget id=\"craftercms.components.ToolsPanelPageButton\">\n+                <configuration>\n+                  <title id=\"previewBrowseComponentsPanel.title\" defaultMessage=\"Browse Components\" />\n+                  <icon id=\"@material-ui/icons/ExtensionOutlined\" />\n+                  <widgets>\n+                    <widget id=\"craftercms.components.PreviewBrowseComponentsPanel\" />\n+                  </widgets>\n+                </configuration>\n+              </widget>\n+              <widget id=\"craftercms.components.ToolsPanelPageButton\">\n+                <configuration>\n+                  <title id=\"previewReceptaclesPanel.title\" defaultMessage=\"Component Receptacles\" />\n+                  <icon id=\"@material-ui/icons/ExtensionOutlined\" />\n+                  <widgets>\n+                    <widget id=\"craftercms.components.PreviewReceptaclesPanel\" />\n+                  </widgets>\n+                </configuration>\n+              </widget>\n+              <widget id=\"craftercms.components.ToolsPanelPageButton\">\n+                <configuration>\n+                  <title id=\"previewAssetsPanel.title\" defaultMessage=\"Assets\" />\n+                  <icon id=\"@material-ui/icons/ImageOutlined\" />\n+                  <widgets>\n+                    <widget id=\"craftercms.components.PreviewAssetsPanel\" />\n+                  </widgets>\n+                </configuration>\n+              </widget>\n+              <widget id=\"craftercms.components.ToolsPanelPageButton\">\n+                <configuration>\n+                  <title id=\"previewAudiencesPanel.title\" defaultMessage=\"Audience Targeting\" />\n+                  <icon id=\"@material-ui/icons/EmojiPeopleRounded\" />\n+                  <widgets>\n+                    <widget id=\"craftercms.components.PreviewAudiencesPanel\">\n+                      <configuration>\n+                        <fields>\n+                          <segment>\n+                            <id>segment</id>\n+                            <name>Segment</name>\n+                            <description>User segment.</description>\n+                            <type>dropdown</type>\n+                            <defaultValue>anonymous</defaultValue>\n+                            <values>\n+                              <label>Guy</label>\n+                              <value>guy</value>\n+                            </values>\n+                            <values>\n+                              <label>Gal</label>\n+                              <value>gal</value>\n+                            </values>\n+                            <values>\n+                              <label>Anonymous</label>\n+                              <value>anonymous</value>\n+                            </values>\n+                            <helpText>\n+                              Setting the segment will change content targeting to the\n+                              audience selected.\n+                            </helpText>\n+                          </segment>\n+                          <name>\n+                            <id>name</id>\n+                            <name>Name</name>\n+                            <description>User's first and last name.</description>\n+                            <type>input</type>\n+                            <helpText>Enter user's first and last name.</helpText>\n+                          </name>\n+                        </fields>\n+                      </configuration>\n+                    </widget>\n+                  </widgets>\n+                </configuration>\n+              </widget>\n+              <widget id=\"craftercms.components.ToolsPanelPageButton\">\n+                <configuration>\n+                  <title id=\"previewPageExplorerPanel.title\" defaultMessage=\"Page Explorer\" />\n+                  <icon id=\"craftercms.icons.PageExplorer\" />\n+                  <widgets>\n+                    <widget id=\"craftercms.components.PreviewPageExplorerPanel\" />\n+                  </widgets>\n+                </configuration>\n+              </widget>\n+              <widget id=\"craftercms.components.ToolsPanelPageButton\">\n+                <configuration>\n+                  <title id=\"previewSimulatorPanel.title\" defaultMessage=\"Device Simulator\" />\n+                  <icon id=\"@material-ui/icons/DevicesRounded\" />\n+                  <widgets>\n+                    <widget id=\"craftercms.components.PreviewSimulatorPanel\">\n+                      <configuration>\n+                        <devices>\n+                          <device>\n+                            <title>smartPhone</title>\n+                            <width>375</width>\n+                            <height>667</height>\n+                          </device>\n+                          <device>\n+                            <title>tablet</title>\n+                            <width>768</width>\n+                            <height>1024</height>\n+                          </device>\n+                        </devices>\n+                      </configuration>\n+                    </widget>\n+                  </widgets>\n+                </configuration>\n+              </widget>\n+              <widget id=\"craftercms.components.ToolsPanelPageButton\">\n+                <configuration>\n+                  <title id=\"words.settings\" defaultMessage=\"Settings\" />\n+                  <icon id=\"@material-ui/icons/SettingsOutlined\" />\n+                  <widgets>\n+                    <widget id=\"craftercms.components.PreviewSettingsPanel\" />\n+                  </widgets>\n+                </configuration>\n+              </widget>\n+            </widgets>\n+          </configuration>\n+        </widget>\n+        <widget id=\"craftercms.components.ToolsPanelPageButton\">\n+          <permittedRoles>\n+            <role>admin</role>\n+            <role>developer</role>\n+          </permittedRoles>\n+          <configuration>\n+            <title id=\"siteTools.title\" defaultMessage=\"Site Tools\" />\n+            <icon baseClass=\"fa fa-sliders\" />\n+            <widgets>\n+              <widget id=\"craftercms.components.ToolsPanelEmbeddedAppViewButton\">\n+                <configuration>\n+                  <title id=\"receptaclesMessages.contentTypes\" defaultMessage=\"Content Types\" />\n+                  <icon baseClass=\"fa fa-th-large\" />\n+                  <widget id=\"craftercms.components.LegacySiteToolsFrame\">\n+                    <configuration>\n+                      <tool>content-types</tool>\n+                    </configuration>\n+                  </widget>\n+                </configuration>\n+              </widget>\n+              <widget id=\"craftercms.components.ToolsPanelEmbeddedAppViewButton\">\n+                <configuration>\n+                  <title id=\"GlobalMenu.EncryptionToolEntryLabel\" defaultMessage=\"Encryption Tool\" />\n+                  <icon>\n+                    <baseClass>fa fa-lock</baseClass>\n+                  </icon>\n+                  <widget id=\"craftercms.components.LegacySiteToolsFrame\">\n+                    <configuration>\n+                      <tool>encrypt-tool</tool>\n+                    </configuration>\n+                  </widget>\n+                </configuration>\n+              </widget>\n+              <widget id=\"craftercms.components.ToolsPanelEmbeddedAppViewButton\">\n+                <configuration>\n+                  <title id=\"words.configuration\" defaultMessage=\"Configuration\" />\n+                  <icon baseClass=\"fa fa-cogs\" />\n+                  <widget id=\"craftercms.components.LegacySiteToolsFrame\">\n+                    <configuration>\n+                      <tool>admin-configurations</tool>\n+                    </configuration>\n+                  </widget>\n+                </configuration>\n+              </widget>\n+              <widget id=\"craftercms.components.ToolsPanelEmbeddedAppViewButton\">\n+                <configuration>\n+                  <title id=\"GlobalMenu.AuditEntryLabel\" defaultMessage=\"Audit\" />\n+                  <icon>\n+                    <baseClass>fa fa-align-justify</baseClass>\n+                  </icon>\n+                  <widget>\n+                    <id>craftercms.components.LegacySiteToolsFrame</id>\n+                    <configuration>\n+                      <tool>audit</tool>\n+                    </configuration>\n+                  </widget>\n+                </configuration>\n+              </widget>\n+              <widget id=\"craftercms.components.ToolsPanelEmbeddedAppViewButton\">\n+                <configuration>\n+                  <title id=\"workflowStates.title\" defaultMessage=\"Workflow States\" />\n+                  <icon baseClass=\"fa fa-cog\" />\n+                  <widget id=\"craftercms.components.LegacySiteToolsFrame\">\n+                    <configuration>\n+                      <tool>workflow-states</tool>\n+                    </configuration>\n+                  </widget>\n+                </configuration>\n+              </widget>\n+              <widget id=\"craftercms.components.ToolsPanelEmbeddedAppViewButton\">\n+                <configuration>\n+                  <title id=\"GlobalMenu.LogConsoleEntryLabel\" defaultMessage=\"Log Console\" />\n+                  <icon baseClass=\"fa fa-align-left\" />\n+                  <widget id=\"craftercms.components.LegacySiteToolsFrame\">\n+                    <configuration>\n+                      <tool>log-view</tool>\n+                    </configuration>\n+                  </widget>\n+                </configuration>\n+              </widget>\n+              <widget id=\"craftercms.components.ToolsPanelEmbeddedAppViewButton\">\n+                <configuration>\n+                  <title id=\"words.publishing\" defaultMessage=\"Publishing\" />\n+                  <icon baseClass=\"fa fa-cloud-upload\" />\n+                  <widget id=\"craftercms.components.LegacySiteToolsFrame\">\n+                    <configuration>\n+                      <tool>status-view</tool>\n+                    </configuration>\n+                  </widget>\n+                </configuration>\n+              </widget>\n+              <widget id=\"craftercms.components.ToolsPanelEmbeddedAppViewButton\">\n+                <configuration>\n+                  <title id=\"remoteRepositories.title\" defaultMessage=\"Remote Repositories\" />\n+                  <icon baseClass=\"fa fa-database\" />\n+                  <widget id=\"craftercms.components.LegacySiteToolsFrame\">\n+                    <configuration>\n+                      <tool>repository</tool>\n+                    </configuration>\n+                  </widget>\n+                </configuration>\n+              </widget>\n+              <widget id=\"craftercms.components.ToolsPanelEmbeddedAppViewButton\">\n+                <configuration>\n+                  <title>GraphQL</title>\n+                  <icon baseClass=\"fa fa-line-chart\" />\n+                  <widget id=\"craftercms.components.LegacySiteToolsFrame\">\n+                    <configuration>\n+                      <tool>graphiql</tool>\n+                    </configuration>\n+                  </widget>\n+                </configuration>\n+              </widget>\n+            </widgets>\n+          </configuration>\n+        </widget>\n+      </widgets>\n+    </configuration>\n+  </widget>\n+  <widget id=\"craftercms.components.GlobalNavSiteSection\">\n+    <configuration>\n+      <title id=\"words.site\" defaultMessage=\"Site\"/>\n+      <widgets>\n+        <widget id=\"craftercms.components.GlobalNavLinkTile\">\n+          <configuration>\n+            <title id=\"words.dashboard\" defaultMessage=\"Dashboard\"/>\n+            <systemLinkId>siteDashboard</systemLinkId>\n+            <icon id=\"@material-ui/icons/DashboardRounded\"/>\n+          </configuration>\n+        </widget>\n+        <widget id=\"craftercms.components.GlobalNavLinkTile\">\n+          <configuration>\n+            <title id=\"words.preview\" defaultMessage=\"Preview\"/>\n+            <systemLinkId>preview</systemLinkId>\n+            <icon id=\"craftercms.icons.Preview\"/>\n+          </configuration>\n+        </widget>\n+        <widget id=\"craftercms.components.GlobalNavLinkTile\">\n+          <permittedRoles>\n+            <role>admin</role>\n+            <role>developer</role>\n+          </permittedRoles>\n+          <configuration>\n+            <title id=\"siteTools.title\" defaultMessage=\"Site Tools\"/>\n+            <systemLinkId>siteTools</systemLinkId>\n+            <icon id=\"@material-ui/icons/BuildRounded\"/>\n+          </configuration>\n+        </widget>\n+        <widget id=\"craftercms.components.GlobalNavLinkTile\">\n+          <configuration>\n+            <title id=\"words.search\" defaultMessage=\"Search\"/>\n+            <systemLinkId>siteSearch</systemLinkId>\n+            <icon id=\"@material-ui/icons/SearchRounded\"/>\n+          </configuration>\n+        </widget>\n+      </widgets>\n+    </configuration>\n+  </widget>\n+</siteUi>"
  },
  {
    "sha": "b016df7273c148e98dd912bb0a75b1f249ccccda",
    "filename": "src/main/webapp/repo-bootstrap/global/blueprints/2000_headless_store/static-assets/js/catalog.js",
    "status": "modified",
    "additions": 140,
    "deletions": 75,
    "changes": 215,
    "blob_url": "https://github.com/craftercms/studio/blob/035ab778835bddf7a4688b1ec7c4c8bc78c5157a/src/main/webapp/repo-bootstrap/global/blueprints/2000_headless_store/static-assets/js/catalog.js",
    "raw_url": "https://github.com/craftercms/studio/raw/035ab778835bddf7a4688b1ec7c4c8bc78c5157a/src/main/webapp/repo-bootstrap/global/blueprints/2000_headless_store/static-assets/js/catalog.js",
    "contents_url": "https://api.github.com/repos/craftercms/studio/contents/src/main/webapp/repo-bootstrap/global/blueprints/2000_headless_store/static-assets/js/catalog.js?ref=035ab778835bddf7a4688b1ec7c4c8bc78c5157a",
    "patch": "@@ -1,5 +1,5 @@\n /*\n- * Copyright (C) 2007-2020 Crafter Software Corporation. All Rights Reserved.\n+ * Copyright (C) 2007-2021 Crafter Software Corporation. All Rights Reserved.\n  *\n  * This program is free software: you can redistribute it and/or modify\n  * it under the terms of the GNU General Public License version 3 as published by\n@@ -56,7 +56,15 @@ const GRAPHQL_QUERIES = '\\\n     products: component_product(offset: $offset, limit: $limit) {\\\n       total\\\n       items {\\\n-        localId\\\n+        guid: objectId\\\n+        path: localId\\\n+        contentTypeId: content__type\\\n+        dateCreated: createdDate_dt\\\n+        dateModified: lastModifiedDate_dt\\\n+        label: internal__name\\\n+        url: localId(\\\n+          transform: \"storeUrlToRenderUrl\",\\\n+        )\\\n         name_s\\\n         description_html_raw\\\n         price_d\\\n@@ -81,85 +89,142 @@ const GRAPHQL_QUERIES = '\\\n         }\\\n       }\\\n     }\\\n-  }'; \n+  }';\n \n-// Create the Vue application\n-var catalog = new Vue({\n-  el: '#catalog',\n-  data: {\n-    selection: {\n-      company: null,\n-      category: null,\n-      tag: null\n-    },\n-    numberOfProducts: 4,\n-    currentPage: 1\n-  },\n-  computed: {\n-    pagination: function() {\n-      // function to update the pagination\n-      var total = Math.ceil(this.products.total / this.numberOfProducts);\n-      return {\n-        total: total,\n-        hasPrev: this.currentPage > 1,\n-        hasNext: this.currentPage < total\n-      }\n+(function ({ content }) {\n+  const pathRegExp = /^\\/(.*?)\\.xml$/;\n+  function isAuthoring() {\n+    const html = document.documentElement;\n+    const attr = html.getAttribute('data-craftercms-preview');\n+\n+    return (\n+      attr === '${modePreview?c}' || // Otherwise disable/enable if you want to see pencils in dev server.\n+      attr === 'true'\n+    );\n+  }\n+  function getICE(model, fieldId = null) {\n+    return (craftercms?.guest?.getICEAttributes({\n+      model,\n+      fieldId,\n+      isAuthoring: authoring\n+    }))\n+  }\n+  function updatePagination() {\n+    // function to update the pagination\n+    var total = Math.ceil(this.products.total / this.numberOfProducts);\n+    return {\n+      total: total,\n+      hasPrev: this.currentPage > 1,\n+      hasNext: this.currentPage < total\n     }\n-  },\n-  asyncComputed: {\n-    filters: {\n-      default: {},\n-      get: function() {\n-        // function to load the filters using the GraphQL query\n-        return this.$http.post(GRAPHQL_URL, { query: GRAPHQL_QUERIES, operationName: 'getFilters' }).then(response => {\n-          return {\n-            companies: response.body.data.companies.items,\n-            categories: response.body.data.categories.items[0].items.item,\n-            tags: response.body.data.tags.items[0].items.item\n-          };\n-        });\n-      }\n+  }\n+  const authoring = isAuthoring();\n+\n+  // Create the Vue application\n+  var catalog = new Vue({\n+    el: '#catalog',\n+    data: {\n+      selection: {\n+        company: null,\n+        category: null,\n+        tag: null\n+      },\n+      numberOfProducts: 4,\n+      currentPage: 1\n+    },\n+    methods: {\n+      getICE\n+    },\n+    computed: {\n+      pagination: updatePagination\n     },\n-    products: {\n-      default: {},\n-      get: function() {\n-        // function to load the products using the GraphQL query with the selected filters\n-        var variables = {\n-          offset: (this.currentPage - 1) * this.numberOfProducts,\n-          limit: this.numberOfProducts\n-        };\n-        if(this.selection.company) {\n-          variables.company = this.selection.company.objectId;\n+    asyncComputed: {\n+      filters: {\n+        default: {},\n+        get: function() {\n+          // function to load the filters using the GraphQL query\n+          return this.$http.post(GRAPHQL_URL, { query: GRAPHQL_QUERIES, operationName: 'getFilters' }).then(response => {\n+            return {\n+              companies: response.body.data.companies.items,\n+              categories: response.body.data.categories.items[0].items.item,\n+              tags: response.body.data.tags.items[0].items.item\n+            };\n+          });\n         }\n-        if(this.selection.category) {\n-          variables.category = this.selection.category.key;\n+      },\n+      products: {\n+        default: {},\n+        get: function() {\n+          // function to load the products using the GraphQL query with the selected filters\n+          var variables = {\n+            offset: (this.currentPage - 1) * this.numberOfProducts,\n+            limit: this.numberOfProducts\n+          };\n+          if(this.selection.company) {\n+            variables.company = this.selection.company.objectId;\n+          }\n+          if(this.selection.category) {\n+            variables.category = this.selection.category.key;\n+          }\n+          if(this.selection.tag) {\n+            variables.tag = this.selection.tag.key;\n+          }\n+          return this.$http.post(GRAPHQL_URL, {\n+            query: GRAPHQL_QUERIES,\n+            operationName: 'getProducts',\n+            variables: variables\n+          }).then(response => {\n+            const products = response.body.data.products.items.map(product => content.parseDescriptor(product));\n+            return {\n+              ...response.body.data.products,\n+              items: products\n+            }\n+          });\n         }\n-        if(this.selection.tag) {\n-          variables.tag = this.selection.tag.key;\n+      }\n+    },\n+    mounted: function() {\n+      // when the app is ready init all popups\n+      $(function () {\n+        $('[data-toggle=\"popover\"]').popover()\n+      })\n+    },\n+    beforeUpdate: function() {\n+      document.querySelectorAll('[data-craftercms-model-id]').forEach((el) => {\n+        const record = craftercms?.guest?.elementRegistry.fromElement(el);\n+\n+        // This is supposed to be before updating DOM, but query is returning both old and new elements\n+        if (record) {\n+          craftercms?.guest?.elementRegistry.deregister(record.id);\n         }\n-        return this.$http.post(GRAPHQL_URL, { \n-          query: GRAPHQL_QUERIES,\n-          operationName: 'getProducts',\n-          variables: variables\n-        }).then(response => {\n-          return response.body.data.products;\n+      });\n+    },\n+    watch: {\n+      products: function() {\n+        this.$nextTick(function() {\n+          jQuery('[data-toggle=\"popover\"]').popover();\n+\n+          document.querySelectorAll('[data-craftercms-model-id]').forEach((element) => {\n+            let\n+              path = element.getAttribute('data-craftercms-model-path'),\n+              modelId = element.getAttribute('data-craftercms-model-id'),\n+              fieldId = element.getAttribute('data-craftercms-field-id'),\n+              index = element.getAttribute('data-craftercms-index'),\n+              label = element.getAttribute('data-craftercms-label');\n+\n+            if ((index !== null) && (index !== undefined) && !index.includes('.')) {\n+              // TODO: Need to assess the impact of index being a string with dot notation\n+              // Unsure if somewhere, the system relies on the index being an integer/number.\n+              // Affected inventory:\n+              // - Guest.moveComponent() - string type handled\n+              index = parseInt(index, 10);\n+            }\n+\n+            craftercms?.guest?.elementRegistry.register({ element, modelId, fieldId, index, label, path });\n+          });\n         });\n       }\n     }\n-  },\n-  mounted: function() {\n-    // when the app is ready init all popups\n-    $(function () {\n-      $('[data-toggle=\"popover\"]').popover()\n-    })\n-  },\n-  updated: function() {\n-    // when the app is updated, update all popups and Crafter Studio ICE controls\n-    this.$nextTick(function() {\n-      if(window.studioICERepaint) {\n-        studioICERepaint();\n-      }\n-      jQuery('[data-toggle=\"popover\"]').popover();\n-    });\n-  }\n-});\n+  });\n+})(craftercms);\n+"
  },
  {
    "sha": "e185918ec7e31adcad3c1c596d3518158ba855af",
    "filename": "src/main/webapp/repo-bootstrap/global/blueprints/2000_headless_store/static-assets/js/craftercms-sdk/classes/classes.umd.js",
    "status": "added",
    "additions": 656,
    "deletions": 0,
    "changes": 656,
    "blob_url": "https://github.com/craftercms/studio/blob/035ab778835bddf7a4688b1ec7c4c8bc78c5157a/src/main/webapp/repo-bootstrap/global/blueprints/2000_headless_store/static-assets/js/craftercms-sdk/classes/classes.umd.js",
    "raw_url": "https://github.com/craftercms/studio/raw/035ab778835bddf7a4688b1ec7c4c8bc78c5157a/src/main/webapp/repo-bootstrap/global/blueprints/2000_headless_store/static-assets/js/craftercms-sdk/classes/classes.umd.js",
    "contents_url": "https://api.github.com/repos/craftercms/studio/contents/src/main/webapp/repo-bootstrap/global/blueprints/2000_headless_store/static-assets/js/craftercms-sdk/classes/classes.umd.js?ref=035ab778835bddf7a4688b1ec7c4c8bc78c5157a",
    "patch": "@@ -0,0 +1,656 @@\n+/*\n+ * Copyright (C) 2007-2020 Crafter Software Corporation. All Rights Reserved.\n+ *\n+ * This program is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License version 3 as published by\n+ * the Free Software Foundation.\n+ *\n+ * This program is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public License\n+ * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+ */\n+(function (global, factory) {\n+    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('rxjs'), require('rxjs/operators'), require('@craftercms/utils'), require('@craftercms/models'), require('rxjs/ajax')) :\n+    typeof define === 'function' && define.amd ? define('@craftercms/classes', ['exports', 'rxjs', 'rxjs/operators', '@craftercms/utils', '@craftercms/models', 'rxjs/ajax'], factory) :\n+    (global = global || self, factory((global.craftercms = global.craftercms || {}, global.craftercms.classes = {}), global.rxjs, global.rxjs.operators, global.craftercms.utils, global.craftercms.models, global.rxjs.ajax));\n+}(this, (function (exports, rxjs, operators, utils, models, ajax) { 'use strict';\n+\n+    /*\n+     * Copyright (C) 2007-2020 Crafter Software Corporation. All Rights Reserved.\n+     *\n+     * This program is free software: you can redistribute it and/or modify\n+     * it under the terms of the GNU General Public License version 3 as published by\n+     * the Free Software Foundation.\n+     *\n+     * This program is distributed in the hope that it will be useful,\n+     * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+     * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+     * GNU General Public License for more details.\n+     *\n+     * You should have received a copy of the GNU General Public License\n+     * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+     */\n+\n+    /*\n+     * Copyright (C) 2007-2020 Crafter Software Corporation. All Rights Reserved.\n+     *\n+     * This program is free software: you can redistribute it and/or modify\n+     * it under the terms of the GNU Lesser General Public License version 3\n+     * as published by the Free Software Foundation.\n+     *\n+     * This program is distributed in the hope that it will be useful,\n+     * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+     * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n+     * GNU Lesser General Public License for more details.\n+     *\n+     * You should have received a copy of the GNU Lesser General Public License\n+     * along with this program. If not, see http://www.gnu.org/licenses/.\n+     */\n+    var Messenger = /** @class */ (function () {\n+        function Messenger() {\n+            var _this = this;\n+            this.targets = [];\n+            this.origins = [];\n+            var multiCaster = new rxjs.Subject(), messages = rxjs.fromEvent(window, 'message')\n+                .pipe(operators.tap(function (event) {\n+                return !_this.originAllowed(event.origin) &&\n+                    console.log('Messenger: Message received from a disallowed origin.', event);\n+            }), operators.filter(function (event) {\n+                return _this.originAllowed(event.origin) &&\n+                    (typeof event.data === 'object') &&\n+                    ('topic' in event.data) &&\n+                    ('data' in event.data) &&\n+                    ('scope' in event.data);\n+            }), operators.map(function (event) { return ({\n+                topic: event.data.topic,\n+                data: event.data.data,\n+                scope: event.data.scope || models.MessageScope.Broadcast\n+            }); }), operators.multicast(multiCaster), operators.refCount());\n+            this.messages$ = messages;\n+            this.multiCaster$ = multiCaster;\n+        }\n+        Messenger.prototype.subscribe = function (observerOrNext) {\n+            var operators = [];\n+            for (var _i = 1; _i < arguments.length; _i++) {\n+                operators[_i - 1] = arguments[_i];\n+            }\n+            return this.messages$\n+                .pipe.apply(this.messages$, operators)\n+                .subscribe(observerOrNext);\n+        };\n+        Messenger.prototype.subscribeTo = function (topic, subscriber, scope) {\n+            var operations = [];\n+            for (var _i = 3; _i < arguments.length; _i++) {\n+                operations[_i - 3] = arguments[_i];\n+            }\n+            var ops = [];\n+            // operations = operations || [];\n+            if (!utils.notNullOrUndefined(scope)) {\n+                ops.push(operators.filter(function (message) {\n+                    return message.scope === scope && message.topic === topic;\n+                }));\n+            }\n+            else {\n+                ops.push(operators.filter(function (message) { return message.topic === topic; }));\n+            }\n+            return this.messages$\n+                .pipe.apply(this.messages$, ops.concat(operations))\n+                .subscribe(subscriber);\n+        };\n+        Messenger.prototype.addTarget = function (target) {\n+            this.removeTarget(target);\n+            this.targets.push(target);\n+        };\n+        Messenger.prototype.resetTargets = function () {\n+            this.targets = [];\n+        };\n+        Messenger.prototype.removeTarget = function (target) {\n+            this.targets = this.targets.filter(function (item) {\n+                return item !== target;\n+            });\n+        };\n+        Messenger.prototype.addOrigin = function (origin) {\n+            this.removeOrigin(origin);\n+            this.origins.push(origin);\n+        };\n+        Messenger.prototype.resetOrigins = function () {\n+            this.origins = [];\n+        };\n+        Messenger.prototype.removeOrigin = function (origin) {\n+            this.origins = this.origins.filter(function (item) {\n+                return item !== origin;\n+            });\n+        };\n+        Messenger.prototype.publish = function (topicOrMessage, data, scope) {\n+            if (data === void 0) { data = null; }\n+            if (scope === void 0) { scope = models.MessageScope.Broadcast; }\n+            var message;\n+            if (typeof topicOrMessage === 'string' && topicOrMessage in models.MessageTopic) {\n+                message = {\n+                    topic: topicOrMessage,\n+                    data: data,\n+                    scope: scope\n+                };\n+            }\n+            else {\n+                message = topicOrMessage;\n+            }\n+            switch (scope) {\n+                case models.MessageScope.Local:\n+                    this.multiCaster$.next(message);\n+                    break;\n+                case models.MessageScope.External:\n+                    this.sendMessage(message);\n+                    break;\n+                case models.MessageScope.Broadcast:\n+                    this.multiCaster$.next(message);\n+                    this.sendMessage(message);\n+                    break;\n+            }\n+        };\n+        Messenger.prototype.sendMessage = function (message, targetOrigin) {\n+            var _this = this;\n+            if (targetOrigin === void 0) { targetOrigin = '*'; }\n+            this.targets.forEach(function (target) {\n+                // TODO need to determine where to get the origin\n+                if (!target.postMessage) {\n+                    target = target.contentWindow;\n+                }\n+                if (!target || !target.postMessage) {\n+                    // Garbage collection: get rid of any windows that no longer exist.\n+                    _this.removeTarget(target);\n+                }\n+                else {\n+                    target.postMessage(message, targetOrigin);\n+                }\n+            });\n+        };\n+        Messenger.prototype.originAllowed = function (origin) {\n+            for (var origins = this.origins, i = 0, l = origins.length; i < l; ++i) {\n+                if (origins[i] === origin) {\n+                    return true;\n+                }\n+            }\n+            return false;\n+        };\n+        return Messenger;\n+    }());\n+\n+    var commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n+\n+    /**\n+     *\n+     *\n+     * @author Jerry Bendy <jerry@icewingcc.com>\n+     * @licence MIT\n+     *\n+     */\n+\n+    (function(self) {\n+\n+        var nativeURLSearchParams = (self.URLSearchParams && self.URLSearchParams.prototype.get) ? self.URLSearchParams : null,\n+            isSupportObjectConstructor = nativeURLSearchParams && (new nativeURLSearchParams({a: 1})).toString() === 'a=1',\n+            // There is a bug in safari 10.1 (and earlier) that incorrectly decodes `%2B` as an empty space and not a plus.\n+            decodesPlusesCorrectly = nativeURLSearchParams && (new nativeURLSearchParams('s=%2B').get('s') === '+'),\n+            __URLSearchParams__ = \"__URLSearchParams__\",\n+            // Fix bug in Edge which cannot encode ' &' correctly\n+            encodesAmpersandsCorrectly = nativeURLSearchParams ? (function() {\n+                var ampersandTest = new nativeURLSearchParams();\n+                ampersandTest.append('s', ' &');\n+                return ampersandTest.toString() === 's=+%26';\n+            })() : true,\n+            prototype = URLSearchParamsPolyfill.prototype,\n+            iterable = !!(self.Symbol && self.Symbol.iterator);\n+\n+        if (nativeURLSearchParams && isSupportObjectConstructor && decodesPlusesCorrectly && encodesAmpersandsCorrectly) {\n+            return;\n+        }\n+\n+\n+        /**\n+         * Make a URLSearchParams instance\n+         *\n+         * @param {object|string|URLSearchParams} search\n+         * @constructor\n+         */\n+        function URLSearchParamsPolyfill(search) {\n+            search = search || \"\";\n+\n+            // support construct object with another URLSearchParams instance\n+            if (search instanceof URLSearchParams || search instanceof URLSearchParamsPolyfill) {\n+                search = search.toString();\n+            }\n+            this [__URLSearchParams__] = parseToDict(search);\n+        }\n+\n+\n+        /**\n+         * Appends a specified key/value pair as a new search parameter.\n+         *\n+         * @param {string} name\n+         * @param {string} value\n+         */\n+        prototype.append = function(name, value) {\n+            appendTo(this [__URLSearchParams__], name, value);\n+        };\n+\n+        /**\n+         * Deletes the given search parameter, and its associated value,\n+         * from the list of all search parameters.\n+         *\n+         * @param {string} name\n+         */\n+        prototype['delete'] = function(name) {\n+            delete this [__URLSearchParams__] [name];\n+        };\n+\n+        /**\n+         * Returns the first value associated to the given search parameter.\n+         *\n+         * @param {string} name\n+         * @returns {string|null}\n+         */\n+        prototype.get = function(name) {\n+            var dict = this [__URLSearchParams__];\n+            return name in dict ? dict[name][0] : null;\n+        };\n+\n+        /**\n+         * Returns all the values association with a given search parameter.\n+         *\n+         * @param {string} name\n+         * @returns {Array}\n+         */\n+        prototype.getAll = function(name) {\n+            var dict = this [__URLSearchParams__];\n+            return name in dict ? dict [name].slice(0) : [];\n+        };\n+\n+        /**\n+         * Returns a Boolean indicating if such a search parameter exists.\n+         *\n+         * @param {string} name\n+         * @returns {boolean}\n+         */\n+        prototype.has = function(name) {\n+            return name in this [__URLSearchParams__];\n+        };\n+\n+        /**\n+         * Sets the value associated to a given search parameter to\n+         * the given value. If there were several values, delete the\n+         * others.\n+         *\n+         * @param {string} name\n+         * @param {string} value\n+         */\n+        prototype.set = function set(name, value) {\n+            this [__URLSearchParams__][name] = ['' + value];\n+        };\n+\n+        /**\n+         * Returns a string containg a query string suitable for use in a URL.\n+         *\n+         * @returns {string}\n+         */\n+        prototype.toString = function() {\n+            var dict = this[__URLSearchParams__], query = [], i, key, name, value;\n+            for (key in dict) {\n+                name = encode(key);\n+                for (i = 0, value = dict[key]; i < value.length; i++) {\n+                    query.push(name + '=' + encode(value[i]));\n+                }\n+            }\n+            return query.join('&');\n+        };\n+\n+        // There is a bug in Safari 10.1 and `Proxy`ing it is not enough.\n+        var forSureUsePolyfill = !decodesPlusesCorrectly;\n+        var useProxy = (!forSureUsePolyfill && nativeURLSearchParams && !isSupportObjectConstructor && self.Proxy);\n+        /*\n+         * Apply polifill to global object and append other prototype into it\n+         */\n+        Object.defineProperty(self, 'URLSearchParams', {\n+            value: (useProxy ?\n+                // Safari 10.0 doesn't support Proxy, so it won't extend URLSearchParams on safari 10.0\n+                new Proxy(nativeURLSearchParams, {\n+                    construct: function(target, args) {\n+                        return new target((new URLSearchParamsPolyfill(args[0]).toString()));\n+                    }\n+                }) :\n+                URLSearchParamsPolyfill)\n+        });\n+\n+        var USPProto = self.URLSearchParams.prototype;\n+\n+        USPProto.polyfill = true;\n+\n+        /**\n+         *\n+         * @param {function} callback\n+         * @param {object} thisArg\n+         */\n+        USPProto.forEach = USPProto.forEach || function(callback, thisArg) {\n+            var dict = parseToDict(this.toString());\n+            Object.getOwnPropertyNames(dict).forEach(function(name) {\n+                dict[name].forEach(function(value) {\n+                    callback.call(thisArg, value, name, this);\n+                }, this);\n+            }, this);\n+        };\n+\n+        /**\n+         * Sort all name-value pairs\n+         */\n+        USPProto.sort = USPProto.sort || function() {\n+            var dict = parseToDict(this.toString()), keys = [], k, i, j;\n+            for (k in dict) {\n+                keys.push(k);\n+            }\n+            keys.sort();\n+\n+            for (i = 0; i < keys.length; i++) {\n+                this['delete'](keys[i]);\n+            }\n+            for (i = 0; i < keys.length; i++) {\n+                var key = keys[i], values = dict[key];\n+                for (j = 0; j < values.length; j++) {\n+                    this.append(key, values[j]);\n+                }\n+            }\n+        };\n+\n+        /**\n+         * Returns an iterator allowing to go through all keys of\n+         * the key/value pairs contained in this object.\n+         *\n+         * @returns {function}\n+         */\n+        USPProto.keys = USPProto.keys || function() {\n+            var items = [];\n+            this.forEach(function(item, name) {\n+                items.push(name);\n+            });\n+            return makeIterator(items);\n+        };\n+\n+        /**\n+         * Returns an iterator allowing to go through all values of\n+         * the key/value pairs contained in this object.\n+         *\n+         * @returns {function}\n+         */\n+        USPProto.values = USPProto.values || function() {\n+            var items = [];\n+            this.forEach(function(item) {\n+                items.push(item);\n+            });\n+            return makeIterator(items);\n+        };\n+\n+        /**\n+         * Returns an iterator allowing to go through all key/value\n+         * pairs contained in this object.\n+         *\n+         * @returns {function}\n+         */\n+        USPProto.entries = USPProto.entries || function() {\n+            var items = [];\n+            this.forEach(function(item, name) {\n+                items.push([name, item]);\n+            });\n+            return makeIterator(items);\n+        };\n+\n+\n+        if (iterable) {\n+            USPProto[self.Symbol.iterator] = USPProto[self.Symbol.iterator] || USPProto.entries;\n+        }\n+\n+\n+        function encode(str) {\n+            var replace = {\n+                '!': '%21',\n+                \"'\": '%27',\n+                '(': '%28',\n+                ')': '%29',\n+                '~': '%7E',\n+                '%20': '+',\n+                '%00': '\\x00'\n+            };\n+            return encodeURIComponent(str).replace(/[!'\\(\\)~]|%20|%00/g, function(match) {\n+                return replace[match];\n+            });\n+        }\n+\n+        function decode(str) {\n+            return decodeURIComponent(str.replace(/\\+/g, ' '));\n+        }\n+\n+        function makeIterator(arr) {\n+            var iterator = {\n+                next: function() {\n+                    var value = arr.shift();\n+                    return {done: value === undefined, value: value};\n+                }\n+            };\n+\n+            if (iterable) {\n+                iterator[self.Symbol.iterator] = function() {\n+                    return iterator;\n+                };\n+            }\n+\n+            return iterator;\n+        }\n+\n+        function parseToDict(search) {\n+            var dict = {};\n+\n+            if (typeof search === \"object\") {\n+                for (var key in search) {\n+                    if (search.hasOwnProperty(key)) {\n+                        appendTo(dict, key, search[key]);\n+                    }\n+                }\n+\n+            } else {\n+                // remove first '?'\n+                if (search.indexOf(\"?\") === 0) {\n+                    search = search.slice(1);\n+                }\n+\n+                var pairs = search.split(\"&\");\n+                for (var j = 0; j < pairs.length; j++) {\n+                    var value = pairs [j],\n+                        index = value.indexOf('=');\n+\n+                    if (-1 < index) {\n+                        appendTo(dict, decode(value.slice(0, index)), decode(value.slice(index + 1)));\n+\n+                    } else {\n+                        if (value) {\n+                            appendTo(dict, decode(value), '');\n+                        }\n+                    }\n+                }\n+            }\n+\n+            return dict;\n+        }\n+\n+        function appendTo(dict, name, value) {\n+            var val = typeof value === 'string' ? value : (\n+                value !== null && value !== undefined && typeof value.toString === 'function' ? value.toString() : JSON.stringify(value)\n+            );\n+\n+            if (name in dict) {\n+                dict[name].push(val);\n+            } else {\n+                dict[name] = [val];\n+            }\n+        }\n+\n+    })(typeof commonjsGlobal !== 'undefined' ? commonjsGlobal : (typeof window !== 'undefined' ? window : commonjsGlobal));\n+\n+    /*\n+     * Copyright (C) 2007-2020 Crafter Software Corporation. All Rights Reserved.\n+     *\n+     * This program is free software: you can redistribute it and/or modify\n+     * it under the terms of the GNU Lesser General Public License version 3\n+     * as published by the Free Software Foundation.\n+     *\n+     * This program is distributed in the hope that it will be useful,\n+     * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+     * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n+     * GNU Lesser General Public License for more details.\n+     *\n+     * You should have received a copy of the GNU Lesser General Public License\n+     * along with this program. If not, see http://www.gnu.org/licenses/.\n+     */\n+    function httpGet(requestURL, params) {\n+        if (params === void 0) { params = {}; }\n+        var searchParams = new URLSearchParams(params);\n+        return ajax.ajax.get(requestURL + \"?\" + searchParams.toString()).pipe(operators.pluck('response'));\n+    }\n+    function httpPost(requestURL, body) {\n+        if (body === void 0) { body = {}; }\n+        return ajax.ajax.post(requestURL, body, { 'Content-Type': 'application/json' }).pipe(operators.pluck('response'));\n+    }\n+    var SDKService = {\n+        httpGet: httpGet,\n+        httpPost: httpPost\n+    };\n+\n+    /*! *****************************************************************************\n+    Copyright (c) Microsoft Corporation. All rights reserved.\n+    Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use\n+    this file except in compliance with the License. You may obtain a copy of the\n+    License at http://www.apache.org/licenses/LICENSE-2.0\n+\n+    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\n+    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\n+    MERCHANTABLITY OR NON-INFRINGEMENT.\n+\n+    See the Apache Version 2.0 License for specific language governing permissions\n+    and limitations under the License.\n+    ***************************************************************************** */\n+\n+    var __assign = function() {\n+        __assign = Object.assign || function __assign(t) {\n+            for (var s, i = 1, n = arguments.length; i < n; i++) {\n+                s = arguments[i];\n+                for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n+            }\n+            return t;\n+        };\n+        return __assign.apply(this, arguments);\n+    };\n+\n+    /*\n+     * Copyright (C) 2007-2020 Crafter Software Corporation. All Rights Reserved.\n+     *\n+     * This program is free software: you can redistribute it and/or modify\n+     * it under the terms of the GNU Lesser General Public License version 3\n+     * as published by the Free Software Foundation.\n+     *\n+     * This program is distributed in the hope that it will be useful,\n+     * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+     * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n+     * GNU Lesser General Public License for more details.\n+     *\n+     * You should have received a copy of the GNU Lesser General Public License\n+     * along with this program. If not, see http://www.gnu.org/licenses/.\n+     */\n+    var DEFAULTS = {\n+        site: '',\n+        baseUrl: '',\n+        searchId: null,\n+        endpoints: {\n+            GET_ITEM_URL: '/api/1/site/content_store/item.json',\n+            GET_DESCRIPTOR: '/api/1/site/content_store/descriptor.json',\n+            GET_CHILDREN: '/api/1/site/content_store/children.json',\n+            GET_TREE: '/api/1/site/content_store/tree.json',\n+            GET_NAV_TREE: '/api/1/site/navigation/tree.json',\n+            GET_BREADCRUMB: '/api/1/site/navigation/breadcrumb.json',\n+            TRANSFORM_URL: '/api/1/site/url/transform.json',\n+            SEARCH: 'crafter-search/api/2/search/search.json',\n+            ELASTICSEARCH: 'api/1/site/elasticsearch/search'\n+        },\n+        contentTypeRegistry: {}\n+    };\n+    var ConfigManager = /** @class */ (function () {\n+        function ConfigManager() {\n+            this.config = __assign({}, DEFAULTS);\n+            this.config$ = new rxjs.BehaviorSubject(__assign({}, DEFAULTS));\n+        }\n+        ConfigManager.prototype.publishConfig = function (config) {\n+            this.config = __assign({}, config);\n+            this.config$.next(__assign({}, config));\n+        };\n+        ConfigManager.prototype.subscribe = function (observerOrNext) {\n+            var operators = [];\n+            for (var _i = 1; _i < arguments.length; _i++) {\n+                operators[_i - 1] = arguments[_i];\n+            }\n+            return this.config$.pipe.apply(this.config$, operators).subscribe(observerOrNext);\n+        };\n+        ConfigManager.prototype.entry = function (propPath, nextValue) {\n+            var _a;\n+            var config = this.config;\n+            if (!propPath)\n+                return __assign({}, config);\n+            var getter = (nextValue == null);\n+            var path = propPath.split('.');\n+            var prop = (!getter) && (path.pop());\n+            var value = (function () {\n+                try {\n+                    var l_1 = path.length - 1;\n+                    return path.length ? path.reduce(function (cfg, property, i) {\n+                        return getter && (l_1 === i) && utils.isPlainObject(cfg[property])\n+                            ? __assign({}, cfg[property]) : cfg[property];\n+                    }, config) : config;\n+                }\n+                catch (e) {\n+                    utils.log(\"Error retrieving crafter config prop '\" + propPath + \"': \" + (e.message || e), utils.log.WARN);\n+                    return null;\n+                }\n+            })();\n+            if (getter) {\n+                return value;\n+            }\n+            else if ((prop in value) ||\n+                (path[path.length - 1] === 'contentTypeRegistry')) {\n+                this.publishConfig(__assign(__assign({}, value), (_a = {}, _a[prop] = nextValue, _a)));\n+            }\n+        };\n+        ConfigManager.prototype.getConfig = function () {\n+            return __assign({}, this.config);\n+        };\n+        ConfigManager.prototype.mix = function (mixin) {\n+            if (mixin === void 0) { mixin = {}; }\n+            return __assign(__assign({}, this.config), mixin);\n+        };\n+        ConfigManager.prototype.configure = function (nextConfig) {\n+            var newConfig = utils.extendDeepExistingProps(__assign({}, this.config), nextConfig);\n+            this.publishConfig(newConfig);\n+        };\n+        return ConfigManager;\n+    }());\n+    var crafterConf = new ConfigManager();\n+\n+    exports.Messenger = Messenger;\n+    exports.SDKService = SDKService;\n+    exports.crafterConf = crafterConf;\n+    exports.httpGet = httpGet;\n+    exports.httpPost = httpPost;\n+\n+    Object.defineProperty(exports, '__esModule', { value: true });\n+\n+})));\n+//# sourceMappingURL=classes.umd.js.map"
  },
  {
    "sha": "106faad507fbd65ac00869a54b5a9879d0442934",
    "filename": "src/main/webapp/repo-bootstrap/global/blueprints/2000_headless_store/static-assets/js/craftercms-sdk/content/content.umd.js",
    "status": "added",
    "additions": 391,
    "deletions": 0,
    "changes": 391,
    "blob_url": "https://github.com/craftercms/studio/blob/035ab778835bddf7a4688b1ec7c4c8bc78c5157a/src/main/webapp/repo-bootstrap/global/blueprints/2000_headless_store/static-assets/js/craftercms-sdk/content/content.umd.js",
    "raw_url": "https://github.com/craftercms/studio/raw/035ab778835bddf7a4688b1ec7c4c8bc78c5157a/src/main/webapp/repo-bootstrap/global/blueprints/2000_headless_store/static-assets/js/craftercms-sdk/content/content.umd.js",
    "contents_url": "https://api.github.com/repos/craftercms/studio/contents/src/main/webapp/repo-bootstrap/global/blueprints/2000_headless_store/static-assets/js/craftercms-sdk/content/content.umd.js?ref=035ab778835bddf7a4688b1ec7c4c8bc78c5157a",
    "patch": "@@ -0,0 +1,391 @@\n+/*\n+ * Copyright (C) 2007-2020 Crafter Software Corporation. All Rights Reserved.\n+ *\n+ * This program is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License version 3 as published by\n+ * the Free Software Foundation.\n+ *\n+ * This program is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public License\n+ * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+ */\n+(function (global, factory) {\n+    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('@craftercms/classes'), require('@craftercms/utils')) :\n+    typeof define === 'function' && define.amd ? define('@craftercms/content', ['exports', '@craftercms/classes', '@craftercms/utils'], factory) :\n+    (global = global || self, factory((global.craftercms = global.craftercms || {}, global.craftercms.content = {}), global.craftercms.classes, global.craftercms.utils));\n+}(this, (function (exports, classes, utils) { 'use strict';\n+\n+    /*\n+     * Copyright (C) 2007-2020 Crafter Software Corporation. All Rights Reserved.\n+     *\n+     * This program is free software: you can redistribute it and/or modify\n+     * it under the terms of the GNU General Public License version 3 as published by\n+     * the Free Software Foundation.\n+     *\n+     * This program is distributed in the hope that it will be useful,\n+     * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+     * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+     * GNU General Public License for more details.\n+     *\n+     * You should have received a copy of the GNU General Public License\n+     * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+     */\n+\n+    /*\n+     * Copyright (C) 2007-2020 Crafter Software Corporation. All Rights Reserved.\n+     *\n+     * This program is free software: you can redistribute it and/or modify\n+     * it under the terms of the GNU Lesser General Public License version 3\n+     * as published by the Free Software Foundation.\n+     *\n+     * This program is distributed in the hope that it will be useful,\n+     * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+     * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n+     * GNU Lesser General Public License for more details.\n+     *\n+     * You should have received a copy of the GNU Lesser General Public License\n+     * along with this program. If not, see http://www.gnu.org/licenses/.\n+     */\n+    function getItem(path, config) {\n+        config = classes.crafterConf.mix(config);\n+        var requestURL = utils.composeUrl(config, config.endpoints.GET_ITEM_URL);\n+        return classes.SDKService.httpGet(requestURL, { url: path, crafterSite: config.site });\n+    }\n+    function getDescriptor(path, config) {\n+        config = classes.crafterConf.mix(config);\n+        var requestURL = utils.composeUrl(config, config.endpoints.GET_DESCRIPTOR);\n+        return classes.SDKService.httpGet(requestURL, {\n+            url: path,\n+            crafterSite: config.site,\n+            flatten: Boolean(config.flatten)\n+        });\n+    }\n+    function getChildren(path, config) {\n+        config = classes.crafterConf.mix(config);\n+        var requestURL = utils.composeUrl(config, config.endpoints.GET_CHILDREN);\n+        return classes.SDKService.httpGet(requestURL, { url: path, crafterSite: config.site });\n+    }\n+    function getTree(path, depth, config) {\n+        if (depth === void 0) { depth = 1; }\n+        if (typeof depth === 'object') {\n+            config = depth;\n+            depth = 1;\n+        }\n+        config = classes.crafterConf.mix(config);\n+        var requestURL = utils.composeUrl(config, config.endpoints.GET_TREE);\n+        return classes.SDKService.httpGet(requestURL, { url: path, depth: depth, crafterSite: config.site });\n+    }\n+    var ContentStoreService = {\n+        getItem: getItem,\n+        getDescriptor: getDescriptor,\n+        getChildren: getChildren,\n+        getTree: getTree\n+    };\n+\n+    /*\n+     * Copyright (C) 2007-2020 Crafter Software Corporation. All Rights Reserved.\n+     *\n+     * This program is free software: you can redistribute it and/or modify\n+     * it under the terms of the GNU Lesser General Public License version 3\n+     * as published by the Free Software Foundation.\n+     *\n+     * This program is distributed in the hope that it will be useful,\n+     * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+     * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n+     * GNU Lesser General Public License for more details.\n+     *\n+     * You should have received a copy of the GNU Lesser General Public License\n+     * along with this program. If not, see http://www.gnu.org/licenses/.\n+     */\n+    function getNavTree(path, depth, currentPageUrl, config) {\n+        if (depth === void 0) { depth = 1; }\n+        if (currentPageUrl === void 0) { currentPageUrl = ''; }\n+        config = classes.crafterConf.mix(config);\n+        var requestURL = utils.composeUrl(config, config.endpoints.GET_NAV_TREE);\n+        return classes.SDKService.httpGet(requestURL, {\n+            crafterSite: config.site,\n+            currentPageUrl: currentPageUrl,\n+            url: path,\n+            depth: depth\n+        });\n+    }\n+    function getNavBreadcrumb(path, root, config) {\n+        if (root === void 0) { root = ''; }\n+        config = classes.crafterConf.mix(config);\n+        var requestURL = utils.composeUrl(config, config.endpoints.GET_BREADCRUMB);\n+        return classes.SDKService.httpGet(requestURL, {\n+            crafterSite: config.site,\n+            url: path,\n+            root: root\n+        });\n+    }\n+    /**\n+     * Navigation Service API\n+     */\n+    var NavigationService = {\n+        getNavTree: getNavTree,\n+        getNavBreadcrumb: getNavBreadcrumb\n+    };\n+\n+    /*\n+     * Copyright (C) 2007-2020 Crafter Software Corporation. All Rights Reserved.\n+     *\n+     * This program is free software: you can redistribute it and/or modify\n+     * it under the terms of the GNU Lesser General Public License version 3\n+     * as published by the Free Software Foundation.\n+     *\n+     * This program is distributed in the hope that it will be useful,\n+     * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+     * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n+     * GNU Lesser General Public License for more details.\n+     *\n+     * You should have received a copy of the GNU Lesser General Public License\n+     * along with this program. If not, see http://www.gnu.org/licenses/.\n+     */\n+    function urlTransform(transformerName, url, config) {\n+        config = classes.crafterConf.mix(config);\n+        var requestURL = utils.composeUrl(config, config.endpoints.TRANSFORM_URL);\n+        return classes.SDKService.httpGet(requestURL, {\n+            crafterSite: config.site,\n+            transformerName: transformerName,\n+            url: url\n+        });\n+    }\n+    /**\n+     * URL Transformation Service API\n+     */\n+    var UrlTransformationService = {\n+        transform: urlTransform,\n+        urlTransform: urlTransform\n+    };\n+\n+    /*! *****************************************************************************\n+    Copyright (c) Microsoft Corporation. All rights reserved.\n+    Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use\n+    this file except in compliance with the License. You may obtain a copy of the\n+    License at http://www.apache.org/licenses/LICENSE-2.0\n+\n+    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\n+    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\n+    MERCHANTABLITY OR NON-INFRINGEMENT.\n+\n+    See the Apache Version 2.0 License for specific language governing permissions\n+    and limitations under the License.\n+    ***************************************************************************** */\n+\n+    var __assign = function() {\n+        __assign = Object.assign || function __assign(t) {\n+            for (var s, i = 1, n = arguments.length; i < n; i++) {\n+                s = arguments[i];\n+                for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n+            }\n+            return t;\n+        };\n+        return __assign.apply(this, arguments);\n+    };\n+\n+    /*\n+     * Copyright (C) 2007-2020 Crafter Software Corporation. All Rights Reserved.\n+     *\n+     * This program is free software: you can redistribute it and/or modify\n+     * it under the terms of the GNU Lesser General Public License version 3\n+     * as published by the Free Software Foundation.\n+     *\n+     * This program is distributed in the hope that it will be useful,\n+     * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+     * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n+     * GNU Lesser General Public License for more details.\n+     *\n+     * You should have received a copy of the GNU Lesser General Public License\n+     * along with this program. If not, see http://www.gnu.org/licenses/.\n+     */\n+    var systemPropMap = {\n+        guid: 'id',\n+        cmsId: 'id',\n+        objectId: 'id',\n+        localId: 'path',\n+        'file-name': 'fileName',\n+        'file__name': 'fileName',\n+        placeInNav: 'placeInNav',\n+        'internal-name': 'label',\n+        internal__name: 'label',\n+        'content-type': 'contentTypeId',\n+        content__type: 'contentTypeId',\n+        createdDate_dt: 'dateCreated',\n+        lastModifiedDate_dt: 'dateModified',\n+        disabled: 'disabled'\n+    };\n+    var ignoreProps = [\n+        'orderDefault_f',\n+        'merge-strategy',\n+        'display-template',\n+        'objectGroupId',\n+        'folder-name',\n+        'createdDate',\n+        'lastModifiedDate',\n+        'no-template-required'\n+    ];\n+    var systemProps = Object.keys(systemPropMap).concat(Object.values(systemPropMap));\n+    function parseDescriptor(data) {\n+        if (data == null) {\n+            return null;\n+        }\n+        else if (Array.isArray(data)) {\n+            return data.map(function (item) { return parseDescriptor(item); });\n+        }\n+        else if (data.children) {\n+            return parseDescriptor(extractChildren(data.children));\n+        }\n+        else if (data.descriptorDom === null && data.descriptorUrl) {\n+            // This path catches calls to getChildren (/api/1/site/content_store/children.json?url=&crafterSite=)\n+            // The getChildren call contains certain items that can't be parsed into content items.\n+            throw new Error('[parseDescriptor] Invalid descriptor supplied. Did you call ' +\n+                'parseDescriptor with a `getChildren` API response? The `getChildren` API ' +\n+                'response may contain certain items that are not parsable into ContentInstances. ' +\n+                'Try a different API (getItem, getDescriptor or getTree) or filter out the metadata ' +\n+                'items which descriptorDom property has a `page` or `component` property with the content item.');\n+        }\n+        var parsed = {\n+            craftercms: {\n+                id: null,\n+                path: null,\n+                label: null,\n+                contentTypeId: null,\n+                dateCreated: null,\n+                dateModified: null,\n+                sourceMap: {}\n+            }\n+        };\n+        return parseProps(extractContent(data), parsed);\n+    }\n+    function parseProps(props, parsed) {\n+        if (parsed === void 0) { parsed = {}; }\n+        Object.entries(props).forEach(function (_a) {\n+            var _b, _c;\n+            var prop = _a[0], value = _a[1];\n+            if (ignoreProps.includes(prop)) {\n+                return; // continue, skip prop.\n+            }\n+            if (value === null || value === void 0 ? void 0 : value['crafter-source-content-type-id']) {\n+                // @ts-ignore\n+                parsed.craftercms.sourceMap[prop] = value['crafter-source-content-type-id'];\n+                if (typeof value.text === 'string') {\n+                    value = value.text;\n+                }\n+                else if (Object.keys(value).length === 2) {\n+                    // Only has `crafter-source` & `crafter-source-content-type-id`. Empty value for the actual prop.\n+                    value = null;\n+                }\n+            }\n+            if (systemProps.includes(prop)) {\n+                // @ts-ignore\n+                parsed.craftercms[(_b = systemPropMap[prop]) !== null && _b !== void 0 ? _b : prop] = value;\n+                // Is there a risk prop name that matches what's considered a system prop?\n+                // In that case, here, parsed.craftercms might not be in the target object\n+                // and throw. We could do the below to de-risk but feels this needs assessment.\n+                // if (parsed.craftercms) {\n+                //   parsed.craftercms[systemPropMap[prop] ?? prop] = value;\n+                // } else {\n+                //   parsed[prop] = value;\n+                // }\n+            }\n+            else if (prop.endsWith('_o')) {\n+                parsed[prop] = (_c = value === null || value === void 0 ? void 0 : value.item) !== null && _c !== void 0 ? _c : [];\n+                if (!Array.isArray(parsed[prop])) {\n+                    parsed[prop] = [parsed[prop]];\n+                }\n+                parsed[prop] = parsed[prop].map(function (item) {\n+                    var key = item.key, value = item.value, component = item.component, include = item.include;\n+                    if ((item.component) || (item.key && item.value)) {\n+                        // Components\n+                        var newComponent = __assign(__assign({ label: value }, component), { path: (key === null || key === void 0 ? void 0 : key.startsWith('/')) ? key : ((include === null || include === void 0 ? void 0 : include.startsWith('/')) ? include : null) });\n+                        return parseDescriptor(newComponent);\n+                    }\n+                    else {\n+                        // Repeat group items\n+                        return parseProps(item);\n+                    }\n+                });\n+            }\n+            else {\n+                parsed[prop] = value !== null && value !== void 0 ? value : null;\n+            }\n+        });\n+        return parsed;\n+    }\n+    /**\n+     * Inspects the data for getItem or getDescriptor responses and returns the inner content object\n+     * */\n+    function extractContent(data) {\n+        var output = data;\n+        if (data.descriptorDom) {\n+            return __assign(__assign({}, (data.descriptorDom.page || data.descriptorDom.component)), { path: data.url });\n+        }\n+        else if (data.page) {\n+            return data.page;\n+        }\n+        else if (data.component) {\n+            return data.component;\n+        }\n+        return output;\n+    }\n+    /**\n+     * Flattens a getChildren response into a flat list of content items\n+     * */\n+    function extractChildren(children) {\n+        return children.flatMap(function (child) {\n+            return child.children ? extractChildren(child.children) : child;\n+        });\n+    }\n+    var propsToRemove = [\n+        'rootId',\n+        'crafterSite',\n+        'crafterPublishedDate',\n+        'crafterPublishedDate_dt',\n+        'inheritsFrom_smv'\n+    ];\n+    function preParseSearchResults(source) {\n+        Object.entries(source).forEach(function (_a) {\n+            var prop = _a[0], value = _a[1];\n+            if (propsToRemove.includes(prop)) {\n+                delete source[prop];\n+            }\n+            else if (prop.endsWith('_o')) {\n+                var collection = value;\n+                if (!Array.isArray(collection.item)) {\n+                    source[prop] = { item: [collection.item] };\n+                }\n+                source[prop].item.forEach(function (item, i) {\n+                    source[prop].item[i] = preParseSearchResults(item);\n+                    if (item.component) {\n+                        source[prop].item[i].component = preParseSearchResults(item.component);\n+                    }\n+                });\n+            }\n+        });\n+        return source;\n+    }\n+\n+    exports.ContentStoreService = ContentStoreService;\n+    exports.NavigationService = NavigationService;\n+    exports.UrlTransformationService = UrlTransformationService;\n+    exports.getChildren = getChildren;\n+    exports.getDescriptor = getDescriptor;\n+    exports.getItem = getItem;\n+    exports.getNavBreadcrumb = getNavBreadcrumb;\n+    exports.getNavTree = getNavTree;\n+    exports.getTree = getTree;\n+    exports.parseDescriptor = parseDescriptor;\n+    exports.parseProps = parseProps;\n+    exports.preParseSearchResults = preParseSearchResults;\n+    exports.urlTransform = urlTransform;\n+\n+    Object.defineProperty(exports, '__esModule', { value: true });\n+\n+})));\n+//# sourceMappingURL=content.umd.js.map"
  },
  {
    "sha": "84ab350e2139d15cb4fa442ae64932e4b09ad525",
    "filename": "src/main/webapp/repo-bootstrap/global/blueprints/2000_headless_store/static-assets/js/craftercms-sdk/utils/utils.umd.js",
    "status": "added",
    "additions": 139,
    "deletions": 0,
    "changes": 139,
    "blob_url": "https://github.com/craftercms/studio/blob/035ab778835bddf7a4688b1ec7c4c8bc78c5157a/src/main/webapp/repo-bootstrap/global/blueprints/2000_headless_store/static-assets/js/craftercms-sdk/utils/utils.umd.js",
    "raw_url": "https://github.com/craftercms/studio/raw/035ab778835bddf7a4688b1ec7c4c8bc78c5157a/src/main/webapp/repo-bootstrap/global/blueprints/2000_headless_store/static-assets/js/craftercms-sdk/utils/utils.umd.js",
    "contents_url": "https://api.github.com/repos/craftercms/studio/contents/src/main/webapp/repo-bootstrap/global/blueprints/2000_headless_store/static-assets/js/craftercms-sdk/utils/utils.umd.js?ref=035ab778835bddf7a4688b1ec7c4c8bc78c5157a",
    "patch": "@@ -0,0 +1,139 @@\n+/*\n+ * Copyright (C) 2007-2020 Crafter Software Corporation. All Rights Reserved.\n+ *\n+ * This program is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License version 3 as published by\n+ * the Free Software Foundation.\n+ *\n+ * This program is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public License\n+ * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+ */\n+(function (global, factory) {\n+    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n+    typeof define === 'function' && define.amd ? define('@craftercms/utils', ['exports'], factory) :\n+    (global = global || self, factory((global.craftercms = global.craftercms || {}, global.craftercms.utils = {})));\n+}(this, (function (exports) { 'use strict';\n+\n+    /*\n+     * Copyright (C) 2007-2020 Crafter Software Corporation. All Rights Reserved.\n+     *\n+     * This program is free software: you can redistribute it and/or modify\n+     * it under the terms of the GNU General Public License version 3 as published by\n+     * the Free Software Foundation.\n+     *\n+     * This program is distributed in the hope that it will be useful,\n+     * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+     * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+     * GNU General Public License for more details.\n+     *\n+     * You should have received a copy of the GNU General Public License\n+     * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+     */\n+    /*\n+     * Copyright (C) 2007-2020 Crafter Software Corporation. All Rights Reserved.\n+     *\n+     * This program is free software: you can redistribute it and/or modify\n+     * it under the terms of the GNU Lesser General Public License version 3\n+     * as published by the Free Software Foundation.\n+     *\n+     * This program is distributed in the hope that it will be useful,\n+     * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+     * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n+     * GNU Lesser General Public License for more details.\n+     *\n+     * You should have received a copy of the GNU Lesser General Public License\n+     * along with this program. If not, see http://www.gnu.org/licenses/.\n+     */\n+    function composeUrl(crafterConfigOrBaseUrl, endpoint) {\n+        var base = (typeof crafterConfigOrBaseUrl === 'string')\n+            ? crafterConfigOrBaseUrl\n+            : (crafterConfigOrBaseUrl.baseUrl ? crafterConfigOrBaseUrl.baseUrl + \"/\" : '');\n+        return (\"\" + base + endpoint).replace(/([^:]\\/)\\/+/g, \"$1\");\n+    }\n+    function isPlainObject(obj) {\n+        return typeof obj === 'object' && obj !== null && obj.constructor == Object;\n+    }\n+    function extendDeep(target, source) {\n+        for (var prop in source) {\n+            if (source.hasOwnProperty(prop)) {\n+                if (prop in target && isPlainObject(target[prop]) && isPlainObject(source[prop])) {\n+                    extendDeep(target[prop], source[prop]);\n+                }\n+                else {\n+                    target[prop] = source[prop];\n+                }\n+            }\n+        }\n+        return target;\n+    }\n+    function extendDeepExistingProps(target, source) {\n+        for (var prop in source) {\n+            if (prop in target && source.hasOwnProperty(prop)) {\n+                if (isPlainObject(target[prop]) && isPlainObject(source[prop])) {\n+                    extendDeep(target[prop], source[prop]);\n+                }\n+                else {\n+                    target[prop] = source[prop];\n+                }\n+            }\n+        }\n+        return target;\n+    }\n+    function nullOrUndefined(value) {\n+        return value == null;\n+    }\n+    function notNullOrUndefined(value) {\n+        return !nullOrUndefined(value);\n+    }\n+    function createLookupTable(list, idProp) {\n+        if (idProp === void 0) { idProp = 'id'; }\n+        return list.reduce(function (table, item) {\n+            var id = item[idProp];\n+            table[id] = item;\n+            return table;\n+        }, {});\n+    }\n+\n+    /*\n+     * Copyright (C) 2007-2020 Crafter Software Corporation. All Rights Reserved.\n+     *\n+     * This program is free software: you can redistribute it and/or modify\n+     * it under the terms of the GNU Lesser General Public License version 3\n+     * as published by the Free Software Foundation.\n+     *\n+     * This program is distributed in the hope that it will be useful,\n+     * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+     * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n+     * GNU Lesser General Public License for more details.\n+     *\n+     * You should have received a copy of the GNU Lesser General Public License\n+     * along with this program. If not, see http://www.gnu.org/licenses/.\n+     */\n+    function log(message, type) {\n+        if (type === void 0) { type = log.DEFAULT; }\n+        console && (console[type] && !console[type](message) || console.log && console.log(message));\n+    }\n+    (function (log) {\n+        log.DEFAULT = 'log';\n+        log.ERROR = 'error';\n+        log.WARN = 'warn';\n+    })(log || (log = {}));\n+\n+    exports.composeUrl = composeUrl;\n+    exports.createLookupTable = createLookupTable;\n+    exports.extendDeep = extendDeep;\n+    exports.extendDeepExistingProps = extendDeepExistingProps;\n+    exports.isPlainObject = isPlainObject;\n+    exports.log = log;\n+    exports.notNullOrUndefined = notNullOrUndefined;\n+    exports.nullOrUndefined = nullOrUndefined;\n+\n+    Object.defineProperty(exports, '__esModule', { value: true });\n+\n+})));\n+//# sourceMappingURL=utils.umd.js.map"
  },
  {
    "sha": "733d6d8a9eb155c19d3cb7ba25100508abc945d2",
    "filename": "src/main/webapp/repo-bootstrap/global/blueprints/2000_headless_store/templates/web/catalog.ftl",
    "status": "modified",
    "additions": 51,
    "deletions": 45,
    "changes": 96,
    "blob_url": "https://github.com/craftercms/studio/blob/035ab778835bddf7a4688b1ec7c4c8bc78c5157a/src/main/webapp/repo-bootstrap/global/blueprints/2000_headless_store/templates/web/catalog.ftl",
    "raw_url": "https://github.com/craftercms/studio/raw/035ab778835bddf7a4688b1ec7c4c8bc78c5157a/src/main/webapp/repo-bootstrap/global/blueprints/2000_headless_store/templates/web/catalog.ftl",
    "contents_url": "https://api.github.com/repos/craftercms/studio/contents/src/main/webapp/repo-bootstrap/global/blueprints/2000_headless_store/templates/web/catalog.ftl?ref=035ab778835bddf7a4688b1ec7c4c8bc78c5157a",
    "patch": "@@ -1,5 +1,5 @@\n <!--\n-  ~ Copyright (C) 2007-2020 Crafter Software Corporation. All Rights Reserved.\n+  ~ Copyright (C) 2007-2021 Crafter Software Corporation. All Rights Reserved.\n   ~\n   ~ This program is free software: you can redistribute it and/or modify\n   ~ it under the terms of the GNU General Public License version 3 as published by\n@@ -14,10 +14,10 @@\n   ~ along with this program.  If not, see <http://www.gnu.org/licenses/>.\n -->\n \n-<#import \"/templates/system/common/cstudio-support.ftl\" as studio />\n+<#import \"/templates/system/common/ice.ftl\" as studio />\n \n <!DOCTYPE html>\n-<html lang=\"en\">\n+<html lang=\"en\" data-craftercms-preview=\"${modePreview?c}\">\n <head>\n   <meta charset=\"utf-8\">\n   <title>${model.title_t}</title>\n@@ -49,15 +49,15 @@\n             <a href=\"#\" class=\"dropdown-toggle\" data-toggle=\"dropdown\" role=\"button\">Category<span class=\"caret\"></span></a>\n             <ul class=\"dropdown-menu\">\n               <li v-for=\"category in filters.categories\">\n-                  <a href=\"#\" v-on:click=\"selection.category = category; currentPage = 1\">{{ category.value }}</a>\n+                <a href=\"#\" v-on:click=\"selection.category = category; currentPage = 1\">{{ category.value }}</a>\n               </li>\n             </ul>\n           </li>\n           <li class=\"dropdown\" v-if=\"filters && filters.tags\">\n             <a href=\"#\" class=\"dropdown-toggle\" data-toggle=\"dropdown\" role=\"button\">Tag<span class=\"caret\"></span></a>\n             <ul class=\"dropdown-menu\">\n               <li v-for=\"tag in filters.tags\">\n-                  <a href=\"#\" v-on:click=\"selection.tag = tag; currentPage = 1\">{{ tag.value }}</a>\n+                <a href=\"#\" v-on:click=\"selection.tag = tag; currentPage = 1\">{{ tag.value }}</a>\n               </li>\n             </ul>\n           </li>\n@@ -72,28 +72,28 @@\n       </nav>\n     </div>\n     <div class=\"row\" v-if=\"selection.company || selection.category || selection.tag\">\n-        <div class=\"col-sm-12\">\n-            <div class=\"panel panel-default\">\n-                <div class=\"panel-body\">\n-                    <strong>Filtering By:&nbsp;</strong>\n-                    <span class=\"label label-primary\" style=\"margin-right:5px\" v-if=\"selection.company\">\n-                        {{ selection.company.name_s }}\n-                        &nbsp;\n-                        <span class=\"glyphicon glyphicon-remove\" v-on:click=\"selection.company = null\"></span>\n-                    </span>\n-                    <span class=\"label label-primary\" style=\"margin-right:5px\" v-if=\"selection.category\">\n-                        {{ selection.category.value }}\n-                        &nbsp;\n-                        <span class=\"glyphicon glyphicon-remove\" v-on:click=\"selection.category = null\"></span>\n-                    </span>\n-                    <span class=\"label label-primary\" style=\"margin-right:5px\" v-if=\"selection.tag\">\n-                        {{ selection.tag.value }}\n-                        &nbsp;\n-                        <span class=\"glyphicon glyphicon-remove\" v-on:click=\"selection.tag = null\"></span>\n-                    </span>\n-                </div>\n-            </div>\n+      <div class=\"col-sm-12\">\n+        <div class=\"panel panel-default\">\n+          <div class=\"panel-body\">\n+            <strong>Filtering By:&nbsp;</strong>\n+            <span class=\"label label-primary\" style=\"margin-right:5px\" v-if=\"selection.company\">\n+              {{ selection.company.name_s }}\n+              &nbsp;\n+              <span class=\"glyphicon glyphicon-remove\" v-on:click=\"selection.company = null\"></span>\n+            </span>\n+            <span class=\"label label-primary\" style=\"margin-right:5px\" v-if=\"selection.category\">\n+              {{ selection.category.value }}\n+              &nbsp;\n+              <span class=\"glyphicon glyphicon-remove\" v-on:click=\"selection.category = null\"></span>\n+            </span>\n+            <span class=\"label label-primary\" style=\"margin-right:5px\" v-if=\"selection.tag\">\n+              {{ selection.tag.value }}\n+              &nbsp;\n+              <span class=\"glyphicon glyphicon-remove\" v-on:click=\"selection.tag = null\"></span>\n+            </span>\n+          </div>\n         </div>\n+      </div>\n     </div>\n     <div class=\"row\" v-if=\"selection.company\">\n       <div class=\"col-sm-12\">\n@@ -111,27 +111,31 @@\n       </div>\n     </div>\n     <div class=\"row\" v-if=\"products && products.items\">\n-        <div v-for=\"(product, i) in products.items\">\n-            <div class=\"col-md-3\">\n-                <div class=\"panel panel-default\" v-bind:data-studio-component-path=\"product.localId\"\n-                     v-bind:data-studio-component=\"product.localId\" data-studio-ice=\"\"\n-                     v-bind:data-studio-ice-path=\"product.localId\">\n-                    <div class=\"panel-body\">\n-                        <img v-bind:src=\"product.image_s\" class=\"img-responsive img-thumbnail center-block\"\n-                             data-toggle=\"popover\" data-trigger=\"hover\" v-bind:data-content=\"product.description_html_raw\"\n-                             data-html=\"true\"/>\n-                        <h4>{{ product.name_s }}<small> by {{ product.company_o.item[0].component.name_s }}<small></h4>\n-                        <span class=\"badge pull-right\">&#36;{{ product.price_d }}</span>\n-                    </div>\n-                </div>\n+      <div v-for=\"(product, i) in products.items\" :key=\"product.craftercms.id\">\n+        <div class=\"col-md-3\">\n+          <div class=\"panel panel-default\" v-bind=\"getICE(product)\">\n+            <div class=\"panel-body\">\n+              <img\n+                v-bind:src=\"product.image_s\"\n+                v-bind:data-content=\"product.description_html_raw\"\n+                class=\"img-responsive img-thumbnail center-block\"\n+                data-toggle=\"popover\"\n+                data-trigger=\"hover\"\n+                data-html=\"true\"\n+                v-bind=\"getICE(product, 'image_s')\"\n+              />\n+              <h4>{{ product.name_s }}<small> by {{ product.company_o[0].name_s }}</small></h4>\n+              <span class=\"badge pull-right\">&#36;{{ product.price_d }}</span>\n             </div>\n-            <div class=\"clearfix\" v-if=\"(i + 1) % 4 == 0\"></div>\n+          </div>\n         </div>\n+        <div class=\"clearfix\" v-if=\"(i + 1) % 4 == 0\"></div>\n+      </div>\n     </div>\n     <div class=\"row\" v-if=\"products.total == 0\">\n-        <div class=\"col-md-12 well text-center\">\n-            <h2>No products found</h2>\n-        </div>\n+      <div class=\"col-md-12 well text-center\">\n+        <h2>No products found</h2>\n+      </div>\n     </div>\n     <div class=\"row\">\n       <div class=\"col-md-12\" v-if=\"pagination.total > 1\">\n@@ -143,7 +147,7 @@\n               </a>\n             </li>\n             <li v-for=\"n in pagination.total\" v-bind:class=\"{ active: n == currentPage }\">\n-                <a href=\"#\" v-on:click=\"currentPage = n\">{{ n }}</a>\n+              <a href=\"#\" v-on:click=\"currentPage = n\">{{ n }}</a>\n             </li>\n             <li v-bind:class=\"{ disabled: !pagination.hasNext }\">\n               <a href=\"#\" aria-label=\"Next\" v-on:click=\"currentPage++\">\n@@ -155,12 +159,14 @@\n       </div>\n     </div>\n   </div>\n+\n   <script src=\"https://code.jquery.com/jquery-3.2.1.min.js\"></script>\n   <script src=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js\"></script>\n   <script src=\"https://unpkg.com/vue@2.6.10/dist/vue.min.js\"></script>\n   <script src=\"https://unpkg.com/vue-resource@1.5.1/dist/vue-resource.min.js\"></script>\n   <script src=\"https://unpkg.com/vue-async-computed@3.6.1/dist/vue-async-computed.js\"></script>\n+  <script src=\"/static-assets/js/craftercms-sdk/content/content.umd.js\"></script>\n   <script src=\"/static-assets/js/catalog.js\"></script>\n-  <@studio.toolSupport/>\n+  <@studio.initPageBuilder/>\n </body>\n </html>"
  },
  {
    "sha": "d18cabcf4bddd60cb76874b0fa552e81ba513100",
    "filename": "src/main/webapp/repo-bootstrap/global/blueprints/4000_empty/config/studio/context-nav/sidebar.xml",
    "status": "modified",
    "additions": 87,
    "deletions": 51,
    "changes": 138,
    "blob_url": "https://github.com/craftercms/studio/blob/035ab778835bddf7a4688b1ec7c4c8bc78c5157a/src/main/webapp/repo-bootstrap/global/blueprints/4000_empty/config/studio/context-nav/sidebar.xml",
    "raw_url": "https://github.com/craftercms/studio/raw/035ab778835bddf7a4688b1ec7c4c8bc78c5157a/src/main/webapp/repo-bootstrap/global/blueprints/4000_empty/config/studio/context-nav/sidebar.xml",
    "contents_url": "https://api.github.com/repos/craftercms/studio/contents/src/main/webapp/repo-bootstrap/global/blueprints/4000_empty/config/studio/context-nav/sidebar.xml?ref=035ab778835bddf7a4688b1ec7c4c8bc78c5157a",
    "patch": "@@ -103,72 +103,108 @@\n                                         <path>/site-dashboard</path>\n                                     </params>\n                                 </modulehook>\n-\n-                                <!-- Site IA Pages -->\n+                                <!-- Site Config -->\n                                 <modulehook>\n-                                    <name>wcm-root-folder</name>                                    \n+                                    <name>site-config</name>\n+                                    <divider>true</divider>\n                                     <params>\n-                                        <label>Pages</label>\n-                                        <path>/site/website</path>\n-                                        <showRootItem>true</showRootItem>\n-                                        <onClick>preview</onClick>\n+                                        <roles>\n+                                            <role>admin</role>\n+                                            <role>developer</role>\n+                                        </roles>\n+                                        <label>Site Config</label>\n+                                        <path>/site-config</path>\n                                     </params>\n                                 </modulehook>\n-\n-                                <!-- Components -->\n+                                <!-- Path Navigator: Pages -->\n                                 <modulehook>\n-                                    <name>wcm-root-folder</name>                                    \n-                                    <params>\n+                                    <render>PagesWidget</render>\n+                                    <props>\n+                                        <label>Pages</label>\n+                                        <icon>\n+                                            <baseClass>fa fa-file-text-o</baseClass>\n+                                        </icon>\n+                                        <rootPath>/site/website</rootPath>\n+                                        <locale>en</locale>\n+                                    </props>\n+                                    <container>\n+                                        <style>\n+                                            <padding-left>9px</padding-left>\n+                                        </style>\n+                                        <class>next-pages-widget</class>\n+                                    </container>\n+                                </modulehook>\n+                                <!-- Path Navigator: Components -->\n+                                <modulehook>\n+                                    <render>PagesWidget</render>\n+                                    <props>\n                                         <label>Components</label>\n-                                        <path>/site/components</path>\n-                                        <showRootItem>true</showRootItem>\n-                                    </params>\n+                                        <icon>\n+                                            <baseClass>fa fa-puzzle-piece</baseClass>\n+                                        </icon>\n+                                        <rootPath>/site/components</rootPath>\n+                                        <locale>en</locale>\n+                                    </props>\n+                                    <container>\n+                                        <style>\n+                                            <padding-left>9px</padding-left>\n+                                        </style>\n+                                        <class>next-pages-widget</class>\n+                                    </container>\n                                 </modulehook>\n-\n-                                <!-- Static Assets -->\n+                                <!-- Path Navigator: Static Assets -->\n                                 <modulehook>\n-                                    <name>wcm-assets-folder</name>                                    \n-                                    <params>\n+                                    <render>PagesWidget</render>\n+                                    <props>\n                                         <label>Static Assets</label>\n-                                        <path>/static-assets</path>\n-                                        <showRootItem>true</showRootItem>\n-                                        <onClick>none</onClick>\n-                                    </params>\n+                                        <icon>\n+                                            <baseClass>fa fa-image</baseClass>\n+                                        </icon>\n+                                        <rootPath>/static-assets</rootPath>\n+                                        <locale>en</locale>\n+                                    </props>\n+                                    <container>\n+                                        <style>\n+                                            <padding-left>9px</padding-left>\n+                                        </style>\n+                                        <class>next-pages-widget</class>\n+                                    </container>\n                                 </modulehook>\n-\n-                                <!-- Templates -->\n+                                <!-- Path Navigator: Templates -->\n                                 <modulehook>\n-                                    <name>wcm-assets-folder</name>                                    \n-                                    <params>\n+                                    <render>PagesWidget</render>\n+                                    <props>\n                                         <label>Templates</label>\n-                                        <path>/templates</path>\n-                                        <showRootItem>true</showRootItem>\n-                                        <onClick>none</onClick>\n-                                    </params>\n+                                        <icon>\n+                                            <baseClass>fa fa-file-code-o</baseClass>\n+                                        </icon>\n+                                        <rootPath>/templates</rootPath>\n+                                        <locale>en</locale>\n+                                    </props>\n+                                    <container>\n+                                        <style>\n+                                            <padding-left>9px</padding-left>\n+                                        </style>\n+                                        <class>next-pages-widget</class>\n+                                    </container>\n                                 </modulehook>\n-\n-                                <!-- Scripts -->\n+                                <!-- Path Navigator: Scripts -->\n                                 <modulehook>\n-                                    <name>wcm-assets-folder</name>                                    \n-                                    <params>\n+                                    <render>PagesWidget</render>\n+                                    <props>\n                                         <label>Scripts</label>\n-                                        <path>/scripts</path>\n-                                        <showRootItem>true</showRootItem>\n-                                        <onClick>none</onClick>\n-                                    </params>\n-                                </modulehook>\n-\n-                                <!-- Site Config -->\n-                                <modulehook>\n-                                    <name>site-config</name>                                    \n-                                    <params>\n-                                        <roles>\n-                                            <role>admin</role>\n-                                            <role>developer</role>\n-                                        </roles>\n-                                        <label>Site Config</label>\n-                                        <path>/site-config</path>\n-                                    </params>\n+                                        <icon>\n+                                            <baseClass>fa fa-code</baseClass>\n+                                        </icon>\n+                                        <rootPath>/scripts</rootPath>\n+                                        <locale>en</locale>\n+                                    </props>\n+                                    <container>\n+                                        <style>\n+                                            <padding-left>9px</padding-left>\n+                                        </style>\n+                                        <class>next-pages-widget</class>\n+                                    </container>\n                                 </modulehook>\n                             </modulehooks>\n "
  },
  {
    "sha": "940eff1b42d692a616f763985e7151c4db8d930f",
    "filename": "src/main/webapp/repo-bootstrap/global/blueprints/4000_empty/config/studio/ui.xml",
    "status": "added",
    "additions": 374,
    "deletions": 0,
    "changes": 374,
    "blob_url": "https://github.com/craftercms/studio/blob/035ab778835bddf7a4688b1ec7c4c8bc78c5157a/src/main/webapp/repo-bootstrap/global/blueprints/4000_empty/config/studio/ui.xml",
    "raw_url": "https://github.com/craftercms/studio/raw/035ab778835bddf7a4688b1ec7c4c8bc78c5157a/src/main/webapp/repo-bootstrap/global/blueprints/4000_empty/config/studio/ui.xml",
    "contents_url": "https://api.github.com/repos/craftercms/studio/contents/src/main/webapp/repo-bootstrap/global/blueprints/4000_empty/config/studio/ui.xml?ref=035ab778835bddf7a4688b1ec7c4c8bc78c5157a",
    "patch": "@@ -0,0 +1,374 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n+<!--\n+  ~ Copyright (C) 2007-2020 Crafter Software Corporation. All Rights Reserved.\n+  ~\n+  ~ This program is free software: you can redistribute it and/or modify\n+  ~ it under the terms of the GNU General Public License version 3 as published by\n+  ~ the Free Software Foundation.\n+  ~\n+  ~ This program is distributed in the hope that it will be useful,\n+  ~ but WITHOUT ANY WARRANTY; without even the implied warranty of\n+  ~ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+  ~ GNU General Public License for more details.\n+  ~\n+  ~ You should have received a copy of the GNU General Public License\n+  ~ along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+  -->\n+<siteUi>\n+  <widget id=\"craftercms.components.ToolsPanel\">\n+    <configuration>\n+      <widgets>\n+        <widget id=\"craftercms.components.ToolsPanelEmbeddedAppViewButton\">\n+          <configuration>\n+            <title id=\"words.dashboard\" defaultMessage=\"Dashboard\" />\n+            <icon baseClass=\"fa fa-tasks\" />\n+            <widget id=\"craftercms.components.LegacyDashboardFrame\" />\n+          </configuration>\n+        </widget>\n+        <widget id=\"craftercms.components.ToolsPanelPageButton\">\n+          <configuration>\n+            <title id=\"previewSiteExplorerPanel.title\" defaultMessage=\"Site Explorer\" />\n+            <icon id=\"craftercms.icons.SiteExplorer\" />\n+            <widgets>\n+              <widget id=\"craftercms.components.PathNavigator\">\n+                <configuration>\n+                  <id>Pages</id>\n+                  <label>Pages</label>\n+                  <icon baseClass=\"fa fa-file-text-o\" />\n+                  <rootPath>/site/website</rootPath>\n+                  <locale>en</locale>\n+                </configuration>\n+              </widget>\n+              <widget id=\"craftercms.components.PathNavigator\">\n+                <configuration>\n+                  <id>Components</id>\n+                  <label>Components</label>\n+                  <icon baseClass=\"fa fa-puzzle-piece\" />\n+                  <rootPath>/site/components</rootPath>\n+                  <locale>en</locale>\n+                </configuration>\n+              </widget>\n+              <widget id=\"craftercms.components.PathNavigator\">\n+                <configuration>\n+                  <id>StaticAssets</id>\n+                  <label>Static Assets</label>\n+                  <icon baseClass=\"fa fa-image\" />\n+                  <rootPath>/static-assets</rootPath>\n+                  <locale>en</locale>\n+                </configuration>\n+              </widget>\n+              <widget id=\"craftercms.components.PathNavigator\">\n+                <configuration>\n+                  <label>Templates</label>\n+                  <icon baseClass=\"fa fa-file-code-o\" />\n+                  <rootPath>/templates</rootPath>\n+                  <locale>en</locale>\n+                </configuration>\n+              </widget>\n+              <widget id=\"craftercms.components.PathNavigator\">\n+                <configuration>\n+                  <label>Scripts</label>\n+                  <icon baseClass=\"fa fa-code\" />\n+                  <rootPath>/scripts</rootPath>\n+                  <locale>en</locale>\n+                </configuration>\n+              </widget>\n+            </widgets>\n+          </configuration>\n+        </widget>\n+        <widget id=\"craftercms.components.ToolsPanelPageButton\">\n+          <configuration>\n+            <title id=\"pageBuilder.title\" defaultMessage=\"Page Building\" />\n+            <icon id=\"@material-ui/icons/BrushOutlined\" />\n+            <widgets>\n+              <widget id=\"craftercms.components.ToolsPanelPageButton\">\n+                <configuration>\n+                  <title id=\"previewSearchPanel.title\" defaultMessage=\"Search\" />\n+                  <icon id=\"@material-ui/icons/SearchRounded\" />\n+                  <widgets>\n+                    <widget id=\"craftercms.components.PreviewSearchPanel\" />\n+                  </widgets>\n+                </configuration>\n+              </widget>\n+              <widget id=\"craftercms.components.ToolsPanelPageButton\">\n+                <configuration>\n+                  <title id=\"previewComponentsPanel.title\" defaultMessage=\"Add Components\" />\n+                  <icon id=\"@material-ui/icons/ExtensionOutlined\" />\n+                  <widget id=\"craftercms.components.PreviewComponentsPanel\" />\n+                </configuration>\n+              </widget>\n+              <widget id=\"craftercms.components.ToolsPanelPageButton\">\n+                <configuration>\n+                  <title id=\"previewBrowseComponentsPanel.title\" defaultMessage=\"Browse Components\" />\n+                  <icon id=\"@material-ui/icons/ExtensionOutlined\" />\n+                  <widgets>\n+                    <widget id=\"craftercms.components.PreviewBrowseComponentsPanel\" />\n+                  </widgets>\n+                </configuration>\n+              </widget>\n+              <widget id=\"craftercms.components.ToolsPanelPageButton\">\n+                <configuration>\n+                  <title id=\"previewReceptaclesPanel.title\" defaultMessage=\"Component Receptacles\" />\n+                  <icon id=\"@material-ui/icons/ExtensionOutlined\" />\n+                  <widgets>\n+                    <widget id=\"craftercms.components.PreviewReceptaclesPanel\" />\n+                  </widgets>\n+                </configuration>\n+              </widget>\n+              <widget id=\"craftercms.components.ToolsPanelPageButton\">\n+                <configuration>\n+                  <title id=\"previewAssetsPanel.title\" defaultMessage=\"Assets\" />\n+                  <icon id=\"@material-ui/icons/ImageOutlined\" />\n+                  <widgets>\n+                    <widget id=\"craftercms.components.PreviewAssetsPanel\" />\n+                  </widgets>\n+                </configuration>\n+              </widget>\n+              <widget id=\"craftercms.components.ToolsPanelPageButton\">\n+                <configuration>\n+                  <title id=\"previewAudiencesPanel.title\" defaultMessage=\"Audience Targeting\" />\n+                  <icon id=\"@material-ui/icons/EmojiPeopleRounded\" />\n+                  <widgets>\n+                    <widget id=\"craftercms.components.PreviewAudiencesPanel\">\n+                      <configuration>\n+                        <fields>\n+                          <segment>\n+                            <id>segment</id>\n+                            <name>Segment</name>\n+                            <description>User segment.</description>\n+                            <type>dropdown</type>\n+                            <defaultValue>anonymous</defaultValue>\n+                            <values>\n+                              <label>Guy</label>\n+                              <value>guy</value>\n+                            </values>\n+                            <values>\n+                              <label>Gal</label>\n+                              <value>gal</value>\n+                            </values>\n+                            <values>\n+                              <label>Anonymous</label>\n+                              <value>anonymous</value>\n+                            </values>\n+                            <helpText>\n+                              Setting the segment will change content targeting to the\n+                              audience selected.\n+                            </helpText>\n+                          </segment>\n+                          <name>\n+                            <id>name</id>\n+                            <name>Name</name>\n+                            <description>User's first and last name.</description>\n+                            <type>input</type>\n+                            <helpText>Enter user's first and last name.</helpText>\n+                          </name>\n+                        </fields>\n+                      </configuration>\n+                    </widget>\n+                  </widgets>\n+                </configuration>\n+              </widget>\n+              <widget id=\"craftercms.components.ToolsPanelPageButton\">\n+                <configuration>\n+                  <title id=\"previewPageExplorerPanel.title\" defaultMessage=\"Page Explorer\" />\n+                  <icon id=\"craftercms.icons.PageExplorer\" />\n+                  <widgets>\n+                    <widget id=\"craftercms.components.PreviewPageExplorerPanel\" />\n+                  </widgets>\n+                </configuration>\n+              </widget>\n+              <widget id=\"craftercms.components.ToolsPanelPageButton\">\n+                <configuration>\n+                  <title id=\"previewSimulatorPanel.title\" defaultMessage=\"Device Simulator\" />\n+                  <icon id=\"@material-ui/icons/DevicesRounded\" />\n+                  <widgets>\n+                    <widget id=\"craftercms.components.PreviewSimulatorPanel\">\n+                      <configuration>\n+                        <devices>\n+                          <device>\n+                            <title>smartPhone</title>\n+                            <width>375</width>\n+                            <height>667</height>\n+                          </device>\n+                          <device>\n+                            <title>tablet</title>\n+                            <width>768</width>\n+                            <height>1024</height>\n+                          </device>\n+                        </devices>\n+                      </configuration>\n+                    </widget>\n+                  </widgets>\n+                </configuration>\n+              </widget>\n+              <widget id=\"craftercms.components.ToolsPanelPageButton\">\n+                <configuration>\n+                  <title id=\"words.settings\" defaultMessage=\"Settings\" />\n+                  <icon id=\"@material-ui/icons/SettingsOutlined\" />\n+                  <widgets>\n+                    <widget id=\"craftercms.components.PreviewSettingsPanel\" />\n+                  </widgets>\n+                </configuration>\n+              </widget>\n+            </widgets>\n+          </configuration>\n+        </widget>\n+        <widget id=\"craftercms.components.ToolsPanelPageButton\">\n+          <permittedRoles>\n+            <role>admin</role>\n+            <role>developer</role>\n+          </permittedRoles>\n+          <configuration>\n+            <title id=\"siteTools.title\" defaultMessage=\"Site Tools\" />\n+            <icon baseClass=\"fa fa-sliders\" />\n+            <widgets>\n+              <widget id=\"craftercms.components.ToolsPanelEmbeddedAppViewButton\">\n+                <configuration>\n+                  <title id=\"receptaclesMessages.contentTypes\" defaultMessage=\"Content Types\" />\n+                  <icon baseClass=\"fa fa-th-large\" />\n+                  <widget id=\"craftercms.components.LegacySiteToolsFrame\">\n+                    <configuration>\n+                      <tool>content-types</tool>\n+                    </configuration>\n+                  </widget>\n+                </configuration>\n+              </widget>\n+              <widget id=\"craftercms.components.ToolsPanelEmbeddedAppViewButton\">\n+                <configuration>\n+                  <title id=\"GlobalMenu.EncryptionToolEntryLabel\" defaultMessage=\"Encryption Tool\" />\n+                  <icon>\n+                    <baseClass>fa fa-lock</baseClass>\n+                  </icon>\n+                  <widget id=\"craftercms.components.LegacySiteToolsFrame\">\n+                    <configuration>\n+                      <tool>encrypt-tool</tool>\n+                    </configuration>\n+                  </widget>\n+                </configuration>\n+              </widget>\n+              <widget id=\"craftercms.components.ToolsPanelEmbeddedAppViewButton\">\n+                <configuration>\n+                  <title id=\"words.configuration\" defaultMessage=\"Configuration\" />\n+                  <icon baseClass=\"fa fa-cogs\" />\n+                  <widget id=\"craftercms.components.LegacySiteToolsFrame\">\n+                    <configuration>\n+                      <tool>admin-configurations</tool>\n+                    </configuration>\n+                  </widget>\n+                </configuration>\n+              </widget>\n+              <widget id=\"craftercms.components.ToolsPanelEmbeddedAppViewButton\">\n+                <configuration>\n+                  <title id=\"GlobalMenu.AuditEntryLabel\" defaultMessage=\"Audit\" />\n+                  <icon>\n+                    <baseClass>fa fa-align-justify</baseClass>\n+                  </icon>\n+                  <widget>\n+                    <id>craftercms.components.LegacySiteToolsFrame</id>\n+                    <configuration>\n+                      <tool>audit</tool>\n+                    </configuration>\n+                  </widget>\n+                </configuration>\n+              </widget>\n+              <widget id=\"craftercms.components.ToolsPanelEmbeddedAppViewButton\">\n+                <configuration>\n+                  <title id=\"workflowStates.title\" defaultMessage=\"Workflow States\" />\n+                  <icon baseClass=\"fa fa-cog\" />\n+                  <widget id=\"craftercms.components.LegacySiteToolsFrame\">\n+                    <configuration>\n+                      <tool>workflow-states</tool>\n+                    </configuration>\n+                  </widget>\n+                </configuration>\n+              </widget>\n+              <widget id=\"craftercms.components.ToolsPanelEmbeddedAppViewButton\">\n+                <configuration>\n+                  <title id=\"GlobalMenu.LogConsoleEntryLabel\" defaultMessage=\"Log Console\" />\n+                  <icon baseClass=\"fa fa-align-left\" />\n+                  <widget id=\"craftercms.components.LegacySiteToolsFrame\">\n+                    <configuration>\n+                      <tool>log-view</tool>\n+                    </configuration>\n+                  </widget>\n+                </configuration>\n+              </widget>\n+              <widget id=\"craftercms.components.ToolsPanelEmbeddedAppViewButton\">\n+                <configuration>\n+                  <title id=\"words.publishing\" defaultMessage=\"Publishing\" />\n+                  <icon baseClass=\"fa fa-cloud-upload\" />\n+                  <widget id=\"craftercms.components.LegacySiteToolsFrame\">\n+                    <configuration>\n+                      <tool>status-view</tool>\n+                    </configuration>\n+                  </widget>\n+                </configuration>\n+              </widget>\n+              <widget id=\"craftercms.components.ToolsPanelEmbeddedAppViewButton\">\n+                <configuration>\n+                  <title id=\"remoteRepositories.title\" defaultMessage=\"Remote Repositories\" />\n+                  <icon baseClass=\"fa fa-database\" />\n+                  <widget id=\"craftercms.components.LegacySiteToolsFrame\">\n+                    <configuration>\n+                      <tool>repository</tool>\n+                    </configuration>\n+                  </widget>\n+                </configuration>\n+              </widget>\n+              <widget id=\"craftercms.components.ToolsPanelEmbeddedAppViewButton\">\n+                <configuration>\n+                  <title>GraphQL</title>\n+                  <icon baseClass=\"fa fa-line-chart\" />\n+                  <widget id=\"craftercms.components.LegacySiteToolsFrame\">\n+                    <configuration>\n+                      <tool>graphiql</tool>\n+                    </configuration>\n+                  </widget>\n+                </configuration>\n+              </widget>\n+            </widgets>\n+          </configuration>\n+        </widget>\n+      </widgets>\n+    </configuration>\n+  </widget>\n+  <widget id=\"craftercms.components.GlobalNavSiteSection\">\n+    <configuration>\n+      <title id=\"words.site\" defaultMessage=\"Site\"/>\n+      <widgets>\n+        <widget id=\"craftercms.components.GlobalNavLinkTile\">\n+          <configuration>\n+            <title id=\"words.dashboard\" defaultMessage=\"Dashboard\"/>\n+            <systemLinkId>siteDashboard</systemLinkId>\n+            <icon id=\"@material-ui/icons/DashboardRounded\"/>\n+          </configuration>\n+        </widget>\n+        <widget id=\"craftercms.components.GlobalNavLinkTile\">\n+          <configuration>\n+            <title id=\"words.preview\" defaultMessage=\"Preview\"/>\n+            <systemLinkId>preview</systemLinkId>\n+            <icon id=\"craftercms.icons.Preview\"/>\n+          </configuration>\n+        </widget>\n+        <widget id=\"craftercms.components.GlobalNavLinkTile\">\n+          <permittedRoles>\n+            <role>admin</role>\n+            <role>developer</role>\n+          </permittedRoles>\n+          <configuration>\n+            <title id=\"siteTools.title\" defaultMessage=\"Site Tools\"/>\n+            <systemLinkId>siteTools</systemLinkId>\n+            <icon id=\"@material-ui/icons/BuildRounded\"/>\n+          </configuration>\n+        </widget>\n+        <widget id=\"craftercms.components.GlobalNavLinkTile\">\n+          <configuration>\n+            <title id=\"words.search\" defaultMessage=\"Search\"/>\n+            <systemLinkId>siteSearch</systemLinkId>\n+            <icon id=\"@material-ui/icons/SearchRounded\"/>\n+          </configuration>\n+        </widget>\n+      </widgets>\n+    </configuration>\n+  </widget>\n+</siteUi>"
  },
  {
    "sha": "2bfcd44dea2da3bbe509b886d11985489523c7f7",
    "filename": "src/main/webapp/repo-bootstrap/global/blueprints/4000_empty/templates/web/entry.ftl",
    "status": "modified",
    "additions": 11,
    "deletions": 10,
    "changes": 21,
    "blob_url": "https://github.com/craftercms/studio/blob/035ab778835bddf7a4688b1ec7c4c8bc78c5157a/src/main/webapp/repo-bootstrap/global/blueprints/4000_empty/templates/web/entry.ftl",
    "raw_url": "https://github.com/craftercms/studio/raw/035ab778835bddf7a4688b1ec7c4c8bc78c5157a/src/main/webapp/repo-bootstrap/global/blueprints/4000_empty/templates/web/entry.ftl",
    "contents_url": "https://api.github.com/repos/craftercms/studio/contents/src/main/webapp/repo-bootstrap/global/blueprints/4000_empty/templates/web/entry.ftl?ref=035ab778835bddf7a4688b1ec7c4c8bc78c5157a",
    "patch": "@@ -1,20 +1,21 @@\n-<#import \"/templates/system/common/cstudio-support.ftl\" as studio />\n+<#import \"/templates/system/common/ice.ftl\" as studio />\n \n <!DOCTYPE html>\n <html lang=\"en\">\n \t<head>\n-      <meta charset=\"utf-8\">\n-      <title>${model.title_t}</title>\n+\t\t<meta charset=\"utf-8\">\n+\t\t<title>${model.title_t}</title>\n \t</head>\n \t<body>\n-    \t<div <@studio.iceAttr iceGroup=\"title\"/>>\n+\t\t<@studio.tag $field=\"title_t\">\n \t\t\t<h1>${model.title_t}</h1>\n-        </div>\n-      \n-    \t<div <@studio.iceAttr iceGroup=\"main\"/>>\n-            ${model.body_html}\n-        </div>\n+\t\t</@studio.tag>\n \n-\t\t<@studio.toolSupport/>\t\n+\t\t<@studio.tag $field=\"body_html\">\n+\t\t\t${model.body_html}\n+\t\t</@studio.tag>\n+\n+\t\t<script src=\"/static-assets/js/jquery.core.js\"></script>\n+\t\t<@studio.initPageBuilder/>\n \t</body>\n </html>"
  },
  {
    "sha": "84800f201f45907a6aab50e74bbc01f9d9be011b",
    "filename": "src/main/webapp/repo-bootstrap/global/blueprints/5000_headless_blog/config/studio/context-nav/sidebar.xml",
    "status": "modified",
    "additions": 106,
    "deletions": 61,
    "changes": 167,
    "blob_url": "https://github.com/craftercms/studio/blob/035ab778835bddf7a4688b1ec7c4c8bc78c5157a/src/main/webapp/repo-bootstrap/global/blueprints/5000_headless_blog/config/studio/context-nav/sidebar.xml",
    "raw_url": "https://github.com/craftercms/studio/raw/035ab778835bddf7a4688b1ec7c4c8bc78c5157a/src/main/webapp/repo-bootstrap/global/blueprints/5000_headless_blog/config/studio/context-nav/sidebar.xml",
    "contents_url": "https://api.github.com/repos/craftercms/studio/contents/src/main/webapp/repo-bootstrap/global/blueprints/5000_headless_blog/config/studio/context-nav/sidebar.xml?ref=035ab778835bddf7a4688b1ec7c4c8bc78c5157a",
    "patch": "@@ -98,86 +98,131 @@\n \t\t\t\t\t\t\t\t<!-- Dashboard -->\n \t\t\t\t\t\t\t\t<modulehook>\n \t\t\t\t\t\t\t\t\t<name>dashboard</name>\n-                                    <params>\n-                                        <label>Dashboard</label>\n-                                        <path>/site-dashboard</path>\n+\t\t\t\t\t\t\t\t\t<params>\n+\t\t\t\t\t\t\t\t\t\t<label>Dashboard</label>\n+\t\t\t\t\t\t\t\t\t\t<path>/site-dashboard</path>\n \t\t\t\t\t\t\t\t\t</params>\n \t\t\t\t\t\t\t\t</modulehook>\n-\t\t\t\t\t\t\t\t<!-- Site IA Pages -->\n+\t\t\t\t\t\t\t\t<!-- Site Config -->\n \t\t\t\t\t\t\t\t<modulehook>\n-\t\t\t\t\t\t\t\t\t<name>wcm-root-folder</name>\t\t\t\t\t\t\t\t\t\n+\t\t\t\t\t\t\t\t\t<name>site-config</name>\n+\t\t\t\t\t\t\t\t\t<divider>true</divider>\n \t\t\t\t\t\t\t\t\t<params>\n-\t\t\t\t\t\t\t\t\t\t<label>Example Blog</label>\n-\t\t\t\t\t\t\t\t\t\t<path>/site/website</path>\n-\t\t\t\t\t\t\t\t\t\t<showRootItem>true</showRootItem>\n-\t\t\t\t\t\t\t\t\t\t<onClick>preview</onClick>\n+\t\t\t\t\t\t\t\t\t\t<roles>\n+\t\t\t\t\t\t\t\t\t\t\t<role>admin</role>\n+\t\t\t\t\t\t\t\t\t\t\t<role>developer</role>\n+\t\t\t\t\t\t\t\t\t\t</roles>\n+\t\t\t\t\t\t\t\t\t\t<label>Site Config</label>\n+\t\t\t\t\t\t\t\t\t\t<path>/site-config</path>\n \t\t\t\t\t\t\t\t\t</params>\n \t\t\t\t\t\t\t\t</modulehook>\n-\n-\t\t\t\t\t\t\t\t<!-- Components -->\n+\t\t\t\t\t\t\t\t<!-- Path Navigator: Pages -->\n \t\t\t\t\t\t\t\t<modulehook>\n-\t\t\t\t\t\t\t\t\t<name>wcm-root-folder</name>\t\t\t\t\t\t\t\t\t\n-\t\t\t\t\t\t\t\t\t<params>\n-\t\t\t\t\t\t\t\t\t\t<label>Items</label>\n-\t\t\t\t\t\t\t\t\t\t<path>/site/items</path>\n-\t\t\t\t\t\t\t\t\t\t<showRootItem>true</showRootItem>\n-\t\t\t\t\t\t\t\t\t</params>\n+\t\t\t\t\t\t\t\t\t<render>PagesWidget</render>\n+\t\t\t\t\t\t\t\t\t<props>\n+\t\t\t\t\t\t\t\t\t\t<label>Pages</label>\n+\t\t\t\t\t\t\t\t\t\t<icon>\n+\t\t\t\t\t\t\t\t\t\t\t<baseClass>fa fa-file-text-o</baseClass>\n+\t\t\t\t\t\t\t\t\t\t</icon>\n+\t\t\t\t\t\t\t\t\t\t<rootPath>/site/website</rootPath>\n+\t\t\t\t\t\t\t\t\t\t<locale>en</locale>\n+\t\t\t\t\t\t\t\t\t</props>\n+\t\t\t\t\t\t\t\t\t<container>\n+\t\t\t\t\t\t\t\t\t\t<style>\n+\t\t\t\t\t\t\t\t\t\t\t<padding-left>9px</padding-left>\n+\t\t\t\t\t\t\t\t\t\t</style>\n+\t\t\t\t\t\t\t\t\t\t<class>next-pages-widget</class>\n+\t\t\t\t\t\t\t\t\t</container>\n \t\t\t\t\t\t\t\t</modulehook>\n-\n-\t\t\t\t\t\t\t\t<!-- Taxonomy -->\n+\t\t\t\t\t\t\t\t<!-- Path Navigator: Components -->\n \t\t\t\t\t\t\t\t<modulehook>\n-\t\t\t\t\t\t\t\t\t<name>wcm-root-folder</name>\t\t\t\t\t\t\t\t\t\n-\t\t\t\t\t\t\t\t\t<params>\n-\t\t\t\t\t\t\t\t\t\t<label>Taxonomy</label>\n-\t\t\t\t\t\t\t\t\t\t<path>/site/taxonomy</path>\n-\t\t\t\t\t\t\t\t\t\t<showRootItem>true</showRootItem>\n-\t\t\t\t\t\t\t\t\t</params>\n+\t\t\t\t\t\t\t\t\t<render>PagesWidget</render>\n+\t\t\t\t\t\t\t\t\t<props>\n+\t\t\t\t\t\t\t\t\t\t<label>Items</label>\n+\t\t\t\t\t\t\t\t\t\t<icon>\n+\t\t\t\t\t\t\t\t\t\t\t<baseClass>fa fa-puzzle-piece</baseClass>\n+\t\t\t\t\t\t\t\t\t\t</icon>\n+\t\t\t\t\t\t\t\t\t\t<rootPath>/site/items</rootPath>\n+\t\t\t\t\t\t\t\t\t\t<locale>en</locale>\n+\t\t\t\t\t\t\t\t\t</props>\n+\t\t\t\t\t\t\t\t\t<container>\n+\t\t\t\t\t\t\t\t\t\t<style>\n+\t\t\t\t\t\t\t\t\t\t\t<padding-left>9px</padding-left>\n+\t\t\t\t\t\t\t\t\t\t</style>\n+\t\t\t\t\t\t\t\t\t\t<class>next-pages-widget</class>\n+\t\t\t\t\t\t\t\t\t</container>\n \t\t\t\t\t\t\t\t</modulehook>\n-\n-\t\t\t\t\t\t\t\t<!-- Scripts -->\n+\t\t\t\t\t\t\t\t<!-- Path Navigator: Taxonomy -->\n \t\t\t\t\t\t\t\t<modulehook>\n-\t\t\t\t\t\t\t\t\t<name>wcm-assets-folder</name>\t\t\t\t\t\t\t\t\t\n-\t\t\t\t\t\t\t\t\t<params>\n-\t\t\t\t\t\t\t\t\t\t<label>Scripts</label>\n-\t\t\t\t\t\t\t\t\t\t<path>/scripts</path>\n-\t\t\t\t\t\t\t\t\t\t<showRootItem>true</showRootItem>\n-\t\t\t\t\t\t\t\t\t\t<onClick>none</onClick>\n-\t\t\t\t\t\t\t\t\t</params>\n+\t\t\t\t\t\t\t\t\t<render>PagesWidget</render>\n+\t\t\t\t\t\t\t\t\t<props>\n+\t\t\t\t\t\t\t\t\t\t<label>Taxonomy</label>\n+\t\t\t\t\t\t\t\t\t\t<icon>\n+\t\t\t\t\t\t\t\t\t\t\t<baseClass>fa fa-tags</baseClass>\n+\t\t\t\t\t\t\t\t\t\t</icon>\n+\t\t\t\t\t\t\t\t\t\t<rootPath>/site/taxonomy</rootPath>\n+\t\t\t\t\t\t\t\t\t\t<locale>en</locale>\n+\t\t\t\t\t\t\t\t\t</props>\n+\t\t\t\t\t\t\t\t\t<container>\n+\t\t\t\t\t\t\t\t\t\t<style>\n+\t\t\t\t\t\t\t\t\t\t\t<padding-left>9px</padding-left>\n+\t\t\t\t\t\t\t\t\t\t</style>\n+\t\t\t\t\t\t\t\t\t\t<class>next-pages-widget</class>\n+\t\t\t\t\t\t\t\t\t</container>\n \t\t\t\t\t\t\t\t</modulehook>\n-\n-\t\t\t\t\t\t\t\t<!-- Static Assets -->\n+\t\t\t\t\t\t\t\t<!-- Path Navigator: Static Assets -->\n \t\t\t\t\t\t\t\t<modulehook>\n-\t\t\t\t\t\t\t\t\t<name>wcm-assets-folder</name>\t\t\t\t\t\t\t\t\t\n-\t\t\t\t\t\t\t\t\t<params>\n+\t\t\t\t\t\t\t\t\t<render>PagesWidget</render>\n+\t\t\t\t\t\t\t\t\t<props>\n \t\t\t\t\t\t\t\t\t\t<label>Static Assets</label>\n-\t\t\t\t\t\t\t\t\t\t<path>/static-assets</path>\n-\t\t\t\t\t\t\t\t\t\t<showRootItem>true</showRootItem>\n-\t\t\t\t\t\t\t\t\t\t<onClick>none</onClick>\n-\t\t\t\t\t\t\t\t\t</params>\n+\t\t\t\t\t\t\t\t\t\t<icon>\n+\t\t\t\t\t\t\t\t\t\t\t<baseClass>fa fa-image</baseClass>\n+\t\t\t\t\t\t\t\t\t\t</icon>\n+\t\t\t\t\t\t\t\t\t\t<rootPath>/static-assets</rootPath>\n+\t\t\t\t\t\t\t\t\t\t<locale>en</locale>\n+\t\t\t\t\t\t\t\t\t</props>\n+\t\t\t\t\t\t\t\t\t<container>\n+\t\t\t\t\t\t\t\t\t\t<style>\n+\t\t\t\t\t\t\t\t\t\t\t<padding-left>9px</padding-left>\n+\t\t\t\t\t\t\t\t\t\t</style>\n+\t\t\t\t\t\t\t\t\t\t<class>next-pages-widget</class>\n+\t\t\t\t\t\t\t\t\t</container>\n \t\t\t\t\t\t\t\t</modulehook>\n-\n-\t\t\t\t\t\t\t\t<!-- Templates -->\n+\t\t\t\t\t\t\t\t<!-- Path Navigator: Templates -->\n \t\t\t\t\t\t\t\t<modulehook>\n-\t\t\t\t\t\t\t\t\t<name>wcm-assets-folder</name>\t\t\t\t\t\t\t\t\t\n-\t\t\t\t\t\t\t\t\t<params>\n+\t\t\t\t\t\t\t\t\t<render>PagesWidget</render>\n+\t\t\t\t\t\t\t\t\t<props>\n \t\t\t\t\t\t\t\t\t\t<label>Templates</label>\n-\t\t\t\t\t\t\t\t\t\t<path>/templates</path>\n-\t\t\t\t\t\t\t\t\t\t<showRootItem>true</showRootItem>\n-\t\t\t\t\t\t\t\t\t\t<onClick>none</onClick>\n-\t\t\t\t\t\t\t\t\t</params>\n+\t\t\t\t\t\t\t\t\t\t<icon>\n+\t\t\t\t\t\t\t\t\t\t\t<baseClass>fa fa-file-code-o</baseClass>\n+\t\t\t\t\t\t\t\t\t\t</icon>\n+\t\t\t\t\t\t\t\t\t\t<rootPath>/templates</rootPath>\n+\t\t\t\t\t\t\t\t\t\t<locale>en</locale>\n+\t\t\t\t\t\t\t\t\t</props>\n+\t\t\t\t\t\t\t\t\t<container>\n+\t\t\t\t\t\t\t\t\t\t<style>\n+\t\t\t\t\t\t\t\t\t\t\t<padding-left>9px</padding-left>\n+\t\t\t\t\t\t\t\t\t\t</style>\n+\t\t\t\t\t\t\t\t\t\t<class>next-pages-widget</class>\n+\t\t\t\t\t\t\t\t\t</container>\n \t\t\t\t\t\t\t\t</modulehook>\n-\n-\t\t\t\t\t\t\t\t<!-- Site Config -->\n+\t\t\t\t\t\t\t\t<!-- Path Navigator: Scripts -->\n \t\t\t\t\t\t\t\t<modulehook>\n-\t\t\t\t\t\t\t\t\t<name>site-config</name>\t\t\t\t\t\t\t\t\t\n-\t\t\t\t\t\t\t\t\t<params>\n-\t\t\t\t\t\t\t\t\t\t<roles>\n-\t\t\t\t\t\t\t\t\t\t\t<role>admin</role>\n-\t\t\t\t\t\t\t\t\t\t\t<role>developer</role>\n-\t\t\t\t\t\t\t\t\t\t</roles>\n-                                        <label>Site Config</label>\n-                                        <path>/site-config</path>\n-\t\t\t\t\t\t\t\t\t</params>\n+\t\t\t\t\t\t\t\t\t<render>PagesWidget</render>\n+\t\t\t\t\t\t\t\t\t<props>\n+\t\t\t\t\t\t\t\t\t\t<label>Scripts</label>\n+\t\t\t\t\t\t\t\t\t\t<icon>\n+\t\t\t\t\t\t\t\t\t\t\t<baseClass>fa fa-code</baseClass>\n+\t\t\t\t\t\t\t\t\t\t</icon>\n+\t\t\t\t\t\t\t\t\t\t<rootPath>/scripts</rootPath>\n+\t\t\t\t\t\t\t\t\t\t<locale>en</locale>\n+\t\t\t\t\t\t\t\t\t</props>\n+\t\t\t\t\t\t\t\t\t<container>\n+\t\t\t\t\t\t\t\t\t\t<style>\n+\t\t\t\t\t\t\t\t\t\t\t<padding-left>9px</padding-left>\n+\t\t\t\t\t\t\t\t\t\t</style>\n+\t\t\t\t\t\t\t\t\t\t<class>next-pages-widget</class>\n+\t\t\t\t\t\t\t\t\t</container>\n \t\t\t\t\t\t\t\t</modulehook>\n \t\t\t\t\t\t\t</modulehooks>\n "
  },
  {
    "sha": "2c76fff37c521422795075f1a4a47c050f212a48",
    "filename": "src/main/webapp/repo-bootstrap/global/blueprints/5000_headless_blog/config/studio/ui.xml",
    "status": "added",
    "additions": 383,
    "deletions": 0,
    "changes": 383,
    "blob_url": "https://github.com/craftercms/studio/blob/035ab778835bddf7a4688b1ec7c4c8bc78c5157a/src/main/webapp/repo-bootstrap/global/blueprints/5000_headless_blog/config/studio/ui.xml",
    "raw_url": "https://github.com/craftercms/studio/raw/035ab778835bddf7a4688b1ec7c4c8bc78c5157a/src/main/webapp/repo-bootstrap/global/blueprints/5000_headless_blog/config/studio/ui.xml",
    "contents_url": "https://api.github.com/repos/craftercms/studio/contents/src/main/webapp/repo-bootstrap/global/blueprints/5000_headless_blog/config/studio/ui.xml?ref=035ab778835bddf7a4688b1ec7c4c8bc78c5157a",
    "patch": "@@ -0,0 +1,383 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n+<!--\n+  ~ Copyright (C) 2007-2020 Crafter Software Corporation. All Rights Reserved.\n+  ~\n+  ~ This program is free software: you can redistribute it and/or modify\n+  ~ it under the terms of the GNU General Public License version 3 as published by\n+  ~ the Free Software Foundation.\n+  ~\n+  ~ This program is distributed in the hope that it will be useful,\n+  ~ but WITHOUT ANY WARRANTY; without even the implied warranty of\n+  ~ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+  ~ GNU General Public License for more details.\n+  ~\n+  ~ You should have received a copy of the GNU General Public License\n+  ~ along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+  -->\n+<siteUi>\n+  <widget id=\"craftercms.components.ToolsPanel\">\n+    <configuration>\n+      <widgets>\n+        <widget id=\"craftercms.components.ToolsPanelEmbeddedAppViewButton\">\n+          <configuration>\n+            <title id=\"words.dashboard\" defaultMessage=\"Dashboard\" />\n+            <icon baseClass=\"fa fa-tasks\" />\n+            <widget id=\"craftercms.components.LegacyDashboardFrame\" />\n+          </configuration>\n+        </widget>\n+        <widget id=\"craftercms.components.ToolsPanelPageButton\">\n+          <configuration>\n+            <title id=\"previewSiteExplorerPanel.title\" defaultMessage=\"Site Explorer\" />\n+            <icon id=\"craftercms.icons.SiteExplorer\" />\n+            <widgets>\n+              <widget id=\"craftercms.components.PathNavigator\">\n+                <configuration>\n+                  <id>Pages</id>\n+                  <label>Pages</label>\n+                  <icon baseClass=\"fa fa-file-text-o\" />\n+                  <rootPath>/site/website</rootPath>\n+                  <locale>en</locale>\n+                </configuration>\n+              </widget>\n+              <widget id=\"craftercms.components.PathNavigator\">\n+                <configuration>\n+                  <id>Items</id>\n+                  <label>Items</label>\n+                  <icon baseClass=\"fa fa-puzzle-piece\" />\n+                  <rootPath>/site/items</rootPath>\n+                  <locale>en</locale>\n+                </configuration>\n+              </widget>\n+              <widget id=\"craftercms.components.PathNavigator\">\n+                <configuration>\n+                  <id>Taxonomy</id>\n+                  <label>Taxonomy</label>\n+                  <icon baseClass=\"fa fa-tags\" />\n+                  <rootPath>/site/taxonomy</rootPath>\n+                  <locale>en</locale>\n+                </configuration>\n+              </widget>\n+              <widget id=\"craftercms.components.PathNavigator\">\n+                <configuration>\n+                  <id>StaticAssets</id>\n+                  <label>Static Assets</label>\n+                  <icon baseClass=\"fa fa-image\" />\n+                  <rootPath>/static-assets</rootPath>\n+                  <locale>en</locale>\n+                </configuration>\n+              </widget>\n+              <widget id=\"craftercms.components.PathNavigator\">\n+                <configuration>\n+                  <label>Templates</label>\n+                  <icon baseClass=\"fa fa-file-code-o\" />\n+                  <rootPath>/templates</rootPath>\n+                  <locale>en</locale>\n+                </configuration>\n+              </widget>\n+              <widget id=\"craftercms.components.PathNavigator\">\n+                <configuration>\n+                  <label>Scripts</label>\n+                  <icon baseClass=\"fa fa-code\" />\n+                  <rootPath>/scripts</rootPath>\n+                  <locale>en</locale>\n+                </configuration>\n+              </widget>\n+            </widgets>\n+          </configuration>\n+        </widget>\n+        <widget id=\"craftercms.components.ToolsPanelPageButton\">\n+          <configuration>\n+            <title id=\"pageBuilder.title\" defaultMessage=\"Page Building\" />\n+            <icon id=\"@material-ui/icons/BrushOutlined\" />\n+            <widgets>\n+              <widget id=\"craftercms.components.ToolsPanelPageButton\">\n+                <configuration>\n+                  <title id=\"previewSearchPanel.title\" defaultMessage=\"Search\" />\n+                  <icon id=\"@material-ui/icons/SearchRounded\" />\n+                  <widgets>\n+                    <widget id=\"craftercms.components.PreviewSearchPanel\" />\n+                  </widgets>\n+                </configuration>\n+              </widget>\n+              <widget id=\"craftercms.components.ToolsPanelPageButton\">\n+                <configuration>\n+                  <title id=\"previewComponentsPanel.title\" defaultMessage=\"Add Components\" />\n+                  <icon id=\"@material-ui/icons/ExtensionOutlined\" />\n+                  <widget id=\"craftercms.components.PreviewComponentsPanel\" />\n+                </configuration>\n+              </widget>\n+              <widget id=\"craftercms.components.ToolsPanelPageButton\">\n+                <configuration>\n+                  <title id=\"previewBrowseComponentsPanel.title\" defaultMessage=\"Browse Components\" />\n+                  <icon id=\"@material-ui/icons/ExtensionOutlined\" />\n+                  <widgets>\n+                    <widget id=\"craftercms.components.PreviewBrowseComponentsPanel\" />\n+                  </widgets>\n+                </configuration>\n+              </widget>\n+              <widget id=\"craftercms.components.ToolsPanelPageButton\">\n+                <configuration>\n+                  <title id=\"previewReceptaclesPanel.title\" defaultMessage=\"Component Receptacles\" />\n+                  <icon id=\"@material-ui/icons/ExtensionOutlined\" />\n+                  <widgets>\n+                    <widget id=\"craftercms.components.PreviewReceptaclesPanel\" />\n+                  </widgets>\n+                </configuration>\n+              </widget>\n+              <widget id=\"craftercms.components.ToolsPanelPageButton\">\n+                <configuration>\n+                  <title id=\"previewAssetsPanel.title\" defaultMessage=\"Assets\" />\n+                  <icon id=\"@material-ui/icons/ImageOutlined\" />\n+                  <widgets>\n+                    <widget id=\"craftercms.components.PreviewAssetsPanel\" />\n+                  </widgets>\n+                </configuration>\n+              </widget>\n+              <widget id=\"craftercms.components.ToolsPanelPageButton\">\n+                <configuration>\n+                  <title id=\"previewAudiencesPanel.title\" defaultMessage=\"Audience Targeting\" />\n+                  <icon id=\"@material-ui/icons/EmojiPeopleRounded\" />\n+                  <widgets>\n+                    <widget id=\"craftercms.components.PreviewAudiencesPanel\">\n+                      <configuration>\n+                        <fields>\n+                          <segment>\n+                            <id>segment</id>\n+                            <name>Segment</name>\n+                            <description>User segment.</description>\n+                            <type>dropdown</type>\n+                            <defaultValue>anonymous</defaultValue>\n+                            <values>\n+                              <label>Guy</label>\n+                              <value>guy</value>\n+                            </values>\n+                            <values>\n+                              <label>Gal</label>\n+                              <value>gal</value>\n+                            </values>\n+                            <values>\n+                              <label>Anonymous</label>\n+                              <value>anonymous</value>\n+                            </values>\n+                            <helpText>\n+                              Setting the segment will change content targeting to the\n+                              audience selected.\n+                            </helpText>\n+                          </segment>\n+                          <name>\n+                            <id>name</id>\n+                            <name>Name</name>\n+                            <description>User's first and last name.</description>\n+                            <type>input</type>\n+                            <helpText>Enter user's first and last name.</helpText>\n+                          </name>\n+                        </fields>\n+                      </configuration>\n+                    </widget>\n+                  </widgets>\n+                </configuration>\n+              </widget>\n+              <widget id=\"craftercms.components.ToolsPanelPageButton\">\n+                <configuration>\n+                  <title id=\"previewPageExplorerPanel.title\" defaultMessage=\"Page Explorer\" />\n+                  <icon id=\"craftercms.icons.PageExplorer\" />\n+                  <widgets>\n+                    <widget id=\"craftercms.components.PreviewPageExplorerPanel\" />\n+                  </widgets>\n+                </configuration>\n+              </widget>\n+              <widget id=\"craftercms.components.ToolsPanelPageButton\">\n+                <configuration>\n+                  <title id=\"previewSimulatorPanel.title\" defaultMessage=\"Device Simulator\" />\n+                  <icon id=\"@material-ui/icons/DevicesRounded\" />\n+                  <widgets>\n+                    <widget id=\"craftercms.components.PreviewSimulatorPanel\">\n+                      <configuration>\n+                        <devices>\n+                          <device>\n+                            <title>smartPhone</title>\n+                            <width>375</width>\n+                            <height>667</height>\n+                          </device>\n+                          <device>\n+                            <title>tablet</title>\n+                            <width>768</width>\n+                            <height>1024</height>\n+                          </device>\n+                        </devices>\n+                      </configuration>\n+                    </widget>\n+                  </widgets>\n+                </configuration>\n+              </widget>\n+              <widget id=\"craftercms.components.ToolsPanelPageButton\">\n+                <configuration>\n+                  <title id=\"words.settings\" defaultMessage=\"Settings\" />\n+                  <icon id=\"@material-ui/icons/SettingsOutlined\" />\n+                  <widgets>\n+                    <widget id=\"craftercms.components.PreviewSettingsPanel\" />\n+                  </widgets>\n+                </configuration>\n+              </widget>\n+            </widgets>\n+          </configuration>\n+        </widget>\n+        <widget id=\"craftercms.components.ToolsPanelPageButton\">\n+          <permittedRoles>\n+            <role>admin</role>\n+            <role>developer</role>\n+          </permittedRoles>\n+          <configuration>\n+            <title id=\"siteTools.title\" defaultMessage=\"Site Tools\" />\n+            <icon baseClass=\"fa fa-sliders\" />\n+            <widgets>\n+              <widget id=\"craftercms.components.ToolsPanelEmbeddedAppViewButton\">\n+                <configuration>\n+                  <title id=\"receptaclesMessages.contentTypes\" defaultMessage=\"Content Types\" />\n+                  <icon baseClass=\"fa fa-th-large\" />\n+                  <widget id=\"craftercms.components.LegacySiteToolsFrame\">\n+                    <configuration>\n+                      <tool>content-types</tool>\n+                    </configuration>\n+                  </widget>\n+                </configuration>\n+              </widget>\n+              <widget id=\"craftercms.components.ToolsPanelEmbeddedAppViewButton\">\n+                <configuration>\n+                  <title id=\"GlobalMenu.EncryptionToolEntryLabel\" defaultMessage=\"Encryption Tool\" />\n+                  <icon>\n+                    <baseClass>fa fa-lock</baseClass>\n+                  </icon>\n+                  <widget id=\"craftercms.components.LegacySiteToolsFrame\">\n+                    <configuration>\n+                      <tool>encrypt-tool</tool>\n+                    </configuration>\n+                  </widget>\n+                </configuration>\n+              </widget>\n+              <widget id=\"craftercms.components.ToolsPanelEmbeddedAppViewButton\">\n+                <configuration>\n+                  <title id=\"words.configuration\" defaultMessage=\"Configuration\" />\n+                  <icon baseClass=\"fa fa-cogs\" />\n+                  <widget id=\"craftercms.components.LegacySiteToolsFrame\">\n+                    <configuration>\n+                      <tool>admin-configurations</tool>\n+                    </configuration>\n+                  </widget>\n+                </configuration>\n+              </widget>\n+              <widget id=\"craftercms.components.ToolsPanelEmbeddedAppViewButton\">\n+                <configuration>\n+                  <title id=\"GlobalMenu.AuditEntryLabel\" defaultMessage=\"Audit\" />\n+                  <icon>\n+                    <baseClass>fa fa-align-justify</baseClass>\n+                  </icon>\n+                  <widget>\n+                    <id>craftercms.components.LegacySiteToolsFrame</id>\n+                    <configuration>\n+                      <tool>audit</tool>\n+                    </configuration>\n+                  </widget>\n+                </configuration>\n+              </widget>\n+              <widget id=\"craftercms.components.ToolsPanelEmbeddedAppViewButton\">\n+                <configuration>\n+                  <title id=\"workflowStates.title\" defaultMessage=\"Workflow States\" />\n+                  <icon baseClass=\"fa fa-cog\" />\n+                  <widget id=\"craftercms.components.LegacySiteToolsFrame\">\n+                    <configuration>\n+                      <tool>workflow-states</tool>\n+                    </configuration>\n+                  </widget>\n+                </configuration>\n+              </widget>\n+              <widget id=\"craftercms.components.ToolsPanelEmbeddedAppViewButton\">\n+                <configuration>\n+                  <title id=\"GlobalMenu.LogConsoleEntryLabel\" defaultMessage=\"Log Console\" />\n+                  <icon baseClass=\"fa fa-align-left\" />\n+                  <widget id=\"craftercms.components.LegacySiteToolsFrame\">\n+                    <configuration>\n+                      <tool>log-view</tool>\n+                    </configuration>\n+                  </widget>\n+                </configuration>\n+              </widget>\n+              <widget id=\"craftercms.components.ToolsPanelEmbeddedAppViewButton\">\n+                <configuration>\n+                  <title id=\"words.publishing\" defaultMessage=\"Publishing\" />\n+                  <icon baseClass=\"fa fa-cloud-upload\" />\n+                  <widget id=\"craftercms.components.LegacySiteToolsFrame\">\n+                    <configuration>\n+                      <tool>status-view</tool>\n+                    </configuration>\n+                  </widget>\n+                </configuration>\n+              </widget>\n+              <widget id=\"craftercms.components.ToolsPanelEmbeddedAppViewButton\">\n+                <configuration>\n+                  <title id=\"remoteRepositories.title\" defaultMessage=\"Remote Repositories\" />\n+                  <icon baseClass=\"fa fa-database\" />\n+                  <widget id=\"craftercms.components.LegacySiteToolsFrame\">\n+                    <configuration>\n+                      <tool>repository</tool>\n+                    </configuration>\n+                  </widget>\n+                </configuration>\n+              </widget>\n+              <widget id=\"craftercms.components.ToolsPanelEmbeddedAppViewButton\">\n+                <configuration>\n+                  <title>GraphQL</title>\n+                  <icon baseClass=\"fa fa-line-chart\" />\n+                  <widget id=\"craftercms.components.LegacySiteToolsFrame\">\n+                    <configuration>\n+                      <tool>graphiql</tool>\n+                    </configuration>\n+                  </widget>\n+                </configuration>\n+              </widget>\n+            </widgets>\n+          </configuration>\n+        </widget>\n+      </widgets>\n+    </configuration>\n+  </widget>\n+  <widget id=\"craftercms.components.GlobalNavSiteSection\">\n+    <configuration>\n+      <title id=\"words.site\" defaultMessage=\"Site\"/>\n+      <widgets>\n+        <widget id=\"craftercms.components.GlobalNavLinkTile\">\n+          <configuration>\n+            <title id=\"words.dashboard\" defaultMessage=\"Dashboard\"/>\n+            <systemLinkId>siteDashboard</systemLinkId>\n+            <icon id=\"@material-ui/icons/DashboardRounded\"/>\n+          </configuration>\n+        </widget>\n+        <widget id=\"craftercms.components.GlobalNavLinkTile\">\n+          <configuration>\n+            <title id=\"words.preview\" defaultMessage=\"Preview\"/>\n+            <systemLinkId>preview</systemLinkId>\n+            <icon id=\"craftercms.icons.Preview\"/>\n+          </configuration>\n+        </widget>\n+        <widget id=\"craftercms.components.GlobalNavLinkTile\">\n+          <permittedRoles>\n+            <role>admin</role>\n+            <role>developer</role>\n+          </permittedRoles>\n+          <configuration>\n+            <title id=\"siteTools.title\" defaultMessage=\"Site Tools\"/>\n+            <systemLinkId>siteTools</systemLinkId>\n+            <icon id=\"@material-ui/icons/BuildRounded\"/>\n+          </configuration>\n+        </widget>\n+        <widget id=\"craftercms.components.GlobalNavLinkTile\">\n+          <configuration>\n+            <title id=\"words.search\" defaultMessage=\"Search\"/>\n+            <systemLinkId>siteSearch</systemLinkId>\n+            <icon id=\"@material-ui/icons/SearchRounded\"/>\n+          </configuration>\n+        </widget>\n+      </widgets>\n+    </configuration>\n+  </widget>\n+</siteUi>"
  },
  {
    "sha": "e33dd6cc2add50ec0fd08a96de7f18e62479041a",
    "filename": "src/main/webapp/repo-bootstrap/global/blueprints/5000_headless_blog/site/website/index.xml",
    "status": "modified",
    "additions": 7,
    "deletions": 16,
    "changes": 23,
    "blob_url": "https://github.com/craftercms/studio/blob/035ab778835bddf7a4688b1ec7c4c8bc78c5157a/src/main/webapp/repo-bootstrap/global/blueprints/5000_headless_blog/site/website/index.xml",
    "raw_url": "https://github.com/craftercms/studio/raw/035ab778835bddf7a4688b1ec7c4c8bc78c5157a/src/main/webapp/repo-bootstrap/global/blueprints/5000_headless_blog/site/website/index.xml",
    "contents_url": "https://api.github.com/repos/craftercms/studio/contents/src/main/webapp/repo-bootstrap/global/blueprints/5000_headless_blog/site/website/index.xml?ref=035ab778835bddf7a4688b1ec7c4c8bc78c5157a",
    "patch": "@@ -24,22 +24,13 @@\n \t<internal-name>Item Explorer</internal-name>\n \t<orderDefault_f>-1</orderDefault_f>\n \t<body_html>&lt;p&gt;This sample site allows you to manage a blog using multiple authors, categories and tags for the posts.&lt;/p&gt;\n-&lt;p&gt;All content is exposed by a flexible REST API:&lt;/p&gt;\n-&lt;p&gt;get endpoint using an id:&lt;/p&gt;\n-&lt;ul&gt;\n-&lt;li&gt;/api/1/author/{id}.json&lt;/li&gt;\n-&lt;li&gt;/api/1/post/{id}.json&lt;/li&gt;\n-&lt;/ul&gt;\n-&lt;p&gt;list endpoints support &amp;#39;start&amp;#39; and &amp;#39;rows&amp;#39; parameters for pagination:&lt;/p&gt;\n-&lt;ul&gt;\n-&lt;li&gt;/api/1/author/list.json&lt;/li&gt;\n-&lt;li&gt;/api/1/category/list.json&lt;/li&gt;\n-&lt;li&gt;/api/1/tag/list.json&lt;/li&gt;\n-&lt;/ul&gt;\n-&lt;p&gt;list posts endpoint also supports &amp;#39;author&amp;#39;, &amp;#39;categories&amp;#39;, &amp;#39;tags&amp;#39; parameters. A special &amp;#39;q&amp;#39; parameter supports text search in the body of the posts:&lt;/p&gt;\n-&lt;ul&gt;\n-&lt;li&gt;/api/1/post/list.json&lt;/li&gt;\n-&lt;/ul&gt;</body_html>\n+\t\t&lt;p&gt;All content is retrieved using &lt;a href=\"https://github.com/craftercms/craftercms-sdk-js/tree/master/packages/search\" target=\"_blank\" rel=\"noopener\"&gt;Crafter CMS SDK&lt;/a&gt; for javascript (search package).&lt;/p&gt;\n+\t\t&lt;p&gt;To search for content (documentation in &lt;a href=\"https://github.com/craftercms/craftercms-sdk-js/tree/master/packages/search\" target=\"_blank\" rel=\"noopener\"&gt;here&lt;/a&gt;) using Elasticsearch,&amp;nbsp; use the following content types in query:&lt;/p&gt;\n+\t\t&lt;ul&gt;\n+\t\t&lt;li&gt;'/component/author'&lt;/li&gt;\n+\t\t&lt;li&gt;'/component/post'&lt;/li&gt;\n+\t\t&lt;/ul&gt;\n+\t\t&lt;p&gt;Elasticsearch also supports 'size' and 'page' parameters for pagination.&lt;/p&gt;</body_html>\n \t<objectGroupId>8d7f</objectGroupId>\n \t<objectId>8d7f21fa-5e09-00aa-8340-853b7db302da</objectId>\n \t<folder-name/>"
  },
  {
    "sha": "e185918ec7e31adcad3c1c596d3518158ba855af",
    "filename": "src/main/webapp/repo-bootstrap/global/blueprints/5000_headless_blog/static-assets/js/craftercms-sdk/classes/classes.umd.js",
    "status": "added",
    "additions": 656,
    "deletions": 0,
    "changes": 656,
    "blob_url": "https://github.com/craftercms/studio/blob/035ab778835bddf7a4688b1ec7c4c8bc78c5157a/src/main/webapp/repo-bootstrap/global/blueprints/5000_headless_blog/static-assets/js/craftercms-sdk/classes/classes.umd.js",
    "raw_url": "https://github.com/craftercms/studio/raw/035ab778835bddf7a4688b1ec7c4c8bc78c5157a/src/main/webapp/repo-bootstrap/global/blueprints/5000_headless_blog/static-assets/js/craftercms-sdk/classes/classes.umd.js",
    "contents_url": "https://api.github.com/repos/craftercms/studio/contents/src/main/webapp/repo-bootstrap/global/blueprints/5000_headless_blog/static-assets/js/craftercms-sdk/classes/classes.umd.js?ref=035ab778835bddf7a4688b1ec7c4c8bc78c5157a",
    "patch": "@@ -0,0 +1,656 @@\n+/*\n+ * Copyright (C) 2007-2020 Crafter Software Corporation. All Rights Reserved.\n+ *\n+ * This program is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License version 3 as published by\n+ * the Free Software Foundation.\n+ *\n+ * This program is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public License\n+ * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+ */\n+(function (global, factory) {\n+    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('rxjs'), require('rxjs/operators'), require('@craftercms/utils'), require('@craftercms/models'), require('rxjs/ajax')) :\n+    typeof define === 'function' && define.amd ? define('@craftercms/classes', ['exports', 'rxjs', 'rxjs/operators', '@craftercms/utils', '@craftercms/models', 'rxjs/ajax'], factory) :\n+    (global = global || self, factory((global.craftercms = global.craftercms || {}, global.craftercms.classes = {}), global.rxjs, global.rxjs.operators, global.craftercms.utils, global.craftercms.models, global.rxjs.ajax));\n+}(this, (function (exports, rxjs, operators, utils, models, ajax) { 'use strict';\n+\n+    /*\n+     * Copyright (C) 2007-2020 Crafter Software Corporation. All Rights Reserved.\n+     *\n+     * This program is free software: you can redistribute it and/or modify\n+     * it under the terms of the GNU General Public License version 3 as published by\n+     * the Free Software Foundation.\n+     *\n+     * This program is distributed in the hope that it will be useful,\n+     * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+     * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+     * GNU General Public License for more details.\n+     *\n+     * You should have received a copy of the GNU General Public License\n+     * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+     */\n+\n+    /*\n+     * Copyright (C) 2007-2020 Crafter Software Corporation. All Rights Reserved.\n+     *\n+     * This program is free software: you can redistribute it and/or modify\n+     * it under the terms of the GNU Lesser General Public License version 3\n+     * as published by the Free Software Foundation.\n+     *\n+     * This program is distributed in the hope that it will be useful,\n+     * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+     * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n+     * GNU Lesser General Public License for more details.\n+     *\n+     * You should have received a copy of the GNU Lesser General Public License\n+     * along with this program. If not, see http://www.gnu.org/licenses/.\n+     */\n+    var Messenger = /** @class */ (function () {\n+        function Messenger() {\n+            var _this = this;\n+            this.targets = [];\n+            this.origins = [];\n+            var multiCaster = new rxjs.Subject(), messages = rxjs.fromEvent(window, 'message')\n+                .pipe(operators.tap(function (event) {\n+                return !_this.originAllowed(event.origin) &&\n+                    console.log('Messenger: Message received from a disallowed origin.', event);\n+            }), operators.filter(function (event) {\n+                return _this.originAllowed(event.origin) &&\n+                    (typeof event.data === 'object') &&\n+                    ('topic' in event.data) &&\n+                    ('data' in event.data) &&\n+                    ('scope' in event.data);\n+            }), operators.map(function (event) { return ({\n+                topic: event.data.topic,\n+                data: event.data.data,\n+                scope: event.data.scope || models.MessageScope.Broadcast\n+            }); }), operators.multicast(multiCaster), operators.refCount());\n+            this.messages$ = messages;\n+            this.multiCaster$ = multiCaster;\n+        }\n+        Messenger.prototype.subscribe = function (observerOrNext) {\n+            var operators = [];\n+            for (var _i = 1; _i < arguments.length; _i++) {\n+                operators[_i - 1] = arguments[_i];\n+            }\n+            return this.messages$\n+                .pipe.apply(this.messages$, operators)\n+                .subscribe(observerOrNext);\n+        };\n+        Messenger.prototype.subscribeTo = function (topic, subscriber, scope) {\n+            var operations = [];\n+            for (var _i = 3; _i < arguments.length; _i++) {\n+                operations[_i - 3] = arguments[_i];\n+            }\n+            var ops = [];\n+            // operations = operations || [];\n+            if (!utils.notNullOrUndefined(scope)) {\n+                ops.push(operators.filter(function (message) {\n+                    return message.scope === scope && message.topic === topic;\n+                }));\n+            }\n+            else {\n+                ops.push(operators.filter(function (message) { return message.topic === topic; }));\n+            }\n+            return this.messages$\n+                .pipe.apply(this.messages$, ops.concat(operations))\n+                .subscribe(subscriber);\n+        };\n+        Messenger.prototype.addTarget = function (target) {\n+            this.removeTarget(target);\n+            this.targets.push(target);\n+        };\n+        Messenger.prototype.resetTargets = function () {\n+            this.targets = [];\n+        };\n+        Messenger.prototype.removeTarget = function (target) {\n+            this.targets = this.targets.filter(function (item) {\n+                return item !== target;\n+            });\n+        };\n+        Messenger.prototype.addOrigin = function (origin) {\n+            this.removeOrigin(origin);\n+            this.origins.push(origin);\n+        };\n+        Messenger.prototype.resetOrigins = function () {\n+            this.origins = [];\n+        };\n+        Messenger.prototype.removeOrigin = function (origin) {\n+            this.origins = this.origins.filter(function (item) {\n+                return item !== origin;\n+            });\n+        };\n+        Messenger.prototype.publish = function (topicOrMessage, data, scope) {\n+            if (data === void 0) { data = null; }\n+            if (scope === void 0) { scope = models.MessageScope.Broadcast; }\n+            var message;\n+            if (typeof topicOrMessage === 'string' && topicOrMessage in models.MessageTopic) {\n+                message = {\n+                    topic: topicOrMessage,\n+                    data: data,\n+                    scope: scope\n+                };\n+            }\n+            else {\n+                message = topicOrMessage;\n+            }\n+            switch (scope) {\n+                case models.MessageScope.Local:\n+                    this.multiCaster$.next(message);\n+                    break;\n+                case models.MessageScope.External:\n+                    this.sendMessage(message);\n+                    break;\n+                case models.MessageScope.Broadcast:\n+                    this.multiCaster$.next(message);\n+                    this.sendMessage(message);\n+                    break;\n+            }\n+        };\n+        Messenger.prototype.sendMessage = function (message, targetOrigin) {\n+            var _this = this;\n+            if (targetOrigin === void 0) { targetOrigin = '*'; }\n+            this.targets.forEach(function (target) {\n+                // TODO need to determine where to get the origin\n+                if (!target.postMessage) {\n+                    target = target.contentWindow;\n+                }\n+                if (!target || !target.postMessage) {\n+                    // Garbage collection: get rid of any windows that no longer exist.\n+                    _this.removeTarget(target);\n+                }\n+                else {\n+                    target.postMessage(message, targetOrigin);\n+                }\n+            });\n+        };\n+        Messenger.prototype.originAllowed = function (origin) {\n+            for (var origins = this.origins, i = 0, l = origins.length; i < l; ++i) {\n+                if (origins[i] === origin) {\n+                    return true;\n+                }\n+            }\n+            return false;\n+        };\n+        return Messenger;\n+    }());\n+\n+    var commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n+\n+    /**\n+     *\n+     *\n+     * @author Jerry Bendy <jerry@icewingcc.com>\n+     * @licence MIT\n+     *\n+     */\n+\n+    (function(self) {\n+\n+        var nativeURLSearchParams = (self.URLSearchParams && self.URLSearchParams.prototype.get) ? self.URLSearchParams : null,\n+            isSupportObjectConstructor = nativeURLSearchParams && (new nativeURLSearchParams({a: 1})).toString() === 'a=1',\n+            // There is a bug in safari 10.1 (and earlier) that incorrectly decodes `%2B` as an empty space and not a plus.\n+            decodesPlusesCorrectly = nativeURLSearchParams && (new nativeURLSearchParams('s=%2B').get('s') === '+'),\n+            __URLSearchParams__ = \"__URLSearchParams__\",\n+            // Fix bug in Edge which cannot encode ' &' correctly\n+            encodesAmpersandsCorrectly = nativeURLSearchParams ? (function() {\n+                var ampersandTest = new nativeURLSearchParams();\n+                ampersandTest.append('s', ' &');\n+                return ampersandTest.toString() === 's=+%26';\n+            })() : true,\n+            prototype = URLSearchParamsPolyfill.prototype,\n+            iterable = !!(self.Symbol && self.Symbol.iterator);\n+\n+        if (nativeURLSearchParams && isSupportObjectConstructor && decodesPlusesCorrectly && encodesAmpersandsCorrectly) {\n+            return;\n+        }\n+\n+\n+        /**\n+         * Make a URLSearchParams instance\n+         *\n+         * @param {object|string|URLSearchParams} search\n+         * @constructor\n+         */\n+        function URLSearchParamsPolyfill(search) {\n+            search = search || \"\";\n+\n+            // support construct object with another URLSearchParams instance\n+            if (search instanceof URLSearchParams || search instanceof URLSearchParamsPolyfill) {\n+                search = search.toString();\n+            }\n+            this [__URLSearchParams__] = parseToDict(search);\n+        }\n+\n+\n+        /**\n+         * Appends a specified key/value pair as a new search parameter.\n+         *\n+         * @param {string} name\n+         * @param {string} value\n+         */\n+        prototype.append = function(name, value) {\n+            appendTo(this [__URLSearchParams__], name, value);\n+        };\n+\n+        /**\n+         * Deletes the given search parameter, and its associated value,\n+         * from the list of all search parameters.\n+         *\n+         * @param {string} name\n+         */\n+        prototype['delete'] = function(name) {\n+            delete this [__URLSearchParams__] [name];\n+        };\n+\n+        /**\n+         * Returns the first value associated to the given search parameter.\n+         *\n+         * @param {string} name\n+         * @returns {string|null}\n+         */\n+        prototype.get = function(name) {\n+            var dict = this [__URLSearchParams__];\n+            return name in dict ? dict[name][0] : null;\n+        };\n+\n+        /**\n+         * Returns all the values association with a given search parameter.\n+         *\n+         * @param {string} name\n+         * @returns {Array}\n+         */\n+        prototype.getAll = function(name) {\n+            var dict = this [__URLSearchParams__];\n+            return name in dict ? dict [name].slice(0) : [];\n+        };\n+\n+        /**\n+         * Returns a Boolean indicating if such a search parameter exists.\n+         *\n+         * @param {string} name\n+         * @returns {boolean}\n+         */\n+        prototype.has = function(name) {\n+            return name in this [__URLSearchParams__];\n+        };\n+\n+        /**\n+         * Sets the value associated to a given search parameter to\n+         * the given value. If there were several values, delete the\n+         * others.\n+         *\n+         * @param {string} name\n+         * @param {string} value\n+         */\n+        prototype.set = function set(name, value) {\n+            this [__URLSearchParams__][name] = ['' + value];\n+        };\n+\n+        /**\n+         * Returns a string containg a query string suitable for use in a URL.\n+         *\n+         * @returns {string}\n+         */\n+        prototype.toString = function() {\n+            var dict = this[__URLSearchParams__], query = [], i, key, name, value;\n+            for (key in dict) {\n+                name = encode(key);\n+                for (i = 0, value = dict[key]; i < value.length; i++) {\n+                    query.push(name + '=' + encode(value[i]));\n+                }\n+            }\n+            return query.join('&');\n+        };\n+\n+        // There is a bug in Safari 10.1 and `Proxy`ing it is not enough.\n+        var forSureUsePolyfill = !decodesPlusesCorrectly;\n+        var useProxy = (!forSureUsePolyfill && nativeURLSearchParams && !isSupportObjectConstructor && self.Proxy);\n+        /*\n+         * Apply polifill to global object and append other prototype into it\n+         */\n+        Object.defineProperty(self, 'URLSearchParams', {\n+            value: (useProxy ?\n+                // Safari 10.0 doesn't support Proxy, so it won't extend URLSearchParams on safari 10.0\n+                new Proxy(nativeURLSearchParams, {\n+                    construct: function(target, args) {\n+                        return new target((new URLSearchParamsPolyfill(args[0]).toString()));\n+                    }\n+                }) :\n+                URLSearchParamsPolyfill)\n+        });\n+\n+        var USPProto = self.URLSearchParams.prototype;\n+\n+        USPProto.polyfill = true;\n+\n+        /**\n+         *\n+         * @param {function} callback\n+         * @param {object} thisArg\n+         */\n+        USPProto.forEach = USPProto.forEach || function(callback, thisArg) {\n+            var dict = parseToDict(this.toString());\n+            Object.getOwnPropertyNames(dict).forEach(function(name) {\n+                dict[name].forEach(function(value) {\n+                    callback.call(thisArg, value, name, this);\n+                }, this);\n+            }, this);\n+        };\n+\n+        /**\n+         * Sort all name-value pairs\n+         */\n+        USPProto.sort = USPProto.sort || function() {\n+            var dict = parseToDict(this.toString()), keys = [], k, i, j;\n+            for (k in dict) {\n+                keys.push(k);\n+            }\n+            keys.sort();\n+\n+            for (i = 0; i < keys.length; i++) {\n+                this['delete'](keys[i]);\n+            }\n+            for (i = 0; i < keys.length; i++) {\n+                var key = keys[i], values = dict[key];\n+                for (j = 0; j < values.length; j++) {\n+                    this.append(key, values[j]);\n+                }\n+            }\n+        };\n+\n+        /**\n+         * Returns an iterator allowing to go through all keys of\n+         * the key/value pairs contained in this object.\n+         *\n+         * @returns {function}\n+         */\n+        USPProto.keys = USPProto.keys || function() {\n+            var items = [];\n+            this.forEach(function(item, name) {\n+                items.push(name);\n+            });\n+            return makeIterator(items);\n+        };\n+\n+        /**\n+         * Returns an iterator allowing to go through all values of\n+         * the key/value pairs contained in this object.\n+         *\n+         * @returns {function}\n+         */\n+        USPProto.values = USPProto.values || function() {\n+            var items = [];\n+            this.forEach(function(item) {\n+                items.push(item);\n+            });\n+            return makeIterator(items);\n+        };\n+\n+        /**\n+         * Returns an iterator allowing to go through all key/value\n+         * pairs contained in this object.\n+         *\n+         * @returns {function}\n+         */\n+        USPProto.entries = USPProto.entries || function() {\n+            var items = [];\n+            this.forEach(function(item, name) {\n+                items.push([name, item]);\n+            });\n+            return makeIterator(items);\n+        };\n+\n+\n+        if (iterable) {\n+            USPProto[self.Symbol.iterator] = USPProto[self.Symbol.iterator] || USPProto.entries;\n+        }\n+\n+\n+        function encode(str) {\n+            var replace = {\n+                '!': '%21',\n+                \"'\": '%27',\n+                '(': '%28',\n+                ')': '%29',\n+                '~': '%7E',\n+                '%20': '+',\n+                '%00': '\\x00'\n+            };\n+            return encodeURIComponent(str).replace(/[!'\\(\\)~]|%20|%00/g, function(match) {\n+                return replace[match];\n+            });\n+        }\n+\n+        function decode(str) {\n+            return decodeURIComponent(str.replace(/\\+/g, ' '));\n+        }\n+\n+        function makeIterator(arr) {\n+            var iterator = {\n+                next: function() {\n+                    var value = arr.shift();\n+                    return {done: value === undefined, value: value};\n+                }\n+            };\n+\n+            if (iterable) {\n+                iterator[self.Symbol.iterator] = function() {\n+                    return iterator;\n+                };\n+            }\n+\n+            return iterator;\n+        }\n+\n+        function parseToDict(search) {\n+            var dict = {};\n+\n+            if (typeof search === \"object\") {\n+                for (var key in search) {\n+                    if (search.hasOwnProperty(key)) {\n+                        appendTo(dict, key, search[key]);\n+                    }\n+                }\n+\n+            } else {\n+                // remove first '?'\n+                if (search.indexOf(\"?\") === 0) {\n+                    search = search.slice(1);\n+                }\n+\n+                var pairs = search.split(\"&\");\n+                for (var j = 0; j < pairs.length; j++) {\n+                    var value = pairs [j],\n+                        index = value.indexOf('=');\n+\n+                    if (-1 < index) {\n+                        appendTo(dict, decode(value.slice(0, index)), decode(value.slice(index + 1)));\n+\n+                    } else {\n+                        if (value) {\n+                            appendTo(dict, decode(value), '');\n+                        }\n+                    }\n+                }\n+            }\n+\n+            return dict;\n+        }\n+\n+        function appendTo(dict, name, value) {\n+            var val = typeof value === 'string' ? value : (\n+                value !== null && value !== undefined && typeof value.toString === 'function' ? value.toString() : JSON.stringify(value)\n+            );\n+\n+            if (name in dict) {\n+                dict[name].push(val);\n+            } else {\n+                dict[name] = [val];\n+            }\n+        }\n+\n+    })(typeof commonjsGlobal !== 'undefined' ? commonjsGlobal : (typeof window !== 'undefined' ? window : commonjsGlobal));\n+\n+    /*\n+     * Copyright (C) 2007-2020 Crafter Software Corporation. All Rights Reserved.\n+     *\n+     * This program is free software: you can redistribute it and/or modify\n+     * it under the terms of the GNU Lesser General Public License version 3\n+     * as published by the Free Software Foundation.\n+     *\n+     * This program is distributed in the hope that it will be useful,\n+     * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+     * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n+     * GNU Lesser General Public License for more details.\n+     *\n+     * You should have received a copy of the GNU Lesser General Public License\n+     * along with this program. If not, see http://www.gnu.org/licenses/.\n+     */\n+    function httpGet(requestURL, params) {\n+        if (params === void 0) { params = {}; }\n+        var searchParams = new URLSearchParams(params);\n+        return ajax.ajax.get(requestURL + \"?\" + searchParams.toString()).pipe(operators.pluck('response'));\n+    }\n+    function httpPost(requestURL, body) {\n+        if (body === void 0) { body = {}; }\n+        return ajax.ajax.post(requestURL, body, { 'Content-Type': 'application/json' }).pipe(operators.pluck('response'));\n+    }\n+    var SDKService = {\n+        httpGet: httpGet,\n+        httpPost: httpPost\n+    };\n+\n+    /*! *****************************************************************************\n+    Copyright (c) Microsoft Corporation. All rights reserved.\n+    Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use\n+    this file except in compliance with the License. You may obtain a copy of the\n+    License at http://www.apache.org/licenses/LICENSE-2.0\n+\n+    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\n+    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\n+    MERCHANTABLITY OR NON-INFRINGEMENT.\n+\n+    See the Apache Version 2.0 License for specific language governing permissions\n+    and limitations under the License.\n+    ***************************************************************************** */\n+\n+    var __assign = function() {\n+        __assign = Object.assign || function __assign(t) {\n+            for (var s, i = 1, n = arguments.length; i < n; i++) {\n+                s = arguments[i];\n+                for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n+            }\n+            return t;\n+        };\n+        return __assign.apply(this, arguments);\n+    };\n+\n+    /*\n+     * Copyright (C) 2007-2020 Crafter Software Corporation. All Rights Reserved.\n+     *\n+     * This program is free software: you can redistribute it and/or modify\n+     * it under the terms of the GNU Lesser General Public License version 3\n+     * as published by the Free Software Foundation.\n+     *\n+     * This program is distributed in the hope that it will be useful,\n+     * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+     * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n+     * GNU Lesser General Public License for more details.\n+     *\n+     * You should have received a copy of the GNU Lesser General Public License\n+     * along with this program. If not, see http://www.gnu.org/licenses/.\n+     */\n+    var DEFAULTS = {\n+        site: '',\n+        baseUrl: '',\n+        searchId: null,\n+        endpoints: {\n+            GET_ITEM_URL: '/api/1/site/content_store/item.json',\n+            GET_DESCRIPTOR: '/api/1/site/content_store/descriptor.json',\n+            GET_CHILDREN: '/api/1/site/content_store/children.json',\n+            GET_TREE: '/api/1/site/content_store/tree.json',\n+            GET_NAV_TREE: '/api/1/site/navigation/tree.json',\n+            GET_BREADCRUMB: '/api/1/site/navigation/breadcrumb.json',\n+            TRANSFORM_URL: '/api/1/site/url/transform.json',\n+            SEARCH: 'crafter-search/api/2/search/search.json',\n+            ELASTICSEARCH: 'api/1/site/elasticsearch/search'\n+        },\n+        contentTypeRegistry: {}\n+    };\n+    var ConfigManager = /** @class */ (function () {\n+        function ConfigManager() {\n+            this.config = __assign({}, DEFAULTS);\n+            this.config$ = new rxjs.BehaviorSubject(__assign({}, DEFAULTS));\n+        }\n+        ConfigManager.prototype.publishConfig = function (config) {\n+            this.config = __assign({}, config);\n+            this.config$.next(__assign({}, config));\n+        };\n+        ConfigManager.prototype.subscribe = function (observerOrNext) {\n+            var operators = [];\n+            for (var _i = 1; _i < arguments.length; _i++) {\n+                operators[_i - 1] = arguments[_i];\n+            }\n+            return this.config$.pipe.apply(this.config$, operators).subscribe(observerOrNext);\n+        };\n+        ConfigManager.prototype.entry = function (propPath, nextValue) {\n+            var _a;\n+            var config = this.config;\n+            if (!propPath)\n+                return __assign({}, config);\n+            var getter = (nextValue == null);\n+            var path = propPath.split('.');\n+            var prop = (!getter) && (path.pop());\n+            var value = (function () {\n+                try {\n+                    var l_1 = path.length - 1;\n+                    return path.length ? path.reduce(function (cfg, property, i) {\n+                        return getter && (l_1 === i) && utils.isPlainObject(cfg[property])\n+                            ? __assign({}, cfg[property]) : cfg[property];\n+                    }, config) : config;\n+                }\n+                catch (e) {\n+                    utils.log(\"Error retrieving crafter config prop '\" + propPath + \"': \" + (e.message || e), utils.log.WARN);\n+                    return null;\n+                }\n+            })();\n+            if (getter) {\n+                return value;\n+            }\n+            else if ((prop in value) ||\n+                (path[path.length - 1] === 'contentTypeRegistry')) {\n+                this.publishConfig(__assign(__assign({}, value), (_a = {}, _a[prop] = nextValue, _a)));\n+            }\n+        };\n+        ConfigManager.prototype.getConfig = function () {\n+            return __assign({}, this.config);\n+        };\n+        ConfigManager.prototype.mix = function (mixin) {\n+            if (mixin === void 0) { mixin = {}; }\n+            return __assign(__assign({}, this.config), mixin);\n+        };\n+        ConfigManager.prototype.configure = function (nextConfig) {\n+            var newConfig = utils.extendDeepExistingProps(__assign({}, this.config), nextConfig);\n+            this.publishConfig(newConfig);\n+        };\n+        return ConfigManager;\n+    }());\n+    var crafterConf = new ConfigManager();\n+\n+    exports.Messenger = Messenger;\n+    exports.SDKService = SDKService;\n+    exports.crafterConf = crafterConf;\n+    exports.httpGet = httpGet;\n+    exports.httpPost = httpPost;\n+\n+    Object.defineProperty(exports, '__esModule', { value: true });\n+\n+})));\n+//# sourceMappingURL=classes.umd.js.map"
  },
  {
    "sha": "106faad507fbd65ac00869a54b5a9879d0442934",
    "filename": "src/main/webapp/repo-bootstrap/global/blueprints/5000_headless_blog/static-assets/js/craftercms-sdk/content/content.umd.js",
    "status": "added",
    "additions": 391,
    "deletions": 0,
    "changes": 391,
    "blob_url": "https://github.com/craftercms/studio/blob/035ab778835bddf7a4688b1ec7c4c8bc78c5157a/src/main/webapp/repo-bootstrap/global/blueprints/5000_headless_blog/static-assets/js/craftercms-sdk/content/content.umd.js",
    "raw_url": "https://github.com/craftercms/studio/raw/035ab778835bddf7a4688b1ec7c4c8bc78c5157a/src/main/webapp/repo-bootstrap/global/blueprints/5000_headless_blog/static-assets/js/craftercms-sdk/content/content.umd.js",
    "contents_url": "https://api.github.com/repos/craftercms/studio/contents/src/main/webapp/repo-bootstrap/global/blueprints/5000_headless_blog/static-assets/js/craftercms-sdk/content/content.umd.js?ref=035ab778835bddf7a4688b1ec7c4c8bc78c5157a",
    "patch": "@@ -0,0 +1,391 @@\n+/*\n+ * Copyright (C) 2007-2020 Crafter Software Corporation. All Rights Reserved.\n+ *\n+ * This program is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License version 3 as published by\n+ * the Free Software Foundation.\n+ *\n+ * This program is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public License\n+ * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+ */\n+(function (global, factory) {\n+    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('@craftercms/classes'), require('@craftercms/utils')) :\n+    typeof define === 'function' && define.amd ? define('@craftercms/content', ['exports', '@craftercms/classes', '@craftercms/utils'], factory) :\n+    (global = global || self, factory((global.craftercms = global.craftercms || {}, global.craftercms.content = {}), global.craftercms.classes, global.craftercms.utils));\n+}(this, (function (exports, classes, utils) { 'use strict';\n+\n+    /*\n+     * Copyright (C) 2007-2020 Crafter Software Corporation. All Rights Reserved.\n+     *\n+     * This program is free software: you can redistribute it and/or modify\n+     * it under the terms of the GNU General Public License version 3 as published by\n+     * the Free Software Foundation.\n+     *\n+     * This program is distributed in the hope that it will be useful,\n+     * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+     * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+     * GNU General Public License for more details.\n+     *\n+     * You should have received a copy of the GNU General Public License\n+     * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+     */\n+\n+    /*\n+     * Copyright (C) 2007-2020 Crafter Software Corporation. All Rights Reserved.\n+     *\n+     * This program is free software: you can redistribute it and/or modify\n+     * it under the terms of the GNU Lesser General Public License version 3\n+     * as published by the Free Software Foundation.\n+     *\n+     * This program is distributed in the hope that it will be useful,\n+     * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+     * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n+     * GNU Lesser General Public License for more details.\n+     *\n+     * You should have received a copy of the GNU Lesser General Public License\n+     * along with this program. If not, see http://www.gnu.org/licenses/.\n+     */\n+    function getItem(path, config) {\n+        config = classes.crafterConf.mix(config);\n+        var requestURL = utils.composeUrl(config, config.endpoints.GET_ITEM_URL);\n+        return classes.SDKService.httpGet(requestURL, { url: path, crafterSite: config.site });\n+    }\n+    function getDescriptor(path, config) {\n+        config = classes.crafterConf.mix(config);\n+        var requestURL = utils.composeUrl(config, config.endpoints.GET_DESCRIPTOR);\n+        return classes.SDKService.httpGet(requestURL, {\n+            url: path,\n+            crafterSite: config.site,\n+            flatten: Boolean(config.flatten)\n+        });\n+    }\n+    function getChildren(path, config) {\n+        config = classes.crafterConf.mix(config);\n+        var requestURL = utils.composeUrl(config, config.endpoints.GET_CHILDREN);\n+        return classes.SDKService.httpGet(requestURL, { url: path, crafterSite: config.site });\n+    }\n+    function getTree(path, depth, config) {\n+        if (depth === void 0) { depth = 1; }\n+        if (typeof depth === 'object') {\n+            config = depth;\n+            depth = 1;\n+        }\n+        config = classes.crafterConf.mix(config);\n+        var requestURL = utils.composeUrl(config, config.endpoints.GET_TREE);\n+        return classes.SDKService.httpGet(requestURL, { url: path, depth: depth, crafterSite: config.site });\n+    }\n+    var ContentStoreService = {\n+        getItem: getItem,\n+        getDescriptor: getDescriptor,\n+        getChildren: getChildren,\n+        getTree: getTree\n+    };\n+\n+    /*\n+     * Copyright (C) 2007-2020 Crafter Software Corporation. All Rights Reserved.\n+     *\n+     * This program is free software: you can redistribute it and/or modify\n+     * it under the terms of the GNU Lesser General Public License version 3\n+     * as published by the Free Software Foundation.\n+     *\n+     * This program is distributed in the hope that it will be useful,\n+     * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+     * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n+     * GNU Lesser General Public License for more details.\n+     *\n+     * You should have received a copy of the GNU Lesser General Public License\n+     * along with this program. If not, see http://www.gnu.org/licenses/.\n+     */\n+    function getNavTree(path, depth, currentPageUrl, config) {\n+        if (depth === void 0) { depth = 1; }\n+        if (currentPageUrl === void 0) { currentPageUrl = ''; }\n+        config = classes.crafterConf.mix(config);\n+        var requestURL = utils.composeUrl(config, config.endpoints.GET_NAV_TREE);\n+        return classes.SDKService.httpGet(requestURL, {\n+            crafterSite: config.site,\n+            currentPageUrl: currentPageUrl,\n+            url: path,\n+            depth: depth\n+        });\n+    }\n+    function getNavBreadcrumb(path, root, config) {\n+        if (root === void 0) { root = ''; }\n+        config = classes.crafterConf.mix(config);\n+        var requestURL = utils.composeUrl(config, config.endpoints.GET_BREADCRUMB);\n+        return classes.SDKService.httpGet(requestURL, {\n+            crafterSite: config.site,\n+            url: path,\n+            root: root\n+        });\n+    }\n+    /**\n+     * Navigation Service API\n+     */\n+    var NavigationService = {\n+        getNavTree: getNavTree,\n+        getNavBreadcrumb: getNavBreadcrumb\n+    };\n+\n+    /*\n+     * Copyright (C) 2007-2020 Crafter Software Corporation. All Rights Reserved.\n+     *\n+     * This program is free software: you can redistribute it and/or modify\n+     * it under the terms of the GNU Lesser General Public License version 3\n+     * as published by the Free Software Foundation.\n+     *\n+     * This program is distributed in the hope that it will be useful,\n+     * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+     * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n+     * GNU Lesser General Public License for more details.\n+     *\n+     * You should have received a copy of the GNU Lesser General Public License\n+     * along with this program. If not, see http://www.gnu.org/licenses/.\n+     */\n+    function urlTransform(transformerName, url, config) {\n+        config = classes.crafterConf.mix(config);\n+        var requestURL = utils.composeUrl(config, config.endpoints.TRANSFORM_URL);\n+        return classes.SDKService.httpGet(requestURL, {\n+            crafterSite: config.site,\n+            transformerName: transformerName,\n+            url: url\n+        });\n+    }\n+    /**\n+     * URL Transformation Service API\n+     */\n+    var UrlTransformationService = {\n+        transform: urlTransform,\n+        urlTransform: urlTransform\n+    };\n+\n+    /*! *****************************************************************************\n+    Copyright (c) Microsoft Corporation. All rights reserved.\n+    Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use\n+    this file except in compliance with the License. You may obtain a copy of the\n+    License at http://www.apache.org/licenses/LICENSE-2.0\n+\n+    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\n+    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\n+    MERCHANTABLITY OR NON-INFRINGEMENT.\n+\n+    See the Apache Version 2.0 License for specific language governing permissions\n+    and limitations under the License.\n+    ***************************************************************************** */\n+\n+    var __assign = function() {\n+        __assign = Object.assign || function __assign(t) {\n+            for (var s, i = 1, n = arguments.length; i < n; i++) {\n+                s = arguments[i];\n+                for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n+            }\n+            return t;\n+        };\n+        return __assign.apply(this, arguments);\n+    };\n+\n+    /*\n+     * Copyright (C) 2007-2020 Crafter Software Corporation. All Rights Reserved.\n+     *\n+     * This program is free software: you can redistribute it and/or modify\n+     * it under the terms of the GNU Lesser General Public License version 3\n+     * as published by the Free Software Foundation.\n+     *\n+     * This program is distributed in the hope that it will be useful,\n+     * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+     * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n+     * GNU Lesser General Public License for more details.\n+     *\n+     * You should have received a copy of the GNU Lesser General Public License\n+     * along with this program. If not, see http://www.gnu.org/licenses/.\n+     */\n+    var systemPropMap = {\n+        guid: 'id',\n+        cmsId: 'id',\n+        objectId: 'id',\n+        localId: 'path',\n+        'file-name': 'fileName',\n+        'file__name': 'fileName',\n+        placeInNav: 'placeInNav',\n+        'internal-name': 'label',\n+        internal__name: 'label',\n+        'content-type': 'contentTypeId',\n+        content__type: 'contentTypeId',\n+        createdDate_dt: 'dateCreated',\n+        lastModifiedDate_dt: 'dateModified',\n+        disabled: 'disabled'\n+    };\n+    var ignoreProps = [\n+        'orderDefault_f',\n+        'merge-strategy',\n+        'display-template',\n+        'objectGroupId',\n+        'folder-name',\n+        'createdDate',\n+        'lastModifiedDate',\n+        'no-template-required'\n+    ];\n+    var systemProps = Object.keys(systemPropMap).concat(Object.values(systemPropMap));\n+    function parseDescriptor(data) {\n+        if (data == null) {\n+            return null;\n+        }\n+        else if (Array.isArray(data)) {\n+            return data.map(function (item) { return parseDescriptor(item); });\n+        }\n+        else if (data.children) {\n+            return parseDescriptor(extractChildren(data.children));\n+        }\n+        else if (data.descriptorDom === null && data.descriptorUrl) {\n+            // This path catches calls to getChildren (/api/1/site/content_store/children.json?url=&crafterSite=)\n+            // The getChildren call contains certain items that can't be parsed into content items.\n+            throw new Error('[parseDescriptor] Invalid descriptor supplied. Did you call ' +\n+                'parseDescriptor with a `getChildren` API response? The `getChildren` API ' +\n+                'response may contain certain items that are not parsable into ContentInstances. ' +\n+                'Try a different API (getItem, getDescriptor or getTree) or filter out the metadata ' +\n+                'items which descriptorDom property has a `page` or `component` property with the content item.');\n+        }\n+        var parsed = {\n+            craftercms: {\n+                id: null,\n+                path: null,\n+                label: null,\n+                contentTypeId: null,\n+                dateCreated: null,\n+                dateModified: null,\n+                sourceMap: {}\n+            }\n+        };\n+        return parseProps(extractContent(data), parsed);\n+    }\n+    function parseProps(props, parsed) {\n+        if (parsed === void 0) { parsed = {}; }\n+        Object.entries(props).forEach(function (_a) {\n+            var _b, _c;\n+            var prop = _a[0], value = _a[1];\n+            if (ignoreProps.includes(prop)) {\n+                return; // continue, skip prop.\n+            }\n+            if (value === null || value === void 0 ? void 0 : value['crafter-source-content-type-id']) {\n+                // @ts-ignore\n+                parsed.craftercms.sourceMap[prop] = value['crafter-source-content-type-id'];\n+                if (typeof value.text === 'string') {\n+                    value = value.text;\n+                }\n+                else if (Object.keys(value).length === 2) {\n+                    // Only has `crafter-source` & `crafter-source-content-type-id`. Empty value for the actual prop.\n+                    value = null;\n+                }\n+            }\n+            if (systemProps.includes(prop)) {\n+                // @ts-ignore\n+                parsed.craftercms[(_b = systemPropMap[prop]) !== null && _b !== void 0 ? _b : prop] = value;\n+                // Is there a risk prop name that matches what's considered a system prop?\n+                // In that case, here, parsed.craftercms might not be in the target object\n+                // and throw. We could do the below to de-risk but feels this needs assessment.\n+                // if (parsed.craftercms) {\n+                //   parsed.craftercms[systemPropMap[prop] ?? prop] = value;\n+                // } else {\n+                //   parsed[prop] = value;\n+                // }\n+            }\n+            else if (prop.endsWith('_o')) {\n+                parsed[prop] = (_c = value === null || value === void 0 ? void 0 : value.item) !== null && _c !== void 0 ? _c : [];\n+                if (!Array.isArray(parsed[prop])) {\n+                    parsed[prop] = [parsed[prop]];\n+                }\n+                parsed[prop] = parsed[prop].map(function (item) {\n+                    var key = item.key, value = item.value, component = item.component, include = item.include;\n+                    if ((item.component) || (item.key && item.value)) {\n+                        // Components\n+                        var newComponent = __assign(__assign({ label: value }, component), { path: (key === null || key === void 0 ? void 0 : key.startsWith('/')) ? key : ((include === null || include === void 0 ? void 0 : include.startsWith('/')) ? include : null) });\n+                        return parseDescriptor(newComponent);\n+                    }\n+                    else {\n+                        // Repeat group items\n+                        return parseProps(item);\n+                    }\n+                });\n+            }\n+            else {\n+                parsed[prop] = value !== null && value !== void 0 ? value : null;\n+            }\n+        });\n+        return parsed;\n+    }\n+    /**\n+     * Inspects the data for getItem or getDescriptor responses and returns the inner content object\n+     * */\n+    function extractContent(data) {\n+        var output = data;\n+        if (data.descriptorDom) {\n+            return __assign(__assign({}, (data.descriptorDom.page || data.descriptorDom.component)), { path: data.url });\n+        }\n+        else if (data.page) {\n+            return data.page;\n+        }\n+        else if (data.component) {\n+            return data.component;\n+        }\n+        return output;\n+    }\n+    /**\n+     * Flattens a getChildren response into a flat list of content items\n+     * */\n+    function extractChildren(children) {\n+        return children.flatMap(function (child) {\n+            return child.children ? extractChildren(child.children) : child;\n+        });\n+    }\n+    var propsToRemove = [\n+        'rootId',\n+        'crafterSite',\n+        'crafterPublishedDate',\n+        'crafterPublishedDate_dt',\n+        'inheritsFrom_smv'\n+    ];\n+    function preParseSearchResults(source) {\n+        Object.entries(source).forEach(function (_a) {\n+            var prop = _a[0], value = _a[1];\n+            if (propsToRemove.includes(prop)) {\n+                delete source[prop];\n+            }\n+            else if (prop.endsWith('_o')) {\n+                var collection = value;\n+                if (!Array.isArray(collection.item)) {\n+                    source[prop] = { item: [collection.item] };\n+                }\n+                source[prop].item.forEach(function (item, i) {\n+                    source[prop].item[i] = preParseSearchResults(item);\n+                    if (item.component) {\n+                        source[prop].item[i].component = preParseSearchResults(item.component);\n+                    }\n+                });\n+            }\n+        });\n+        return source;\n+    }\n+\n+    exports.ContentStoreService = ContentStoreService;\n+    exports.NavigationService = NavigationService;\n+    exports.UrlTransformationService = UrlTransformationService;\n+    exports.getChildren = getChildren;\n+    exports.getDescriptor = getDescriptor;\n+    exports.getItem = getItem;\n+    exports.getNavBreadcrumb = getNavBreadcrumb;\n+    exports.getNavTree = getNavTree;\n+    exports.getTree = getTree;\n+    exports.parseDescriptor = parseDescriptor;\n+    exports.parseProps = parseProps;\n+    exports.preParseSearchResults = preParseSearchResults;\n+    exports.urlTransform = urlTransform;\n+\n+    Object.defineProperty(exports, '__esModule', { value: true });\n+\n+})));\n+//# sourceMappingURL=content.umd.js.map"
  },
  {
    "sha": "cb68a859a006c7e7228557cef75183c9b9dd40de",
    "filename": "src/main/webapp/repo-bootstrap/global/blueprints/5000_headless_blog/static-assets/js/craftercms-sdk/search/search.umd.js",
    "status": "added",
    "additions": 947,
    "deletions": 0,
    "changes": 947,
    "blob_url": "https://github.com/craftercms/studio/blob/035ab778835bddf7a4688b1ec7c4c8bc78c5157a/src/main/webapp/repo-bootstrap/global/blueprints/5000_headless_blog/static-assets/js/craftercms-sdk/search/search.umd.js",
    "raw_url": "https://github.com/craftercms/studio/raw/035ab778835bddf7a4688b1ec7c4c8bc78c5157a/src/main/webapp/repo-bootstrap/global/blueprints/5000_headless_blog/static-assets/js/craftercms-sdk/search/search.umd.js",
    "contents_url": "https://api.github.com/repos/craftercms/studio/contents/src/main/webapp/repo-bootstrap/global/blueprints/5000_headless_blog/static-assets/js/craftercms-sdk/search/search.umd.js?ref=035ab778835bddf7a4688b1ec7c4c8bc78c5157a",
    "patch": "@@ -0,0 +1,947 @@\n+/*\n+ * Copyright (C) 2007-2020 Crafter Software Corporation. All Rights Reserved.\n+ *\n+ * This program is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License version 3 as published by\n+ * the Free Software Foundation.\n+ *\n+ * This program is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public License\n+ * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+ */\n+(function (global, factory) {\n+  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('rxjs/operators'), require('@craftercms/utils'), require('@craftercms/classes'), require('@craftercms/search')) :\n+  typeof define === 'function' && define.amd ? define('@craftercms/search', ['exports', 'rxjs/operators', '@craftercms/utils', '@craftercms/classes', '@craftercms/search'], factory) :\n+  (global = global || self, factory((global.craftercms = global.craftercms || {}, global.craftercms.search = {}), global.rxjs.operators, global.craftercms.utils, global.craftercms.classes, global.craftercms.search));\n+}(this, (function (exports, operators, utils, classes, search$1) { 'use strict';\n+\n+  /*\n+   * Copyright (C) 2007-2020 Crafter Software Corporation. All Rights Reserved.\n+   *\n+   * This program is free software: you can redistribute it and/or modify\n+   * it under the terms of the GNU General Public License version 3 as published by\n+   * the Free Software Foundation.\n+   *\n+   * This program is distributed in the hope that it will be useful,\n+   * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+   * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+   * GNU General Public License for more details.\n+   *\n+   * You should have received a copy of the GNU General Public License\n+   * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+   */\n+\n+  /*\n+   * Copyright (C) 2007-2020 Crafter Software Corporation. All Rights Reserved.\n+   *\n+   * This program is free software: you can redistribute it and/or modify\n+   * it under the terms of the GNU Lesser General Public License version 3\n+   * as published by the Free Software Foundation.\n+   *\n+   * This program is distributed in the hope that it will be useful,\n+   * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+   * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n+   * GNU Lesser General Public License for more details.\n+   *\n+   * You should have received a copy of the GNU Lesser General Public License\n+   * along with this program. If not, see http://www.gnu.org/licenses/.\n+   */\n+  // TODO add return types\n+  /**\n+   * Query Object\n+   */\n+  var Query = /** @class */ (function () {\n+      /**\n+       * Creates an empty query\n+       * @constructor\n+       */\n+      function Query(params) {\n+          if (params === void 0) { params = {}; }\n+          this.params = params;\n+      }\n+      /**\n+       * Sets a single value parameter in the query object\n+       * @param {string} name - Name of the parameter\n+       * @param {object} value - Value of the parameter\n+       */\n+      Query.prototype.setParam = function (name, value) {\n+          this.params[name] = value;\n+      };\n+      /**\n+       * Adds a value for a parameter in the query object\n+       * @param {string} name - Name of the parameter\n+       * @param {object} value - Value of the parameter\n+       */\n+      Query.prototype.addParam = function (name, value) {\n+          if (this.params[name]) {\n+              if (Array.isArray(this.params[name])) {\n+                  this.params[name].push(value);\n+              }\n+              else {\n+                  this.params[name] = [this.params[name], value];\n+              }\n+          }\n+          else {\n+              this.params[name] = value;\n+          }\n+      };\n+      return Query;\n+  }());\n+\n+  /*! *****************************************************************************\n+  Copyright (c) Microsoft Corporation. All rights reserved.\n+  Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use\n+  this file except in compliance with the License. You may obtain a copy of the\n+  License at http://www.apache.org/licenses/LICENSE-2.0\n+\n+  THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+  KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\n+  WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\n+  MERCHANTABLITY OR NON-INFRINGEMENT.\n+\n+  See the Apache Version 2.0 License for specific language governing permissions\n+  and limitations under the License.\n+  ***************************************************************************** */\n+  /* global Reflect, Promise */\n+\n+  var extendStatics = function(d, b) {\n+      extendStatics = Object.setPrototypeOf ||\n+          ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n+          function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n+      return extendStatics(d, b);\n+  };\n+\n+  function __extends(d, b) {\n+      extendStatics(d, b);\n+      function __() { this.constructor = d; }\n+      d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n+  }\n+\n+  /*\n+   * Copyright (C) 2007-2020 Crafter Software Corporation. All Rights Reserved.\n+   *\n+   * This program is free software: you can redistribute it and/or modify\n+   * it under the terms of the GNU Lesser General Public License version 3\n+   * as published by the Free Software Foundation.\n+   *\n+   * This program is distributed in the hope that it will be useful,\n+   * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+   * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n+   * GNU Lesser General Public License for more details.\n+   *\n+   * You should have received a copy of the GNU Lesser General Public License\n+   * along with this program. If not, see http://www.gnu.org/licenses/.\n+   */\n+  /**\n+   * Query implementation for Solr\n+   */\n+  var SolrQuery = /** @class */ (function (_super) {\n+      __extends(SolrQuery, _super);\n+      function SolrQuery() {\n+          return _super !== null && _super.apply(this, arguments) || this;\n+      }\n+      Object.defineProperty(SolrQuery.prototype, \"offset\", {\n+          // Synonym of start, added for consistency with Java Search Client\n+          /**\n+           * Sets the offset of the results.\n+           * @param {int} offset - Number of results to skip\n+           */\n+          set: function (offset) {\n+              this.start = offset;\n+          },\n+          enumerable: false,\n+          configurable: true\n+      });\n+      Object.defineProperty(SolrQuery.prototype, \"numResults\", {\n+          // Synonym of rows, added for consistency with Java Search Client\n+          /**\n+           * Sets the number of results to return.\n+           * @param {int} numResults - Number of results to return\n+           */\n+          set: function (numResults) {\n+              this.rows = numResults;\n+          },\n+          enumerable: false,\n+          configurable: true\n+      });\n+      Object.defineProperty(SolrQuery.prototype, \"start\", {\n+          /**\n+           * Sets the offset of the results.\n+           * @param {int} start - Number of results to skip\n+           */\n+          set: function (start) {\n+              _super.prototype.setParam.call(this, 'start', start);\n+          },\n+          enumerable: false,\n+          configurable: true\n+      });\n+      Object.defineProperty(SolrQuery.prototype, \"rows\", {\n+          /**\n+           * Sets the number of results to return.\n+           * @param {int} rows - Number of results to return\n+           */\n+          set: function (rows) {\n+              _super.prototype.setParam.call(this, 'rows', rows);\n+          },\n+          enumerable: false,\n+          configurable: true\n+      });\n+      Object.defineProperty(SolrQuery.prototype, \"query\", {\n+          /**\n+           * Sets the actual query.\n+           * @param {string} query - Solr query string\n+           */\n+          set: function (query) {\n+              _super.prototype.setParam.call(this, 'q', query);\n+          },\n+          enumerable: false,\n+          configurable: true\n+      });\n+      Object.defineProperty(SolrQuery.prototype, \"sort\", {\n+          /**\n+           * Sets the sort order.\n+           * @param {string} sort - Sort order\n+           */\n+          set: function (sort) {\n+              _super.prototype.setParam.call(this, 'sort', sort);\n+          },\n+          enumerable: false,\n+          configurable: true\n+      });\n+      Object.defineProperty(SolrQuery.prototype, \"fieldsToReturn\", {\n+          /**\n+           * Sets the fields that should be returned.\n+           * @param {Array} fields - List of field names\n+           */\n+          set: function (fields) {\n+              _super.prototype.setParam.call(this, 'fl', fields);\n+          },\n+          enumerable: false,\n+          configurable: true\n+      });\n+      Object.defineProperty(SolrQuery.prototype, \"highlight\", {\n+          /**\n+           * Enables or disables highlighting in the results\n+           * @param {string} highlight - Indicates if highlighting should be used\n+           */\n+          set: function (highlight) {\n+              _super.prototype.setParam.call(this, 'hl', highlight);\n+          },\n+          enumerable: false,\n+          configurable: true\n+      });\n+      Object.defineProperty(SolrQuery.prototype, \"highlightFields\", {\n+          /**\n+           * Sets the field to apply highlighting in the results\n+           * @param {string} fields - List of field names to use for highlighting\n+           */\n+          set: function (fields) {\n+              this.highlight = true;\n+              _super.prototype.setParam.call(this, 'hl.fl', fields);\n+          },\n+          enumerable: false,\n+          configurable: true\n+      });\n+      Object.defineProperty(SolrQuery.prototype, \"highlightSnippets\", {\n+          /**\n+           * Sets the number of snippets to generate per field in highlighting\n+           * @param {int} snippets - Number of snippets\n+           */\n+          set: function (snippets) {\n+              _super.prototype.setParam.call(this, 'hl.snippets', snippets);\n+          },\n+          enumerable: false,\n+          configurable: true\n+      });\n+      Object.defineProperty(SolrQuery.prototype, \"highlightSnippetSize\", {\n+          /**\n+           * Sets the size of snippets to generate per field in highlighting\n+           * @param {int} size - Size of snippets\n+           */\n+          set: function (size) {\n+              _super.prototype.setParam.call(this, 'hl.fragsize', size);\n+          },\n+          enumerable: false,\n+          configurable: true\n+      });\n+      Object.defineProperty(SolrQuery.prototype, \"filterQueries\", {\n+          /**\n+           * Sets the filter queries used to reduce the search results\n+           * @param {Array} queries - List of filter queries\n+           */\n+          set: function (queries) {\n+              _super.prototype.addParam.call(this, 'fq', queries);\n+          },\n+          enumerable: false,\n+          configurable: true\n+      });\n+      Object.defineProperty(SolrQuery.prototype, \"disableAdditionalFilters\", {\n+          /**\n+           * Sets if the additional Crafter Search filters should be disabled on query execution.\n+           * @param {bool} disableAdditionalFilters - Indicates if additional filters should be used\n+           */\n+          set: function (disableAdditionalFilters) {\n+              _super.prototype.setParam.call(this, 'disable_additional_filters', disableAdditionalFilters);\n+          },\n+          enumerable: false,\n+          configurable: true\n+      });\n+      return SolrQuery;\n+  }(Query));\n+\n+  /*\n+   * Copyright (C) 2007-2020 Crafter Software Corporation. All Rights Reserved.\n+   *\n+   * This program is free software: you can redistribute it and/or modify\n+   * it under the terms of the GNU Lesser General Public License version 3\n+   * as published by the Free Software Foundation.\n+   *\n+   * This program is distributed in the hope that it will be useful,\n+   * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+   * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n+   * GNU Lesser General Public License for more details.\n+   *\n+   * You should have received a copy of the GNU Lesser General Public License\n+   * along with this program. If not, see http://www.gnu.org/licenses/.\n+   */\n+  /**\n+   * Query implementation for Elasticsearch\n+   */\n+  var ElasticQuery = /** @class */ (function (_super) {\n+      __extends(ElasticQuery, _super);\n+      function ElasticQuery() {\n+          return _super !== null && _super.apply(this, arguments) || this;\n+      }\n+      Object.defineProperty(ElasticQuery.prototype, \"query\", {\n+          /**\n+           * Sets the actual query.\n+           * @param {string} query - Query string\n+           */\n+          set: function (query) {\n+              this.params = query;\n+          },\n+          enumerable: false,\n+          configurable: true\n+      });\n+      return ElasticQuery;\n+  }(Query));\n+\n+  var commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n+\n+  function createCommonjsModule(fn, module) {\n+  \treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n+  }\n+\n+  var rngBrowser = createCommonjsModule(function (module) {\n+  // Unique ID creation requires a high quality random # generator.  In the\n+  // browser this is a little complicated due to unknown quality of Math.random()\n+  // and inconsistent support for the `crypto` API.  We do the best we can via\n+  // feature-detection\n+\n+  // getRandomValues needs to be invoked in a context where \"this\" is a Crypto\n+  // implementation. Also, find the complete implementation of crypto on IE11.\n+  var getRandomValues = (typeof(crypto) != 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto)) ||\n+                        (typeof(msCrypto) != 'undefined' && typeof window.msCrypto.getRandomValues == 'function' && msCrypto.getRandomValues.bind(msCrypto));\n+\n+  if (getRandomValues) {\n+    // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto\n+    var rnds8 = new Uint8Array(16); // eslint-disable-line no-undef\n+\n+    module.exports = function whatwgRNG() {\n+      getRandomValues(rnds8);\n+      return rnds8;\n+    };\n+  } else {\n+    // Math.random()-based (RNG)\n+    //\n+    // If all else fails, use Math.random().  It's fast, but is of unspecified\n+    // quality.\n+    var rnds = new Array(16);\n+\n+    module.exports = function mathRNG() {\n+      for (var i = 0, r; i < 16; i++) {\n+        if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n+        rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n+      }\n+\n+      return rnds;\n+    };\n+  }\n+  });\n+\n+  /**\n+   * Convert array of 16 byte values to UUID string format of the form:\n+   * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n+   */\n+  var byteToHex = [];\n+  for (var i = 0; i < 256; ++i) {\n+    byteToHex[i] = (i + 0x100).toString(16).substr(1);\n+  }\n+\n+  function bytesToUuid(buf, offset) {\n+    var i = offset || 0;\n+    var bth = byteToHex;\n+    // join used to fix memory issue caused by concatenation: https://bugs.chromium.org/p/v8/issues/detail?id=3175#c4\n+    return ([\n+      bth[buf[i++]], bth[buf[i++]],\n+      bth[buf[i++]], bth[buf[i++]], '-',\n+      bth[buf[i++]], bth[buf[i++]], '-',\n+      bth[buf[i++]], bth[buf[i++]], '-',\n+      bth[buf[i++]], bth[buf[i++]], '-',\n+      bth[buf[i++]], bth[buf[i++]],\n+      bth[buf[i++]], bth[buf[i++]],\n+      bth[buf[i++]], bth[buf[i++]]\n+    ]).join('');\n+  }\n+\n+  var bytesToUuid_1 = bytesToUuid;\n+\n+  // **`v1()` - Generate time-based UUID**\n+  //\n+  // Inspired by https://github.com/LiosK/UUID.js\n+  // and http://docs.python.org/library/uuid.html\n+\n+  var _nodeId;\n+  var _clockseq;\n+\n+  // Previous uuid creation time\n+  var _lastMSecs = 0;\n+  var _lastNSecs = 0;\n+\n+  // See https://github.com/uuidjs/uuid for API details\n+  function v1(options, buf, offset) {\n+    var i = buf && offset || 0;\n+    var b = buf || [];\n+\n+    options = options || {};\n+    var node = options.node || _nodeId;\n+    var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq;\n+\n+    // node and clockseq need to be initialized to random values if they're not\n+    // specified.  We do this lazily to minimize issues related to insufficient\n+    // system entropy.  See #189\n+    if (node == null || clockseq == null) {\n+      var seedBytes = rngBrowser();\n+      if (node == null) {\n+        // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n+        node = _nodeId = [\n+          seedBytes[0] | 0x01,\n+          seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]\n+        ];\n+      }\n+      if (clockseq == null) {\n+        // Per 4.2.2, randomize (14 bit) clockseq\n+        clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n+      }\n+    }\n+\n+    // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n+    // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n+    // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n+    // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n+    var msecs = options.msecs !== undefined ? options.msecs : new Date().getTime();\n+\n+    // Per 4.2.1.2, use count of uuid's generated during the current clock\n+    // cycle to simulate higher resolution clock\n+    var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1;\n+\n+    // Time since last uuid creation (in msecs)\n+    var dt = (msecs - _lastMSecs) + (nsecs - _lastNSecs)/10000;\n+\n+    // Per 4.2.1.2, Bump clockseq on clock regression\n+    if (dt < 0 && options.clockseq === undefined) {\n+      clockseq = clockseq + 1 & 0x3fff;\n+    }\n+\n+    // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n+    // time interval\n+    if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n+      nsecs = 0;\n+    }\n+\n+    // Per 4.2.1.2 Throw error if too many uuids are requested\n+    if (nsecs >= 10000) {\n+      throw new Error('uuid.v1(): Can\\'t create more than 10M uuids/sec');\n+    }\n+\n+    _lastMSecs = msecs;\n+    _lastNSecs = nsecs;\n+    _clockseq = clockseq;\n+\n+    // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n+    msecs += 12219292800000;\n+\n+    // `time_low`\n+    var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n+    b[i++] = tl >>> 24 & 0xff;\n+    b[i++] = tl >>> 16 & 0xff;\n+    b[i++] = tl >>> 8 & 0xff;\n+    b[i++] = tl & 0xff;\n+\n+    // `time_mid`\n+    var tmh = (msecs / 0x100000000 * 10000) & 0xfffffff;\n+    b[i++] = tmh >>> 8 & 0xff;\n+    b[i++] = tmh & 0xff;\n+\n+    // `time_high_and_version`\n+    b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n+    b[i++] = tmh >>> 16 & 0xff;\n+\n+    // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n+    b[i++] = clockseq >>> 8 | 0x80;\n+\n+    // `clock_seq_low`\n+    b[i++] = clockseq & 0xff;\n+\n+    // `node`\n+    for (var n = 0; n < 6; ++n) {\n+      b[i + n] = node[n];\n+    }\n+\n+    return buf ? buf : bytesToUuid_1(b);\n+  }\n+\n+  var v1_1 = v1;\n+\n+  function v4(options, buf, offset) {\n+    var i = buf && offset || 0;\n+\n+    if (typeof(options) == 'string') {\n+      buf = options === 'binary' ? new Array(16) : null;\n+      options = null;\n+    }\n+    options = options || {};\n+\n+    var rnds = options.random || (options.rng || rngBrowser)();\n+\n+    // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n+    rnds[6] = (rnds[6] & 0x0f) | 0x40;\n+    rnds[8] = (rnds[8] & 0x3f) | 0x80;\n+\n+    // Copy bytes to buffer, if provided\n+    if (buf) {\n+      for (var ii = 0; ii < 16; ++ii) {\n+        buf[i + ii] = rnds[ii];\n+      }\n+    }\n+\n+    return buf || bytesToUuid_1(rnds);\n+  }\n+\n+  var v4_1 = v4;\n+\n+  var uuid = v4_1;\n+  uuid.v1 = v1_1;\n+  uuid.v4 = v4_1;\n+\n+  var uuid_1 = uuid;\n+\n+  /**\n+   *\n+   *\n+   * @author Jerry Bendy <jerry@icewingcc.com>\n+   * @licence MIT\n+   *\n+   */\n+\n+  (function(self) {\n+\n+      var nativeURLSearchParams = (self.URLSearchParams && self.URLSearchParams.prototype.get) ? self.URLSearchParams : null,\n+          isSupportObjectConstructor = nativeURLSearchParams && (new nativeURLSearchParams({a: 1})).toString() === 'a=1',\n+          // There is a bug in safari 10.1 (and earlier) that incorrectly decodes `%2B` as an empty space and not a plus.\n+          decodesPlusesCorrectly = nativeURLSearchParams && (new nativeURLSearchParams('s=%2B').get('s') === '+'),\n+          __URLSearchParams__ = \"__URLSearchParams__\",\n+          // Fix bug in Edge which cannot encode ' &' correctly\n+          encodesAmpersandsCorrectly = nativeURLSearchParams ? (function() {\n+              var ampersandTest = new nativeURLSearchParams();\n+              ampersandTest.append('s', ' &');\n+              return ampersandTest.toString() === 's=+%26';\n+          })() : true,\n+          prototype = URLSearchParamsPolyfill.prototype,\n+          iterable = !!(self.Symbol && self.Symbol.iterator);\n+\n+      if (nativeURLSearchParams && isSupportObjectConstructor && decodesPlusesCorrectly && encodesAmpersandsCorrectly) {\n+          return;\n+      }\n+\n+\n+      /**\n+       * Make a URLSearchParams instance\n+       *\n+       * @param {object|string|URLSearchParams} search\n+       * @constructor\n+       */\n+      function URLSearchParamsPolyfill(search) {\n+          search = search || \"\";\n+\n+          // support construct object with another URLSearchParams instance\n+          if (search instanceof URLSearchParams || search instanceof URLSearchParamsPolyfill) {\n+              search = search.toString();\n+          }\n+          this [__URLSearchParams__] = parseToDict(search);\n+      }\n+\n+\n+      /**\n+       * Appends a specified key/value pair as a new search parameter.\n+       *\n+       * @param {string} name\n+       * @param {string} value\n+       */\n+      prototype.append = function(name, value) {\n+          appendTo(this [__URLSearchParams__], name, value);\n+      };\n+\n+      /**\n+       * Deletes the given search parameter, and its associated value,\n+       * from the list of all search parameters.\n+       *\n+       * @param {string} name\n+       */\n+      prototype['delete'] = function(name) {\n+          delete this [__URLSearchParams__] [name];\n+      };\n+\n+      /**\n+       * Returns the first value associated to the given search parameter.\n+       *\n+       * @param {string} name\n+       * @returns {string|null}\n+       */\n+      prototype.get = function(name) {\n+          var dict = this [__URLSearchParams__];\n+          return name in dict ? dict[name][0] : null;\n+      };\n+\n+      /**\n+       * Returns all the values association with a given search parameter.\n+       *\n+       * @param {string} name\n+       * @returns {Array}\n+       */\n+      prototype.getAll = function(name) {\n+          var dict = this [__URLSearchParams__];\n+          return name in dict ? dict [name].slice(0) : [];\n+      };\n+\n+      /**\n+       * Returns a Boolean indicating if such a search parameter exists.\n+       *\n+       * @param {string} name\n+       * @returns {boolean}\n+       */\n+      prototype.has = function(name) {\n+          return name in this [__URLSearchParams__];\n+      };\n+\n+      /**\n+       * Sets the value associated to a given search parameter to\n+       * the given value. If there were several values, delete the\n+       * others.\n+       *\n+       * @param {string} name\n+       * @param {string} value\n+       */\n+      prototype.set = function set(name, value) {\n+          this [__URLSearchParams__][name] = ['' + value];\n+      };\n+\n+      /**\n+       * Returns a string containg a query string suitable for use in a URL.\n+       *\n+       * @returns {string}\n+       */\n+      prototype.toString = function() {\n+          var dict = this[__URLSearchParams__], query = [], i, key, name, value;\n+          for (key in dict) {\n+              name = encode(key);\n+              for (i = 0, value = dict[key]; i < value.length; i++) {\n+                  query.push(name + '=' + encode(value[i]));\n+              }\n+          }\n+          return query.join('&');\n+      };\n+\n+      // There is a bug in Safari 10.1 and `Proxy`ing it is not enough.\n+      var forSureUsePolyfill = !decodesPlusesCorrectly;\n+      var useProxy = (!forSureUsePolyfill && nativeURLSearchParams && !isSupportObjectConstructor && self.Proxy);\n+      /*\n+       * Apply polifill to global object and append other prototype into it\n+       */\n+      Object.defineProperty(self, 'URLSearchParams', {\n+          value: (useProxy ?\n+              // Safari 10.0 doesn't support Proxy, so it won't extend URLSearchParams on safari 10.0\n+              new Proxy(nativeURLSearchParams, {\n+                  construct: function(target, args) {\n+                      return new target((new URLSearchParamsPolyfill(args[0]).toString()));\n+                  }\n+              }) :\n+              URLSearchParamsPolyfill)\n+      });\n+\n+      var USPProto = self.URLSearchParams.prototype;\n+\n+      USPProto.polyfill = true;\n+\n+      /**\n+       *\n+       * @param {function} callback\n+       * @param {object} thisArg\n+       */\n+      USPProto.forEach = USPProto.forEach || function(callback, thisArg) {\n+          var dict = parseToDict(this.toString());\n+          Object.getOwnPropertyNames(dict).forEach(function(name) {\n+              dict[name].forEach(function(value) {\n+                  callback.call(thisArg, value, name, this);\n+              }, this);\n+          }, this);\n+      };\n+\n+      /**\n+       * Sort all name-value pairs\n+       */\n+      USPProto.sort = USPProto.sort || function() {\n+          var dict = parseToDict(this.toString()), keys = [], k, i, j;\n+          for (k in dict) {\n+              keys.push(k);\n+          }\n+          keys.sort();\n+\n+          for (i = 0; i < keys.length; i++) {\n+              this['delete'](keys[i]);\n+          }\n+          for (i = 0; i < keys.length; i++) {\n+              var key = keys[i], values = dict[key];\n+              for (j = 0; j < values.length; j++) {\n+                  this.append(key, values[j]);\n+              }\n+          }\n+      };\n+\n+      /**\n+       * Returns an iterator allowing to go through all keys of\n+       * the key/value pairs contained in this object.\n+       *\n+       * @returns {function}\n+       */\n+      USPProto.keys = USPProto.keys || function() {\n+          var items = [];\n+          this.forEach(function(item, name) {\n+              items.push(name);\n+          });\n+          return makeIterator(items);\n+      };\n+\n+      /**\n+       * Returns an iterator allowing to go through all values of\n+       * the key/value pairs contained in this object.\n+       *\n+       * @returns {function}\n+       */\n+      USPProto.values = USPProto.values || function() {\n+          var items = [];\n+          this.forEach(function(item) {\n+              items.push(item);\n+          });\n+          return makeIterator(items);\n+      };\n+\n+      /**\n+       * Returns an iterator allowing to go through all key/value\n+       * pairs contained in this object.\n+       *\n+       * @returns {function}\n+       */\n+      USPProto.entries = USPProto.entries || function() {\n+          var items = [];\n+          this.forEach(function(item, name) {\n+              items.push([name, item]);\n+          });\n+          return makeIterator(items);\n+      };\n+\n+\n+      if (iterable) {\n+          USPProto[self.Symbol.iterator] = USPProto[self.Symbol.iterator] || USPProto.entries;\n+      }\n+\n+\n+      function encode(str) {\n+          var replace = {\n+              '!': '%21',\n+              \"'\": '%27',\n+              '(': '%28',\n+              ')': '%29',\n+              '~': '%7E',\n+              '%20': '+',\n+              '%00': '\\x00'\n+          };\n+          return encodeURIComponent(str).replace(/[!'\\(\\)~]|%20|%00/g, function(match) {\n+              return replace[match];\n+          });\n+      }\n+\n+      function decode(str) {\n+          return decodeURIComponent(str.replace(/\\+/g, ' '));\n+      }\n+\n+      function makeIterator(arr) {\n+          var iterator = {\n+              next: function() {\n+                  var value = arr.shift();\n+                  return {done: value === undefined, value: value};\n+              }\n+          };\n+\n+          if (iterable) {\n+              iterator[self.Symbol.iterator] = function() {\n+                  return iterator;\n+              };\n+          }\n+\n+          return iterator;\n+      }\n+\n+      function parseToDict(search) {\n+          var dict = {};\n+\n+          if (typeof search === \"object\") {\n+              for (var key in search) {\n+                  if (search.hasOwnProperty(key)) {\n+                      appendTo(dict, key, search[key]);\n+                  }\n+              }\n+\n+          } else {\n+              // remove first '?'\n+              if (search.indexOf(\"?\") === 0) {\n+                  search = search.slice(1);\n+              }\n+\n+              var pairs = search.split(\"&\");\n+              for (var j = 0; j < pairs.length; j++) {\n+                  var value = pairs [j],\n+                      index = value.indexOf('=');\n+\n+                  if (-1 < index) {\n+                      appendTo(dict, decode(value.slice(0, index)), decode(value.slice(index + 1)));\n+\n+                  } else {\n+                      if (value) {\n+                          appendTo(dict, decode(value), '');\n+                      }\n+                  }\n+              }\n+          }\n+\n+          return dict;\n+      }\n+\n+      function appendTo(dict, name, value) {\n+          var val = typeof value === 'string' ? value : (\n+              value !== null && value !== undefined && typeof value.toString === 'function' ? value.toString() : JSON.stringify(value)\n+          );\n+\n+          if (name in dict) {\n+              dict[name].push(val);\n+          } else {\n+              dict[name] = [val];\n+          }\n+      }\n+\n+  })(typeof commonjsGlobal !== 'undefined' ? commonjsGlobal : (typeof window !== 'undefined' ? window : commonjsGlobal));\n+\n+  /*\n+   * Copyright (C) 2007-2020 Crafter Software Corporation. All Rights Reserved.\n+   *\n+   * This program is free software: you can redistribute it and/or modify\n+   * it under the terms of the GNU Lesser General Public License version 3\n+   * as published by the Free Software Foundation.\n+   *\n+   * This program is distributed in the hope that it will be useful,\n+   * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+   * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n+   * GNU Lesser General Public License for more details.\n+   *\n+   * You should have received a copy of the GNU Lesser General Public License\n+   * along with this program. If not, see http://www.gnu.org/licenses/.\n+   */\n+  function search(queryOrParams, config) {\n+      config = classes.crafterConf.mix(config);\n+      var requestURL;\n+      var params = (queryOrParams instanceof Query)\n+          ? queryOrParams.params\n+          : queryOrParams, searchParams = new URLSearchParams();\n+      if (queryOrParams instanceof search$1.ElasticQuery) {\n+          requestURL = utils.composeUrl(config, classes.crafterConf.getConfig().endpoints.ELASTICSEARCH) + '?crafterSite=' + config.site;\n+          return classes.SDKService.httpPost(requestURL, params)\n+              .pipe(operators.map(function (response) {\n+              return response.hits;\n+          }));\n+      }\n+      else {\n+          requestURL = utils.composeUrl(config, classes.crafterConf.getConfig().endpoints.SEARCH);\n+          for (var param in params) {\n+              if (params.hasOwnProperty(param)) {\n+                  if (Array.isArray(params[param])) {\n+                      for (var x = 0; x < params[param].length; x++) {\n+                          searchParams.append(param, params[param][x]);\n+                      }\n+                  }\n+                  else {\n+                      searchParams.append(param, params[param]);\n+                  }\n+              }\n+          }\n+          searchParams.append('index_id', config.searchId ? config.searchId : config.site);\n+          return classes.SDKService.httpGet(requestURL, searchParams);\n+      }\n+  }\n+  function createQuery(searchEngineOrParams, params) {\n+      if (searchEngineOrParams === void 0) { searchEngineOrParams = 'solr'; }\n+      if (params === void 0) { params = {}; }\n+      var query, queryId = (params && params['uuid'])\n+          ? params['uuid']\n+          : uuid_1(), engine = (typeof searchEngineOrParams === 'string')\n+          ? searchEngineOrParams.toLowerCase()\n+          : 'solr';\n+      if (typeof searchEngineOrParams !== 'string') {\n+          params = searchEngineOrParams;\n+      }\n+      switch (engine) {\n+          case 'elastic':\n+          case 'elasticsearch':\n+              query = new search$1.ElasticQuery();\n+              break;\n+          case 'solr':\n+          default:\n+              query = new search$1.SolrQuery();\n+              break;\n+      }\n+      Object.assign(query.params, params);\n+      query.uuid = queryId;\n+      return query;\n+  }\n+  /**\n+   * Implementation of Search Service for Solr\n+   */\n+  var SearchService = {\n+      search: search,\n+      createQuery: createQuery\n+  };\n+\n+  exports.ElasticQuery = ElasticQuery;\n+  exports.Query = Query;\n+  exports.SearchService = SearchService;\n+  exports.SolrQuery = SolrQuery;\n+  exports.createQuery = createQuery;\n+  exports.search = search;\n+\n+  Object.defineProperty(exports, '__esModule', { value: true });\n+\n+})));\n+//# sourceMappingURL=search.umd.js.map"
  },
  {
    "sha": "84ab350e2139d15cb4fa442ae64932e4b09ad525",
    "filename": "src/main/webapp/repo-bootstrap/global/blueprints/5000_headless_blog/static-assets/js/craftercms-sdk/utils/utils.umd.js",
    "status": "added",
    "additions": 139,
    "deletions": 0,
    "changes": 139,
    "blob_url": "https://github.com/craftercms/studio/blob/035ab778835bddf7a4688b1ec7c4c8bc78c5157a/src/main/webapp/repo-bootstrap/global/blueprints/5000_headless_blog/static-assets/js/craftercms-sdk/utils/utils.umd.js",
    "raw_url": "https://github.com/craftercms/studio/raw/035ab778835bddf7a4688b1ec7c4c8bc78c5157a/src/main/webapp/repo-bootstrap/global/blueprints/5000_headless_blog/static-assets/js/craftercms-sdk/utils/utils.umd.js",
    "contents_url": "https://api.github.com/repos/craftercms/studio/contents/src/main/webapp/repo-bootstrap/global/blueprints/5000_headless_blog/static-assets/js/craftercms-sdk/utils/utils.umd.js?ref=035ab778835bddf7a4688b1ec7c4c8bc78c5157a",
    "patch": "@@ -0,0 +1,139 @@\n+/*\n+ * Copyright (C) 2007-2020 Crafter Software Corporation. All Rights Reserved.\n+ *\n+ * This program is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License version 3 as published by\n+ * the Free Software Foundation.\n+ *\n+ * This program is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public License\n+ * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+ */\n+(function (global, factory) {\n+    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n+    typeof define === 'function' && define.amd ? define('@craftercms/utils', ['exports'], factory) :\n+    (global = global || self, factory((global.craftercms = global.craftercms || {}, global.craftercms.utils = {})));\n+}(this, (function (exports) { 'use strict';\n+\n+    /*\n+     * Copyright (C) 2007-2020 Crafter Software Corporation. All Rights Reserved.\n+     *\n+     * This program is free software: you can redistribute it and/or modify\n+     * it under the terms of the GNU General Public License version 3 as published by\n+     * the Free Software Foundation.\n+     *\n+     * This program is distributed in the hope that it will be useful,\n+     * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+     * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+     * GNU General Public License for more details.\n+     *\n+     * You should have received a copy of the GNU General Public License\n+     * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+     */\n+    /*\n+     * Copyright (C) 2007-2020 Crafter Software Corporation. All Rights Reserved.\n+     *\n+     * This program is free software: you can redistribute it and/or modify\n+     * it under the terms of the GNU Lesser General Public License version 3\n+     * as published by the Free Software Foundation.\n+     *\n+     * This program is distributed in the hope that it will be useful,\n+     * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+     * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n+     * GNU Lesser General Public License for more details.\n+     *\n+     * You should have received a copy of the GNU Lesser General Public License\n+     * along with this program. If not, see http://www.gnu.org/licenses/.\n+     */\n+    function composeUrl(crafterConfigOrBaseUrl, endpoint) {\n+        var base = (typeof crafterConfigOrBaseUrl === 'string')\n+            ? crafterConfigOrBaseUrl\n+            : (crafterConfigOrBaseUrl.baseUrl ? crafterConfigOrBaseUrl.baseUrl + \"/\" : '');\n+        return (\"\" + base + endpoint).replace(/([^:]\\/)\\/+/g, \"$1\");\n+    }\n+    function isPlainObject(obj) {\n+        return typeof obj === 'object' && obj !== null && obj.constructor == Object;\n+    }\n+    function extendDeep(target, source) {\n+        for (var prop in source) {\n+            if (source.hasOwnProperty(prop)) {\n+                if (prop in target && isPlainObject(target[prop]) && isPlainObject(source[prop])) {\n+                    extendDeep(target[prop], source[prop]);\n+                }\n+                else {\n+                    target[prop] = source[prop];\n+                }\n+            }\n+        }\n+        return target;\n+    }\n+    function extendDeepExistingProps(target, source) {\n+        for (var prop in source) {\n+            if (prop in target && source.hasOwnProperty(prop)) {\n+                if (isPlainObject(target[prop]) && isPlainObject(source[prop])) {\n+                    extendDeep(target[prop], source[prop]);\n+                }\n+                else {\n+                    target[prop] = source[prop];\n+                }\n+            }\n+        }\n+        return target;\n+    }\n+    function nullOrUndefined(value) {\n+        return value == null;\n+    }\n+    function notNullOrUndefined(value) {\n+        return !nullOrUndefined(value);\n+    }\n+    function createLookupTable(list, idProp) {\n+        if (idProp === void 0) { idProp = 'id'; }\n+        return list.reduce(function (table, item) {\n+            var id = item[idProp];\n+            table[id] = item;\n+            return table;\n+        }, {});\n+    }\n+\n+    /*\n+     * Copyright (C) 2007-2020 Crafter Software Corporation. All Rights Reserved.\n+     *\n+     * This program is free software: you can redistribute it and/or modify\n+     * it under the terms of the GNU Lesser General Public License version 3\n+     * as published by the Free Software Foundation.\n+     *\n+     * This program is distributed in the hope that it will be useful,\n+     * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+     * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n+     * GNU Lesser General Public License for more details.\n+     *\n+     * You should have received a copy of the GNU Lesser General Public License\n+     * along with this program. If not, see http://www.gnu.org/licenses/.\n+     */\n+    function log(message, type) {\n+        if (type === void 0) { type = log.DEFAULT; }\n+        console && (console[type] && !console[type](message) || console.log && console.log(message));\n+    }\n+    (function (log) {\n+        log.DEFAULT = 'log';\n+        log.ERROR = 'error';\n+        log.WARN = 'warn';\n+    })(log || (log = {}));\n+\n+    exports.composeUrl = composeUrl;\n+    exports.createLookupTable = createLookupTable;\n+    exports.extendDeep = extendDeep;\n+    exports.extendDeepExistingProps = extendDeepExistingProps;\n+    exports.isPlainObject = isPlainObject;\n+    exports.log = log;\n+    exports.notNullOrUndefined = notNullOrUndefined;\n+    exports.nullOrUndefined = nullOrUndefined;\n+\n+    Object.defineProperty(exports, '__esModule', { value: true });\n+\n+})));\n+//# sourceMappingURL=utils.umd.js.map"
  },
  {
    "sha": "ee3448113775829c12ba03a0776fbbdefe778071",
    "filename": "src/main/webapp/repo-bootstrap/global/blueprints/5000_headless_blog/static-assets/js/main.js",
    "status": "added",
    "additions": 175,
    "deletions": 0,
    "changes": 175,
    "blob_url": "https://github.com/craftercms/studio/blob/035ab778835bddf7a4688b1ec7c4c8bc78c5157a/src/main/webapp/repo-bootstrap/global/blueprints/5000_headless_blog/static-assets/js/main.js",
    "raw_url": "https://github.com/craftercms/studio/raw/035ab778835bddf7a4688b1ec7c4c8bc78c5157a/src/main/webapp/repo-bootstrap/global/blueprints/5000_headless_blog/static-assets/js/main.js",
    "contents_url": "https://api.github.com/repos/craftercms/studio/contents/src/main/webapp/repo-bootstrap/global/blueprints/5000_headless_blog/static-assets/js/main.js?ref=035ab778835bddf7a4688b1ec7c4c8bc78c5157a",
    "patch": "@@ -0,0 +1,175 @@\n+/*\n+ * Copyright (C) 2007-2021 Crafter Software Corporation. All Rights Reserved.\n+ *\n+ * This program is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License version 3 as published by\n+ * the Free Software Foundation.\n+ *\n+ * This program is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public License\n+ * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+ */\n+\n+(function ({ content, search, classes }, { operators }) {\n+  const pathRegExp = /^\\/(.*?)\\.xml$/;\n+\n+  function getCookie(name) {\n+    var v = document.cookie.match('(^|;) ?' + name + '=([^;]*)(;|$)');\n+    return v ? v[2] : null;\n+  }\n+  function isAuthoring() {\n+    const html = document.documentElement;\n+    const attr = html.getAttribute('data-craftercms-preview');\n+\n+    return (\n+      attr === '${modePreview?c}' || // Otherwise disable/enable if you want to see pencils in dev server.\n+      attr === 'true'\n+    );\n+  }\n+  function getICE(model, fieldId = null) {\n+    return (craftercms?.guest?.getICEAttributes({\n+      model,\n+      fieldId,\n+      isAuthoring: authoring\n+    }))\n+  }\n+\n+  const authoring = isAuthoring();\n+  const { crafterConf } = classes;\n+\n+  crafterConf.configure({\n+    baseUrl: '',\n+    site: getCookie('crafterSite')\n+  });\n+\n+  const { map } = operators;\n+  const { createQuery } = search;\n+  const searchContent = search.search;\n+  const { parseDescriptor, preParseSearchResults } = content;\n+\n+  var browser = new Vue({\n+    el: '#browser',\n+    data: {\n+      types: [\n+        {\n+          id: 'authors',\n+          label: 'Authors',\n+          labelField: 'name_s',\n+          contentType: '/component/author'\n+        },\n+        {\n+          id: 'posts',\n+          label: 'Posts',\n+          labelField: 'title_s',\n+          contentType: '/component/post'\n+        }\n+      ],\n+      selectedType: null,\n+      items: [],\n+      selectedItem: null,\n+      selectedItemNumUpdates: 0,\n+    },\n+    methods: {\n+      setType: function (type) {\n+        this.selectedType = type;\n+        this.selectedItem = null;\n+        var self = this;\n+\n+        searchContent(\n+          createQuery('elasticsearch', {\n+            'query': {\n+              'bool': {\n+                'filter': [\n+                  {\n+                    'match': {\n+                      'content-type': type.contentType\n+                    }\n+                  }\n+                ]\n+              }\n+            },\n+            'sort': {\n+              'createdDate_dt': { 'order': 'desc' }\n+            }\n+          })\n+        ).pipe(\n+          map(({ hits, ...rest }) => ({\n+            ...rest,\n+            hits: hits.map(({ _source }) => parseDescriptor(\n+              preParseSearchResults(_source)\n+            ))\n+          }))\n+        ).subscribe((results) => {\n+          self.items = results;\n+        });\n+      },\n+      setItem: function (item) {\n+        this.selectedItem = item;\n+        this.selectedItemNumUpdates = 0;\n+      },\n+      updateItem: function(args) {\n+        const itemIndex = this.items.hits.findIndex(item => {\n+          return item.craftercms.id === args.modelId\n+        });\n+\n+        this.items.hits[itemIndex][args.fieldId] = args.value;\n+      },\n+      deregisterItems: function() {\n+        document.querySelectorAll('[data-craftercms-model-id]').forEach((el) => {\n+          const record = craftercms.guest.elementRegistry.fromElement(el);\n+\n+          // This is supposed to be before updating DOM, but query is returning both old and new elements\n+          if (record) {\n+            craftercms?.guest?.elementRegistry.deregister(record.id);\n+          }\n+        });\n+      },\n+      registerItems: function() {\n+        document.querySelectorAll('[data-craftercms-model-id]').forEach((element) => {\n+          let //\n+            path = element.getAttribute('data-craftercms-model-path'),\n+            modelId = element.getAttribute('data-craftercms-model-id'),\n+            fieldId = element.getAttribute('data-craftercms-field-id'),\n+            index = element.getAttribute('data-craftercms-index'),\n+            label = element.getAttribute('data-craftercms-label');\n+\n+          if ((index !== null) && (index !== undefined) && !index.includes('.')) {\n+            // Unsure if somewhere, the system relies on the index being an integer/number.\n+            // Affected inventory:\n+            // - Guest.moveComponent() - string type handled\n+            index = parseInt(index, 10);\n+          }\n+\n+          craftercms?.guest?.elementRegistry.register({ element, modelId, fieldId, index, label, path });\n+        });\n+      },\n+      getICE\n+    },\n+    watch: {\n+      selectedItem: function() {\n+        this.deregisterItems();\n+\n+        this.$nextTick(function() {\n+          if (this.selectedItem) {\n+            this.registerItems();\n+          }\n+        });\n+      }\n+    },\n+    mounted: function() {\n+      const self = this;\n+      $(function () {\n+        const sub = craftercms.guest?.contentController?.operations$.subscribe((op) => {\n+          if (op.type === 'UPDATE_FIELD_VALUE_OPERATION') {\n+            self.updateItem(op.args);\n+            self.selectedItemNumUpdates++;\n+          }\n+        });\n+      })\n+    }\n+  });\n+})(craftercms, rxjs);\n\\ No newline at end of file"
  },
  {
    "sha": "d6ee7b49b7e962ef44fccc814ef93df76d83a333",
    "filename": "src/main/webapp/repo-bootstrap/global/blueprints/5000_headless_blog/templates/web/item-explorer.ftl",
    "status": "modified",
    "additions": 142,
    "deletions": 128,
    "changes": 270,
    "blob_url": "https://github.com/craftercms/studio/blob/035ab778835bddf7a4688b1ec7c4c8bc78c5157a/src/main/webapp/repo-bootstrap/global/blueprints/5000_headless_blog/templates/web/item-explorer.ftl",
    "raw_url": "https://github.com/craftercms/studio/raw/035ab778835bddf7a4688b1ec7c4c8bc78c5157a/src/main/webapp/repo-bootstrap/global/blueprints/5000_headless_blog/templates/web/item-explorer.ftl",
    "contents_url": "https://api.github.com/repos/craftercms/studio/contents/src/main/webapp/repo-bootstrap/global/blueprints/5000_headless_blog/templates/web/item-explorer.ftl?ref=035ab778835bddf7a4688b1ec7c4c8bc78c5157a",
    "patch": "@@ -1,131 +1,145 @@\n-<#import \"/templates/system/common/cstudio-support.ftl\" as studio />\n+<#import \"/templates/system/common/ice.ftl\" as studio />\n \n <!DOCTYPE html>\n-<html lang=\"en\">\n-\t<head>\n-\t\t<meta charset=\"utf-8\">\n-\t\t<title>${model.title_s}</title>\n-\t\t<link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css\">\n-\t\t<style>\n-\t\t\t[v-cloak] { display:none; }\n-\t\t</style>\n-\t\t<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n-\t</head>\n-\t<body>\n-\t\t<div id=\"browser\" class=\"container\" v-cloak>\n-\t\t\t<div class=\"row\">\n-\t\t\t\t<div class=\"page-header\">\n-\t\t\t\t\t<h1>Headless Blog <small><span class=\"glyphicon glyphicon-question-sign\" data-toggle=\"modal\" data-target=\"#help-modal\"/></small></h1>\n-\t\t\t\t</div>\n-\t\t\t\t<div class=\"col-md-2\">\n-\t\t\t\t\t<div class=\"panel panel-default\">\n-\t\t\t\t\t\t<div class=\"panel-heading\"><h2 class=\"panel-title\">Items</h2></div>\n-\t\t\t\t\t\t<div class=\"panel-body\">\n-\t\t\t\t\t\t\t<div class=\"list-group\">\n-\t\t\t\t\t\t\t\t<a href=\"#\" class=\"list-group-item\" v-for=\"type in types\" v-on:click=\"setType(type)\">{{ type.label }}<span v-if=\"type == selectedType\" class=\"badge\"><span class=\"glyphicon glyphicon-chevron-right\"/></span></a>\n-\t\t\t\t\t\t\t</div>\n-\t\t\t\t\t\t</div>\n-\t\t\t\t\t</div>\n-\t\t\t\t</div>\n-\t\t\t\t<div class=\"col-md-4\">\n-\t\t\t\t\t<div class=\"panel panel-default\" v-if=\"selectedType\">\n-\t\t\t\t\t\t<div class=\"panel-heading\"><h2 class=\"panel-title\">{{ selectedType.label }} ({{ items.total }})</h2></div>\n-\t\t\t\t\t\t<div class=\"panel-body\">\n-\t\t\t\t\t\t\t<div class=\"list-group\">\n-\t\t\t\t\t\t\t\t<a href=\"#\" class=\"list-group-item\" v-for=\"item in items.items\" v-on:click=\"setItem(item)\">{{ item[selectedType.labelField] }}<span v-if=\"item == selectedItem\" class=\"badge\"><span class=\"glyphicon glyphicon-chevron-right\"/></span></a>\n-\t\t\t\t\t\t\t</div>\n-\t\t\t\t\t\t</div>\n-\t\t\t\t\t</div>\n-\t\t\t\t</div>\n-\t\t\t\t<div class=\"col-md-6\">\n-\t\t\t\t\t<div class=\"panel panel-default\" v-if=\"selectedItem\">\n-\t\t\t\t\t\t<div class=\"panel-heading\"><h2 class=\"panel-title\">Details</h2></div>\n-\t\t\t\t\t\t<div class=\"panel-body\" v-bind:data-studio-component-path=\"selectedItem.itemUrl\" v-bind:data-studio-component=\"selectedItem.itemUrl\" data-studio-ice=\"\" v-bind:data-studio-ice-path=\"selectedItem.itemUrl\">\n-\t\t\t\t\t\t\t<table class=\"table\">\n-\t\t\t\t\t\t\t\t<thead>\n-\t\t\t\t\t\t\t\t\t<tr>\n-\t\t\t\t\t\t\t\t\t\t<th>Field</th>\n-\t\t\t\t\t\t\t\t\t\t<th>Value</th>\n-\t\t\t\t\t\t\t\t\t</tr>\n-\t\t\t\t\t\t\t\t</thead>\n-\t\t\t\t\t\t\t\t<tbody>\n-\t\t\t\t\t\t\t\t\t<tr v-for=\"(value, field) in selectedItem\">\n-\t\t\t\t\t\t\t\t\t\t<td>{{ field }}</td>\n-\t\t\t\t\t\t\t\t\t\t<td v-if=\"field == 'photo' || field == 'featuredImage'\"><img class=\"img-responsive img-rounded\" v-bind:src=\"value\"/></td>\n-\t\t\t\t\t\t\t\t\t\t<td v-else-if=\"field == 'date'\">{{ new Date(value).toDateString() }}</td>\n-\t\t\t\t\t\t\t\t\t\t<td v-else-if=\"field == 'categories' || field == 'tags'\">\n-\t\t\t\t\t\t\t\t\t\t\t<span class=\"label label-primary\" style=\"margin-right:5px\" v-for=\"val in value\">{{ val.label }}</span>\n-\t\t\t\t\t\t\t\t\t\t</td>\n-\t\t\t\t\t\t\t\t\t\t<td v-else-if=\"field == 'body' || field == 'biography'\">\n-\t\t\t\t\t\t\t\t\t\t\t<div v-html=\"value\"></div>\n-\t\t\t\t\t\t\t\t\t\t</td>\n-\t\t\t\t\t\t\t\t\t\t<td v-else-if=\"Array.isArray(value)\">{{ value.join(', ') }}</td>\n-\t\t\t\t\t\t\t\t\t\t<td v-else>{{ value }}</td>\n-\t\t\t\t\t\t\t\t\t</tr>\n-\t\t\t\t\t\t\t\t</tbody>\n-\t\t\t\t\t\t\t</table>\n-\t\t\t\t\t\t</div>\n-\t\t\t\t\t</div>\n-\t\t\t\t</div>\n-\t\t\t</div>\n-\t\t</div>\n-\t\t<div class=\"modal fade\" id=\"help-modal\" tabindex=\"-1\" role=\"dialog\">\n-\t\t\t<div class=\"modal-dialog\" role=\"document\">\n-\t\t\t\t<div class=\"modal-content\">\n-\t\t\t\t\t<div class=\"modal-header\">\n-\t\t\t\t\t\t<button type=\"button\" class=\"close\" data-dismiss=\"modal\"><span aria-hidden=\"true\">&times;</span></button>\n-\t\t\t\t\t\t<h4 class=\"modal-title\">Help</h4>\n-\t\t\t\t\t</div>\n-\t\t\t\t\t<div class=\"modal-body\">\n-\t\t\t\t\t\t${model.body_html}\n-\t\t\t\t\t</div>\n-\t\t\t\t</div>\n-\t\t\t</div>\n-\t\t</div>\n-\t\t<script src=\"https://unpkg.com/vue\"></script>\n-\t\t<script src=\"https://unpkg.com/vue-resource\"></script>\n-\t\t<script>\n-\t\t\tvar browser = new Vue({\n-\t\t\t\tel: '#browser',\n-\t\t\t\tdata: {\n-\t\t\t\t\ttypes: [\n-\t\t\t\t\t\t{\n-\t\t\t\t\t\t\tlabel: 'Authors',\n-\t\t\t\t\t\t\tlabelField: 'name',\n-\t\t\t\t\t\t\tlistUrl: '/api/1/author/list.json'\n-\t\t\t\t\t\t},\n-\t\t\t\t\t\t{\n-\t\t\t\t\t\t\tlabel: 'Posts',\n-\t\t\t\t\t\t\tlabelField: 'title',\n-\t\t\t\t\t\t\tlistUrl: '/api/1/post/list.json'\n-\t\t\t\t\t\t}\n-\t\t\t\t\t],\n-\t\t\t\t\tselectedType: null,\n-\t\t\t\t\titems: [],\n-\t\t\t\t\tselectedItem: null\n-\t\t\t\t},\n-\t\t\t\tmethods: {\n-\t\t\t\t\tsetType: function(type) {\n-\t\t\t\t\t\tthis.selectedType = type;\n-\t\t\t\t\t\tthis.selectedItem = null;\n-\t\t\t\t\t\tvar self = this;\n-\t\t\t\t\t\tthis.$http.get(type.listUrl).then(function(response) {\n-\t\t\t\t\t\t\tself.items = response.body\n-\t\t\t\t\t\t});\n-\t\t\t\t\t},\n-\t\t\t\t\tsetItem: function(item) {\n-\t\t\t\t\t\tthis.selectedItem = item;\n-                        this.$nextTick(function(){\n-                            if(window.studioICERepaint) {\n-\t\t\t\t\t\t\t\tstudioICERepaint();\n-\t\t\t\t\t\t\t}\n-                        });\n-\t\t\t\t\t}\n-\t\t\t\t}\n-\t\t\t});\n-\t\t</script>\n-\t\t<script src=\"https://code.jquery.com/jquery-3.2.1.min.js\"></script>\n-\t\t<script src=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js\"></script>\n-\t\t<@studio.toolSupport/>\n-\t</body>\n+<html lang=\"en\" data-craftercms-preview=\"${modePreview?c}\">\n+<head>\n+  <meta charset=\"utf-8\">\n+  <title>${model.title_s}</title>\n+  <link\n+          rel=\"stylesheet\"\n+          href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css\"\n+  >\n+  <style>\n+    [v-cloak] {\n+      display: none;\n+    }\n+  </style>\n+  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n+</head>\n+<body>\n+<div id=\"browser\" class=\"container\" v-cloak>\n+  <div class=\"row\">\n+    <div class=\"page-header\">\n+      <h1>\n+        Headless Blog\n+        <small>\n+          <span\n+            class=\"glyphicon glyphicon-question-sign\" data-toggle=\"modal\"\n+            data-target=\"#help-modal\"></span>\n+        </small>\n+      </h1>\n+    </div>\n+    <div class=\"col-md-2\">\n+      <div class=\"panel panel-default\">\n+        <div class=\"panel-heading\">\n+          <h2 class=\"panel-title\">Items</h2>\n+        </div>\n+        <div class=\"panel-body\">\n+          <div class=\"list-group\">\n+            <a href=\"#\" class=\"list-group-item\" v-for=\"type in types\" v-on:click=\"setType(type)\">\n+              {{ type.label }}\n+              <span v-if=\"type == selectedType\" class=\"badge\">\n+                <span class=\"glyphicon glyphicon-chevron-right\"></span>\n+              </span>\n+            </a>\n+          </div>\n+        </div>\n+      </div>\n+    </div>\n+    <div class=\"col-md-4\">\n+      <div class=\"panel panel-default\" v-if=\"selectedType\">\n+        <div class=\"panel-heading\">\n+          <h2 class=\"panel-title\">{{ selectedType.label }} ({{ items.total && items.total.value }})</h2>\n+        </div>\n+        <div class=\"panel-body\">\n+          <div class=\"list-group\">\n+            <a href=\"#\" class=\"list-group-item\" v-for=\"item in items.hits\" v-on:click=\"setItem(item)\">\n+              {{ item[selectedType.labelField] }}\n+              <span v-if=\"item == selectedItem\" class=\"badge\">\n+                <span class=\"glyphicon glyphicon-chevron-right\"></span>\n+              </span>\n+            </a>\n+          </div>\n+        </div>\n+      </div>\n+    </div>\n+    <div class=\"col-md-6\">\n+      <div class=\"panel panel-default\" v-if=\"selectedItem\">\n+        <div class=\"panel-heading\">\n+          <h2 class=\"panel-title\">Details</h2>\n+        </div>\n+        <div class=\"panel-body\" v-bind=\"getICE(selectedItem)\">\n+          <table class=\"table\" :key=\"selectedItem.craftercms.id + '' + selectedItemNumUpdates\">\n+            <thead>\n+            <tr>\n+              <th>Field</th>\n+              <th>Value</th>\n+            </tr>\n+            </thead>\n+            <tbody>\n+              <tr>\n+                <td>id</td>\n+                <td>{{ selectedItem.craftercms.id }}</td>\n+              </tr>\n+              <template v-for=\"(value, field) in selectedItem\">\n+                <tr v-if=\"field != 'craftercms' && field != 'biography_html_raw' && field != 'body_html_raw'\">\n+                  <td>{{ field }}</td>\n+                  <td v-if=\"field == 'photo_s' || field == 'featuredImage_s'\">\n+                    <img class=\"img-responsive img-rounded\" v-bind:src=\"value\" v-bind=\"getICE(selectedItem, field)\"/>\n+                  </td>\n+                  <td v-else-if=\"field == 'body_html' || field == 'biography_html'\">\n+                    <div v-html=\"value\" v-bind=\"getICE(selectedItem, field)\"></div>\n+                  </td>\n+                  <td v-else-if=\"field == 'authors_o'\">{{ value.map(author => author.name_s).join(', ') }}</td>\n+                  <td v-else-if=\"Array.isArray(value)\">\n+                    <span class=\"label label-primary\" style=\"margin-right:5px\" v-for=\"val in value\">{{ val.value_smv }}</span>\n+                  </td>\n+\n+                  <td v-else><span v-bind=\"getICE(selectedItem, field)\">{{ value }}</span></td>\n+                </tr>\n+              </template>\n+              <tr v-if=\"selectedType.id == 'posts'\">\n+                <td>dateCreated</td>\n+                <td>{{ new Date(selectedItem.craftercms.dateCreated).toDateString() }}</td>\n+              </tr>\n+              <tr>\n+                <td>itemUrl</td>\n+                <td>{{ selectedItem.craftercms.path }}</td>\n+              </tr>\n+            </tbody>\n+          </table>\n+        </div>\n+      </div>\n+    </div>\n+  </div>\n+</div>\n+<div class=\"modal fade\" id=\"help-modal\" tabindex=\"-1\" role=\"dialog\">\n+  <div class=\"modal-dialog\" role=\"document\">\n+    <div class=\"modal-content\">\n+      <div class=\"modal-header\">\n+        <button type=\"button\" class=\"close\" data-dismiss=\"modal\"><span\n+                  aria-hidden=\"true\"\n+          >&times;</span></button>\n+        <h4 class=\"modal-title\">Help</h4>\n+      </div>\n+      <div class=\"modal-body\">\n+          ${model.body_html}\n+      </div>\n+    </div>\n+  </div>\n+</div>\n+<script src=\"https://unpkg.com/vue\"></script>\n+<script src=\"https://unpkg.com/vue-resource\"></script>\n+<script src=\"https://code.jquery.com/jquery-3.2.1.min.js\"></script>\n+<script src=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js\"></script>\n+\n+<script src=\"https://unpkg.com/rxjs@6.6.0/bundles/rxjs.umd.min.js\"></script>\n+<script src=\"/static-assets/js/craftercms-sdk/utils/utils.umd.js\"></script>\n+<script src=\"/static-assets/js/craftercms-sdk/classes/classes.umd.js\"></script>\n+<script src=\"/static-assets/js/craftercms-sdk/content/content.umd.js\"></script>\n+<script src=\"/static-assets/js/craftercms-sdk/search/search.umd.js\"></script>\n+<script src=\"/static-assets/js/main.js\"></script>\n+\n+<@studio.initPageBuilder/>\n+</body>\n </html>"
  }
]
