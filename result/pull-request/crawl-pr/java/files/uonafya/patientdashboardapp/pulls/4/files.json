[
  {
    "sha": "5240198ec1fd516f0ad071e762999c716c3c95f1",
    "filename": "omod/src/main/webapp/fragments/clinicalNotes.gsp",
    "status": "modified",
    "additions": 1,
    "deletions": 1,
    "changes": 2,
    "blob_url": "https://github.com/uonafya/patientdashboardapp/blob/5cc9d6feee8457a0bd4214a35d6f3a813b8c3a54/omod/src/main/webapp/fragments/clinicalNotes.gsp",
    "raw_url": "https://github.com/uonafya/patientdashboardapp/raw/5cc9d6feee8457a0bd4214a35d6f3a813b8c3a54/omod/src/main/webapp/fragments/clinicalNotes.gsp",
    "contents_url": "https://api.github.com/repos/uonafya/patientdashboardapp/contents/omod/src/main/webapp/fragments/clinicalNotes.gsp?ref=5cc9d6feee8457a0bd4214a35d6f3a813b8c3a54",
    "patch": "@@ -1,7 +1,7 @@\n <%\n     ui.includeCss(\"uicommons\", \"datetimepicker.css\")\n     ui.includeCss(\"ehrconfigs\", \"onepcssgrid.css\")\n-    ui.includeCss(\"patientdashboardapp\", \"custom.css\")\n+    ui.includeCss(\"ehrconfigs\", \"custom.css\")\n \n \n     ui.includeJavascript(\"patientdashboardapp\", \"note.js\")"
  },
  {
    "sha": "a9a2cd5785db2ea13fda27cb08d8e5f27e186712",
    "filename": "omod/src/main/webapp/fragments/patientDashboardAppScripts.gsp",
    "status": "modified",
    "additions": 70,
    "deletions": 64,
    "changes": 134,
    "blob_url": "https://github.com/uonafya/patientdashboardapp/blob/5cc9d6feee8457a0bd4214a35d6f3a813b8c3a54/omod/src/main/webapp/fragments/patientDashboardAppScripts.gsp",
    "raw_url": "https://github.com/uonafya/patientdashboardapp/raw/5cc9d6feee8457a0bd4214a35d6f3a813b8c3a54/omod/src/main/webapp/fragments/patientDashboardAppScripts.gsp",
    "contents_url": "https://api.github.com/repos/uonafya/patientdashboardapp/contents/omod/src/main/webapp/fragments/patientDashboardAppScripts.gsp?ref=5cc9d6feee8457a0bd4214a35d6f3a813b8c3a54",
    "patch": "@@ -363,6 +363,8 @@\n \t\t\t}\n \t\t});\n \n+\n+\n \t\tjq(\"#diagnosis\").autocomplete({\n \t\t\tsource: function(request, response) {\n \t\t\t\tjq.getJSON('${ ui.actionLink(\"patientdashboardapp\", \"ClinicalNotes\", \"getDiagnosis\") }', {\n@@ -387,9 +389,9 @@\n \t\t\t\t\tid: ui.item.value,\n \t\t\t\t\tlabel: ui.item.label\n \t\t\t\t}));\n-\t\t\t\t\n+\n \t\t\t\tverifyDiagnosis();\n-\t\t\t\t\n+\n \t\t\t\tjq(\"#diagnosis-lbl\").hide();\n \t\t\t\tjq('#diagnosis').focus();\n \t\t\t\tjq('#diagnosis').val('');\n@@ -590,78 +592,82 @@\n \t\t\tprescriptionDialog.show();\n \t\t});\n \n-\t\tjq(\".drug-name\").on(\"focus.autocomplete\", function() {\n-\t\t\tvar selectedInput = this;\n-\t\t\tjq(this).autocomplete({\n-\t\t\t\tsource: function(request, response) {\n-\t\t\t\t\tjq.getJSON('${ ui.actionLink(\"patientdashboardapp\", \"ClinicalNotes\", \"getDrugs\") }', {\n-\t\t\t\t\t\tq: request.term\n-\t\t\t\t\t}).success(function(data) {\n-\t\t\t\t\t\tvar results = [];\n-\t\t\t\t\t\tfor (var i in data) {\n-\t\t\t\t\t\t\tvar result = {\n-\t\t\t\t\t\t\t\tlabel: data[i].name,\n-\t\t\t\t\t\t\t\tvalue: data[i].id\n-\t\t\t\t\t\t\t};\n-\t\t\t\t\t\t\tresults.push(result);\n-\t\t\t\t\t\t}\n-\t\t\t\t\t\tresponse(results);\n-\t\t\t\t\t});\n-\t\t\t\t},\n-\t\t\t\tminLength: 3,\n-\t\t\t\tselect: function(event, ui) {\n-\t\t\t\t\tevent.preventDefault();\n-\t\t\t\t\tjq(selectedInput).val(ui.item.label);\n-                    jq('#prescriptionAlert').hide();\n \n-                    drugIdnt = ui.item.value;\n-\t\t\t\t},\n-\t\t\t\tchange: function(event, ui) {\n-\t\t\t\t\tevent.preventDefault();\n-\t\t\t\t\tjq(selectedInput).val(ui.item.label);\n-\t\t\t\t\tjq(\"#drug-set\").val(\"Drug set\");\n-\t\t\t\t\tjq.getJSON('${ ui.actionLink(\"patientdashboardapp\", \"ClinicalNotes\", \"getFormulationByDrugName\") }', {\n-\t\t\t\t\t\t\"drugName\": ui.item.label\n-\t\t\t\t\t}).success(function(data) {\n-\t\t\t\t\t\tvar formulations = jq.map(data, function(formulation) {\n-\t\t\t\t\t\t\treturn new Formulation({\n-\t\t\t\t\t\t\t\tid: formulation.id,\n-\t\t\t\t\t\t\t\tlabel: formulation.name + \":\" + formulation.dozage\n+\n+\t\tjq(\".drug-name\").on(\"focus.autocomplete\", function() {\n+\t\t\t\tvar selectedInput = this;\n+\t\t\t\tjq(this).autocomplete({\n+\t\t\t\t\tsource: function(request, response) {\n+\t\t\t\t\t\tjq.getJSON('${ ui.actionLink(\"patientdashboardapp\", \"ClinicalNotes\", \"getDrugs\") }', {\n+\t\t\t\t\t\t\tq: request.term\n+\t\t\t\t\t\t}).success(function(data) {\n+\t\t\t\t\t\t\tvar results = [];\n+\t\t\t\t\t\t\tfor (var i in data) {\n+\t\t\t\t\t\t\t\tvar result = {\n+\t\t\t\t\t\t\t\t\tlabel: data[i].name,\n+\t\t\t\t\t\t\t\t\tname: data[i].name,\n+\t\t\t\t\t\t\t\t\tvalue: data[i].id.toString(),\n+\t\t\t\t\t\t\t\t\tid: data[i].id.toString()\n+\t\t\t\t\t\t\t\t};\n+\t\t\t\t\t\t\t\tresults.push(result);\n+\t\t\t\t\t\t\t}\n+\t\t\t\t\t\t\tresponse(results);\n+\t\t\t\t\t\t});\n+\t\t\t\t\t},\n+\t\t\t\t\tminLength: 3,\n+\t\t\t\t\tselect: function(event, ui) {\n+\t\t\t\t\t\tevent.preventDefault();\n+\t\t\t\t\t\tvar lval = ui.item.label || \"\"\n+\t\t\t\t\t\tjq(selectedInput).val(lval);\n+\t\t\t\t\t\tjq('#prescriptionAlert').hide();\n+\t\t\t\t\t\tdrugIdnt = ui.item.value;\n+\t\t\t\t\t},\n+\t\t\t\t\tchange: function(event, ui) {\n+\t\t\t\t\t\tevent.preventDefault();\n+\t\t\t\t\t\tvar lval = ui.item.label || \"\"\n+\t\t\t\t\t\tjq(selectedInput).val(lval);\n+\t\t\t\t\t\tjq(\"#drug-set\").val(\"Drug set\");\n+\t\t\t\t\t\tjq.getJSON('${ ui.actionLink(\"patientdashboardapp\", \"ClinicalNotes\", \"getFormulationByDrugName\") }', {\n+\t\t\t\t\t\t\t\"drugName\": lval\n+\t\t\t\t\t\t}).success(function(data) {\n+\t\t\t\t\t\t\tvar formulations = jq.map(data, function(formulation) {\n+\t\t\t\t\t\t\t\treturn new Formulation({\n+\t\t\t\t\t\t\t\t\tid: formulation.id,\n+\t\t\t\t\t\t\t\t\tlabel: formulation.name + \":\" + formulation.dozage\n+\t\t\t\t\t\t\t\t});\n \t\t\t\t\t\t\t});\n+\t\t\t\t\t\t\tprescription.drug().formulationOpts(formulations);\n \t\t\t\t\t\t});\n-\t\t\t\t\t\tprescription.drug().formulationOpts(formulations);\n-\t\t\t\t\t});\n \n-\t\t\t\t\t// fetch the frequenciesui.\n-\t\t\t\t\tjq.getJSON('${ui.actionLink(\"patientdashboardapp\",\"ClinicalNotes\",\"getFrequencies\")}').success(function(data) {\n-\t\t\t\t\t\tvar frequency = jq.map(data, function(frequency) {\n-\t\t\t\t\t\t\treturn new Frequency({\n-\t\t\t\t\t\t\t\tid: frequency.id,\n-\t\t\t\t\t\t\t\tlabel: frequency.name\n+\t\t\t\t\t\t// fetch the frequenciesui.\n+\t\t\t\t\t\tjq.getJSON('${ui.actionLink(\"patientdashboardapp\",\"ClinicalNotes\",\"getFrequencies\")}').success(function(data) {\n+\t\t\t\t\t\t\tvar frequency = jq.map(data, function(frequency) {\n+\t\t\t\t\t\t\t\treturn new Frequency({\n+\t\t\t\t\t\t\t\t\tid: frequency.id,\n+\t\t\t\t\t\t\t\t\tlabel: frequency.name\n+\t\t\t\t\t\t\t\t});\n \t\t\t\t\t\t\t});\n+\t\t\t\t\t\t\tprescription.drug().frequencyOpts(frequency);\n \t\t\t\t\t\t});\n-\t\t\t\t\t\tprescription.drug().frequencyOpts(frequency);\n-\t\t\t\t\t});\n-\t\t\t\t\tjq.getJSON('${ui.actionLink(\"patientdashboardapp\",\"clinicalNotes\",\"getDrugUnit\")}').success(function(data) {\n-\t\t\t\t\t\tvar drugUnit = jq.map(data, function(drugUnit) {\n-\t\t\t\t\t\t\treturn new DrugUnit({\n-\t\t\t\t\t\t\t\tid: drugUnit.id,\n-\t\t\t\t\t\t\t\tlabel: drugUnit.label\n+\t\t\t\t\t\tjq.getJSON('${ui.actionLink(\"patientdashboardapp\",\"clinicalNotes\",\"getDrugUnit\")}').success(function(data) {\n+\t\t\t\t\t\t\tvar drugUnit = jq.map(data, function(drugUnit) {\n+\t\t\t\t\t\t\t\treturn new DrugUnit({\n+\t\t\t\t\t\t\t\t\tid: drugUnit.id,\n+\t\t\t\t\t\t\t\t\tlabel: drugUnit.label\n+\t\t\t\t\t\t\t\t});\n \t\t\t\t\t\t\t});\n+\t\t\t\t\t\t\tprescription.drug().drugUnitsOptions(drugUnit);\n \t\t\t\t\t\t});\n-\t\t\t\t\t\tprescription.drug().drugUnitsOptions(drugUnit);\n-\t\t\t\t\t});\n-\n-\t\t\t\t},\n-\t\t\t\topen: function() {\n-\t\t\t\t\tjq(this).removeClass(\"ui-corner-all\").addClass(\"ui-corner-top\");\n-\t\t\t\t},\n-\t\t\t\tclose: function() {\n-\t\t\t\t\tjq(this).removeClass(\"ui-corner-top\").addClass(\"ui-corner-all\");\n-\t\t\t\t}\n \n+\t\t\t\t\t},\n+\t\t\t\t\topen: function() {\n+\t\t\t\t\t\tjq(this).removeClass(\"ui-corner-all\").addClass(\"ui-corner-top\");\n+\t\t\t\t\t},\n+\t\t\t\t\tclose: function() {\n+\t\t\t\t\t\tjq(this).removeClass(\"ui-corner-top\").addClass(\"ui-corner-all\");\n+\t\t\t\t\t}\n+\t\t\t\t});\n \t\t\t});\n-\t\t});\n \n         jq(\"#drugFormulation\").on(\"change\", function (e) {\n             var formulationName = jq('#drugFormulation :selected').text();"
  },
  {
    "sha": "e4705600ecd9a2c1ab8c81ca583b4d63931f7e76",
    "filename": "omod/src/main/webapp/resources/styles/custom.css",
    "status": "removed",
    "additions": 0,
    "deletions": 3,
    "changes": 3,
    "blob_url": "https://github.com/uonafya/patientdashboardapp/blob/410899206d253bffb818e7fb1f9d5f62e0854861/omod/src/main/webapp/resources/styles/custom.css",
    "raw_url": "https://github.com/uonafya/patientdashboardapp/raw/410899206d253bffb818e7fb1f9d5f62e0854861/omod/src/main/webapp/resources/styles/custom.css",
    "contents_url": "https://api.github.com/repos/uonafya/patientdashboardapp/contents/omod/src/main/webapp/resources/styles/custom.css?ref=410899206d253bffb818e7fb1f9d5f62e0854861",
    "patch": "@@ -1,3 +0,0 @@\n-ul.ui-autocomplete.ui-front.ui-menu.ui-widget.ui-widget-content.ui-corner-all{\n-    z-index: 1050 !important;\n-}\n\\ No newline at end of file"
  }
]
