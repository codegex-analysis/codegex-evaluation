[
  {
    "sha": "3b8f5d5c0c9c1671c66b74a26ec5967c22965d1a",
    "filename": "sentinel-dashboard/src/main/java/com/alibaba/csp/sentinel/dashboard/discovery/AppManagement.java",
    "status": "modified",
    "additions": 3,
    "deletions": 5,
    "changes": 8,
    "blob_url": "https://github.com/alibaba/Sentinel/blob/630c9f2ada1bd0a22dad867ed3272312f4f621f6/sentinel-dashboard/src/main/java/com/alibaba/csp/sentinel/dashboard/discovery/AppManagement.java",
    "raw_url": "https://github.com/alibaba/Sentinel/raw/630c9f2ada1bd0a22dad867ed3272312f4f621f6/sentinel-dashboard/src/main/java/com/alibaba/csp/sentinel/dashboard/discovery/AppManagement.java",
    "contents_url": "https://api.github.com/repos/alibaba/Sentinel/contents/sentinel-dashboard/src/main/java/com/alibaba/csp/sentinel/dashboard/discovery/AppManagement.java?ref=630c9f2ada1bd0a22dad867ed3272312f4f621f6",
    "patch": "@@ -22,19 +22,17 @@\n \n import org.springframework.beans.factory.annotation.Autowired;\n import org.springframework.context.ApplicationContext;\n-import org.springframework.stereotype.Component;\n \n-@Component\n+\n public class AppManagement implements MachineDiscovery {\n \n     @Autowired\n     private ApplicationContext context;\n \n     private MachineDiscovery machineDiscovery;\n \n-    @PostConstruct\n-    public void init() {\n-        machineDiscovery = context.getBean(SimpleMachineDiscovery.class);\n+    AppManagement(MachineDiscovery machineDiscovery){\n+        this.machineDiscovery=machineDiscovery;\n     }\n \n     @Override"
  },
  {
    "sha": "7ecee23aec81d394503ae361e2812158c1df8a0c",
    "filename": "sentinel-dashboard/src/main/java/com/alibaba/csp/sentinel/dashboard/discovery/MachineDiscoveryConfiguration.java",
    "status": "added",
    "additions": 22,
    "deletions": 0,
    "changes": 22,
    "blob_url": "https://github.com/alibaba/Sentinel/blob/630c9f2ada1bd0a22dad867ed3272312f4f621f6/sentinel-dashboard/src/main/java/com/alibaba/csp/sentinel/dashboard/discovery/MachineDiscoveryConfiguration.java",
    "raw_url": "https://github.com/alibaba/Sentinel/raw/630c9f2ada1bd0a22dad867ed3272312f4f621f6/sentinel-dashboard/src/main/java/com/alibaba/csp/sentinel/dashboard/discovery/MachineDiscoveryConfiguration.java",
    "contents_url": "https://api.github.com/repos/alibaba/Sentinel/contents/sentinel-dashboard/src/main/java/com/alibaba/csp/sentinel/dashboard/discovery/MachineDiscoveryConfiguration.java?ref=630c9f2ada1bd0a22dad867ed3272312f4f621f6",
    "patch": "@@ -0,0 +1,22 @@\n+package com.alibaba.csp.sentinel.dashboard.discovery;\n+\n+\n+import org.springframework.boot.autoconfigure.condition.ConditionalOnMissingBean;\n+import org.springframework.context.annotation.Bean;\n+import org.springframework.context.annotation.Configuration;\n+\n+@Configuration\n+public class MachineDiscoveryConfiguration {\n+    @Bean\n+    @ConditionalOnMissingBean\n+    public SimpleMachineDiscovery simpleMachineDiscovery(){\n+        return new SimpleMachineDiscovery();\n+    }\n+\n+    @Bean\n+    @ConditionalOnMissingBean\n+    public AppManagement appManagement(SimpleMachineDiscovery simpleMachineDiscovery){\n+        return new AppManagement(simpleMachineDiscovery);\n+    }\n+\n+}"
  },
  {
    "sha": "4824d2a35796153bbeb7c93ec1678bbe06102166",
    "filename": "sentinel-dashboard/src/main/java/com/alibaba/csp/sentinel/dashboard/discovery/SimpleMachineDiscovery.java",
    "status": "modified",
    "additions": 1,
    "deletions": 2,
    "changes": 3,
    "blob_url": "https://github.com/alibaba/Sentinel/blob/630c9f2ada1bd0a22dad867ed3272312f4f621f6/sentinel-dashboard/src/main/java/com/alibaba/csp/sentinel/dashboard/discovery/SimpleMachineDiscovery.java",
    "raw_url": "https://github.com/alibaba/Sentinel/raw/630c9f2ada1bd0a22dad867ed3272312f4f621f6/sentinel-dashboard/src/main/java/com/alibaba/csp/sentinel/dashboard/discovery/SimpleMachineDiscovery.java",
    "contents_url": "https://api.github.com/repos/alibaba/Sentinel/contents/sentinel-dashboard/src/main/java/com/alibaba/csp/sentinel/dashboard/discovery/SimpleMachineDiscovery.java?ref=630c9f2ada1bd0a22dad867ed3272312f4f621f6",
    "patch": "@@ -24,12 +24,11 @@\n \n import com.alibaba.csp.sentinel.util.AssertUtil;\n \n-import org.springframework.stereotype.Component;\n \n /**\n  * @author leyou\n  */\n-@Component\n+\n public class SimpleMachineDiscovery implements MachineDiscovery {\n \n     private final ConcurrentMap<String, AppInfo> apps = new ConcurrentHashMap<>();"
  },
  {
    "sha": "4c305cc429b837c3c8e9ed413eb7ef7a97936379",
    "filename": "sentinel-dashboard/src/main/java/com/alibaba/csp/sentinel/dashboard/repository/rule/InMemAuthorityRuleStore.java",
    "status": "modified",
    "additions": 1,
    "deletions": 1,
    "changes": 2,
    "blob_url": "https://github.com/alibaba/Sentinel/blob/630c9f2ada1bd0a22dad867ed3272312f4f621f6/sentinel-dashboard/src/main/java/com/alibaba/csp/sentinel/dashboard/repository/rule/InMemAuthorityRuleStore.java",
    "raw_url": "https://github.com/alibaba/Sentinel/raw/630c9f2ada1bd0a22dad867ed3272312f4f621f6/sentinel-dashboard/src/main/java/com/alibaba/csp/sentinel/dashboard/repository/rule/InMemAuthorityRuleStore.java",
    "contents_url": "https://api.github.com/repos/alibaba/Sentinel/contents/sentinel-dashboard/src/main/java/com/alibaba/csp/sentinel/dashboard/repository/rule/InMemAuthorityRuleStore.java?ref=630c9f2ada1bd0a22dad867ed3272312f4f621f6",
    "patch": "@@ -27,7 +27,7 @@\n  * @author Eric Zhao\n  * @since 0.2.1\n  */\n-@Component\n+\n public class InMemAuthorityRuleStore extends InMemoryRuleRepositoryAdapter<AuthorityRuleEntity> {\n \n     private static AtomicLong ids = new AtomicLong(0);"
  },
  {
    "sha": "d5e4417ae9afc66cf5f3f17ab20779cedc0f9ada",
    "filename": "sentinel-dashboard/src/main/java/com/alibaba/csp/sentinel/dashboard/repository/rule/InMemDegradeRuleStore.java",
    "status": "modified",
    "additions": 1,
    "deletions": 1,
    "changes": 2,
    "blob_url": "https://github.com/alibaba/Sentinel/blob/630c9f2ada1bd0a22dad867ed3272312f4f621f6/sentinel-dashboard/src/main/java/com/alibaba/csp/sentinel/dashboard/repository/rule/InMemDegradeRuleStore.java",
    "raw_url": "https://github.com/alibaba/Sentinel/raw/630c9f2ada1bd0a22dad867ed3272312f4f621f6/sentinel-dashboard/src/main/java/com/alibaba/csp/sentinel/dashboard/repository/rule/InMemDegradeRuleStore.java",
    "contents_url": "https://api.github.com/repos/alibaba/Sentinel/contents/sentinel-dashboard/src/main/java/com/alibaba/csp/sentinel/dashboard/repository/rule/InMemDegradeRuleStore.java?ref=630c9f2ada1bd0a22dad867ed3272312f4f621f6",
    "patch": "@@ -24,7 +24,7 @@\n /**\n  * @author leyou\n  */\n-@Component\n+\n public class InMemDegradeRuleStore extends InMemoryRuleRepositoryAdapter<DegradeRuleEntity> {\n \n     private static AtomicLong ids = new AtomicLong(0);"
  },
  {
    "sha": "a1e480b81ae401cdb95b0e4cc3288335c239ab63",
    "filename": "sentinel-dashboard/src/main/java/com/alibaba/csp/sentinel/dashboard/repository/rule/InMemFlowRuleStore.java",
    "status": "modified",
    "additions": 1,
    "deletions": 1,
    "changes": 2,
    "blob_url": "https://github.com/alibaba/Sentinel/blob/630c9f2ada1bd0a22dad867ed3272312f4f621f6/sentinel-dashboard/src/main/java/com/alibaba/csp/sentinel/dashboard/repository/rule/InMemFlowRuleStore.java",
    "raw_url": "https://github.com/alibaba/Sentinel/raw/630c9f2ada1bd0a22dad867ed3272312f4f621f6/sentinel-dashboard/src/main/java/com/alibaba/csp/sentinel/dashboard/repository/rule/InMemFlowRuleStore.java",
    "contents_url": "https://api.github.com/repos/alibaba/Sentinel/contents/sentinel-dashboard/src/main/java/com/alibaba/csp/sentinel/dashboard/repository/rule/InMemFlowRuleStore.java?ref=630c9f2ada1bd0a22dad867ed3272312f4f621f6",
    "patch": "@@ -27,7 +27,7 @@\n  *\n  * @author leyou\n  */\n-@Component\n+\n public class InMemFlowRuleStore extends InMemoryRuleRepositoryAdapter<FlowRuleEntity> {\n \n     private static AtomicLong ids = new AtomicLong(0);"
  },
  {
    "sha": "9e3ccc58e7c0dbfe66f1d235a6eee4ed3a95b69f",
    "filename": "sentinel-dashboard/src/main/java/com/alibaba/csp/sentinel/dashboard/repository/rule/InMemParamFlowRuleStore.java",
    "status": "modified",
    "additions": 1,
    "deletions": 1,
    "changes": 2,
    "blob_url": "https://github.com/alibaba/Sentinel/blob/630c9f2ada1bd0a22dad867ed3272312f4f621f6/sentinel-dashboard/src/main/java/com/alibaba/csp/sentinel/dashboard/repository/rule/InMemParamFlowRuleStore.java",
    "raw_url": "https://github.com/alibaba/Sentinel/raw/630c9f2ada1bd0a22dad867ed3272312f4f621f6/sentinel-dashboard/src/main/java/com/alibaba/csp/sentinel/dashboard/repository/rule/InMemParamFlowRuleStore.java",
    "contents_url": "https://api.github.com/repos/alibaba/Sentinel/contents/sentinel-dashboard/src/main/java/com/alibaba/csp/sentinel/dashboard/repository/rule/InMemParamFlowRuleStore.java?ref=630c9f2ada1bd0a22dad867ed3272312f4f621f6",
    "patch": "@@ -26,7 +26,7 @@\n  * @author Eric Zhao\n  * @since 0.2.1\n  */\n-@Component\n+\n public class InMemParamFlowRuleStore extends InMemoryRuleRepositoryAdapter<ParamFlowRuleEntity> {\n \n     private static AtomicLong ids = new AtomicLong(0);"
  },
  {
    "sha": "ff301421eebad2e93d52c2719b40bf984f2220a7",
    "filename": "sentinel-dashboard/src/main/java/com/alibaba/csp/sentinel/dashboard/repository/rule/InMemSystemRuleStore.java",
    "status": "modified",
    "additions": 1,
    "deletions": 1,
    "changes": 2,
    "blob_url": "https://github.com/alibaba/Sentinel/blob/630c9f2ada1bd0a22dad867ed3272312f4f621f6/sentinel-dashboard/src/main/java/com/alibaba/csp/sentinel/dashboard/repository/rule/InMemSystemRuleStore.java",
    "raw_url": "https://github.com/alibaba/Sentinel/raw/630c9f2ada1bd0a22dad867ed3272312f4f621f6/sentinel-dashboard/src/main/java/com/alibaba/csp/sentinel/dashboard/repository/rule/InMemSystemRuleStore.java",
    "contents_url": "https://api.github.com/repos/alibaba/Sentinel/contents/sentinel-dashboard/src/main/java/com/alibaba/csp/sentinel/dashboard/repository/rule/InMemSystemRuleStore.java?ref=630c9f2ada1bd0a22dad867ed3272312f4f621f6",
    "patch": "@@ -24,7 +24,7 @@\n /**\n  * @author leyou\n  */\n-@Component\n+\n public class InMemSystemRuleStore extends InMemoryRuleRepositoryAdapter<SystemRuleEntity> {\n \n     private static AtomicLong ids = new AtomicLong(0);"
  },
  {
    "sha": "e9dcd43de8e681969b011ff7ad27f815bb321f6b",
    "filename": "sentinel-dashboard/src/main/java/com/alibaba/csp/sentinel/dashboard/repository/rule/RuleRepositoryConfiguration.java",
    "status": "added",
    "additions": 37,
    "deletions": 0,
    "changes": 37,
    "blob_url": "https://github.com/alibaba/Sentinel/blob/630c9f2ada1bd0a22dad867ed3272312f4f621f6/sentinel-dashboard/src/main/java/com/alibaba/csp/sentinel/dashboard/repository/rule/RuleRepositoryConfiguration.java",
    "raw_url": "https://github.com/alibaba/Sentinel/raw/630c9f2ada1bd0a22dad867ed3272312f4f621f6/sentinel-dashboard/src/main/java/com/alibaba/csp/sentinel/dashboard/repository/rule/RuleRepositoryConfiguration.java",
    "contents_url": "https://api.github.com/repos/alibaba/Sentinel/contents/sentinel-dashboard/src/main/java/com/alibaba/csp/sentinel/dashboard/repository/rule/RuleRepositoryConfiguration.java?ref=630c9f2ada1bd0a22dad867ed3272312f4f621f6",
    "patch": "@@ -0,0 +1,37 @@\n+package com.alibaba.csp.sentinel.dashboard.repository.rule;\n+\n+import org.springframework.boot.autoconfigure.condition.ConditionalOnMissingBean;\n+import org.springframework.context.annotation.Bean;\n+import org.springframework.context.annotation.Configuration;\n+\n+@Configuration\n+public class RuleRepositoryConfiguration {\n+    @Bean\n+    @ConditionalOnMissingBean\n+    public InMemAuthorityRuleStore inMemAuthorityRuleStore(){\n+        return new InMemAuthorityRuleStore();\n+    }\n+    @Bean\n+    @ConditionalOnMissingBean\n+    public InMemDegradeRuleStore inMemDegradeRuleStore(){\n+        return new InMemDegradeRuleStore();\n+    }\n+\n+    @Bean\n+    @ConditionalOnMissingBean\n+    public InMemFlowRuleStore inMemFlowRuleStore(){\n+        return new InMemFlowRuleStore();\n+    }\n+\n+    @Bean\n+    @ConditionalOnMissingBean\n+    public InMemParamFlowRuleStore inMemParamFlowRuleStore(){\n+        return new InMemParamFlowRuleStore();\n+    }\n+\n+    @Bean\n+    @ConditionalOnMissingBean\n+    public InMemSystemRuleStore inMemSystemRuleStore(){\n+        return new InMemSystemRuleStore();\n+    }\n+}"
  },
  {
    "sha": "e5de0bb0971a6957b4e4027aef7f212c4797ec1a",
    "filename": "sentinel-dashboard/src/main/java/com/alibaba/csp/sentinel/dashboard/rule/DynamicRuleProviderConfiguration.java",
    "status": "added",
    "additions": 14,
    "deletions": 0,
    "changes": 14,
    "blob_url": "https://github.com/alibaba/Sentinel/blob/630c9f2ada1bd0a22dad867ed3272312f4f621f6/sentinel-dashboard/src/main/java/com/alibaba/csp/sentinel/dashboard/rule/DynamicRuleProviderConfiguration.java",
    "raw_url": "https://github.com/alibaba/Sentinel/raw/630c9f2ada1bd0a22dad867ed3272312f4f621f6/sentinel-dashboard/src/main/java/com/alibaba/csp/sentinel/dashboard/rule/DynamicRuleProviderConfiguration.java",
    "contents_url": "https://api.github.com/repos/alibaba/Sentinel/contents/sentinel-dashboard/src/main/java/com/alibaba/csp/sentinel/dashboard/rule/DynamicRuleProviderConfiguration.java?ref=630c9f2ada1bd0a22dad867ed3272312f4f621f6",
    "patch": "@@ -0,0 +1,14 @@\n+package com.alibaba.csp.sentinel.dashboard.rule;\n+\n+import org.springframework.boot.autoconfigure.condition.ConditionalOnMissingBean;\n+import org.springframework.context.annotation.Bean;\n+import org.springframework.context.annotation.Configuration;\n+\n+@Configuration\n+public class DynamicRuleProviderConfiguration {\n+    @Bean(\"flowRuleDefaultProvider\")\n+    @ConditionalOnMissingBean\n+    public FlowRuleApiProvider flowRuleApiProvider(){\n+        return new FlowRuleApiProvider();\n+    }\n+}"
  },
  {
    "sha": "3e26aba04cb8af8e498cba11da86eb4b0535b57c",
    "filename": "sentinel-dashboard/src/main/java/com/alibaba/csp/sentinel/dashboard/rule/DynamicRulePublisherConfiguration.java",
    "status": "added",
    "additions": 14,
    "deletions": 0,
    "changes": 14,
    "blob_url": "https://github.com/alibaba/Sentinel/blob/630c9f2ada1bd0a22dad867ed3272312f4f621f6/sentinel-dashboard/src/main/java/com/alibaba/csp/sentinel/dashboard/rule/DynamicRulePublisherConfiguration.java",
    "raw_url": "https://github.com/alibaba/Sentinel/raw/630c9f2ada1bd0a22dad867ed3272312f4f621f6/sentinel-dashboard/src/main/java/com/alibaba/csp/sentinel/dashboard/rule/DynamicRulePublisherConfiguration.java",
    "contents_url": "https://api.github.com/repos/alibaba/Sentinel/contents/sentinel-dashboard/src/main/java/com/alibaba/csp/sentinel/dashboard/rule/DynamicRulePublisherConfiguration.java?ref=630c9f2ada1bd0a22dad867ed3272312f4f621f6",
    "patch": "@@ -0,0 +1,14 @@\n+package com.alibaba.csp.sentinel.dashboard.rule;\n+\n+import org.springframework.boot.autoconfigure.condition.ConditionalOnMissingBean;\n+import org.springframework.context.annotation.Bean;\n+import org.springframework.context.annotation.Configuration;\n+\n+@Configuration\n+public class DynamicRulePublisherConfiguration {\n+    @Bean(\"flowRuleDefaultPublisher\")\n+    @ConditionalOnMissingBean\n+    public FlowRuleApiPublisher flowRuleApiPublisher(){\n+        return new FlowRuleApiPublisher();\n+    }\n+}"
  },
  {
    "sha": "af772e20b7cd1e7bc387e5546109ec55eeca91cf",
    "filename": "sentinel-dashboard/src/main/java/com/alibaba/csp/sentinel/dashboard/rule/FlowRuleApiProvider.java",
    "status": "modified",
    "additions": 1,
    "deletions": 1,
    "changes": 2,
    "blob_url": "https://github.com/alibaba/Sentinel/blob/630c9f2ada1bd0a22dad867ed3272312f4f621f6/sentinel-dashboard/src/main/java/com/alibaba/csp/sentinel/dashboard/rule/FlowRuleApiProvider.java",
    "raw_url": "https://github.com/alibaba/Sentinel/raw/630c9f2ada1bd0a22dad867ed3272312f4f621f6/sentinel-dashboard/src/main/java/com/alibaba/csp/sentinel/dashboard/rule/FlowRuleApiProvider.java",
    "contents_url": "https://api.github.com/repos/alibaba/Sentinel/contents/sentinel-dashboard/src/main/java/com/alibaba/csp/sentinel/dashboard/rule/FlowRuleApiProvider.java?ref=630c9f2ada1bd0a22dad867ed3272312f4f621f6",
    "patch": "@@ -32,7 +32,7 @@\n /**\n  * @author Eric Zhao\n  */\n-@Component(\"flowRuleDefaultProvider\")\n+\n public class FlowRuleApiProvider implements DynamicRuleProvider<List<FlowRuleEntity>> {\n \n     @Autowired"
  },
  {
    "sha": "0dba14e31b591df467f1302bc72cb56e487d3234",
    "filename": "sentinel-dashboard/src/main/java/com/alibaba/csp/sentinel/dashboard/rule/FlowRuleApiPublisher.java",
    "status": "modified",
    "additions": 1,
    "deletions": 1,
    "changes": 2,
    "blob_url": "https://github.com/alibaba/Sentinel/blob/630c9f2ada1bd0a22dad867ed3272312f4f621f6/sentinel-dashboard/src/main/java/com/alibaba/csp/sentinel/dashboard/rule/FlowRuleApiPublisher.java",
    "raw_url": "https://github.com/alibaba/Sentinel/raw/630c9f2ada1bd0a22dad867ed3272312f4f621f6/sentinel-dashboard/src/main/java/com/alibaba/csp/sentinel/dashboard/rule/FlowRuleApiPublisher.java",
    "contents_url": "https://api.github.com/repos/alibaba/Sentinel/contents/sentinel-dashboard/src/main/java/com/alibaba/csp/sentinel/dashboard/rule/FlowRuleApiPublisher.java?ref=630c9f2ada1bd0a22dad867ed3272312f4f621f6",
    "patch": "@@ -31,7 +31,7 @@\n  * @author Eric Zhao\n  * @since 1.4.0\n  */\n-@Component(\"flowRuleDefaultPublisher\")\n+\n public class FlowRuleApiPublisher implements DynamicRulePublisher<List<FlowRuleEntity>> {\n \n     @Autowired"
  }
]
