[
  {
    "sha": "1d75c90498e669a86c6261ab57ff8be7606dbd78",
    "filename": "app/build.gradle",
    "status": "modified",
    "additions": 3,
    "deletions": 3,
    "changes": 6,
    "blob_url": "https://github.com/Mingaleev/Android_Notes/blob/4b826c494f13e95f56f454c76f347315dacbdb81/app/build.gradle",
    "raw_url": "https://github.com/Mingaleev/Android_Notes/raw/4b826c494f13e95f56f454c76f347315dacbdb81/app/build.gradle",
    "contents_url": "https://api.github.com/repos/Mingaleev/Android_Notes/contents/app/build.gradle?ref=4b826c494f13e95f56f454c76f347315dacbdb81",
    "patch": "@@ -28,10 +28,10 @@ dependencies {\n     implementation 'com.google.android.material:material:1.3.0'\n     implementation 'androidx.appcompat:appcompat:1.2.0'\n     implementation 'androidx.legacy:legacy-support-v4:1.0.0'\n+    implementation 'com.google.firebase:firebase-firestore:22.1.1'\n     testImplementation 'junit:junit:4.13.2'\n     androidTestImplementation 'androidx.test.ext:junit:1.1.2'\n     androidTestImplementation 'androidx.test.espresso:espresso-core:3.3.0'\n+}\n \n-\n-\n-}\n\\ No newline at end of file\n+apply plugin: 'com.google.gms.google-services'\n\\ No newline at end of file"
  },
  {
    "sha": "66096293efd8d7da5b6de7ee59a76cff5391cea0",
    "filename": "app/google-services.json",
    "status": "added",
    "additions": 39,
    "deletions": 0,
    "changes": 39,
    "blob_url": "https://github.com/Mingaleev/Android_Notes/blob/4b826c494f13e95f56f454c76f347315dacbdb81/app/google-services.json",
    "raw_url": "https://github.com/Mingaleev/Android_Notes/raw/4b826c494f13e95f56f454c76f347315dacbdb81/app/google-services.json",
    "contents_url": "https://api.github.com/repos/Mingaleev/Android_Notes/contents/app/google-services.json?ref=4b826c494f13e95f56f454c76f347315dacbdb81",
    "patch": "@@ -0,0 +1,39 @@\n+{\n+  \"project_info\": {\n+    \"project_number\": \"530518177986\",\n+    \"project_id\": \"geeknotes-4232f\",\n+    \"storage_bucket\": \"geeknotes-4232f.appspot.com\"\n+  },\n+  \"client\": [\n+    {\n+      \"client_info\": {\n+        \"mobilesdk_app_id\": \"1:530518177986:android:9c6470f70f729fdb04235b\",\n+        \"android_client_info\": {\n+          \"package_name\": \"com.minga.android_notes\"\n+        }\n+      },\n+      \"oauth_client\": [\n+        {\n+          \"client_id\": \"530518177986-bb0t8ukg500qvt1njf0c0n1f6b43c8sp.apps.googleusercontent.com\",\n+          \"client_type\": 3\n+        }\n+      ],\n+      \"api_key\": [\n+        {\n+          \"current_key\": \"AIzaSyA-x9Psx69AuOIRIYfKaFDSGAlSekPmzDQ\"\n+        }\n+      ],\n+      \"services\": {\n+        \"appinvite_service\": {\n+          \"other_platform_oauth_client\": [\n+            {\n+              \"client_id\": \"530518177986-bb0t8ukg500qvt1njf0c0n1f6b43c8sp.apps.googleusercontent.com\",\n+              \"client_type\": 3\n+            }\n+          ]\n+        }\n+      }\n+    }\n+  ],\n+  \"configuration_version\": \"1\"\n+}\n\\ No newline at end of file"
  },
  {
    "sha": "f221548ca12536d4de55c991fd87551d56f3c5d0",
    "filename": "app/src/main/java/com/minga/android_notes/Constants.java",
    "status": "added",
    "additions": 9,
    "deletions": 0,
    "changes": 9,
    "blob_url": "https://github.com/Mingaleev/Android_Notes/blob/4b826c494f13e95f56f454c76f347315dacbdb81/app/src/main/java/com/minga/android_notes/Constants.java",
    "raw_url": "https://github.com/Mingaleev/Android_Notes/raw/4b826c494f13e95f56f454c76f347315dacbdb81/app/src/main/java/com/minga/android_notes/Constants.java",
    "contents_url": "https://api.github.com/repos/Mingaleev/Android_Notes/contents/app/src/main/java/com/minga/android_notes/Constants.java?ref=4b826c494f13e95f56f454c76f347315dacbdb81",
    "patch": "@@ -0,0 +1,9 @@\n+package com.minga.android_notes;\n+\n+public final class Constants {\n+    private Constants(){\n+\n+    }\n+\n+    public static final String TABLE_NAME_NOTES = \"notes\";\n+}"
  },
  {
    "sha": "056884e4c246c726da327140abec134956a5933e",
    "filename": "app/src/main/java/com/minga/android_notes/MainActivity.java",
    "status": "modified",
    "additions": 2,
    "deletions": 0,
    "changes": 2,
    "blob_url": "https://github.com/Mingaleev/Android_Notes/blob/4b826c494f13e95f56f454c76f347315dacbdb81/app/src/main/java/com/minga/android_notes/MainActivity.java",
    "raw_url": "https://github.com/Mingaleev/Android_Notes/raw/4b826c494f13e95f56f454c76f347315dacbdb81/app/src/main/java/com/minga/android_notes/MainActivity.java",
    "contents_url": "https://api.github.com/repos/Mingaleev/Android_Notes/contents/app/src/main/java/com/minga/android_notes/MainActivity.java?ref=4b826c494f13e95f56f454c76f347315dacbdb81",
    "patch": "@@ -9,6 +9,8 @@\n import androidx.fragment.app.FragmentManager;\n import androidx.fragment.app.FragmentTransaction;\n \n+import com.minga.android_notes.notes.BlankFragmentOne;\n+\n public class MainActivity extends AppCompatActivity {\n \n     @Override"
  },
  {
    "sha": "f421e3aa7f19d09d593036d78465848535db28e1",
    "filename": "app/src/main/java/com/minga/android_notes/NotesAdapterCallback.java",
    "status": "removed",
    "additions": 0,
    "deletions": 6,
    "changes": 6,
    "blob_url": "https://github.com/Mingaleev/Android_Notes/blob/20b437e979542a382d616b0055858d428a83e4b0/app/src/main/java/com/minga/android_notes/NotesAdapterCallback.java",
    "raw_url": "https://github.com/Mingaleev/Android_Notes/raw/20b437e979542a382d616b0055858d428a83e4b0/app/src/main/java/com/minga/android_notes/NotesAdapterCallback.java",
    "contents_url": "https://api.github.com/repos/Mingaleev/Android_Notes/contents/app/src/main/java/com/minga/android_notes/NotesAdapterCallback.java?ref=20b437e979542a382d616b0055858d428a83e4b0",
    "patch": "@@ -1,6 +0,0 @@\n-package com.minga.android_notes;\n-\n-public interface NotesAdapterCallback {\n-\n-    void onClickItem (SimpleNote simpleNote);\n-}"
  },
  {
    "sha": "246f2e61355765a2fced3dcf9475202c99384fde",
    "filename": "app/src/main/java/com/minga/android_notes/NotesBlankFragment.java",
    "status": "removed",
    "additions": 0,
    "deletions": 75,
    "changes": 75,
    "blob_url": "https://github.com/Mingaleev/Android_Notes/blob/20b437e979542a382d616b0055858d428a83e4b0/app/src/main/java/com/minga/android_notes/NotesBlankFragment.java",
    "raw_url": "https://github.com/Mingaleev/Android_Notes/raw/20b437e979542a382d616b0055858d428a83e4b0/app/src/main/java/com/minga/android_notes/NotesBlankFragment.java",
    "contents_url": "https://api.github.com/repos/Mingaleev/Android_Notes/contents/app/src/main/java/com/minga/android_notes/NotesBlankFragment.java?ref=20b437e979542a382d616b0055858d428a83e4b0",
    "patch": "@@ -1,75 +0,0 @@\n-package com.minga.android_notes;\n-\n-import android.os.Bundle;\n-import android.view.LayoutInflater;\n-import android.view.View;\n-import android.view.ViewGroup;\n-import android.widget.Button;\n-import android.widget.EditText;\n-\n-import androidx.annotation.NonNull;\n-import androidx.annotation.Nullable;\n-import androidx.fragment.app.Fragment;\n-\n-import com.google.android.material.appbar.MaterialToolbar;\n-\n-public class NotesBlankFragment extends Fragment {\n-\n-    private static final String ARG_NOTE = \"note\";\n-    private SimpleNote simpleNote;\n-    private MaterialToolbar toolbar;\n-    private EditText etBlankTitle;\n-    private EditText etBlankDesc;\n-    private Button btn_update;\n-    private Button btn_remove;\n-\n-    public static NotesBlankFragment newInstanse(SimpleNote simpleNote) {\n-        NotesBlankFragment f = new NotesBlankFragment();\n-        Bundle args = new Bundle();\n-        args.putParcelable(ARG_NOTE, simpleNote);\n-        f.setArguments(args);\n-        return f;\n-    }\n-\n-    @Override\n-    public void onCreate(@Nullable Bundle savedInstanceState) {\n-        super.onCreate(savedInstanceState);\n-        if (getArguments() != null) {\n-            simpleNote = getArguments().getParcelable(ARG_NOTE);\n-        }\n-    }\n-\n-    @Override\n-    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container,\n-                             @Nullable Bundle savedInstanceState) {\n-        return inflater.inflate(R.layout.fragment_notes_blank, container, false);\n-\n-    }\n-\n-    @Override\n-    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\n-        super.onViewCreated(view, savedInstanceState);\n-        etBlankTitle = view.findViewById(R.id.et_note_blank_title);\n-        etBlankTitle.setText(simpleNote.getTitle());\n-\n-        etBlankDesc = view.findViewById(R.id.et_note_blank_desc);\n-        etBlankDesc.setText(simpleNote.getDesc());\n-\n-        toolbar = view.findViewById(R.id.tb_note_blank);\n-        btn_update = view.findViewById(R.id.btn_note_blank_update);\n-        btn_remove = view.findViewById(R.id.btn_note_blank_remove);\n-    }\n-\n-    @Override\n-    public void onActivityCreated(@Nullable Bundle savedInstanceState) {\n-        super.onActivityCreated(savedInstanceState);\n-        toolbar.setNavigationOnClickListener(new View.OnClickListener() {\n-            @Override\n-            public void onClick(View v) {\n-                if (getActivity() != null) {\n-                    getActivity().onBackPressed();\n-                }\n-            }\n-        });\n-    }\n-}\n\\ No newline at end of file"
  },
  {
    "sha": "da9592615d7395c95c1abe337a02986833f6a460",
    "filename": "app/src/main/java/com/minga/android_notes/NotesSpaceDecorator.java",
    "status": "modified",
    "additions": 2,
    "deletions": 2,
    "changes": 4,
    "blob_url": "https://github.com/Mingaleev/Android_Notes/blob/4b826c494f13e95f56f454c76f347315dacbdb81/app/src/main/java/com/minga/android_notes/NotesSpaceDecorator.java",
    "raw_url": "https://github.com/Mingaleev/Android_Notes/raw/4b826c494f13e95f56f454c76f347315dacbdb81/app/src/main/java/com/minga/android_notes/NotesSpaceDecorator.java",
    "contents_url": "https://api.github.com/repos/Mingaleev/Android_Notes/contents/app/src/main/java/com/minga/android_notes/NotesSpaceDecorator.java?ref=4b826c494f13e95f56f454c76f347315dacbdb81",
    "patch": "@@ -6,11 +6,11 @@\n import androidx.annotation.NonNull;\n import androidx.recyclerview.widget.RecyclerView;\n \n-class NotesSpaceDecorator extends RecyclerView.ItemDecoration {\n+public class NotesSpaceDecorator extends RecyclerView.ItemDecoration {\n \n     private final int defaultSpace;\n \n-    NotesSpaceDecorator(int defaultSpace) {\n+    public NotesSpaceDecorator(int defaultSpace) {\n         this.defaultSpace = defaultSpace;\n     }\n "
  },
  {
    "sha": "6d8384574c6f2e323e1b9e8ca230da32041b8c3b",
    "filename": "app/src/main/java/com/minga/android_notes/SimpleNote.java",
    "status": "removed",
    "additions": 0,
    "deletions": 70,
    "changes": 70,
    "blob_url": "https://github.com/Mingaleev/Android_Notes/blob/20b437e979542a382d616b0055858d428a83e4b0/app/src/main/java/com/minga/android_notes/SimpleNote.java",
    "raw_url": "https://github.com/Mingaleev/Android_Notes/raw/20b437e979542a382d616b0055858d428a83e4b0/app/src/main/java/com/minga/android_notes/SimpleNote.java",
    "contents_url": "https://api.github.com/repos/Mingaleev/Android_Notes/contents/app/src/main/java/com/minga/android_notes/SimpleNote.java?ref=20b437e979542a382d616b0055858d428a83e4b0",
    "patch": "@@ -1,70 +0,0 @@\n-package com.minga.android_notes;\n-\n-import android.os.Parcel;\n-import android.os.Parcelable;\n-\n-class SimpleNote implements Parcelable {\n-    private String title;\n-    private String date;\n-    private String desc;\n-\n-    public String getTitle() {\n-        return title;\n-    }\n-\n-    public String getDesc() {\n-        return desc;\n-    }\n-\n-    public String getDate() {\n-        return date;\n-    }\n-\n-    public void setTitle(String title) {\n-        this.title = title;\n-    }\n-\n-    public void setDesc(String desc) {\n-        this.desc = desc;\n-    }\n-\n-    public void setDate(String date) {\n-        this.date = date;\n-    }\n-\n-    public SimpleNote(String title, String desc, String date) {\n-        this.title = title;\n-        this.date = date;\n-        this.desc = desc;\n-    }\n-\n-    protected SimpleNote(Parcel in) {\n-        title = in.readString();\n-        desc = in.readString();\n-        date = in.readString();\n-    }\n-\n-    @Override\n-    public void writeToParcel(Parcel dest, int flags) {\n-        dest.writeString(getTitle());\n-        dest.writeString(getDesc());\n-        dest.writeString(getDate());\n-    }\n-\n-    @Override\n-    public int describeContents() {\n-        return 0;\n-    }\n-\n-    public static final Creator<SimpleNote> CREATOR = new Creator<SimpleNote>() {\n-        @Override\n-        public SimpleNote createFromParcel(Parcel in) {\n-            return new SimpleNote(in);\n-        }\n-\n-        @Override\n-        public SimpleNote[] newArray(int size) {\n-            return new SimpleNote[size];\n-        }\n-    };\n-}"
  },
  {
    "sha": "9fe03704b3963385e54f5ad2720164145e2c7879",
    "filename": "app/src/main/java/com/minga/android_notes/model/SimpleNote.java",
    "status": "added",
    "additions": 22,
    "deletions": 0,
    "changes": 22,
    "blob_url": "https://github.com/Mingaleev/Android_Notes/blob/4b826c494f13e95f56f454c76f347315dacbdb81/app/src/main/java/com/minga/android_notes/model/SimpleNote.java",
    "raw_url": "https://github.com/Mingaleev/Android_Notes/raw/4b826c494f13e95f56f454c76f347315dacbdb81/app/src/main/java/com/minga/android_notes/model/SimpleNote.java",
    "contents_url": "https://api.github.com/repos/Mingaleev/Android_Notes/contents/app/src/main/java/com/minga/android_notes/model/SimpleNote.java?ref=4b826c494f13e95f56f454c76f347315dacbdb81",
    "patch": "@@ -0,0 +1,22 @@\n+package com.minga.android_notes.model;\n+\n+import java.io.Serializable;\n+\n+public class SimpleNote implements Serializable {\n+    private String id;\n+    private String title;\n+    private String desc;\n+\n+    public String getTitle() {\n+        return title;\n+    }\n+\n+    public String getDesc() {\n+        return desc;\n+    }\n+\n+    public String getId() {\n+        return id;\n+    }\n+\n+}"
  },
  {
    "sha": "c75d6309c2e784c4a63c5a2a29990558bae2ba72",
    "filename": "app/src/main/java/com/minga/android_notes/notes/BlankFragmentOne.java",
    "status": "renamed",
    "additions": 45,
    "deletions": 19,
    "changes": 64,
    "blob_url": "https://github.com/Mingaleev/Android_Notes/blob/4b826c494f13e95f56f454c76f347315dacbdb81/app/src/main/java/com/minga/android_notes/notes/BlankFragmentOne.java",
    "raw_url": "https://github.com/Mingaleev/Android_Notes/raw/4b826c494f13e95f56f454c76f347315dacbdb81/app/src/main/java/com/minga/android_notes/notes/BlankFragmentOne.java",
    "contents_url": "https://api.github.com/repos/Mingaleev/Android_Notes/contents/app/src/main/java/com/minga/android_notes/notes/BlankFragmentOne.java?ref=4b826c494f13e95f56f454c76f347315dacbdb81",
    "patch": "@@ -1,10 +1,11 @@\n-package com.minga.android_notes;\n+package com.minga.android_notes.notes;\n \n import android.content.res.Configuration;\n import android.os.Bundle;\n import android.view.LayoutInflater;\n import android.view.View;\n import android.view.ViewGroup;\n+import android.widget.Toast;\n \n import androidx.annotation.NonNull;\n import androidx.annotation.Nullable;\n@@ -14,22 +15,32 @@\n import androidx.recyclerview.widget.LinearLayoutManager;\n import androidx.recyclerview.widget.RecyclerView;\n \n+import com.google.android.material.floatingactionbutton.FloatingActionButton;\n+import com.minga.android_notes.NotesSpaceDecorator;\n+import com.minga.android_notes.R;\n+import com.minga.android_notes.model.SimpleNote;\n+import com.minga.android_notes.notes.adapter.NotesAdapter;\n+import com.minga.android_notes.notes.adapter.NotesAdapterCallback;\n+import com.minga.android_notes.notes.noteBlank.NotesBlankFragment;\n+\n import java.util.ArrayList;\n import java.util.List;\n import java.util.Objects;\n \n-public class BlankFragmentOne extends Fragment implements NotesAdapterCallback {\n+public class BlankFragmentOne extends Fragment implements NotesAdapterCallback, NotesFirestoreCallbacks {\n \n     private static final String ARG_NOTE = \"note\";\n     private static final String ARG_R = \"note_r\";\n     private SimpleNote simpleNote;\n+    private NotesRepository repository = new NotesRepositoryImpl(this);\n+\n     private List<SimpleNote> simpleNotes = new ArrayList<>();\n     private final NotesAdapter notesAdapter = new NotesAdapter(this);\n     private boolean isLandscape;\n+    private FloatingActionButton floatingActionButton;\n \n     @Override\n     public void onCreate(Bundle savedInstanceState) {\n-        initNotes();\n         super.onCreate(savedInstanceState);\n     }\n \n@@ -43,32 +54,40 @@ public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup c\n     public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\n         super.onViewCreated(view, savedInstanceState);\n         initList(view);\n+        floatingActionButton = view.findViewById(R.id.fb_note_add);\n     }\n \n \n     @Override\n     public void onSaveInstanceState(@NonNull Bundle outState) {\n-        outState.putParcelable(ARG_NOTE, simpleNote);\n+        outState.putSerializable(ARG_NOTE, simpleNote);\n         super.onSaveInstanceState(outState);\n     }\n \n     @Override\n     public void onActivityCreated(@Nullable Bundle savedInstanceState) {\n         super.onActivityCreated(savedInstanceState);\n-        notesAdapter.setSimpleNotes(simpleNotes);\n+        repository.requestNotes();\n \n         isLandscape = getResources().getConfiguration().orientation\n                 == Configuration.ORIENTATION_LANDSCAPE;\n \n         if (savedInstanceState != null) {\n             simpleNote = savedInstanceState.getParcelable(ARG_NOTE);\n         } else {\n-            simpleNote = simpleNotes.get(0);\n+//            simpleNote = simpleNotes.get(0);\n         }\n \n         if (isLandscape) {\n             showLandNote(simpleNote);\n         }\n+\n+        floatingActionButton.setOnClickListener(new View.OnClickListener() {\n+            @Override\n+            public void onClick(View v) {\n+                showPortNote(null);\n+            }\n+        });\n     }\n \n     private void initList(View view) {\n@@ -87,7 +106,7 @@ private void showNotes(SimpleNote simpleNote) {\n         }\n     }\n \n-    private void showPortNote(SimpleNote simpleNote) {\n+    private void showPortNote(@Nullable SimpleNote simpleNote) {\n         NotesBlankFragment detail = NotesBlankFragment.newInstanse(simpleNote);\n         FragmentManager fragmentManager = getFragmentManager();\n         FragmentTransaction fragmentTransaction = Objects.requireNonNull(fragmentManager).beginTransaction();\n@@ -106,21 +125,28 @@ private void showLandNote(SimpleNote simpleNote) {\n \n     }\n \n-    private void initNotes() {\n-        simpleNotes.add(new SimpleNote(\"First\", \"first entry\", \"19.02.2021\"));\n-        simpleNotes.add(new SimpleNote(\"Second\", \"second entry\", \"20.02.2021\"));\n-        simpleNotes.add(new SimpleNote(\"Third\", \"third entry\", \"21.02.2021\"));\n-        simpleNotes.add(new SimpleNote(\"Fourth\", \"fourth entry\", \"22.02.2021\"));\n-        simpleNotes.add(new SimpleNote(\"Fifth\", \"fifth entry\", \"23.02.2021\"));\n-        simpleNotes.add(new SimpleNote(\"Fifth\", \"fifth entry\", \"23.02.2021\"));\n-        simpleNotes.add(new SimpleNote(\"Fifth\", \"fifth entry\", \"23.02.2021\"));\n-        simpleNotes.add(new SimpleNote(\"Fifth\", \"fifth entry\", \"23.02.2021\"));\n-        simpleNotes.add(new SimpleNote(\"Fifth\", \"fifth entry\", \"23.02.2021\"));\n-        simpleNotes.add(new SimpleNote(\"Fifth\", \"fifth entry\", \"23.02.2021\"));\n-    }\n \n     @Override\n     public void onClickItem(SimpleNote simpleNote) {\n         showNotes(simpleNote);\n     }\n+\n+\n+    @Override\n+    public void onSuccessNotes(@NonNull List<SimpleNote> items) {\n+        simpleNotes.clear();\n+        simpleNotes.addAll(items);\n+        notesAdapter.setSimpleNotes(items);\n+    }\n+\n+    @Override\n+    public void onErrorNotes(@Nullable String message) {\n+        showToast(message);\n+    }\n+\n+    private void showToast(@Nullable String message) {\n+        if (message != null) {\n+            Toast.makeText(requireContext(), message, Toast.LENGTH_SHORT).show();\n+        }\n+    }\n }\n\\ No newline at end of file",
    "previous_filename": "app/src/main/java/com/minga/android_notes/BlankFragmentOne.java"
  },
  {
    "sha": "dc4f17bf4e5ee80480e0f1e97a3e33009bfddb53",
    "filename": "app/src/main/java/com/minga/android_notes/notes/NotesFirestoreCallbacks.java",
    "status": "added",
    "additions": 14,
    "deletions": 0,
    "changes": 14,
    "blob_url": "https://github.com/Mingaleev/Android_Notes/blob/4b826c494f13e95f56f454c76f347315dacbdb81/app/src/main/java/com/minga/android_notes/notes/NotesFirestoreCallbacks.java",
    "raw_url": "https://github.com/Mingaleev/Android_Notes/raw/4b826c494f13e95f56f454c76f347315dacbdb81/app/src/main/java/com/minga/android_notes/notes/NotesFirestoreCallbacks.java",
    "contents_url": "https://api.github.com/repos/Mingaleev/Android_Notes/contents/app/src/main/java/com/minga/android_notes/notes/NotesFirestoreCallbacks.java?ref=4b826c494f13e95f56f454c76f347315dacbdb81",
    "patch": "@@ -0,0 +1,14 @@\n+package com.minga.android_notes.notes;\n+\n+import androidx.annotation.NonNull;\n+import androidx.annotation.Nullable;\n+\n+import com.minga.android_notes.model.SimpleNote;\n+\n+import java.util.List;\n+\n+public interface NotesFirestoreCallbacks {\n+\n+    void onSuccessNotes (@NonNull List<SimpleNote> items);\n+    void onErrorNotes (@Nullable String message);\n+}"
  },
  {
    "sha": "f0740d8efc14dd75559fe61e1867e9a2f4f9c2bc",
    "filename": "app/src/main/java/com/minga/android_notes/notes/NotesRepository.java",
    "status": "added",
    "additions": 6,
    "deletions": 0,
    "changes": 6,
    "blob_url": "https://github.com/Mingaleev/Android_Notes/blob/4b826c494f13e95f56f454c76f347315dacbdb81/app/src/main/java/com/minga/android_notes/notes/NotesRepository.java",
    "raw_url": "https://github.com/Mingaleev/Android_Notes/raw/4b826c494f13e95f56f454c76f347315dacbdb81/app/src/main/java/com/minga/android_notes/notes/NotesRepository.java",
    "contents_url": "https://api.github.com/repos/Mingaleev/Android_Notes/contents/app/src/main/java/com/minga/android_notes/notes/NotesRepository.java?ref=4b826c494f13e95f56f454c76f347315dacbdb81",
    "patch": "@@ -0,0 +1,6 @@\n+package com.minga.android_notes.notes;\n+\n+public interface NotesRepository {\n+\n+    void requestNotes ();\n+}"
  },
  {
    "sha": "0629cf89b916c14cdab756b53e896985943df1dc",
    "filename": "app/src/main/java/com/minga/android_notes/notes/NotesRepositoryImpl.java",
    "status": "added",
    "additions": 45,
    "deletions": 0,
    "changes": 45,
    "blob_url": "https://github.com/Mingaleev/Android_Notes/blob/4b826c494f13e95f56f454c76f347315dacbdb81/app/src/main/java/com/minga/android_notes/notes/NotesRepositoryImpl.java",
    "raw_url": "https://github.com/Mingaleev/Android_Notes/raw/4b826c494f13e95f56f454c76f347315dacbdb81/app/src/main/java/com/minga/android_notes/notes/NotesRepositoryImpl.java",
    "contents_url": "https://api.github.com/repos/Mingaleev/Android_Notes/contents/app/src/main/java/com/minga/android_notes/notes/NotesRepositoryImpl.java?ref=4b826c494f13e95f56f454c76f347315dacbdb81",
    "patch": "@@ -0,0 +1,45 @@\n+package com.minga.android_notes.notes;\n+\n+import androidx.annotation.NonNull;\n+\n+import com.google.android.gms.tasks.OnCompleteListener;\n+import com.google.android.gms.tasks.OnFailureListener;\n+import com.google.android.gms.tasks.Task;\n+import com.google.firebase.firestore.FirebaseFirestore;\n+import com.google.firebase.firestore.QuerySnapshot;\n+import com.minga.android_notes.Constants;\n+import com.minga.android_notes.model.SimpleNote;\n+\n+import java.util.List;\n+\n+public class NotesRepositoryImpl implements NotesRepository {\n+    private final FirebaseFirestore firebaseFirestore = FirebaseFirestore.getInstance();\n+    private final NotesFirestoreCallbacks callbacks;\n+\n+    public NotesRepositoryImpl(NotesFirestoreCallbacks callbacks) {\n+        this.callbacks = callbacks;\n+    }\n+\n+\n+    @Override\n+    public void requestNotes() {\n+        firebaseFirestore\n+                .collection(Constants.TABLE_NAME_NOTES)\n+                .get()\n+                .addOnCompleteListener(new OnCompleteListener<QuerySnapshot>() {\n+                    @Override\n+                    public void onComplete(@NonNull Task<QuerySnapshot> task) {\n+                        if (task.getResult() != null) {\n+                            List<SimpleNote> items = task.getResult().toObjects(SimpleNote.class);\n+                            callbacks.onSuccessNotes(items);\n+                        }\n+                    }\n+                })\n+                .addOnFailureListener(new OnFailureListener() {\n+                    @Override\n+                    public void onFailure(@NonNull Exception e) {\n+                        callbacks.onErrorNotes(e.getMessage());\n+                    }\n+                });\n+    }\n+}"
  },
  {
    "sha": "3e805df5fa13b2ca61e97f0bdea00293972e9e57",
    "filename": "app/src/main/java/com/minga/android_notes/notes/adapter/NotesAdapter.java",
    "status": "renamed",
    "additions": 6,
    "deletions": 4,
    "changes": 10,
    "blob_url": "https://github.com/Mingaleev/Android_Notes/blob/4b826c494f13e95f56f454c76f347315dacbdb81/app/src/main/java/com/minga/android_notes/notes/adapter/NotesAdapter.java",
    "raw_url": "https://github.com/Mingaleev/Android_Notes/raw/4b826c494f13e95f56f454c76f347315dacbdb81/app/src/main/java/com/minga/android_notes/notes/adapter/NotesAdapter.java",
    "contents_url": "https://api.github.com/repos/Mingaleev/Android_Notes/contents/app/src/main/java/com/minga/android_notes/notes/adapter/NotesAdapter.java?ref=4b826c494f13e95f56f454c76f347315dacbdb81",
    "patch": "@@ -1,4 +1,4 @@\n-package com.minga.android_notes;\n+package com.minga.android_notes.notes.adapter;\n \n import android.util.Log;\n import android.view.LayoutInflater;\n@@ -9,17 +9,19 @@\n import androidx.recyclerview.widget.RecyclerView;\n \n import com.google.android.material.textview.MaterialTextView;\n+import com.minga.android_notes.R;\n+import com.minga.android_notes.model.SimpleNote;\n \n import java.util.ArrayList;\n import java.util.List;\n \n-class NotesAdapter extends RecyclerView.Adapter<NotesAdapter.NotesViewHolder> {\n+public class NotesAdapter extends RecyclerView.Adapter<NotesAdapter.NotesViewHolder> {\n \n     private final List<SimpleNote> simpleNotes = new ArrayList<>();\n     private static final String TAG = \"NotesAdapter\";\n     private final NotesAdapterCallback callback;\n \n-    NotesAdapter(NotesAdapterCallback callback) {\n+    public NotesAdapter(NotesAdapterCallback callback) {\n         this.callback = callback;\n     }\n \n@@ -62,7 +64,7 @@ public NotesViewHolder(@NonNull View itemView) {\n         public void onBind(final SimpleNote model, int position) {\n             Log.d(TAG, String.valueOf(position));\n             textViewTitle.setText(model.getTitle());\n-            textViewDate.setText(model.getDate());\n+            textViewDate.setText(model.getId());\n \n             itemView.setOnClickListener(new View.OnClickListener() {\n                 @Override",
    "previous_filename": "app/src/main/java/com/minga/android_notes/NotesAdapter.java"
  },
  {
    "sha": "55028cc784317e37680b0aa2cdc063b5cfe644a6",
    "filename": "app/src/main/java/com/minga/android_notes/notes/adapter/NotesAdapterCallback.java",
    "status": "added",
    "additions": 8,
    "deletions": 0,
    "changes": 8,
    "blob_url": "https://github.com/Mingaleev/Android_Notes/blob/4b826c494f13e95f56f454c76f347315dacbdb81/app/src/main/java/com/minga/android_notes/notes/adapter/NotesAdapterCallback.java",
    "raw_url": "https://github.com/Mingaleev/Android_Notes/raw/4b826c494f13e95f56f454c76f347315dacbdb81/app/src/main/java/com/minga/android_notes/notes/adapter/NotesAdapterCallback.java",
    "contents_url": "https://api.github.com/repos/Mingaleev/Android_Notes/contents/app/src/main/java/com/minga/android_notes/notes/adapter/NotesAdapterCallback.java?ref=4b826c494f13e95f56f454c76f347315dacbdb81",
    "patch": "@@ -0,0 +1,8 @@\n+package com.minga.android_notes.notes.adapter;\n+\n+import com.minga.android_notes.model.SimpleNote;\n+\n+public interface NotesAdapterCallback {\n+\n+    void onClickItem (SimpleNote simpleNote);\n+}"
  },
  {
    "sha": "55e199a59329a4f5f8d85e6c1bc03c3a9852d421",
    "filename": "app/src/main/java/com/minga/android_notes/notes/noteBlank/NoteFirestoreCallbacks.java",
    "status": "added",
    "additions": 9,
    "deletions": 0,
    "changes": 9,
    "blob_url": "https://github.com/Mingaleev/Android_Notes/blob/4b826c494f13e95f56f454c76f347315dacbdb81/app/src/main/java/com/minga/android_notes/notes/noteBlank/NoteFirestoreCallbacks.java",
    "raw_url": "https://github.com/Mingaleev/Android_Notes/raw/4b826c494f13e95f56f454c76f347315dacbdb81/app/src/main/java/com/minga/android_notes/notes/noteBlank/NoteFirestoreCallbacks.java",
    "contents_url": "https://api.github.com/repos/Mingaleev/Android_Notes/contents/app/src/main/java/com/minga/android_notes/notes/noteBlank/NoteFirestoreCallbacks.java?ref=4b826c494f13e95f56f454c76f347315dacbdb81",
    "patch": "@@ -0,0 +1,9 @@\n+package com.minga.android_notes.notes.noteBlank;\n+\n+import androidx.annotation.Nullable;\n+\n+public interface NoteFirestoreCallbacks {\n+\n+    void onSuccess (@Nullable String message);\n+    void onError (@Nullable String message);\n+}"
  },
  {
    "sha": "7c062bdafabf869f4ad72c003926d3a29f0995ee",
    "filename": "app/src/main/java/com/minga/android_notes/notes/noteBlank/NoteRepository.java",
    "status": "added",
    "additions": 16,
    "deletions": 0,
    "changes": 16,
    "blob_url": "https://github.com/Mingaleev/Android_Notes/blob/4b826c494f13e95f56f454c76f347315dacbdb81/app/src/main/java/com/minga/android_notes/notes/noteBlank/NoteRepository.java",
    "raw_url": "https://github.com/Mingaleev/Android_Notes/raw/4b826c494f13e95f56f454c76f347315dacbdb81/app/src/main/java/com/minga/android_notes/notes/noteBlank/NoteRepository.java",
    "contents_url": "https://api.github.com/repos/Mingaleev/Android_Notes/contents/app/src/main/java/com/minga/android_notes/notes/noteBlank/NoteRepository.java?ref=4b826c494f13e95f56f454c76f347315dacbdb81",
    "patch": "@@ -0,0 +1,16 @@\n+package com.minga.android_notes.notes.noteBlank;\n+\n+import androidx.annotation.NonNull;\n+\n+public interface NoteRepository {\n+\n+    void setNote(\n+            @NonNull String id,\n+            @NonNull String title,\n+            @NonNull String desc\n+    );\n+\n+    void deleteNote(\n+            @NonNull String id\n+    );\n+}"
  },
  {
    "sha": "59df82b96ec2a6d1c65a39c089a1aff6174085d6",
    "filename": "app/src/main/java/com/minga/android_notes/notes/noteBlank/NoteRepositoryImpl.java",
    "status": "added",
    "additions": 56,
    "deletions": 0,
    "changes": 56,
    "blob_url": "https://github.com/Mingaleev/Android_Notes/blob/4b826c494f13e95f56f454c76f347315dacbdb81/app/src/main/java/com/minga/android_notes/notes/noteBlank/NoteRepositoryImpl.java",
    "raw_url": "https://github.com/Mingaleev/Android_Notes/raw/4b826c494f13e95f56f454c76f347315dacbdb81/app/src/main/java/com/minga/android_notes/notes/noteBlank/NoteRepositoryImpl.java",
    "contents_url": "https://api.github.com/repos/Mingaleev/Android_Notes/contents/app/src/main/java/com/minga/android_notes/notes/noteBlank/NoteRepositoryImpl.java?ref=4b826c494f13e95f56f454c76f347315dacbdb81",
    "patch": "@@ -0,0 +1,56 @@\n+package com.minga.android_notes.notes.noteBlank;\n+\n+import androidx.annotation.NonNull;\n+\n+import com.google.android.gms.tasks.OnFailureListener;\n+import com.google.android.gms.tasks.OnSuccessListener;\n+import com.google.firebase.firestore.FirebaseFirestore;\n+import com.minga.android_notes.Constants;\n+\n+import java.util.HashMap;\n+import java.util.Map;\n+\n+class NoteRepositoryImpl implements NoteRepository{\n+\n+    private final FirebaseFirestore firebaseFirestore = FirebaseFirestore.getInstance();\n+    private final NoteFirestoreCallbacks callbacks;\n+\n+    NoteRepositoryImpl(NoteFirestoreCallbacks callbacks) {\n+        this.callbacks = callbacks;\n+    }\n+\n+    @Override\n+    public void setNote(@NonNull String id,\n+                        @NonNull String title,\n+                        @NonNull String desc) {\n+\n+        final Map<String, Object> map = new HashMap<>();\n+        map.put(\"id\", id);\n+        map.put(\"title\", title);\n+        map.put(\"desc\", desc);\n+\n+        firebaseFirestore.collection(Constants.TABLE_NAME_NOTES)\n+                .document(id)\n+                .set(map)\n+                .addOnSuccessListener(new OnSuccessListener<Void>() {\n+                    @Override\n+                    public void onSuccess(Void aVoid) {\n+                        callbacks.onSuccess(\"Заметка успешно обновлена\");\n+                    }\n+                })\n+                .addOnFailureListener(new OnFailureListener() {\n+                    @Override\n+                    public void onFailure(@NonNull Exception e) {\n+                        callbacks.onError(e.getMessage());\n+                    }\n+                });\n+\n+    }\n+\n+    @Override\n+    public void deleteNote(@NonNull String id) {\n+        firebaseFirestore.collection(Constants.TABLE_NAME_NOTES)\n+                .document(id)\n+                .delete();\n+    }\n+}"
  },
  {
    "sha": "21dec36216af23202ec13519fbc89c798b3130fb",
    "filename": "app/src/main/java/com/minga/android_notes/notes/noteBlank/NotesBlankFragment.java",
    "status": "added",
    "additions": 133,
    "deletions": 0,
    "changes": 133,
    "blob_url": "https://github.com/Mingaleev/Android_Notes/blob/4b826c494f13e95f56f454c76f347315dacbdb81/app/src/main/java/com/minga/android_notes/notes/noteBlank/NotesBlankFragment.java",
    "raw_url": "https://github.com/Mingaleev/Android_Notes/raw/4b826c494f13e95f56f454c76f347315dacbdb81/app/src/main/java/com/minga/android_notes/notes/noteBlank/NotesBlankFragment.java",
    "contents_url": "https://api.github.com/repos/Mingaleev/Android_Notes/contents/app/src/main/java/com/minga/android_notes/notes/noteBlank/NotesBlankFragment.java?ref=4b826c494f13e95f56f454c76f347315dacbdb81",
    "patch": "@@ -0,0 +1,133 @@\n+package com.minga.android_notes.notes.noteBlank;\n+\n+import android.os.Bundle;\n+import android.text.TextUtils;\n+import android.view.LayoutInflater;\n+import android.view.View;\n+import android.view.ViewGroup;\n+import android.widget.Button;\n+import android.widget.EditText;\n+import android.widget.Toast;\n+\n+import androidx.annotation.NonNull;\n+import androidx.annotation.Nullable;\n+import androidx.fragment.app.Fragment;\n+\n+import com.google.android.material.appbar.MaterialToolbar;\n+import com.minga.android_notes.R;\n+import com.minga.android_notes.model.SimpleNote;\n+\n+import java.util.UUID;\n+\n+public class NotesBlankFragment extends Fragment implements NoteFirestoreCallbacks{\n+\n+    private final NoteRepository repository = new NoteRepositoryImpl(this);\n+\n+    private static final String ARG_NOTE = \"note\";\n+    private SimpleNote simpleNote;\n+    private MaterialToolbar toolbar;\n+    private EditText etBlankTitle;\n+    private EditText etBlankDesc;\n+    private Button btn_update;\n+    private Button btn_remove;\n+\n+    public static NotesBlankFragment newInstanse(@Nullable SimpleNote simpleNote) {\n+        NotesBlankFragment f = new NotesBlankFragment();\n+        Bundle args = new Bundle();\n+        args.putSerializable(ARG_NOTE, simpleNote);\n+        f.setArguments(args);\n+        return f;\n+    }\n+\n+    @Override\n+    public void onCreate(@Nullable Bundle savedInstanceState) {\n+        super.onCreate(savedInstanceState);\n+        if (getArguments() != null) {\n+            simpleNote = (SimpleNote) getArguments().getSerializable(ARG_NOTE);\n+        }\n+    }\n+\n+    @Override\n+    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container,\n+                             @Nullable Bundle savedInstanceState) {\n+        return inflater.inflate(R.layout.fragment_notes_blank, container, false);\n+\n+    }\n+\n+    @Override\n+    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\n+        super.onViewCreated(view, savedInstanceState);\n+        etBlankTitle = view.findViewById(R.id.et_note_blank_title);\n+        etBlankDesc = view.findViewById(R.id.et_note_blank_desc);\n+        if (simpleNote != null) {\n+            etBlankTitle.setText(simpleNote.getTitle());\n+            etBlankDesc.setText(simpleNote.getDesc());\n+        }\n+        toolbar = view.findViewById(R.id.tb_note_blank);\n+        btn_update = view.findViewById(R.id.btn_note_blank_update);\n+        btn_remove = view.findViewById(R.id.btn_note_blank_remove);\n+    }\n+\n+    @Override\n+    public void onActivityCreated(@Nullable Bundle savedInstanceState) {\n+        super.onActivityCreated(savedInstanceState);\n+        toolbar.setNavigationOnClickListener(new View.OnClickListener() {\n+            @Override\n+            public void onClick(View v) {\n+                if (getActivity() != null) {\n+                    getActivity().onBackPressed();\n+                }\n+            }\n+        });\n+\n+        btn_update.setOnClickListener(new View.OnClickListener() {\n+            @Override\n+            public void onClick(View v) {\n+                final String title = etBlankTitle.getText().toString();\n+                final String desc = etBlankDesc.getText().toString();\n+                update(title, desc);\n+            }\n+        });\n+\n+        btn_remove.setOnClickListener(new View.OnClickListener() {\n+            @Override\n+            public void onClick(View v) {\n+                repository.deleteNote(simpleNote.getId());\n+                if (getActivity() != null) {\n+                    getActivity().onBackPressed();\n+                }\n+            }\n+        });\n+    }\n+\n+    @Override\n+    public void onSuccess(@Nullable String message) {\n+        showToastMessage(message);\n+    }\n+\n+    @Override\n+    public void onError(@Nullable String message) {\n+        showToastMessage(message);\n+    }\n+\n+    private void update(@Nullable String title,\n+                        @Nullable String desc) {\n+\n+        if (!TextUtils.isEmpty(title) && !TextUtils.isEmpty(desc)) {\n+            if (simpleNote != null) {\n+                repository.setNote(simpleNote.getId(),title,desc);\n+            } else {\n+                repository.setNote(UUID.randomUUID().toString(),title,desc);\n+            }\n+        } else {\n+            showToastMessage(\"Поля не могут быть пустыми\");\n+        }\n+    }\n+\n+    private void showToastMessage(@Nullable String message) {\n+        Toast.makeText(requireContext(), message, Toast.LENGTH_SHORT).show();\n+    }\n+\n+\n+}\n+"
  },
  {
    "sha": "eb232541d873c666e1063cb1ef41aa3e66b1cf27",
    "filename": "app/src/main/res/drawable/ic_baseline_add_24.xml",
    "status": "added",
    "additions": 10,
    "deletions": 0,
    "changes": 10,
    "blob_url": "https://github.com/Mingaleev/Android_Notes/blob/4b826c494f13e95f56f454c76f347315dacbdb81/app/src/main/res/drawable/ic_baseline_add_24.xml",
    "raw_url": "https://github.com/Mingaleev/Android_Notes/raw/4b826c494f13e95f56f454c76f347315dacbdb81/app/src/main/res/drawable/ic_baseline_add_24.xml",
    "contents_url": "https://api.github.com/repos/Mingaleev/Android_Notes/contents/app/src/main/res/drawable/ic_baseline_add_24.xml?ref=4b826c494f13e95f56f454c76f347315dacbdb81",
    "patch": "@@ -0,0 +1,10 @@\n+<vector xmlns:android=\"http://schemas.android.com/apk/res/android\"\n+    android:width=\"24dp\"\n+    android:height=\"24dp\"\n+    android:viewportWidth=\"24\"\n+    android:viewportHeight=\"24\"\n+    android:tint=\"?attr/colorControlNormal\">\n+  <path\n+      android:fillColor=\"@android:color/white\"\n+      android:pathData=\"M19,13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\"/>\n+</vector>"
  },
  {
    "sha": "ac5dd703101acc2ff6c63a270f0174289058689a",
    "filename": "app/src/main/res/layout/fragment_blank_one.xml",
    "status": "modified",
    "additions": 20,
    "deletions": 5,
    "changes": 25,
    "blob_url": "https://github.com/Mingaleev/Android_Notes/blob/4b826c494f13e95f56f454c76f347315dacbdb81/app/src/main/res/layout/fragment_blank_one.xml",
    "raw_url": "https://github.com/Mingaleev/Android_Notes/raw/4b826c494f13e95f56f454c76f347315dacbdb81/app/src/main/res/layout/fragment_blank_one.xml",
    "contents_url": "https://api.github.com/repos/Mingaleev/Android_Notes/contents/app/src/main/res/layout/fragment_blank_one.xml?ref=4b826c494f13e95f56f454c76f347315dacbdb81",
    "patch": "@@ -3,19 +3,34 @@\n     xmlns:tools=\"http://schemas.android.com/tools\"\n     android:layout_width=\"match_parent\"\n     android:layout_height=\"match_parent\"\n-    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n     android:orientation=\"vertical\"\n-    tools:context=\".BlankFragmentOne\">\n+    tools:context=\".notes.BlankFragmentOne\">\n \n     <com.google.android.material.appbar.MaterialToolbar\n         android:id=\"@+id/tb_blankOne\"\n         android:layout_width=\"match_parent\"\n         android:layout_height=\"?attr/actionBarSize\"\n         android:background=\"@color/colorPrimaryDark\"/>\n \n-    <androidx.recyclerview.widget.RecyclerView\n-        android:id=\"@+id/rv_notes\"\n+    <FrameLayout\n         android:layout_width=\"match_parent\"\n-        android:layout_height=\"match_parent\" />\n+        android:layout_height=\"match_parent\">\n+\n+        <androidx.recyclerview.widget.RecyclerView\n+            android:id=\"@+id/rv_notes\"\n+            android:layout_width=\"match_parent\"\n+            android:layout_height=\"match_parent\" />\n+\n+        <com.google.android.material.floatingactionbutton.FloatingActionButton\n+            android:id=\"@+id/fb_note_add\"\n+            android:layout_gravity=\"bottom|end\"\n+            android:layout_margin=\"16dp\"\n+            android:src=\"@drawable/ic_baseline_add_24\"\n+            android:layout_width=\"wrap_content\"\n+            android:layout_height=\"wrap_content\"/>\n+\n+    </FrameLayout>\n+\n+\n \n </LinearLayout>\n\\ No newline at end of file"
  },
  {
    "sha": "c091b9cf19a649853c0c902dbfb6de1b35eb4788",
    "filename": "app/src/main/res/values/strings.xml",
    "status": "modified",
    "additions": 4,
    "deletions": 1,
    "changes": 5,
    "blob_url": "https://github.com/Mingaleev/Android_Notes/blob/4b826c494f13e95f56f454c76f347315dacbdb81/app/src/main/res/values/strings.xml",
    "raw_url": "https://github.com/Mingaleev/Android_Notes/raw/4b826c494f13e95f56f454c76f347315dacbdb81/app/src/main/res/values/strings.xml",
    "contents_url": "https://api.github.com/repos/Mingaleev/Android_Notes/contents/app/src/main/res/values/strings.xml?ref=4b826c494f13e95f56f454c76f347315dacbdb81",
    "patch": "@@ -5,6 +5,9 @@\n     <string name=\"info\">Информация</string>\n     <string name=\"note_blank_btn_remove\">Удалить</string>\n     <string name=\"note_blank_btn_update\">Обновить</string>\n-    <!-- TODO: Remove or change this placeholder text -->\n     <string name=\"hello_blank_fragment\">Hello blank fragment</string>\n+    <string name=\"error_empty_fields\">Поля не могут быть пустыми</string>\n+    <string name=\"error_note\">Произошла ошибка при обновлении или создании</string>\n+    <string name=\"note_update_ok\">Заметка успешно обновлена</string>\n+    <string name=\"note_update_failed\">Не удалось обновить заметку</string>\n </resources>\n\\ No newline at end of file"
  }
]
