[
  {
    "sha": "ea890663610eebfac3ecef984be3f2d04a0c15fd",
    "filename": "app/src/main/java/com/minga/android_notes/notes/noteBlank/NotesBlankFragment.java",
    "status": "modified",
    "additions": 28,
    "deletions": 9,
    "changes": 37,
    "blob_url": "https://github.com/Mingaleev/Android_Notes/blob/dda48f78669379bc3e36165a5513b8878a75108b/app/src/main/java/com/minga/android_notes/notes/noteBlank/NotesBlankFragment.java",
    "raw_url": "https://github.com/Mingaleev/Android_Notes/raw/dda48f78669379bc3e36165a5513b8878a75108b/app/src/main/java/com/minga/android_notes/notes/noteBlank/NotesBlankFragment.java",
    "contents_url": "https://api.github.com/repos/Mingaleev/Android_Notes/contents/app/src/main/java/com/minga/android_notes/notes/noteBlank/NotesBlankFragment.java?ref=dda48f78669379bc3e36165a5513b8878a75108b",
    "patch": "@@ -1,5 +1,7 @@\n package com.minga.android_notes.notes.noteBlank;\n \n+import android.app.AlertDialog;\n+import android.content.DialogInterface;\n import android.os.Bundle;\n import android.text.TextUtils;\n import android.view.LayoutInflater;\n@@ -19,7 +21,7 @@\n \n import java.util.UUID;\n \n-public class NotesBlankFragment extends Fragment implements NoteFirestoreCallbacks{\n+public class NotesBlankFragment extends Fragment implements NoteFirestoreCallbacks {\n \n     private final NoteRepository repository = new NoteRepositoryImpl(this);\n \n@@ -59,13 +61,16 @@ public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceStat\n         super.onViewCreated(view, savedInstanceState);\n         etBlankTitle = view.findViewById(R.id.et_note_blank_title);\n         etBlankDesc = view.findViewById(R.id.et_note_blank_desc);\n+        btn_update = view.findViewById(R.id.btn_note_blank_update);\n+        btn_remove = view.findViewById(R.id.btn_note_blank_remove);\n         if (simpleNote != null) {\n             etBlankTitle.setText(simpleNote.getTitle());\n             etBlankDesc.setText(simpleNote.getDesc());\n+        } else {\n+            btn_update.setText(\"Добавить\");\n+            btn_remove.setVisibility(View.INVISIBLE);\n         }\n         toolbar = view.findViewById(R.id.tb_note_blank);\n-        btn_update = view.findViewById(R.id.btn_note_blank_update);\n-        btn_remove = view.findViewById(R.id.btn_note_blank_remove);\n     }\n \n     @Override\n@@ -92,10 +97,7 @@ public void onClick(View v) {\n         btn_remove.setOnClickListener(new View.OnClickListener() {\n             @Override\n             public void onClick(View v) {\n-                repository.deleteNote(simpleNote.getId());\n-                if (getActivity() != null) {\n-                    getActivity().onBackPressed();\n-                }\n+                showAlertDialog();\n             }\n         });\n     }\n@@ -115,9 +117,9 @@ private void update(@Nullable String title,\n \n         if (!TextUtils.isEmpty(title) && !TextUtils.isEmpty(desc)) {\n             if (simpleNote != null) {\n-                repository.setNote(simpleNote.getId(),title,desc);\n+                repository.setNote(simpleNote.getId(), title, desc);\n             } else {\n-                repository.setNote(UUID.randomUUID().toString(),title,desc);\n+                repository.setNote(UUID.randomUUID().toString(), title, desc);\n             }\n         } else {\n             showToastMessage(\"Поля не могут быть пустыми\");\n@@ -128,6 +130,23 @@ private void showToastMessage(@Nullable String message) {\n         Toast.makeText(requireContext(), message, Toast.LENGTH_SHORT).show();\n     }\n \n+    private void showAlertDialog() {\n+        new AlertDialog.Builder(getContext())\n+                .setTitle(R.string.note_blank_alert_title)\n+                .setMessage(R.string.note_blank_alert_message)\n+                .setPositiveButton(R.string.note_blank_alert_button, new DialogInterface.OnClickListener() {\n+                    @Override\n+                    public void onClick(DialogInterface dialog, int which) {\n+                        repository.deleteNote(simpleNote.getId());\n+                        if (getActivity() != null) {\n+                            getActivity().onBackPressed();\n+                        }\n+                    }\n+                })\n+                .create()\n+                .show();\n+    }\n+\n \n }\n "
  },
  {
    "sha": "0e8e7feb0fe6636f4799c1165199af14389d4b84",
    "filename": "app/src/main/res/values/strings.xml",
    "status": "modified",
    "additions": 4,
    "deletions": 0,
    "changes": 4,
    "blob_url": "https://github.com/Mingaleev/Android_Notes/blob/dda48f78669379bc3e36165a5513b8878a75108b/app/src/main/res/values/strings.xml",
    "raw_url": "https://github.com/Mingaleev/Android_Notes/raw/dda48f78669379bc3e36165a5513b8878a75108b/app/src/main/res/values/strings.xml",
    "contents_url": "https://api.github.com/repos/Mingaleev/Android_Notes/contents/app/src/main/res/values/strings.xml?ref=dda48f78669379bc3e36165a5513b8878a75108b",
    "patch": "@@ -10,4 +10,8 @@\n     <string name=\"error_note\">Произошла ошибка при обновлении или создании</string>\n     <string name=\"note_update_ok\">Заметка успешно обновлена</string>\n     <string name=\"note_update_failed\">Не удалось обновить заметку</string>\n+    <string name=\"note_blank_alert_title\">Предупреждение</string>\n+    <string name=\"note_blank_alert_message\">Вы точно хотите удалить заметку?</string>\n+    <string name=\"note_blank_alert_button\">Да</string>\n+\n </resources>\n\\ No newline at end of file"
  }
]
