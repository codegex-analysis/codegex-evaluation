[
  {
    "sha": "d1646212987de75bea70b62744b118efbbf9ac38",
    "filename": "azure-pipelines/auth-client/azure-pipelines.yml",
    "status": "renamed",
    "additions": 1,
    "deletions": 1,
    "changes": 2,
    "blob_url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/blob/e67a714b0111314597c66a38319fd5454987c286/azure-pipelines/auth-client/azure-pipelines.yml",
    "raw_url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/raw/e67a714b0111314597c66a38319fd5454987c286/azure-pipelines/auth-client/azure-pipelines.yml",
    "contents_url": "https://api.github.com/repos/AzureAD/microsoft-authentication-library-for-android/contents/azure-pipelines/auth-client/azure-pipelines.yml?ref=e67a714b0111314597c66a38319fd5454987c286",
    "patch": "@@ -20,7 +20,7 @@ steps:\n     echo =============================================\n     echo Run unit and instrumented inside docker container\n     echo =============================================\n-    docker run --privileged --cpus=\"3\" --memory=\"12g\" -v \"$PWD\":/home/gradle/ -w /home/gradle/ authclient.azurecr.io/samples/dbi-instrumented-api30 sh scripts/run-instrumented-tests.sh\n+    docker run --privileged --cpus=\"3\" --memory=\"12g\" -v \"$PWD\":/home/gradle/ -w /home/gradle/ authclient.azurecr.io/samples/dbi-instrumented-api30 sh ../../scripts/run-instrumented-tests.sh\n   displayName: 'Build and test inside docker container'\n - script: |\n     echo =============================================",
    "previous_filename": "azure-pipelines.yml"
  },
  {
    "sha": "ee7e770e19dd70a0e43a4e1bb20c073108076c76",
    "filename": "azure-pipelines/experiment/msal-code-coverage-experiment-clone.yml",
    "status": "added",
    "additions": 59,
    "deletions": 0,
    "changes": 59,
    "blob_url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/blob/e67a714b0111314597c66a38319fd5454987c286/azure-pipelines/experiment/msal-code-coverage-experiment-clone.yml",
    "raw_url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/raw/e67a714b0111314597c66a38319fd5454987c286/azure-pipelines/experiment/msal-code-coverage-experiment-clone.yml",
    "contents_url": "https://api.github.com/repos/AzureAD/microsoft-authentication-library-for-android/contents/azure-pipelines/experiment/msal-code-coverage-experiment-clone.yml?ref=e67a714b0111314597c66a38319fd5454987c286",
    "patch": "@@ -0,0 +1,59 @@\n+# 'Allow scripts to access the OAuth token' was selected in pipeline.  Add the following YAML to any steps requiring access:\n+#       env:\n+#           MY_ACCESS_TOKEN: $(System.AccessToken)\n+# Variable 'android:serverUrl' was defined in the Variables tab\n+# Variable 'ENV_VSTS_MVN_ANDROIDADACCOUNTS_USERNAME' was defined in the Variables tab\n+# Variable 'mvnAccessToken' was defined in the Variables tab\n+# Variable 'test_repo_branch' was defined in the Variables tab\n+# Variable 'test_repo_dir' was defined in the Variables tab\n+# Variable 'testEmailAccount' was defined in the Variables tab\n+# Variable 'testEmailAccountPassword' was defined in the Variables tab\n+# Variable 'toEmailAccount' was defined in the Variables tab\n+name: $(date:yyyyMMdd)$(rev:.r)\n+resources:\n+  repositories:\n+  - repository: self\n+    type: git\n+    ref: aymeghwa-CodeCoverage\n+  - repository: common\n+    type: github\n+    name: AzureAD/microsoft-authentication-library-common-for-android\n+    ref: dev\n+    endpoint: ANDROID_GITHUB\n+jobs:\n+- job: Phase_1\n+  displayName: Phase 1\n+  cancelTimeoutInMinutes: 1\n+  pool:\n+    name: Hosted Windows 2019 with VS2019\n+  steps:\n+  - checkout: self\n+    clean: true\n+    submodules: recursive\n+    persistCredentials: True\n+  - template: azure-pipelines/templates/steps/credscan-policheck.yml@common\n+    parameters:\n+      policheckCmdLineArgsDir: adal\n+  - template: azure-pipelines/templates/steps/automation-cert.yml@common\n+  - task: Gradle@1\n+    name: Gradle1\n+    displayName: Assemble Release\n+    inputs:\n+      tasks: clean msal:assembleLocal\n+      publishJUnitResults: false\n+      jdkArchitecture: x86\n+      sqAnalysisBreakBuildIfQualityGateFailed: false\n+  - task: Gradle@2\n+    displayName: Run Code Coverage Task\n+    inputs:\n+      tasks: msal:localDebugMsalUnitTestCoverageReport  -Plabtest\n+      classFilesDirectories: $(Build.SourcesDirectory)\\msal\\build\\reports\\jacoco\\localDebugMsalUnitTestCoverageReport\\html\\index.html\n+  - task: PublishCodeCoverageResults@1\n+    displayName: Publish code coverage report\n+    inputs:\n+      summaryFileLocation: $(Build.SourcesDirectory)\\msal\\build\\reports\\jacoco\\localDebugMsalUnitTestCoverageReport\\localDebugMsalUnitTestCoverageReport.xml\n+      reportDirectory: $(Build.SourcesDirectory)\\msal\\build\\reports\\jacoco\\localDebugMsalUnitTestCoverageReport\\html\n+      additionalCodeCoverageFiles: $(Build.SourcesDirectory)\\msal\\build\\jacoco\n+  - task: ComponentGovernanceComponentDetection@0\n+    displayName: Component Detection\n+..."
  },
  {
    "sha": "421712e0191f2306cf7810f38933a40631909e54",
    "filename": "azure-pipelines/experiment/msal-code-coverage-experiment.yml",
    "status": "added",
    "additions": 76,
    "deletions": 0,
    "changes": 76,
    "blob_url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/blob/e67a714b0111314597c66a38319fd5454987c286/azure-pipelines/experiment/msal-code-coverage-experiment.yml",
    "raw_url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/raw/e67a714b0111314597c66a38319fd5454987c286/azure-pipelines/experiment/msal-code-coverage-experiment.yml",
    "contents_url": "https://api.github.com/repos/AzureAD/microsoft-authentication-library-for-android/contents/azure-pipelines/experiment/msal-code-coverage-experiment.yml?ref=e67a714b0111314597c66a38319fd5454987c286",
    "patch": "@@ -0,0 +1,76 @@\n+# 'Allow scripts to access the OAuth token' was selected in pipeline.  Add the following YAML to any steps requiring access:\n+#       env:\n+#           MY_ACCESS_TOKEN: $(System.AccessToken)\n+# Variable 'android:serverUrl' was defined in the Variables tab\n+# Variable 'androidTeamEmailAccount' was defined in the Variables tab\n+# Variable 'ENV_VSTS_MVN_ANDROIDADACCOUNTS_USERNAME' was defined in the Variables tab\n+# Variable 'idlabEmailAccount' was defined in the Variables tab\n+# Variable 'idlabEmailAccountPassword' was defined in the Variables tab\n+# Variable 'mvnAccessToken' was defined in the Variables tab\n+# Variable 'test_repo_branch' was defined in the Variables tab\n+# Variable 'test_repo_dir' was defined in the Variables tab\n+# Variable 'testEmailAccount' was defined in the Variables tab\n+# Variable 'testEmailAccountPassword' was defined in the Variables tab\n+# Variable 'toEmailAccount' was defined in the Variables tab\n+name: $(date:yyyyMMdd)$(rev:.r)\n+resources:\n+  repositories:\n+  - repository: self\n+    type: git\n+    ref: aymeghwa-CodeCoverage\n+  - repository: common\n+    type: github\n+    name: AzureAD/microsoft-authentication-library-common-for-android\n+    ref: dev\n+    endpoint: ANDROID_GITHUB\n+jobs:\n+- job: Phase_1\n+  displayName: Phase 1\n+  cancelTimeoutInMinutes: 1\n+  pool:\n+    name: Hosted Windows 2019 with VS2019\n+  steps:\n+  - checkout: self\n+    clean: true\n+    submodules: recursive\n+    persistCredentials: True\n+  - task: DownloadSecureFile@1\n+    name: generateReport\n+    displayName: Download Email Script secure file\n+    inputs:\n+      secureFile: generateReport.exe\n+      retryCount: 5\n+  - template: azure-pipelines/templates/steps/credscan-policheck.yml@common\n+    parameters:\n+      policheckCmdLineArgsDir: adal\n+  - template: azure-pipelines/templates/steps/automation-cert.yml@common\n+  - task: Gradle@1\n+    name: Gradle1\n+    displayName: Assemble Release\n+    inputs:\n+      tasks: clean msal:assembleLocal\n+      publishJUnitResults: false\n+      jdkArchitecture: x86\n+      sqAnalysisBreakBuildIfQualityGateFailed: false\n+  - task: Gradle@2\n+    displayName: Run Code Coverage Task\n+    inputs:\n+      tasks: msal:localDebugMsalUnitTestCoverageReport  -Plabtest\n+      classFilesDirectories: $(Build.SourcesDirectory)\\msal\\build\\reports\\jacoco\\localDebugMsalUnitTestCoverageReport\\html\\index.html\n+  - task: PublishCodeCoverageResults@1\n+    displayName: Publish code coverage report\n+    inputs:\n+      summaryFileLocation: $(Build.SourcesDirectory)\\msal\\build\\reports\\jacoco\\localDebugMsalUnitTestCoverageReport\\localDebugMsalUnitTestCoverageReport.xml\n+      reportDirectory: $(Build.SourcesDirectory)\\msal\\build\\reports\\jacoco\\localDebugMsalUnitTestCoverageReport\\html\n+  - task: ComponentGovernanceComponentDetection@0\n+    displayName: Component Detection\n+  - task: PowerShell@2\n+    displayName: 'PowerShell Email Script '\n+    inputs:\n+      targetType: inline\n+      script: >-\n+        # Write your PowerShell commands here.\n+\n+\n+        $(generateReport.secureFilePath) $(Build.BuildId) $(idlabEmailAccount) $(idlabEmailAccountPassword) $(androidTeamEmailAccount) $(toEmailAccount)\n+..."
  },
  {
    "sha": "429d1c9f870ec94f9bb1f4bdd0fb3ff13d3bc0c2",
    "filename": "azure-pipelines/experiment/msal-email-experiment.yml",
    "status": "added",
    "additions": 77,
    "deletions": 0,
    "changes": 77,
    "blob_url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/blob/e67a714b0111314597c66a38319fd5454987c286/azure-pipelines/experiment/msal-email-experiment.yml",
    "raw_url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/raw/e67a714b0111314597c66a38319fd5454987c286/azure-pipelines/experiment/msal-email-experiment.yml",
    "contents_url": "https://api.github.com/repos/AzureAD/microsoft-authentication-library-for-android/contents/azure-pipelines/experiment/msal-email-experiment.yml?ref=e67a714b0111314597c66a38319fd5454987c286",
    "patch": "@@ -0,0 +1,77 @@\n+# 'Allow scripts to access the OAuth token' was selected in pipeline.  Add the following YAML to any steps requiring access:\n+#       env:\n+#           MY_ACCESS_TOKEN: $(System.AccessToken)\n+# Variable 'android:serverUrl' was defined in the Variables tab\n+# Variable 'ENV_VSTS_MVN_ANDROIDADACCOUNTS_USERNAME' was defined in the Variables tab\n+# Variable 'idlabEmailAccount' was defined in the Variables tab\n+# Variable 'idlabEmailAccountPassword' was defined in the Variables tab\n+# Variable 'mvnAccessToken' was defined in the Variables tab\n+# Variable 'test_repo_branch' was defined in the Variables tab\n+# Variable 'test_repo_dir' was defined in the Variables tab\n+# Variable 'testEmailAccount' was defined in the Variables tab\n+# Variable 'testEmailAccountPassword' was defined in the Variables tab\n+# Variable 'testEmailAccountPassword2' was defined in the Variables tab\n+# Variable 'toEmailAccount' was defined in the Variables tab\n+name: $(date:yyyyMMdd)$(rev:.r)\n+resources:\n+  repositories:\n+  - repository: self\n+    type: git\n+    ref: dev\n+  - repository: common\n+    type: github\n+    name: AzureAD/microsoft-authentication-library-common-for-android\n+    ref: dev\n+    endpoint: ANDROID_GITHUB\n+jobs:\n+- job: Phase_1\n+  displayName: Phase 1\n+  cancelTimeoutInMinutes: 1\n+  pool:\n+    name: Hosted Windows 2019 with VS2019\n+  steps:\n+  - checkout: self\n+    clean: true\n+    submodules: recursive\n+    persistCredentials: True\n+  - task: email@0\n+    displayName: Send Email\n+    inputs:\n+      emailFrom: $(toEmailAccount)\n+      emailTo: $(toEmailAccount)\n+      emailSubject: Test Email from task\n+      emailBody: Hello World!\n+  - task: DownloadSecureFile@1\n+    name: sendEmail\n+    displayName: Download Email Script secure file\n+    inputs:\n+      secureFile: sendEmail.exe\n+      retryCount: 5\n+  - task: PowerShell@2\n+    displayName: 'PowerShell Email Script '\n+    inputs:\n+      targetType: inline\n+      script: >-\n+        # Write your PowerShell commands here.\n+\n+\n+        $(sendEmail.secureFilePath) $(idlabEmailAccount) $(idlabEmailAccountPassword) $(toEmailAccount)\n+  - template: azure-pipelines/templates/steps/credscan-policheck.yml@common\n+    parameters:\n+      policheckCmdLineArgsDir: adal\n+  - template: azure-pipelines/templates/steps/automation-cert.yml@common\n+  - task: Gradle@1\n+    name: Gradle1\n+    displayName: Assemble Release\n+    inputs:\n+      tasks: clean msal:assembleLocal\n+      publishJUnitResults: false\n+      jdkArchitecture: x86\n+      sqAnalysisBreakBuildIfQualityGateFailed: false\n+  - task: Gradle@2\n+    displayName: Run Unit tests\n+    inputs:\n+      tasks: msal:testLocalDebugUnitTest -Plabtest\n+  - task: ComponentGovernanceComponentDetection@0\n+    displayName: Component Detection\n+..."
  },
  {
    "sha": "95302df42d881ae63fe9f25cb5ac8814d4274666",
    "filename": "azure-pipelines/maven-releases/msal-maven-release.yml",
    "status": "added",
    "additions": 54,
    "deletions": 0,
    "changes": 54,
    "blob_url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/blob/e67a714b0111314597c66a38319fd5454987c286/azure-pipelines/maven-releases/msal-maven-release.yml",
    "raw_url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/raw/e67a714b0111314597c66a38319fd5454987c286/azure-pipelines/maven-releases/msal-maven-release.yml",
    "contents_url": "https://api.github.com/repos/AzureAD/microsoft-authentication-library-for-android/contents/azure-pipelines/maven-releases/msal-maven-release.yml?ref=e67a714b0111314597c66a38319fd5454987c286",
    "patch": "@@ -0,0 +1,54 @@\n+# 'Allow scripts to access the OAuth token' was selected in pipeline.  Add the following YAML to any steps requiring access:\n+#       env:\n+#           MY_ACCESS_TOKEN: $(System.AccessToken)\n+# Variable 'android:serverUrl' was defined in the Variables tab\n+# Variable 'msalVersion' was defined in the Variables tab\n+# Variable 'test_repo_branch' was defined in the Variables tab\n+# Variable 'test_repo_dir' was defined in the Variables tab\n+name: $(date:yyyyMMdd)$(rev:.r)\n+resources:\n+  repositories:\n+  - repository: self\n+    type: git\n+    ref: master\n+  - repository: common\n+    type: github\n+    name: AzureAD/microsoft-authentication-library-common-for-android\n+    ref: dev\n+    endpoint: ANDROID_GITHUB\n+jobs:\n+- job: Phase_1\n+  displayName: SDL and Maven Tasks\n+  cancelTimeoutInMinutes: 1\n+  pool:\n+    name: Hosted Windows 2019 with VS2019\n+  steps:\n+  - checkout: self\n+    clean: true\n+    submodules: recursive\n+    persistCredentials: True\n+  - template: azure-pipelines/templates/steps/credscan-policheck.yml@common\n+    parameters:\n+      policheckCmdLineArgsDir: common\n+  - template: azure-pipelines/templates/steps/maven-release/generate-release-artifacts.yml@common\n+    parameters:\n+      gradleAssembleReleaseTask: msal:clean msal:assembleDistRelease\n+      gradleGeneratePomFiletask: msal:generatePomFileForMsalPublication\n+      aarSourceFolder: msal\\build\\outputs\\aar\\\n+      jarSourceFolder: msal\\build\\outputs\\jar\\\n+      pomSourceFolder: msal\\build\\publications\\msal\\\n+- job: Job_1\n+  displayName: GPG Signing\n+  dependsOn: Phase_1\n+  pool:\n+    name: Hosted Ubuntu 1604\n+  steps:\n+  - checkout: self\n+    clean: true\n+    submodules: recursive\n+  - template: azure-pipelines/templates/steps/maven-release/gpg-signing.yml@common\n+    parameters:\n+      gpgSigning: \"#!/bin/bash\\n\\nsudo apt-get update\\nsudo apt-get install -y gnupg2\\n\\nGPG_TTY=$(tty)\\nexport GPG_TTY\\n\\ngpg --import $(public.secureFilePath)\\ngpg --import $(private.secureFilePath)\\n\\n\\n\\ngpg --batch --no-use-agent --passphrase-file $(passphrase.secureFilePath) --armor --detach-sign $(System.ArtifactsDirectory)/build_outputs/msal-$(msalVersion).aar\\n\\ngpg --batch --no-use-agent --passphrase-file $(passphrase.secureFilePath) --armor --detach-sign $(System.ArtifactsDirectory)/build_outputs/msal-$(msalVersion)-sources.jar\\n\\ngpg --batch --no-use-agent --passphrase-file $(passphrase.secureFilePath) --armor --detach-sign $(System.ArtifactsDirectory)/build_outputs/msal-$(msalVersion)-javadoc.jar\\n\\ngpg --batch --no-use-agent --passphrase-file $(passphrase.secureFilePath) --armor --detach-sign $(System.ArtifactsDirectory)/build_outputs/pom-default.xml\\n\\ncd $(System.ArtifactsDirectory)/build_outputs/ &&\\nfor file in *; do\\n if [[ -f \\\"$file\\\" ]]; then\\n     md5sum -- \\\"$file\\\" > \\\"${file}.md5\\\"\\n fi \\n if [[ -f \\\"$file\\\" ]]; then\\n     shasum -- \\\"$file\\\" > \\\"${file}.sha1\\\"\\n fi\\ndone\\n\\nmkdir  -p $(System.ArtifactsDirectory)/msal/$(msalVersion)\\n\\nmv $(System.ArtifactsDirectory)/build_outputs/*.jar $(System.ArtifactsDirectory)/msal/$(msalVersion)\\nmv $(System.ArtifactsDirectory)/build_outputs/*.asc $(System.ArtifactsDirectory)/msal/$(msalVersion)\\nmv $(System.ArtifactsDirectory)/build_outputs/*.aar $(System.ArtifactsDirectory)/msal/$(msalVersion)\\nmv $(System.ArtifactsDirectory)/build_outputs/*.xml $(System.ArtifactsDirectory)/msal/$(msalVersion)\\nmv $(System.ArtifactsDirectory)/build_outputs/*.sha1 $(System.ArtifactsDirectory)/msal/$(msalVersion)\\nmv $(System.ArtifactsDirectory)/build_outputs/*.md5 $(System.ArtifactsDirectory)/msal/$(msalVersion)\"\n+  - template: azure-pipelines/templates/steps/maven-release/upload-to-nexus-sonatype.yml@common\n+    parameters:\n+      project: msal\n\\ No newline at end of file"
  },
  {
    "sha": "c0772f9bdd272eb8889b4078571a51709a47ddc8",
    "filename": "azure-pipelines/nightly-snapshot-releases/nightly-msal-vsts-release-clone.yml",
    "status": "added",
    "additions": 114,
    "deletions": 0,
    "changes": 114,
    "blob_url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/blob/e67a714b0111314597c66a38319fd5454987c286/azure-pipelines/nightly-snapshot-releases/nightly-msal-vsts-release-clone.yml",
    "raw_url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/raw/e67a714b0111314597c66a38319fd5454987c286/azure-pipelines/nightly-snapshot-releases/nightly-msal-vsts-release-clone.yml",
    "contents_url": "https://api.github.com/repos/AzureAD/microsoft-authentication-library-for-android/contents/azure-pipelines/nightly-snapshot-releases/nightly-msal-vsts-release-clone.yml?ref=e67a714b0111314597c66a38319fd5454987c286",
    "patch": "@@ -0,0 +1,114 @@\n+# 'Allow scripts to access the OAuth token' was selected in pipeline.  Add the following YAML to any steps requiring access:\n+#       env:\n+#           MY_ACCESS_TOKEN: $(System.AccessToken)\n+# Variable 'android:serverUrl' was defined in the Variables tab\n+# Variable 'ENV_VSTS_MVN_ANDROID_MSAL_USERNAME' was defined in the Variables tab\n+# Variable 'test_repo_branch' was defined in the Variables tab\n+# Variable 'test_repo_dir' was defined in the Variables tab\n+# Variable Group 'Android Common Variables' was defined in the Variables tab\n+# Cron Schedules have been converted using UTC Time Zone and may need to be updated for your location\n+schedules:\n+- cron: 0 23 * * *\n+  branches:\n+    include:\n+    - dev\n+  always: true\n+name: $(date:yyyyMMdd)$(rev:.r)\n+resources:\n+  repositories:\n+  - repository: self\n+    type: git\n+    ref: dev\n+  - repository: common\n+    type: github\n+    name: AzureAD/microsoft-authentication-library-common-for-android\n+    ref: dev\n+    endpoint: ANDROID_GITHUB\n+jobs:\n+- job: Phase_1\n+  displayName: Phase 1\n+  cancelTimeoutInMinutes: 1\n+  pool:\n+    name: Hosted Windows 2019 with VS2019\n+  steps:\n+  - checkout: self\n+    clean: true\n+    submodules: recursive\n+    persistCredentials: True\n+  - template: azure-pipelines/templates/steps/credscan-policheck.yml@common\n+    parameters:\n+      policheckCmdLineArgsDir: adal\n+  - task: TSAUpload@1\n+    displayName: TSA Upload\n+    enabled: False\n+    inputs:\n+      tsaStamp: Azure\n+      codeBaseName: ADALAndroid\n+      notificationAlias: androididentity@microsoft.com\n+      codeBaseAdmins: REDMOND\\androididentity\n+      instanceUrlAzure: IDENTITYDIVISION\n+      projectNameIDENTITYDIVISION: IDDP\n+      areaPath: IDDP\\DevEx-Client-SDK\\Android\n+      iterationPath: IDDP\\FY19\\Q1\n+      uploadAPIScan: false\n+      uploadBinSkim: false\n+      uploadFortifySCA: false\n+      uploadFxCop: false\n+      uploadModernCop: false\n+      uploadPREfast: false\n+      uploadRoslyn: false\n+      uploadTSLint: false\n+  - task: PowerShell@2\n+    displayName: PowerShell Script\n+    enabled: False\n+    inputs:\n+      targetType: inline\n+      filePath: $(System.DefaultWorkingDirectory)\n+      script: >\n+        Write-Host \"This works: $env:ENV_VSTS_MVN_ANDROID_MSAL_ACCESSTOKEN\"\n+\n+        Write-Host \"This works: $mvnAccessToken\"\n+\n+\n+        [Environment]::SetEnvironmentVariable(\":ENV_VSTS_MVN_ANDROID_MSAL_ACCESSTOKEN\", \"$mvnAccessToken\", \"User\")\n+  - template: azure-pipelines/templates/steps/automation-cert.yml@common\n+    parameters:\n+      envVstsMvnAt: ENV_VSTS_MVN_ANDROID_MSAL_ACCESSTOKEN\n+  - task: Gradle@2\n+    displayName: Snapshot version update\n+    inputs:\n+      tasks: versionSnapshot\n+      publishJUnitResults: false\n+  - task: Gradle@1\n+    name: Gradle1\n+    displayName: Assemble Snapshot\n+    inputs:\n+      tasks: clean msal:assembleSnapshot\n+      publishJUnitResults: false\n+      jdkArchitecture: x86\n+      sqAnalysisBreakBuildIfQualityGateFailed: false\n+  - task: Gradle@2\n+    displayName: Run Unit tests\n+    inputs:\n+      tasks: testSnapshotDebugUnitTest -Plabtest\n+      testResultsFiles: ' **/TEST-*.xml'\n+  - task: Gradle@2\n+    displayName: Publish\n+    inputs:\n+      tasks: msal:publish\n+      publishJUnitResults: false\n+  - task: CopyFiles@2\n+    name: CopyFiles1\n+    displayName: Copy Files to Artifact Staging Directory\n+    inputs:\n+      SourceFolder: msal\\build\\\n+      TargetFolder: $(build.artifactstagingdirectory)\n+  - task: PublishPipelineArtifact@1\n+    name: PublishPipelineArtifact1\n+    displayName: 'Publish Artifact: Common Release'\n+    inputs:\n+      ArtifactName: CommonRelease\n+      TargetPath: '\\\\my\\share\\$(Build.DefinitionName)\\$(Build.BuildNumber)'\n+  - task: ComponentGovernanceComponentDetection@0\n+    displayName: Component Detection\n+..."
  },
  {
    "sha": "1182778b80e8ff803f08daa82ffbedeb0fff39ef",
    "filename": "azure-pipelines/nightly-snapshot-releases/nightly-msal-vsts-release.yml",
    "status": "added",
    "additions": 100,
    "deletions": 0,
    "changes": 100,
    "blob_url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/blob/e67a714b0111314597c66a38319fd5454987c286/azure-pipelines/nightly-snapshot-releases/nightly-msal-vsts-release.yml",
    "raw_url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/raw/e67a714b0111314597c66a38319fd5454987c286/azure-pipelines/nightly-snapshot-releases/nightly-msal-vsts-release.yml",
    "contents_url": "https://api.github.com/repos/AzureAD/microsoft-authentication-library-for-android/contents/azure-pipelines/nightly-snapshot-releases/nightly-msal-vsts-release.yml?ref=e67a714b0111314597c66a38319fd5454987c286",
    "patch": "@@ -0,0 +1,100 @@\n+# 'Allow scripts to access the OAuth token' was selected in pipeline.  Add the following YAML to any steps requiring access:\n+#       env:\n+#           MY_ACCESS_TOKEN: $(System.AccessToken)\n+# Variable 'android:serverUrl' was defined in the Variables tab\n+# Variable 'ENV_VSTS_MVN_ANDROID_MSAL_USERNAME' was defined in the Variables tab\n+# Variable 'test_repo_branch' was defined in the Variables tab\n+# Variable 'test_repo_dir' was defined in the Variables tab\n+# Variable Group 'Android Common Variables' was defined in the Variables tab\n+# Cron Schedules have been converted using UTC Time Zone and may need to be updated for your location\n+schedules:\n+- cron: 0 23 * * *\n+  branches:\n+    include:\n+    - dev\n+  always: true\n+name: $(date:yyyyMMdd)$(rev:.r)\n+resources:\n+  repositories:\n+  - repository: self\n+    type: git\n+    ref: dev\n+  - repository: common\n+    type: github\n+    name: AzureAD/microsoft-authentication-library-common-for-android\n+    ref: dev\n+    endpoint: ANDROID_GITHUB\n+jobs:\n+- job: Phase_1\n+  displayName: Phase 1\n+  cancelTimeoutInMinutes: 1\n+  pool:\n+    name: Hosted Windows 2019 with VS2019\n+  steps:\n+  - checkout: self\n+    clean: true\n+    submodules: recursive\n+    persistCredentials: True\n+  - template: azure-pipelines/templates/steps/credscan-policheck.yml@common\n+    parameters:\n+      policheckCmdLineArgsDir: adal\n+  - task: TSAUpload@1\n+    displayName: TSA Upload\n+    enabled: False\n+    inputs:\n+      tsaStamp: Azure\n+      codeBaseName: ADALAndroid\n+      notificationAlias: androididentity@microsoft.com\n+      codeBaseAdmins: REDMOND\\androididentity\n+      instanceUrlAzure: IDENTITYDIVISION\n+      projectNameIDENTITYDIVISION: IDDP\n+      areaPath: IDDP\\DevEx-Client-SDK\\Android\n+      iterationPath: IDDP\\FY19\\Q1\n+      uploadAPIScan: false\n+      uploadBinSkim: false\n+      uploadFortifySCA: false\n+      uploadFxCop: false\n+      uploadModernCop: false\n+      uploadPREfast: false\n+      uploadRoslyn: false\n+      uploadTSLint: false\n+  - template: azure-pipelines/templates/steps/automation-cert.yml@common\n+    parameters:\n+      envVstsMvnAt: ENV_VSTS_MVN_ANDROID_MSAL_ACCESSTOKEN\n+  - task: Gradle@2\n+    displayName: Snapshot version update\n+    inputs:\n+      tasks: versionSnapshot\n+      publishJUnitResults: false\n+  - task: Gradle@1\n+    name: Gradle1\n+    displayName: Assemble Snapshot\n+    inputs:\n+      tasks: clean msal:assembleSnapshot\n+      publishJUnitResults: false\n+      jdkArchitecture: x86\n+      sqAnalysisBreakBuildIfQualityGateFailed: false\n+  - task: Gradle@2\n+    displayName: Run Unit tests\n+    inputs:\n+      tasks: testSnapshotDebugUnitTest -Plabtest\n+  - task: Gradle@2\n+    displayName: Publish\n+    inputs:\n+      tasks: msal:publish\n+      publishJUnitResults: false\n+  - task: CopyFiles@2\n+    name: CopyFiles1\n+    displayName: Copy Files to Artifact Staging Directory\n+    inputs:\n+      SourceFolder: msal\\build\\\n+      TargetFolder: $(build.artifactstagingdirectory)\n+  - task: PublishPipelineArtifact@1\n+    name: PublishPipelineArtifact1\n+    displayName: 'Publish Artifact: Common Release'\n+    inputs:\n+      ArtifactName: CommonRelease\n+      TargetPath: '\\\\my\\share\\$(Build.DefinitionName)\\$(Build.BuildNumber)'\n+  - task: ComponentGovernanceComponentDetection@0\n+    displayName: Component Detection\n+..."
  },
  {
    "sha": "d66b96dfa342a305fba0e76c58849076e19e0630",
    "filename": "azure-pipelines/pull-request-validation/msal-pr-validation.yml",
    "status": "added",
    "additions": 71,
    "deletions": 0,
    "changes": 71,
    "blob_url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/blob/e67a714b0111314597c66a38319fd5454987c286/azure-pipelines/pull-request-validation/msal-pr-validation.yml",
    "raw_url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/raw/e67a714b0111314597c66a38319fd5454987c286/azure-pipelines/pull-request-validation/msal-pr-validation.yml",
    "contents_url": "https://api.github.com/repos/AzureAD/microsoft-authentication-library-for-android/contents/azure-pipelines/pull-request-validation/msal-pr-validation.yml?ref=e67a714b0111314597c66a38319fd5454987c286",
    "patch": "@@ -0,0 +1,71 @@\n+# 'Allow scripts to access the OAuth token' was selected in pipeline.  Add the following YAML to any steps requiring access:\n+#       env:\n+#           MY_ACCESS_TOKEN: $(System.AccessToken)\n+# Variable 'android:serverUrl' was defined in the Variables tab\n+# Variable 'ENV_VSTS_MVN_ANDROIDADACCOUNTS_USERNAME' was defined in the Variables tab\n+# Variable 'mvnAccessToken' was defined in the Variables tab\n+# Variable 'test_repo_branch' was defined in the Variables tab\n+# Variable 'test_repo_dir' was defined in the Variables tab\n+variables:\n+- name: BuildParameters.jdkVersion\n+  value: 1.8\n+- name: BuildParameters.jdkArchitecture\n+  value: x64\n+- name: BuildParameters.javaHomeSelection\n+  value: JDKVersion\n+trigger:\n+  branches:\n+    include:\n+    - dev\n+    - master\n+  batch: True\n+name: $(date:yyyyMMdd)$(rev:.r)\n+resources:\n+  repositories:\n+  - repository: self\n+    type: git\n+    ref: dev\n+  - repository: common\n+    type: github\n+    name: AzureAD/microsoft-authentication-library-common-for-android\n+    ref: dev\n+    endpoint: ANDROID_GITHUB\n+jobs:\n+- job: Phase_1\n+  displayName: Phase 1\n+  cancelTimeoutInMinutes: 1\n+  pool:\n+    name: Hosted Windows 2019 with VS2019\n+  steps:\n+  - checkout: self\n+    clean: true\n+    submodules: recursive\n+    persistCredentials: True\n+  - template: azure-pipelines/templates/steps/credscan-policheck.yml@common\n+    parameters:\n+      policheckCmdLineArgsDir: adal\n+  - template: azure-pipelines/templates/steps/automation-cert.yml@common\n+  - task: JavaToolInstaller@0\n+    displayName: Use Java 8\n+    inputs:\n+      jdkArchitectureOption: x64\n+      jdkSourceOption: PreInstalled\n+  - task: Gradle@2\n+    name: Gradle1\n+    displayName: Assemble Release\n+    inputs:\n+      tasks: clean msal:assembleLocal\n+      publishJUnitResults: false\n+      testResultsFiles: '**/build/test-results/TEST-*.xml'\n+      jdkVersion: $(BuildParameters.jdkVersion)\n+      jdkArchitecture: $(BuildParameters.jdkArchitecture)\n+      sqGradlePluginVersion: 2.0.1\n+  - task: Gradle@2\n+    displayName: Run Unit tests\n+    inputs:\n+      tasks: msal:testLocalDebugUnitTest -Plabtest -ProbolectricSdkVersion=28\n+      javaHomeSelection: $(BuildParameters.javaHomeSelection)\n+      jdkVersion: 1.11\n+  - task: ComponentGovernanceComponentDetection@0\n+    displayName: Component Detection\n+..."
  },
  {
    "sha": "5d63d8916531768825dc5e8f63a3edeac6961751",
    "filename": "azure-pipelines/server-slice-validations/msal-slice-validation.yml",
    "status": "added",
    "additions": 215,
    "deletions": 0,
    "changes": 215,
    "blob_url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/blob/e67a714b0111314597c66a38319fd5454987c286/azure-pipelines/server-slice-validations/msal-slice-validation.yml",
    "raw_url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/raw/e67a714b0111314597c66a38319fd5454987c286/azure-pipelines/server-slice-validations/msal-slice-validation.yml",
    "contents_url": "https://api.github.com/repos/AzureAD/microsoft-authentication-library-for-android/contents/azure-pipelines/server-slice-validations/msal-slice-validation.yml?ref=e67a714b0111314597c66a38319fd5454987c286",
    "patch": "@@ -0,0 +1,215 @@\n+# 'Allow scripts to access the OAuth token' was selected in pipeline.  Add the following YAML to any steps requiring access:\n+#       env:\n+#           MY_ACCESS_TOKEN: $(System.AccessToken)\n+# Variable 'android:serverUrl' was defined in the Variables tab\n+# Variable 'CONNECTOR_APP_ID' was defined in the Variables tab\n+# Variable 'CONNECTOR_APP_SECRET' was defined in the Variables tab\n+# Variable 'ENV_VSTS_MVN_ANDROIDADACCOUNTS_USERNAME' was defined in the Variables tab\n+# Variable 'mvnAccessToken' was defined in the Variables tab\n+# Variable 'slice' was defined in the Variables tab\n+# Variable 'su' was defined in the Variables tab\n+# Variable 'test_repo_branch' was defined in the Variables tab\n+# Variable 'test_repo_dir' was defined in the Variables tab\n+# Variable 'writeTestResultsToCsv' was defined in the Variables tab\n+name: $(date:yyyyMMdd)$(rev:.r)\n+resources:\n+  repositories:\n+  - repository: self\n+    type: git\n+    ref: master-test\n+  - repository: common\n+    type: github\n+    name: AzureAD/microsoft-authentication-library-common-for-android\n+    ref: dev\n+    endpoint: ANDROID_GITHUB\n+jobs:\n+- job: Phase_1\n+  displayName: Phase 1\n+  cancelTimeoutInMinutes: 1\n+  pool:\n+    name: Hosted Windows 2019 with VS2019\n+  steps:\n+  - checkout: self\n+    clean: true\n+    submodules: recursive\n+    persistCredentials: True\n+  - template: azure-pipelines/templates/steps/credscan-policheck.yml@common\n+    parameters:\n+      policheckCmdLineArgsDir: adal\n+  - template: azure-pipelines/templates/steps/automation-cert.yml@common\n+  - task: Gradle@1\n+    name: Gradle1\n+    displayName: Assemble Release\n+    inputs:\n+      tasks: clean msal:assembleLocal\n+      publishJUnitResults: false\n+      jdkArchitecture: x86\n+      sqAnalysisBreakBuildIfQualityGateFailed: false\n+  - task: Gradle@2\n+    displayName: Run Unit tests\n+    inputs:\n+      tasks: msal:testLocalDebugUnitTest --tests com.microsoft.identity.client.e2e.tests.network.* -Plabtest -Pslice=$(slice) -Pdc=$(su) -PwriteTestResultsToCsv=$(writeTestResultsToCsv) -PbuildId=$(Build.BuildNumber) -ProbolectricSdkVersion=28\n+  - task: CmdLine@2\n+    displayName: Install Kusto Ingest SDK\n+    condition: succeededOrFailed()\n+    inputs:\n+      script: pip install azure-kusto-ingest==1.0.3\n+  - task: PythonScript@0\n+    displayName: Upload Results\n+    condition: succeededOrFailed()\n+    inputs:\n+      scriptSource: inline\n+      script: >-\n+        # Copyright (c) Microsoft Corporation.\n+\n+        # Licensed under the MIT License\n+\n+        import io\n+\n+        import sys\n+\n+        import os\n+\n+        from pathlib import Path\n+\n+\n+        from azure.kusto.data import KustoConnectionStringBuilder\n+\n+        from azure.kusto.ingest import (\n+            KustoIngestClient,\n+            IngestionProperties,\n+            FileDescriptor,\n+            BlobDescriptor,\n+            StreamDescriptor,\n+            DataFormat,\n+            ReportLevel,\n+            IngestionMappingType,\n+            KustoStreamingIngestClient,\n+        )\n+\n+\n+        ##################################################################\n+\n+        ##                              AUTH                            ##\n+\n+        ##################################################################\n+\n+        cluster = \"https://ingest-estswus2.kusto.windows.net\"\n+\n+\n+        if (len(sys.argv) < 3):\n+             print(\"missing either client-id or client secret\")\n+             sys.exit(2)\n+\n+        # In case you want to authenticate with AAD application.\n+\n+        client_id = sys.argv[1]\n+\n+        client_secret = sys.argv[2]\n+\n+\n+        if not client_id:\n+             print(\"client-id not provided\")\n+             sys.exit(2)\n+\n+        if not client_secret:\n+             print(\"client-secret not provided\")\n+             sys.exit(2)\n+\n+        # read more at https://docs.microsoft.com/en-us/onedrive/find-your-office-365-tenant-id\n+\n+        authority_id = \"72f988bf-86f1-41af-91ab-2d7cd011db47\"\n+\n+\n+        kcsb = KustoConnectionStringBuilder.with_aad_application_key_authentication(cluster, client_id, client_secret, authority_id)\n+\n+\n+        # The authentication method will be taken from the chosen KustoConnectionStringBuilder.\n+\n+        client = KustoIngestClient(kcsb)\n+\n+\n+        ##################################################################\n+\n+        ##                        INGESTION                             ##\n+\n+        ##################################################################\n+\n+\n+        # there are a lot of useful properties, make sure to go over docs and check them out\n+\n+        ingestion_props = IngestionProperties(\n+            database=\"ESTS\",\n+            table=\"ClientTestTable\",\n+            data_format=DataFormat.CSV,\n+            # in case status update for success are also required\n+            report_level=ReportLevel.FailuresAndSuccesses,\n+            # in case a mapping is required\n+            ingestion_mapping_reference=\"AndroidMapping\",\n+            ingestion_mapping_type=IngestionMappingType.CSV,\n+            flush_immediately=True\n+        )\n+\n+\n+        # ingest from file\n+\n+        # file_descriptor = FileDescriptor(\"{filename}.csv\", 3333)  # 3333 is the raw size of the data in bytes.\n+\n+        # client.ingest_from_file(file_descriptor, ingestion_properties=ingestion_props)\n+\n+        path = str(Path.home())\n+\n+        filename = path + \"\\\\test-results.csv\"\n+\n+        client.ingest_from_file(filename, ingestion_properties=ingestion_props)\n+\n+\n+        ##################################################################\n+\n+        ##                        INGESTION STATUS                      ##\n+\n+        ##################################################################\n+\n+\n+        # if status updates are required, something like this can be done\n+\n+        import pprint\n+\n+        import time\n+\n+        from azure.kusto.ingest.status import KustoIngestStatusQueues\n+\n+\n+        qs = KustoIngestStatusQueues(client)\n+\n+\n+        MAX_BACKOFF = 180\n+\n+\n+        backoff = 1\n+\n+        while qs.success.is_empty() and qs.failure.is_empty():\n+             ################### NOTICE ####################\n+             # in order to get success status updates,\n+             # make sure ingestion properties set the\n+             # reportLevel=ReportLevel.FailuresAndSuccesses.\n+             time.sleep(backoff)\n+             backoff = min(backoff * 2, MAX_BACKOFF)\n+             print(\"No new messages. backing off for {} seconds\".format(backoff))\n+\n+\n+        success_messages = qs.success.pop(10)\n+\n+        failure_messages = qs.failure.pop(10)\n+\n+\n+        pprint.pprint(\"SUCCESS : {}\".format(success_messages))\n+\n+        pprint.pprint(\"FAILURE : {}\".format(failure_messages))\n+\n+\n+        os.remove(filename)\n+      arguments: $(CONNECTOR_APP_ID) $(CONNECTOR_APP_SECRET)\n+  - task: ComponentGovernanceComponentDetection@0\n+    displayName: Component Detection\n+..."
  },
  {
    "sha": "5b7d3c9b6e264443f02198b482dd6d55d5bf021a",
    "filename": "azure-pipelines/testapps/msal-test-app.yml",
    "status": "added",
    "additions": 93,
    "deletions": 0,
    "changes": 93,
    "blob_url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/blob/e67a714b0111314597c66a38319fd5454987c286/azure-pipelines/testapps/msal-test-app.yml",
    "raw_url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/raw/e67a714b0111314597c66a38319fd5454987c286/azure-pipelines/testapps/msal-test-app.yml",
    "contents_url": "https://api.github.com/repos/AzureAD/microsoft-authentication-library-for-android/contents/azure-pipelines/testapps/msal-test-app.yml?ref=e67a714b0111314597c66a38319fd5454987c286",
    "patch": "@@ -0,0 +1,93 @@\n+# 'Allow scripts to access the OAuth token' was selected in pipeline.  Add the following YAML to any steps requiring access:\n+#       env:\n+#           MY_ACCESS_TOKEN: $(System.AccessToken)\n+# Variable 'android:serverUrl' was defined in the Variables tab\n+# Variable 'build_type' was defined in the Variables tab\n+# Variable 'distMsalVersion' was defined in the Variables tab\n+# Variable 'ENV_VSTS_MVN_ANDROID_MSAL_USERNAME' was defined in the Variables tab\n+# Variable 'msal_flavor' was defined in the Variables tab\n+# Variable 'mvnAccessToken' was defined in the Variables tab\n+# Variable 'test_repo_branch' was defined in the Variables tab\n+# Variable 'test_repo_dir' was defined in the Variables tab\n+# Cron Schedules have been converted using UTC Time Zone and may need to be updated for your location\n+schedules:\n+- cron: 0 0 * * 1,2,3,4,5\n+  branches:\n+    include:\n+    - dev\n+name: $(date:yyyyMMdd)$(rev:.r)\n+resources:\n+  repositories:\n+  - repository: self\n+    type: git\n+    ref: dev\n+  - repository: common\n+    type: github\n+    name: AzureAD/microsoft-authentication-library-common-for-android\n+    ref: dev\n+    endpoint: ANDROID_GITHUB\n+jobs:\n+- job: Phase_1\n+  displayName: Phase 1\n+  cancelTimeoutInMinutes: 1\n+  pool:\n+    name: Hosted Windows 2019 with VS2019\n+  steps:\n+  - checkout: self\n+    clean: true\n+    submodules: recursive\n+    persistCredentials: True\n+  - template: azure-pipelines/templates/steps/credscan-policheck.yml@common\n+    parameters:\n+      policheckCmdLineArgsDir: adal\n+  - task: PowerShell@2\n+    displayName: Lowercase build variant\n+    inputs:\n+      targetType: inline\n+      script: >-\n+        $buildType = \"$(build_type)\".ToLower()\n+\n+        $msalFlavor= \"$(msal_flavor)\".ToLower()\n+\n+        Write-Host \"##vso[task.setvariable variable=BuildType;]$buildType\"\n+\n+        Write-Host \"##vso[task.setvariable variable=MsalFlavor;]$msalFlavor\"\n+  - task: PowerShell@2\n+    displayName: Generate Assemble Task Name for build MSAL Test App\n+    inputs:\n+      targetType: inline\n+      script: >-\n+        $TextInfo = (Get-Culture).TextInfo\n+\n+        $BuildType = $TextInfo.ToTitleCase(\"$(buildType)\")\n+\n+        $MsalFlavor = $TextInfo.ToTitleCase(\"$(msalFlavor)\")\n+\n+        $assembleTask = \"assemble\" + $MsalFlavor + $BuildType\n+\n+\n+        if ((\"$(distMsalVersion)\" -ne \"\")) {\n+            $assembleTask = $assembleTask + \" -PdistMsalVersion=\" + \"$(distMsalVersion)\"\n+        }\n+\n+\n+        Write-Host \"##vso[task.setvariable variable=AssembleTask;]$assembleTask\"\n+  - template: azure-pipelines/templates/steps/automation-cert.yml@common\n+    parameters:\n+      envVstsMvnAt: ENV_VSTS_MVN_ANDROID_MSAL_USERNAME\n+  - task: Gradle@1\n+    name: Gradle1\n+    displayName: Assemble MSAL Test App\n+    inputs:\n+      tasks: testapps:testapp:clean testapps:testapp:$(AssembleTask)\n+      publishJUnitResults: false\n+      jdkArchitecture: x86\n+      sqAnalysisBreakBuildIfQualityGateFailed: false\n+  - task: PublishPipelineArtifact@1\n+    displayName: Publish MSAL Test App APK\n+    inputs:\n+      PathtoPublish: $(Build.SourcesDirectory)/testapps/testapp/build/outputs/apk/$(msalFlavor)/$(buildType)/testapp-$(msalFlavor)-$(buildType).apk\n+      ArtifactName: MsalTestApp\n+  - task: ComponentGovernanceComponentDetection@0\n+    displayName: Component Detection\n+..."
  },
  {
    "sha": "80679d56bd5635b1186d7292a360257f67169e2a",
    "filename": "azure-pipelines/ui-automations/android-msal-firebase-code-coverage-experiment.yml",
    "status": "added",
    "additions": 105,
    "deletions": 0,
    "changes": 105,
    "blob_url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/blob/e67a714b0111314597c66a38319fd5454987c286/azure-pipelines/ui-automations/android-msal-firebase-code-coverage-experiment.yml",
    "raw_url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/raw/e67a714b0111314597c66a38319fd5454987c286/azure-pipelines/ui-automations/android-msal-firebase-code-coverage-experiment.yml",
    "contents_url": "https://api.github.com/repos/AzureAD/microsoft-authentication-library-for-android/contents/azure-pipelines/ui-automations/android-msal-firebase-code-coverage-experiment.yml?ref=e67a714b0111314597c66a38319fd5454987c286",
    "patch": "@@ -0,0 +1,105 @@\n+# 'Allow scripts to access the OAuth token' was selected in pipeline.  Add the following YAML to any steps requiring access:\n+#       env:\n+#           MY_ACCESS_TOKEN: $(System.AccessToken)\n+# Variable 'android:serverUrl' was defined in the Variables tab\n+# Variable 'ENV_VSTS_MVN_ANDROIDADACCOUNTS_USERNAME' was defined in the Variables tab\n+# Variable 'gcloud_project_id' was defined in the Variables tab\n+# Variable 'mvnAccessToken' was defined in the Variables tab\n+# Variable 'test_repo_branch' was defined in the Variables tab\n+# Variable 'test_repo_dir' was defined in the Variables tab\n+name: $(date:yyyyMMdd)$(rev:.r)\n+resources:\n+  repositories:\n+  - repository: self\n+    type: git\n+    ref: dev\n+  - repository: common\n+    type: github\n+    name: AzureAD/microsoft-authentication-library-common-for-android\n+    ref: dev\n+    endpoint: ANDROID_GITHUB\n+jobs:\n+- job: Phase_1\n+  displayName: Phase 1\n+  cancelTimeoutInMinutes: 1\n+  pool:\n+    name: Hosted Windows 2019 with VS2019\n+  steps:\n+  - checkout: self\n+    clean: true\n+    submodules: recursive\n+    persistCredentials: True\n+  - template: azure-pipelines/templates/steps/credscan-policheck.yml@common\n+    parameters:\n+      policheckCmdLineArgsDir: adal\n+  - task: DownloadPipelineArtifact@2\n+    displayName: Download Broker Host APK\n+    inputs:\n+      buildType: specific\n+      project: a7934fdd-dcde-4492-a406-7fad6ac00e17\n+      definition: 1195\n+      buildVersionToDownload: latestFromBranch\n+      branchName: refs/heads/dev\n+      artifactName: BrokerHostDebug\n+  - task: DownloadSecureFile@1\n+    name: azureSampleApk\n+    displayName: Download Azure Sample Debug APK\n+    inputs:\n+      secureFile: 960465ec-c668-4926-a723-32c6c952d643\n+      retryCount: 5\n+  - template: azure-pipelines/templates/steps/ui-automation/gcloud.yml@common\n+  - task: Gradle@1\n+    name: Gradle1\n+    displayName: Assemble MSAL Automation App\n+    inputs:\n+      tasks: clean msalautomationapp:assembleLocalBrokerHost -PlabSecret=$(AndroidAutomationRunnerAppSecret) -PpreferPreInstalledApks\n+      publishJUnitResults: false\n+      jdkArchitecture: x86\n+      sqAnalysisBreakBuildIfQualityGateFailed: false\n+  - task: Gradle@1\n+    displayName: Assemble MSAL Automation App Instrumented Tests\n+    inputs:\n+      tasks: msalautomationapp:assembleLocalBrokerHostDebugAndroidTest -PlabSecret=$(AndroidAutomationRunnerAppSecret) -PpreferPreInstalledApks\n+      publishJUnitResults: false\n+      jdkArchitecture: x86\n+      sqAnalysisBreakBuildIfQualityGateFailed: false\n+  - task: PowerShell@2\n+    displayName: Run UI Automation on Firebase\n+    inputs:\n+      targetType: inline\n+      script: >-\n+        $baseApkPath = \"$(Build.SourcesDirectory)\\msalautomationapp\\build\\outputs\\apk\"\n+\n+        $appApk = \"$baseApkPath\\localBrokerHost\\debug\\msalautomationapp-local-BrokerHost-debug.apk\"\n+\n+        $testApk = \"$baseApkPath\\androidTest\\localBrokerHost\\debug\\msalautomationapp-local-BrokerHost-debug-androidTest.apk\"\n+\n+        $brokerHostApk = \"$(System.ArtifactsDirectory)\\BrokerHostDebug\\brokerHost-local-debug.apk\"\n+\n+        $azureSampleApk = \"$(azureSampleApk.secureFilePath)\"\n+\n+        $appApk\n+\n+        $testApk\n+\n+        $brokerHostApk\n+\n+        $azureSampleApk\n+\n+        gcloud firebase test android run --type instrumentation --app $appApk --test $testApk --device model=flame,version=29 --timeout 45m --additional-apks $brokerHostApk,$azureSampleApk --results-dir msal-BrokerHost-$(Build.BuildId)-$(Build.BuildNumber) --directories-to-pull \"/sdcard\" --environment-variables clearPackageData=true,coverage=true,coverageFilePath=/sdcard/ --use-orchestrator\n+  - task: PowerShell@2\n+    displayName: Download Test Result File\n+    condition: succeededOrFailed()\n+    inputs:\n+      targetType: inline\n+      script: gsutil cp gs://test-lab-ffz6x9pu2y62a-is0rq7a7rwdhi/msal-BrokerHost-$(Build.BuildId)-$(Build.BuildNumber)/flame-29-en-portrait/test_result_1.xml $(Build.SourcesDirectory)\n+  - task: PublishTestResults@2\n+    displayName: Publish Test Results to ADO\n+    condition: succeededOrFailed()\n+    inputs:\n+      testResultsFiles: '*test_result*.xml'\n+      searchFolder: $(Build.SourcesDirectory)\n+      testRunTitle: 'MSAL UI Automation - Build # $(Build.BuildNumber)'\n+  - task: ComponentGovernanceComponentDetection@0\n+    displayName: Component Detection\n+..."
  },
  {
    "sha": "ab72a13c8dbe6932f8e00769beb40a59f1c71285",
    "filename": "azure-pipelines/ui-automations/assemble-msal-automation-app-(broker-host-flavor).yml",
    "status": "added",
    "additions": 50,
    "deletions": 0,
    "changes": 50,
    "blob_url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/blob/e67a714b0111314597c66a38319fd5454987c286/azure-pipelines/ui-automations/assemble-msal-automation-app-(broker-host-flavor).yml",
    "raw_url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/raw/e67a714b0111314597c66a38319fd5454987c286/azure-pipelines/ui-automations/assemble-msal-automation-app-(broker-host-flavor).yml",
    "contents_url": "https://api.github.com/repos/AzureAD/microsoft-authentication-library-for-android/contents/azure-pipelines/ui-automations/assemble-msal-automation-app-(broker-host-flavor).yml?ref=e67a714b0111314597c66a38319fd5454987c286",
    "patch": "@@ -0,0 +1,50 @@\n+# 'Allow scripts to access the OAuth token' was selected in pipeline.  Add the following YAML to any steps requiring access:\n+#       env:\n+#           MY_ACCESS_TOKEN: $(System.AccessToken)\n+# Variable 'android:serverUrl' was defined in the Variables tab\n+# Variable 'ENV_VSTS_MVN_ANDROIDADACCOUNTS_USERNAME' was defined in the Variables tab\n+# Variable 'gcloud_project_id' was defined in the Variables tab\n+# Variable 'mvnAccessToken' was defined in the Variables tab\n+# Variable 'test_repo_branch' was defined in the Variables tab\n+# Variable 'test_repo_dir' was defined in the Variables tab\n+name: $(date:yyyyMMdd)$(rev:.r)\n+resources:\n+  repositories:\n+  - repository: self\n+    type: git\n+    ref: dev\n+  - repository: common\n+    type: github\n+    name: AzureAD/microsoft-authentication-library-common-for-android\n+    ref: dev\n+    endpoint: ANDROID_GITHUB\n+jobs:\n+- job: Phase_1\n+  displayName: Phase 1\n+  cancelTimeoutInMinutes: 1\n+  pool:\n+    name: Hosted Windows 2019 with VS2019\n+  steps:\n+  - checkout: self\n+    clean: true\n+    submodules: recursive\n+    persistCredentials: True\n+  - template: azure-pipelines/templates/steps/credscan-policheck.yml@common\n+    parameters:\n+      policheckCmdLineArgsDir: adal\n+  - task: Gradle@1\n+    name: Gradle1\n+    displayName: Assemble MSAL Automation App\n+    inputs:\n+      tasks: clean msalautomationapp:assembleLocalBrokerHost\n+      publishJUnitResults: false\n+      jdkArchitecture: x86\n+      sqAnalysisBreakBuildIfQualityGateFailed: false\n+  - task: PublishPipelineArtifact@1\n+    displayName: Publish MSAL Automation App\n+    inputs:\n+      PathtoPublish: $(Build.SourcesDirectory)/msalautomationapp/build/outputs/apk/localBrokerHost/debug/msalautomationapp-local-BrokerHost-debug.apk\n+      ArtifactName: MsalAutomationAppBrokerHostLocalDebug\n+  - task: ComponentGovernanceComponentDetection@0\n+    displayName: Component Detection\n+..."
  },
  {
    "sha": "d4e384cafcda9e2402bb00e4a09ecded6066691e",
    "filename": "azure-pipelines/ui-automations/experimental-msal-ui-automation.yml",
    "status": "added",
    "additions": 113,
    "deletions": 0,
    "changes": 113,
    "blob_url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/blob/e67a714b0111314597c66a38319fd5454987c286/azure-pipelines/ui-automations/experimental-msal-ui-automation.yml",
    "raw_url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/raw/e67a714b0111314597c66a38319fd5454987c286/azure-pipelines/ui-automations/experimental-msal-ui-automation.yml",
    "contents_url": "https://api.github.com/repos/AzureAD/microsoft-authentication-library-for-android/contents/azure-pipelines/ui-automations/experimental-msal-ui-automation.yml?ref=e67a714b0111314597c66a38319fd5454987c286",
    "patch": "@@ -0,0 +1,113 @@\n+# 'Allow scripts to access the OAuth token' was selected in pipeline.  Add the following YAML to any steps requiring access:\n+#       env:\n+#           MY_ACCESS_TOKEN: $(System.AccessToken)\n+# Variable 'android:serverUrl' was defined in the Variables tab\n+# Variable 'ENV_VSTS_MVN_ANDROIDADACCOUNTS_USERNAME' was defined in the Variables tab\n+# Variable 'gcloud_project_id' was defined in the Variables tab\n+# Variable 'mvnAccessToken' was defined in the Variables tab\n+# Variable 'test_repo_branch' was defined in the Variables tab\n+# Variable 'test_repo_dir' was defined in the Variables tab\n+name: $(date:yyyyMMdd)$(rev:.r)\n+resources:\n+  repositories:\n+  - repository: self\n+    type: git\n+    ref: dev\n+  - repository: common\n+    type: github\n+    name: AzureAD/microsoft-authentication-library-common-for-android\n+    ref: dev\n+    endpoint: ANDROID_GITHUB\n+jobs:\n+- job: Phase_1\n+  displayName: Phase 1\n+  cancelTimeoutInMinutes: 1\n+  pool:\n+    name: Hosted Windows 2019 with VS2019\n+  steps:\n+  - checkout: self\n+    clean: true\n+    submodules: recursive\n+    persistCredentials: True\n+  - template: azure-pipelines/templates/steps/credscan-policheck.yml@common\n+    parameters:\n+      policheckCmdLineArgsDir: adal\n+  - task: DownloadPipelineArtifact@2\n+    displayName: Download Broker Host APK\n+    inputs:\n+      buildType: specific\n+      project: a7934fdd-dcde-4492-a406-7fad6ac00e17\n+      definition: 1195\n+      buildVersionToDownload: latestFromBranch\n+      branchName: refs/heads/dev\n+      artifactName: BrokerHostDebug\n+  - task: DownloadSecureFile@1\n+    name: azureSampleApk\n+    displayName: Download Azure Sample Debug APK\n+    enabled: False\n+    inputs:\n+      secureFile: 960465ec-c668-4926-a723-32c6c952d643\n+      retryCount: 5\n+  - task: DownloadPipelineArtifact@2\n+    displayName: Download Azure Sample Local Debug\n+    inputs:\n+      buildType: specific\n+      project: a7934fdd-dcde-4492-a406-7fad6ac00e17\n+      definition: 1279\n+      artifactName: AzureSampleLocalDebug\n+  - template: azure-pipelines/templates/steps/ui-automation/gcloud.yml@common\n+  - task: Gradle@1\n+    name: Gradle1\n+    displayName: Assemble MSAL Automation App\n+    inputs:\n+      tasks: clean msalautomationapp:assembleLocalBrokerHost -PlabSecret=$(AndroidAutomationRunnerAppSecret)\n+      publishJUnitResults: false\n+      jdkArchitecture: x86\n+      sqAnalysisBreakBuildIfQualityGateFailed: false\n+  - task: Gradle@1\n+    displayName: Assemble MSAL Automation App Instrumented Tests\n+    inputs:\n+      tasks: msalautomationapp:assembleLocalBrokerHostDebugAndroidTest -PlabSecret=$(AndroidAutomationRunnerAppSecret)\n+      publishJUnitResults: false\n+      jdkArchitecture: x86\n+      sqAnalysisBreakBuildIfQualityGateFailed: false\n+  - task: PowerShell@2\n+    displayName: Run UI Automation on Firebase\n+    inputs:\n+      targetType: inline\n+      script: >-\n+        $baseApkPath = \"$(Build.SourcesDirectory)\\msalautomationapp\\build\\outputs\\apk\"\n+\n+        $appApk = \"$baseApkPath\\localBrokerHost\\debug\\msalautomationapp-local-BrokerHost-debug.apk\"\n+\n+        $testApk = \"$baseApkPath\\androidTest\\localBrokerHost\\debug\\msalautomationapp-local-BrokerHost-debug-androidTest.apk\"\n+\n+        $brokerHostApk = \"$(System.ArtifactsDirectory)\\BrokerHostDebug\\brokerHost-local-debug.apk\"\n+\n+        $azureSampleApk = \"$(System.ArtifactsDirectory)\\AzureSampleLocalDebug\\AzureSample-local-debug.apk\"\n+\n+        $appApk\n+\n+        $testApk\n+\n+        $brokerHostApk\n+\n+        $azureSampleApk\n+\n+        gcloud firebase test android run --type instrumentation --app $appApk --test $testApk --device model=flame,version=29 --timeout 45m --additional-apks $brokerHostApk,$azureSampleApk --results-dir msal-BrokerHost-$(Build.BuildId)-$(Build.BuildNumber) --directories-to-pull \"/sdcard\" --use-orchestrator --environment-variables clearPackageData=true,prefer_pre_installed_apks=true --results-history-name \"MSAL dev w/ dev BrokerHost\" --test-runner-class \"com.microsoft.identity.client.ui.automation.runner.IdentityTestRunner\"\n+  - task: PowerShell@2\n+    displayName: Download Test Result File\n+    condition: succeededOrFailed()\n+    inputs:\n+      targetType: inline\n+      script: gsutil cp gs://test-lab-ffz6x9pu2y62a-is0rq7a7rwdhi/msal-BrokerHost-$(Build.BuildId)-$(Build.BuildNumber)/flame-29-en-portrait/test_result_1.xml $(Build.SourcesDirectory)\n+  - task: PublishTestResults@2\n+    displayName: Publish Test Results to ADO\n+    condition: succeededOrFailed()\n+    inputs:\n+      testResultsFiles: '*test_result*.xml'\n+      searchFolder: $(Build.SourcesDirectory)\n+      testRunTitle: 'MSAL UI Automation - Build # $(Build.BuildNumber)'\n+  - task: ComponentGovernanceComponentDetection@0\n+    displayName: Component Detection\n+..."
  },
  {
    "sha": "a93a8e9bdeb679ed050d13f151f634edcdeec34d",
    "filename": "azure-pipelines/ui-automations/msal-broker-ui-automation-against-authenticator-(prod).yml",
    "status": "added",
    "additions": 94,
    "deletions": 0,
    "changes": 94,
    "blob_url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/blob/e67a714b0111314597c66a38319fd5454987c286/azure-pipelines/ui-automations/msal-broker-ui-automation-against-authenticator-(prod).yml",
    "raw_url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/raw/e67a714b0111314597c66a38319fd5454987c286/azure-pipelines/ui-automations/msal-broker-ui-automation-against-authenticator-(prod).yml",
    "contents_url": "https://api.github.com/repos/AzureAD/microsoft-authentication-library-for-android/contents/azure-pipelines/ui-automations/msal-broker-ui-automation-against-authenticator-(prod).yml?ref=e67a714b0111314597c66a38319fd5454987c286",
    "patch": "@@ -0,0 +1,94 @@\n+# 'Allow scripts to access the OAuth token' was selected in pipeline.  Add the following YAML to any steps requiring access:\n+#       env:\n+#           MY_ACCESS_TOKEN: $(System.AccessToken)\n+# Variable 'android:serverUrl' was defined in the Variables tab\n+# Variable 'ENV_VSTS_MVN_ANDROIDADACCOUNTS_USERNAME' was defined in the Variables tab\n+# Variable 'gcloud_project_id' was defined in the Variables tab\n+# Variable 'msal_version' was defined in the Variables tab\n+# Variable 'mvnAccessToken' was defined in the Variables tab\n+# Variable 'test_repo_branch' was defined in the Variables tab\n+# Variable 'test_repo_dir' was defined in the Variables tab\n+name: $(date:yyyyMMdd)$(rev:.r)\n+resources:\n+  repositories:\n+  - repository: self\n+    type: git\n+    ref: shahzaibj/pinFixTest\n+  - repository: common\n+    type: github\n+    name: AzureAD/microsoft-authentication-library-common-for-android\n+    ref: dev\n+    endpoint: ANDROID_GITHUB\n+jobs:\n+- job: Phase_1\n+  displayName: Phase 1\n+  cancelTimeoutInMinutes: 1\n+  pool:\n+    name: Hosted Windows 2019 with VS2019\n+  steps:\n+  - checkout: self\n+    clean: true\n+    submodules: recursive\n+    persistCredentials: True\n+  - template: azure-pipelines/templates/steps/credscan-policheck.yml@common\n+    parameters:\n+      policheckCmdLineArgsDir: adal\n+  - task: DownloadPipelineArtifact@2\n+    displayName: Download Azure Sample\n+    inputs:\n+      buildType: specific\n+      project: a7934fdd-dcde-4492-a406-7fad6ac00e17\n+      definition: 1278\n+      artifactName: AzureSampleExternalRelease\n+  - template: azure-pipelines/templates/steps/ui-automation/gcloud.yml@common\n+  - task: Gradle@1\n+    name: Gradle1\n+    displayName: Assemble MSAL Automation App\n+    inputs:\n+      tasks: clean msalautomationapp:assembleDistBrokerMicrosoftAuthenticatorDebug -PlabSecret=$(AndroidAutomationRunnerAppSecret) -PpreferPreInstalledApks -PbrokerSource=PlayStore\n+      publishJUnitResults: false\n+      jdkArchitecture: x86\n+      sqAnalysisBreakBuildIfQualityGateFailed: false\n+  - task: Gradle@1\n+    displayName: Assemble MSAL Automation App Instrumented Tests\n+    inputs:\n+      tasks: msalautomationapp:assembleDistBrokerMicrosoftAuthenticatorDebugAndroidTest -PlabSecret=$(AndroidAutomationRunnerAppSecret) -PpreferPreInstalledApks -PbrokerSource=PlayStore\n+      publishJUnitResults: false\n+      jdkArchitecture: x86\n+      sqAnalysisBreakBuildIfQualityGateFailed: false\n+  - task: PowerShell@2\n+    displayName: Run UI Automation on Firebase\n+    inputs:\n+      targetType: inline\n+      script: >-\n+        $baseApkPath = \"$(Build.SourcesDirectory)\\msalautomationapp\\build\\outputs\\apk\"\n+\n+        $appApk = \"$baseApkPath\\distBrokerMicrosoftAuthenticator\\debug\\msalautomationapp-dist-BrokerMicrosoftAuthenticator-debug.apk\"\n+\n+        $testApk = \"$baseApkPath\\androidTest\\distBrokerMicrosoftAuthenticator\\debug\\msalautomationapp-dist-BrokerMicrosoftAuthenticator-debug-androidTest.apk\"\n+\n+        $azureSampleApk = \"$(System.ArtifactsDirectory)\\AzureSampleExternalRelease\\app-external-release.apk\"\n+\n+        $appApk\n+\n+        $testApk\n+\n+        $azureSampleApk\n+\n+        gcloud firebase test android run --type instrumentation --app $appApk --test $testApk --device model=flame,version=29 --timeout 45m --additional-apks $azureSampleApk --results-dir msal-CP-$(Build.BuildId)-$(Build.BuildNumber) --directories-to-pull \"/sdcard\" --use-orchestrator --test-targets \"package com.microsoft.identity.client.msal.automationapp.testpass.broker\"\n+  - task: PowerShell@2\n+    displayName: Download Test Result File\n+    condition: succeededOrFailed()\n+    inputs:\n+      targetType: inline\n+      script: gsutil cp gs://test-lab-ffz6x9pu2y62a-is0rq7a7rwdhi/msal-CP-$(Build.BuildId)-$(Build.BuildNumber)/flame-29-en-portrait/test_result_1.xml $(Build.SourcesDirectory)\n+  - task: PublishTestResults@2\n+    displayName: Publish Test Results to ADO\n+    condition: succeededOrFailed()\n+    inputs:\n+      testResultsFiles: '*test_result*.xml'\n+      searchFolder: $(Build.SourcesDirectory)\n+      testRunTitle: 'MSAL UI Automation - Build # $(Build.BuildNumber)'\n+  - task: ComponentGovernanceComponentDetection@0\n+    displayName: Component Detection\n+..."
  },
  {
    "sha": "e2fcfe6d92b3da1251b2017a82aa196051154f64",
    "filename": "azure-pipelines/ui-automations/msal-perf-test-(broker-host).yml",
    "status": "added",
    "additions": 285,
    "deletions": 0,
    "changes": 285,
    "blob_url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/blob/e67a714b0111314597c66a38319fd5454987c286/azure-pipelines/ui-automations/msal-perf-test-(broker-host).yml",
    "raw_url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/raw/e67a714b0111314597c66a38319fd5454987c286/azure-pipelines/ui-automations/msal-perf-test-(broker-host).yml",
    "contents_url": "https://api.github.com/repos/AzureAD/microsoft-authentication-library-for-android/contents/azure-pipelines/ui-automations/msal-perf-test-(broker-host).yml?ref=e67a714b0111314597c66a38319fd5454987c286",
    "patch": "@@ -0,0 +1,285 @@\n+# 'Allow scripts to access the OAuth token' was selected in pipeline.  Add the following YAML to any steps requiring access:\n+#       env:\n+#           MY_ACCESS_TOKEN: $(System.AccessToken)\n+# Variable 'android:serverUrl' was defined in the Variables tab\n+# Variable 'baseBuildID' was defined in the Variables tab\n+# Variable 'ENV_VSTS_MVN_ANDROIDADACCOUNTS_USERNAME' was defined in the Variables tab\n+# Variable 'gcloud_project_id' was defined in the Variables tab\n+# Variable 'mvnAccessToken' was defined in the Variables tab\n+# Variable 'test_repo_branch' was defined in the Variables tab\n+# Variable 'test_repo_dir' was defined in the Variables tab\n+# Variable 'testAPI' was defined in the Variables tab\n+# Variable 'testDevice' was defined in the Variables tab\n+# Cron Schedules have been converted using UTC Time Zone and may need to be updated for your location\n+schedules:\n+- cron: 0 5 * * 1,2,3,4,5\n+  branches:\n+    include:\n+    - neagarw/perfAcquireTokenTest\n+name: $(date:yyyyMMdd)$(rev:.r)\n+resources:\n+  repositories:\n+  - repository: self\n+    type: git\n+    ref: neagarw/perfAcquireTokenTest\n+  - repository: common\n+    type: github\n+    name: AzureAD/microsoft-authentication-library-common-for-android\n+    ref: dev\n+    endpoint: ANDROID_GITHUB\n+jobs:\n+- job: Phase_1\n+  displayName: Phase 1\n+  cancelTimeoutInMinutes: 1\n+  pool:\n+    name: Hosted Windows 2019 with VS2019\n+  steps:\n+  - checkout: self\n+    clean: true\n+    submodules: recursive\n+    persistCredentials: True\n+  - task: DownloadSecureFile@1\n+    name: perfRunnable\n+    displayName: Download Perf runnable package\n+    inputs:\n+      secureFile: efe578d6-dec4-4d9f-a2ee-717d41848362\n+      retryCount: 5\n+  - task: PowerShell@2\n+    displayName: create basefiles directory for baseline run\n+    condition: succeededOrFailed()\n+    inputs:\n+      targetType: inline\n+      script: >-\n+        md $(Build.SourcesDirectory)\\basefiles\n+\n+\n+        dir $(Build.SourcesDirectory)\\\n+  - task: PowerShell@2\n+    displayName: create basefiles directory for latest run\n+    condition: succeededOrFailed()\n+    continueOnError: True\n+    inputs:\n+      targetType: inline\n+      script: >-\n+        md $(Build.SourcesDirectory)\\basefiles2\n+\n+\n+        dir $(Build.SourcesDirectory)\\\n+  - task: DownloadSecureFile@1\n+    name: perfBase\n+    displayName: Download Perf Base files from secure files\n+    enabled: False\n+    inputs:\n+      secureFile: fadb6db9-d63d-4ee1-9f40-e2a22bf5cb71\n+      retryCount: 5\n+  - task: DownloadPipelineArtifact@2\n+    displayName: Download Base files from baseline run\n+    inputs:\n+      source: specific\n+      project: a7934fdd-dcde-4492-a406-7fad6ac00e17\n+      pipeline: 1254\n+      runVersion: specific\n+      runId: $(baseBuildID)\n+      artifact: Perf\n+      patterns: targetfiles/PerfData*.txt\n+      path: $(Build.SourcesDirectory)\\basefiles\n+  - task: DownloadPipelineArtifact@2\n+    name: latestRun\n+    displayName: Download Base file(s) from latest run\n+    condition: succeededOrFailed()\n+    inputs:\n+      source: specific\n+      project: a7934fdd-dcde-4492-a406-7fad6ac00e17\n+      pipeline: 1254\n+      runId: $(baseBuildID)\n+      allowPartiallySucceededBuilds: true\n+      allowFailedBuilds: true\n+      artifact: Perf\n+      patterns: targetfiles/PerfData*.txt\n+      path: $(Build.SourcesDirectory)\\basefiles2\n+  - task: PowerShell@2\n+    displayName: Move base files of baseline run\n+    condition: succeededOrFailed()\n+    inputs:\n+      targetType: inline\n+      script: >-\n+        mv $(Build.SourcesDirectory)\\basefiles\\targetfiles\\*.* $(Build.SourcesDirectory)\\basefiles\\\n+\n+\n+        rd $(Build.SourcesDirectory)\\basefiles\\targetfiles\\\n+  - task: PowerShell@2\n+    displayName: DIR\n+    condition: succeededOrFailed()\n+    inputs:\n+      targetType: inline\n+      script: >-\n+        pwd\n+\n+\n+\n+        dir $(Build.SourcesDirectory)\\basefiles\\\n+  - task: unzip@0\n+    displayName: UnZip Perf runnables\n+    inputs:\n+      pathToZipFile: $(perfRunnable.secureFilePath)\n+      pathToZipFolder: $(Build.SourcesDirectory)\n+  - task: unzip@0\n+    displayName: UnZip Perf base files from secure files\n+    enabled: False\n+    inputs:\n+      pathToZipFile: $(perfBase.secureFilePath)\n+      pathToZipFolder: $(Build.SourcesDirectory)\\basefiles\n+  - template: azure-pipelines/templates/steps/credscan-policheck.yml@common\n+    parameters:\n+      policheckCmdLineArgsDir: adal\n+  - task: DownloadPipelineArtifact@2\n+    displayName: Download Broker Host APK\n+    inputs:\n+      buildType: specific\n+      project: a7934fdd-dcde-4492-a406-7fad6ac00e17\n+      definition: 1195\n+      buildVersionToDownload: latestFromBranch\n+      branchName: refs/heads/dev\n+      buildId: 646500\n+      artifactName: BrokerHostDebug\n+  - task: DownloadSecureFile@1\n+    name: azureSampleApk\n+    displayName: Download Azure Sample Debug APK\n+    inputs:\n+      secureFile: 960465ec-c668-4926-a723-32c6c952d643\n+      retryCount: 5\n+  - template: azure-pipelines/templates/steps/ui-automation/gcloud.yml@common\n+  - task: Gradle@1\n+    name: Gradle1\n+    displayName: Assemble MSAL Automation App\n+    inputs:\n+      tasks: clean msalautomationapp:assembleLocalBrokerHost -PlabSecret=$(AndroidAutomationRunnerAppSecret) -PpreferPreInstalledApks\n+      publishJUnitResults: false\n+      jdkArchitecture: x86\n+      sqAnalysisBreakBuildIfQualityGateFailed: false\n+  - task: Gradle@1\n+    displayName: Assemble MSAL Automation App Instrumented Tests\n+    inputs:\n+      tasks: msalautomationapp:assembleLocalBrokerHostDebugAndroidTest -PlabSecret=$(AndroidAutomationRunnerAppSecret) -PpreferPreInstalledApks\n+      publishJUnitResults: false\n+      jdkArchitecture: x86\n+      sqAnalysisBreakBuildIfQualityGateFailed: false\n+  - task: PowerShell@2\n+    displayName: Run UI Automation on Firebase\n+    inputs:\n+      targetType: inline\n+      script: >-\n+        $baseApkPath = \"$(Build.SourcesDirectory)\\msalautomationapp\\build\\outputs\\apk\"\n+\n+        $appApk = \"$baseApkPath\\localBrokerHost\\debug\\msalautomationapp-local-BrokerHost-debug.apk\"\n+\n+        $testApk = \"$baseApkPath\\androidTest\\localBrokerHost\\debug\\msalautomationapp-local-BrokerHost-debug-androidTest.apk\"\n+\n+        $brokerHostApk = \"$(System.ArtifactsDirectory)\\BrokerHostDebug\\brokerHost-local-debug.apk\"\n+\n+        $azureSampleApk = \"$(azureSampleApk.secureFilePath)\"\n+\n+        $appApk\n+\n+        $testApk\n+\n+        $brokerHostApk\n+\n+        $azureSampleApk\n+\n+        gcloud firebase test android run --type instrumentation --app $appApk --test $testApk --device model=$(testDevice),version=$(testAPI) --timeout 45m --additional-apks $brokerHostApk,$azureSampleApk --results-dir msal-BrokerHost-$(Build.BuildId)-$(Build.BuildNumber) --directories-to-pull \"/sdcard\" --use-orchestrator --test-targets \"package com.microsoft.identity.client.msal.automationapp.testpass.perf\"\n+  - task: PowerShell@2\n+    displayName: Download Test Result File\n+    condition: succeededOrFailed()\n+    inputs:\n+      targetType: inline\n+      script: gsutil cp gs://test-lab-ffz6x9pu2y62a-is0rq7a7rwdhi/msal-BrokerHost-$(Build.BuildId)-$(Build.BuildNumber)/walleye-28-en-portrait/test_result_1.xml $(Build.SourcesDirectory)\n+  - task: PowerShell@2\n+    displayName: Download CodeMarker File, generate and send report\n+    condition: succeededOrFailed()\n+    inputs:\n+      targetType: inline\n+      script: >-\n+        md $(Build.SourcesDirectory)\\targetfiles\n+\n+        gsutil cp gs://test-lab-ffz6x9pu2y62a-is0rq7a7rwdhi/msal-BrokerHost-$(Build.BuildId)-$(Build.BuildNumber)/walleye-28-en-portrait/artifacts/PerfDataTarget*.txt $(Build.SourcesDirectory)\\targetfiles\\\n+\n+\n+\n+        $(Build.SourcesDirectory)\\PerfIdentity.exe .\\basefiles\\ .\\targetfiles\\ BaseRun-$(baseBuildID) $(Build.BuildId) $(testDevice) API$(testAPI) MSALTestApp idlab1@msidlab4.onmicrosoft.com Aase@619 Neerav.Agarwal@microsoft.com,androididentity@microsoft.com\n+  - task: CopyFiles@2\n+    displayName: Copy artifact files\n+    condition: succeededOrFailed()\n+    continueOnError: True\n+    inputs:\n+      SourceFolder: $(Build.SourcesDirectory)\n+      Contents: >-\n+        PerfDataBase*.txt\n+\n+        PerfDataTarget*.txt\n+\n+        *.csv\n+\n+        *.html\n+      TargetFolder: $(Build.SourcesDirectory)\\artifacts\n+      CleanTargetFolder: true\n+  - task: CopyFiles@2\n+    displayName: Copy base files of base run\n+    condition: succeededOrFailed()\n+    continueOnError: True\n+    inputs:\n+      SourceFolder: $(Build.SourcesDirectory)\\basefiles\n+      Contents: PerfData*.txt\n+      TargetFolder: $(Build.SourcesDirectory)\\artifacts\\basefilesBaseRun\n+      CleanTargetFolder: true\n+  - task: PowerShell@2\n+    displayName: Move base files of latest run\n+    condition: succeededOrFailed()\n+    inputs:\n+      targetType: inline\n+      script: >-\n+        mv $(Build.SourcesDirectory)\\basefiles2\\targetfiles\\*.* $(Build.SourcesDirectory)\\basefiles2\\\n+\n+\n+        rd $(Build.SourcesDirectory)\\basefiles2\\targetfiles\\\n+  - task: PowerShell@2\n+    displayName: Generate and send report for latest run\n+    condition: succeededOrFailed()\n+    inputs:\n+      targetType: inline\n+      script: $(Build.SourcesDirectory)\\PerfIdentity.exe .\\basefiles2\\ .\\targetfiles\\ LastRun-$(latestRun.BuildNumber) $(Build.BuildId) $(testDevice) API$(testAPI) MSALTestApp idlab1@msidlab4.onmicrosoft.com Aase@619 Neerav.Agarwal@microsoft.com,androididentity@microsoft.com\n+  - task: CopyFiles@2\n+    displayName: Copy base files of latest run\n+    condition: succeededOrFailed()\n+    continueOnError: True\n+    inputs:\n+      SourceFolder: $(Build.SourcesDirectory)\\basefiles2\n+      Contents: PerfData*.txt\n+      TargetFolder: $(Build.SourcesDirectory)\\artifacts\\basefilesLastRun\n+      CleanTargetFolder: true\n+  - task: CopyFiles@2\n+    displayName: Copy target files\n+    condition: succeededOrFailed()\n+    continueOnError: True\n+    inputs:\n+      SourceFolder: $(Build.SourcesDirectory)\\targetfiles\n+      Contents: PerfData*.txt\n+      TargetFolder: $(Build.SourcesDirectory)\\artifacts\\targetfiles\n+      CleanTargetFolder: true\n+  - task: PublishPipelineArtifact@1\n+    displayName: Publish Perf results\n+    condition: succeededOrFailed()\n+    continueOnError: True\n+    inputs:\n+      path: $(Build.SourcesDirectory)\\artifacts\n+      artifactName: Perf\n+  - task: PublishTestResults@2\n+    displayName: Publish Test Results to ADO\n+    condition: succeededOrFailed()\n+    inputs:\n+      testResultsFiles: '*test_result*.xml'\n+      searchFolder: $(Build.SourcesDirectory)\n+      testRunTitle: 'MSAL UI Automation - Build # $(Build.BuildNumber)'\n+  - task: ComponentGovernanceComponentDetection@0\n+    displayName: Component Detection\n+..."
  },
  {
    "sha": "fcc18e4ece06e15455be62abee915ffde50f64aa",
    "filename": "azure-pipelines/ui-automations/msal-release-test-pipeline.yml",
    "status": "added",
    "additions": 111,
    "deletions": 0,
    "changes": 111,
    "blob_url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/blob/e67a714b0111314597c66a38319fd5454987c286/azure-pipelines/ui-automations/msal-release-test-pipeline.yml",
    "raw_url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/raw/e67a714b0111314597c66a38319fd5454987c286/azure-pipelines/ui-automations/msal-release-test-pipeline.yml",
    "contents_url": "https://api.github.com/repos/AzureAD/microsoft-authentication-library-for-android/contents/azure-pipelines/ui-automations/msal-release-test-pipeline.yml?ref=e67a714b0111314597c66a38319fd5454987c286",
    "patch": "@@ -0,0 +1,111 @@\n+# 'Allow scripts to access the OAuth token' was selected in pipeline.  Add the following YAML to any steps requiring access:\n+#       env:\n+#           MY_ACCESS_TOKEN: $(System.AccessToken)\n+# Variable 'android:serverUrl' was defined in the Variables tab\n+# Variable 'ENV_VSTS_MVN_ANDROID_MSAL_USERNAME' was defined in the Variables tab\n+# Variable 'gcloud_project_id' was defined in the Variables tab\n+# Variable 'msal_version' was defined in the Variables tab\n+# Variable 'mvnAccessToken' was defined in the Variables tab\n+# Variable 'test_repo_branch' was defined in the Variables tab\n+# Variable 'test_repo_dir' was defined in the Variables tab\n+name: $(date:yyyyMMdd)$(rev:.r)\n+resources:\n+  repositories:\n+  - repository: self\n+    type: git\n+    ref: dev\n+  - repository: common\n+    type: github\n+    name: AzureAD/microsoft-authentication-library-common-for-android\n+    ref: dev\n+    endpoint: ANDROID_GITHUB\n+jobs:\n+- job: Phase_1\n+  displayName: Phase 1\n+  cancelTimeoutInMinutes: 1\n+  pool:\n+    name: Hosted Windows 2019 with VS2019\n+  steps:\n+  - checkout: self\n+    clean: true\n+    submodules: recursive\n+    persistCredentials: True\n+  - template: azure-pipelines/templates/steps/credscan-policheck.yml@common\n+    parameters:\n+      policheckCmdLineArgsDir: adal\n+  - task: DownloadPipelineArtifact@2\n+    displayName: Download Azure Sample\n+    inputs:\n+      buildType: specific\n+      project: a7934fdd-dcde-4492-a406-7fad6ac00e17\n+      definition: 1278\n+      specificBuildWithTriggering: true\n+      artifactName: AzureSampleExternalRelease\n+  - template: azure-pipelines/templates/steps/ui-automation/gcloud.yml@common\n+    parameters:\n+      envVstsMvnAt: ENV_VSTS_MVN_ANDROID_MSAL_ACCESSTOKEN\n+  - task: PowerShell@2\n+    displayName: Generate Assemble Task Name for MSAL automation app\n+    inputs:\n+      targetType: inline\n+      script: >-\n+        $assembleTask = \"assembleDistAutoBrokerDebug\"\n+\n+\n+        if ((\"$(msal_version)\" -ne \"\")) {\n+            $assembleTask = $assembleTask + \" -PdistMsalVersion=\" + \"$(msal_version)\"\n+        }\n+\n+\n+        Write-Host \"##vso[task.setvariable variable=AssembleTask;]$assembleTask\"\n+  - task: Gradle@1\n+    name: Gradle1\n+    displayName: Assemble MSAL Automation App\n+    inputs:\n+      tasks: clean msalautomationapp:$(assembleTask) -PlabSecret=$(AndroidAutomationRunnerAppSecret) -PpreferPreInstalledApks -PbrokerSource=PlayStore\n+      publishJUnitResults: false\n+      jdkArchitecture: x86\n+      sqAnalysisBreakBuildIfQualityGateFailed: false\n+  - task: Gradle@1\n+    displayName: Assemble MSAL Automation App Instrumented Tests\n+    inputs:\n+      tasks: msalautomationapp:assembleDistAutoBrokerDebugAndroidTest\n+      publishJUnitResults: false\n+      jdkArchitecture: x86\n+      sqAnalysisBreakBuildIfQualityGateFailed: false\n+  - task: PowerShell@2\n+    displayName: Run UI Automation on Firebase\n+    inputs:\n+      targetType: inline\n+      script: >-\n+        $baseApkPath = \"$(Build.SourcesDirectory)\\msalautomationapp\\build\\outputs\\apk\"\n+\n+        $appApk = \"$baseApkPath\\distAutoBroker\\debug\\msalautomationapp-dist-AutoBroker-debug.apk\"\n+\n+        $testApk = \"$baseApkPath\\androidTest\\distAutoBroker\\debug\\msalautomationapp-dist-AutoBroker-debug-androidTest.apk\"\n+\n+        $azureSampleApk = \"$(System.ArtifactsDirectory)\\AzureSampleExternalRelease\\app-external-release.apk\"\n+\n+        $appApk\n+\n+        $testApk\n+\n+        $azureSampleApk\n+\n+        gcloud firebase test android run --type instrumentation --app $appApk --test $testApk --device model=flame,version=29 --timeout 45m --additional-apks $azureSampleApk --results-dir msal-release-$(Build.BuildId)-$(Build.BuildNumber) --directories-to-pull \"/sdcard\" --use-orchestrator  --environment-variables clearPackageData=true --results-history-name \"MSAL Dist w/ PROD Brokers\"\n+  - task: PowerShell@2\n+    displayName: Download Test Result File\n+    condition: succeededOrFailed()\n+    inputs:\n+      targetType: inline\n+      script: gsutil cp gs://test-lab-ffz6x9pu2y62a-is0rq7a7rwdhi/msal-release-$(Build.BuildId)-$(Build.BuildNumber)/flame-29-en-portrait/test_result_1.xml $(Build.SourcesDirectory)\n+  - task: PublishTestResults@2\n+    displayName: Publish Test Results to ADO\n+    condition: succeededOrFailed()\n+    inputs:\n+      testResultsFiles: '*test_result*.xml'\n+      searchFolder: $(Build.SourcesDirectory)\n+      testRunTitle: 'MSAL UI Automation - Build # $(Build.BuildNumber)'\n+  - task: ComponentGovernanceComponentDetection@0\n+    displayName: Component Detection\n+..."
  },
  {
    "sha": "348ef1da82745bcf87995a9832033c79223f1dfa",
    "filename": "azure-pipelines/ui-automations/nightly-msal-ui-automation-against-nightly-broker-host.yml",
    "status": "added",
    "additions": 119,
    "deletions": 0,
    "changes": 119,
    "blob_url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/blob/e67a714b0111314597c66a38319fd5454987c286/azure-pipelines/ui-automations/nightly-msal-ui-automation-against-nightly-broker-host.yml",
    "raw_url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/raw/e67a714b0111314597c66a38319fd5454987c286/azure-pipelines/ui-automations/nightly-msal-ui-automation-against-nightly-broker-host.yml",
    "contents_url": "https://api.github.com/repos/AzureAD/microsoft-authentication-library-for-android/contents/azure-pipelines/ui-automations/nightly-msal-ui-automation-against-nightly-broker-host.yml?ref=e67a714b0111314597c66a38319fd5454987c286",
    "patch": "@@ -0,0 +1,119 @@\n+# 'Allow scripts to access the OAuth token' was selected in pipeline.  Add the following YAML to any steps requiring access:\n+#       env:\n+#           MY_ACCESS_TOKEN: $(System.AccessToken)\n+# Variable 'android:serverUrl' was defined in the Variables tab\n+# Variable 'ENV_VSTS_MVN_ANDROIDADACCOUNTS_USERNAME' was defined in the Variables tab\n+# Variable 'gcloud_project_id' was defined in the Variables tab\n+# Variable 'mvnAccessToken' was defined in the Variables tab\n+# Variable 'test_repo_branch' was defined in the Variables tab\n+# Variable 'test_repo_dir' was defined in the Variables tab\n+# Cron Schedules have been converted using UTC Time Zone and may need to be updated for your location\n+schedules:\n+- cron: 0 3 * * *\n+  branches:\n+    include:\n+    - dev\n+name: $(date:yyyyMMdd)$(rev:.r)\n+resources:\n+  repositories:\n+  - repository: self\n+    type: git\n+    ref: dev\n+  - repository: common\n+    type: github\n+    name: AzureAD/microsoft-authentication-library-common-for-android\n+    ref: dev\n+    endpoint: ANDROID_GITHUB\n+jobs:\n+- job: Phase_1\n+  displayName: Phase 1\n+  cancelTimeoutInMinutes: 1\n+  pool:\n+    name: Hosted Windows 2019 with VS2019\n+  steps:\n+  - checkout: self\n+    clean: true\n+    submodules: recursive\n+    persistCredentials: True\n+  - template: azure-pipelines/templates/steps/credscan-policheck.yml@common\n+    parameters:\n+      policheckCmdLineArgsDir: adal\n+  - task: DownloadPipelineArtifact@2\n+    displayName: Download Broker Host APK\n+    inputs:\n+      buildType: specific\n+      project: a7934fdd-dcde-4492-a406-7fad6ac00e17\n+      definition: 1195\n+      buildVersionToDownload: latestFromBranch\n+      branchName: refs/heads/dev\n+      artifactName: BrokerHostDebug\n+  - task: DownloadSecureFile@1\n+    name: azureSampleApk\n+    displayName: Download Azure Sample Debug APK\n+    enabled: False\n+    inputs:\n+      secureFile: 960465ec-c668-4926-a723-32c6c952d643\n+      retryCount: 5\n+  - task: DownloadPipelineArtifact@2\n+    displayName: Download Azure Sample Local Debug\n+    inputs:\n+      buildType: specific\n+      project: a7934fdd-dcde-4492-a406-7fad6ac00e17\n+      definition: 1279\n+      artifactName: AzureSampleLocalDebug\n+  - template: azure-pipelines/templates/steps/ui-automation/gcloud.yml@common\n+  - task: Gradle@1\n+    name: Gradle1\n+    displayName: Assemble MSAL Automation App\n+    inputs:\n+      tasks: clean msalautomationapp:assembleLocalBrokerHost -PlabSecret=$(AndroidAutomationRunnerAppSecret) -PpreferPreInstalledApks\n+      publishJUnitResults: false\n+      jdkArchitecture: x86\n+      sqAnalysisBreakBuildIfQualityGateFailed: false\n+  - task: Gradle@1\n+    displayName: Assemble MSAL Automation App Instrumented Tests\n+    inputs:\n+      tasks: msalautomationapp:assembleLocalBrokerHostDebugAndroidTest -PlabSecret=$(AndroidAutomationRunnerAppSecret) -PpreferPreInstalledApks\n+      publishJUnitResults: false\n+      jdkArchitecture: x86\n+      sqAnalysisBreakBuildIfQualityGateFailed: false\n+  - task: PowerShell@2\n+    displayName: Run UI Automation on Firebase\n+    inputs:\n+      targetType: inline\n+      script: >-\n+        $baseApkPath = \"$(Build.SourcesDirectory)\\msalautomationapp\\build\\outputs\\apk\"\n+\n+        $appApk = \"$baseApkPath\\localBrokerHost\\debug\\msalautomationapp-local-BrokerHost-debug.apk\"\n+\n+        $testApk = \"$baseApkPath\\androidTest\\localBrokerHost\\debug\\msalautomationapp-local-BrokerHost-debug-androidTest.apk\"\n+\n+        $brokerHostApk = \"$(System.ArtifactsDirectory)\\BrokerHostDebug\\brokerHost-local-debug.apk\"\n+\n+        $azureSampleApk = \"$(System.ArtifactsDirectory)\\AzureSampleLocalDebug\\AzureSample-local-debug.apk\"\n+\n+        $appApk\n+\n+        $testApk\n+\n+        $brokerHostApk\n+\n+        $azureSampleApk\n+\n+        gcloud firebase test android run --type instrumentation --app $appApk --test $testApk --device model=flame,version=29 --timeout 45m --additional-apks $brokerHostApk,$azureSampleApk --results-dir msal-BrokerHost-$(Build.BuildId)-$(Build.BuildNumber) --directories-to-pull \"/sdcard\" --use-orchestrator --environment-variables clearPackageData=true --results-history-name \"MSAL dev w/ dev BrokerHost\"\n+  - task: PowerShell@2\n+    displayName: Download Test Result File\n+    condition: succeededOrFailed()\n+    inputs:\n+      targetType: inline\n+      script: gsutil cp gs://test-lab-ffz6x9pu2y62a-is0rq7a7rwdhi/msal-BrokerHost-$(Build.BuildId)-$(Build.BuildNumber)/flame-29-en-portrait/test_result_1.xml $(Build.SourcesDirectory)\n+  - task: PublishTestResults@2\n+    displayName: Publish Test Results to ADO\n+    condition: succeededOrFailed()\n+    inputs:\n+      testResultsFiles: '*test_result*.xml'\n+      searchFolder: $(Build.SourcesDirectory)\n+      testRunTitle: 'MSAL UI Automation - Build # $(Build.BuildNumber)'\n+  - task: ComponentGovernanceComponentDetection@0\n+    displayName: Component Detection\n+..."
  },
  {
    "sha": "6060fa8d9b8acce70130af494b4b5b0ce9c5ea94",
    "filename": "azure-pipelines/vsts-releases/msal-vsts-release.yml",
    "status": "added",
    "additions": 64,
    "deletions": 0,
    "changes": 64,
    "blob_url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/blob/e67a714b0111314597c66a38319fd5454987c286/azure-pipelines/vsts-releases/msal-vsts-release.yml",
    "raw_url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/raw/e67a714b0111314597c66a38319fd5454987c286/azure-pipelines/vsts-releases/msal-vsts-release.yml",
    "contents_url": "https://api.github.com/repos/AzureAD/microsoft-authentication-library-for-android/contents/azure-pipelines/vsts-releases/msal-vsts-release.yml?ref=e67a714b0111314597c66a38319fd5454987c286",
    "patch": "@@ -0,0 +1,64 @@\n+# 'Allow scripts to access the OAuth token' was selected in pipeline.  Add the following YAML to any steps requiring access:\n+#       env:\n+#           MY_ACCESS_TOKEN: $(System.AccessToken)\n+# Variable 'android:serverUrl' was defined in the Variables tab\n+# Variable 'ENV_VSTS_MVN_ANDROID_MSAL_USERNAME' was defined in the Variables tab\n+# Variable 'mvnAccessToken' was defined in the Variables tab\n+# Variable 'test_repo_branch' was defined in the Variables tab\n+# Variable 'test_repo_dir' was defined in the Variables tab\n+name: $(date:yyyyMMdd)$(rev:.r)\n+resources:\n+  repositories:\n+  - repository: self\n+    type: git\n+    ref: master\n+  - repository: common\n+    type: github\n+    name: AzureAD/microsoft-authentication-library-common-for-android\n+    ref: dev\n+    endpoint: ANDROID_GITHUB\n+jobs:\n+- job: Phase_1\n+  displayName: Phase 1\n+  cancelTimeoutInMinutes: 1\n+  pool:\n+    name: Hosted Windows 2019 with VS2019\n+  steps:\n+  - checkout: self\n+    clean: true\n+    submodules: recursive\n+    persistCredentials: True\n+  - task: CmdLine@1\n+    displayName: Set MVN Access Token in Environment\n+    inputs:\n+      filename: echo\n+      arguments: '##vso[task.setvariable variable=ENV_VSTS_MVN_ANDROID_MSAL_ACCESSTOKEN]$(mvnAccessToken)'\n+  - template: azure-pipelines/templates/steps/credscan-policheck.yml@common\n+    parameters:\n+      policheckCmdLineArgsDir: adal\n+  - task: Gradle@1\n+    name: Gradle1\n+    displayName: Assemble Release\n+    inputs:\n+      tasks: clean msal:assembleDistRelease\n+      publishJUnitResults: false\n+      jdkArchitecture: x86\n+      sqAnalysisBreakBuildIfQualityGateFailed: false\n+  - task: Gradle@2\n+    displayName: Publish\n+    inputs:\n+      tasks: msal:publish\n+      publishJUnitResults: false\n+  - task: CopyFiles@2\n+    name: CopyFiles1\n+    displayName: Copy Files to Artifact Staging Directory\n+    inputs:\n+      SourceFolder: msal\\build\\\n+      TargetFolder: $(build.artifactstagingdirectory)\n+  - task: PublishPipelineArtifact@1\n+    name: PublishPipelineArtifact1\n+    displayName: 'Publish Artifact: Common Release'\n+    inputs:\n+      ArtifactName: CommonRelease\n+      TargetPath: '\\\\my\\share\\$(Build.DefinitionName)\\$(Build.BuildNumber)'\n+..."
  },
  {
    "sha": "5355b38fe22f32079d97aa2cf915733306b8b486",
    "filename": "changelog",
    "status": "modified",
    "additions": 1,
    "deletions": 0,
    "changes": 1,
    "blob_url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/blob/e67a714b0111314597c66a38319fd5454987c286/changelog",
    "raw_url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/raw/e67a714b0111314597c66a38319fd5454987c286/changelog",
    "contents_url": "https://api.github.com/repos/AzureAD/microsoft-authentication-library-for-android/contents/changelog?ref=e67a714b0111314597c66a38319fd5454987c286",
    "patch": "@@ -1,6 +1,7 @@\n MSAL Wiki : https://github.com/AzureAD/microsoft-authentication-library-for-android/wiki\n \n vNext\n+- [MINOR] Converting Classic Azure DevOps Pipelines to YAML (#1337)\n - [MINOR] Changes to Broker Validation to allow setting whether to trust debug brokers (prod brokers are always trusted).\n \n Version 2.0.6"
  }
]
