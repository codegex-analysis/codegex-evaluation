[
  {
    "sha": "d97cee0424f1fe26102e61ca0c94a82ea2dab487",
    "filename": "pom.xml",
    "status": "modified",
    "additions": 1,
    "deletions": 1,
    "changes": 2,
    "blob_url": "https://github.com/olantobi/keycloak/blob/0b68f24a09c3d9f73b35fb85a207e5be939cc8f1/pom.xml",
    "raw_url": "https://github.com/olantobi/keycloak/raw/0b68f24a09c3d9f73b35fb85a207e5be939cc8f1/pom.xml",
    "contents_url": "https://api.github.com/repos/olantobi/keycloak/contents/pom.xml?ref=0b68f24a09c3d9f73b35fb85a207e5be939cc8f1",
    "patch": "@@ -143,7 +143,7 @@\n         <greenmail.version>1.3.1b</greenmail.version>\n         <hamcrest.version>1.3</hamcrest.version>\n         <jmeter.version>2.10</jmeter.version>\n-        <junit.version>4.12</junit.version>\n+        <junit.version>4.13.2</junit.version>\n         <picketlink.version>2.7.0.Final</picketlink.version>\n         <selenium.version>2.35.0</selenium.version>\n         <xml-apis.version>1.4.01</xml-apis.version>"
  },
  {
    "sha": "333042da021f06806582557684f0762e886ac7a6",
    "filename": "quarkus/deployment/src/main/java/org/keycloak/quarkus/deployment/KeycloakProcessor.java",
    "status": "modified",
    "additions": 2,
    "deletions": 1,
    "changes": 3,
    "blob_url": "https://github.com/olantobi/keycloak/blob/0b68f24a09c3d9f73b35fb85a207e5be939cc8f1/quarkus/deployment/src/main/java/org/keycloak/quarkus/deployment/KeycloakProcessor.java",
    "raw_url": "https://github.com/olantobi/keycloak/raw/0b68f24a09c3d9f73b35fb85a207e5be939cc8f1/quarkus/deployment/src/main/java/org/keycloak/quarkus/deployment/KeycloakProcessor.java",
    "contents_url": "https://api.github.com/repos/olantobi/keycloak/contents/quarkus/deployment/src/main/java/org/keycloak/quarkus/deployment/KeycloakProcessor.java?ref=0b68f24a09c3d9f73b35fb85a207e5be939cc8f1",
    "patch": "@@ -17,6 +17,7 @@\n \n package org.keycloak.quarkus.deployment;\n \n+import static java.util.Collections.emptyList;\n import static org.keycloak.configuration.Configuration.getPropertyNames;\n import static org.keycloak.configuration.Configuration.getRawValue;\n import static org.keycloak.representations.provider.ScriptProviderDescriptor.AUTHENTICATORS;\n@@ -147,7 +148,7 @@ FeatureBuildItem getFeature() {\n     @Record(ExecutionTime.STATIC_INIT)\n     @BuildStep\n     void configureHibernate(KeycloakRecorder recorder, HibernateOrmConfig config, List<PersistenceUnitDescriptorBuildItem> descriptors) {\n-        PersistenceUnitDescriptor unit = descriptors.get(0).asOutputPersistenceUnitDefinition().getActualHibernateDescriptor();\n+        PersistenceUnitDescriptor unit = descriptors.get(0).asOutputPersistenceUnitDefinition(emptyList()).getActualHibernateDescriptor();\n \n         unit.getProperties().setProperty(AvailableSettings.DIALECT, config.defaultPersistenceUnit.dialect.dialect.orElse(null));\n         unit.getProperties().setProperty(AvailableSettings.JPA_TRANSACTION_TYPE, PersistenceUnitTransactionType.JTA.name());"
  },
  {
    "sha": "62c9b1ee1d51ac0d890a9fd3e47dbb706258208f",
    "filename": "quarkus/pom.xml",
    "status": "modified",
    "additions": 6,
    "deletions": 6,
    "changes": 12,
    "blob_url": "https://github.com/olantobi/keycloak/blob/0b68f24a09c3d9f73b35fb85a207e5be939cc8f1/quarkus/pom.xml",
    "raw_url": "https://github.com/olantobi/keycloak/raw/0b68f24a09c3d9f73b35fb85a207e5be939cc8f1/quarkus/pom.xml",
    "contents_url": "https://api.github.com/repos/olantobi/keycloak/contents/quarkus/pom.xml?ref=0b68f24a09c3d9f73b35fb85a207e5be939cc8f1",
    "patch": "@@ -31,13 +31,13 @@\n     <packaging>pom</packaging>\n \n     <properties>\n-        <quarkus.version>1.10.0.CR1</quarkus.version>\n-        <resteasy.version>4.5.8.Final</resteasy.version>\n-        <jackson.version>2.11.3</jackson.version>\n+        <quarkus.version>1.12.2.Final</quarkus.version>\n+        <resteasy.version>4.5.9.Final</resteasy.version>\n+        <jackson.version>2.12.1</jackson.version>\n         <jackson.databind.version>${jackson.version}</jackson.databind.version>\n-        <hibernate.version>5.4.23.Final</hibernate.version>\n-        <mysql-connector-java.version>8.0.22</mysql-connector-java.version>\n-        <picocli.version>4.5.2</picocli.version>\n+        <hibernate.version>5.4.28.Final</hibernate.version>\n+        <mysql-connector-java.version>8.0.23</mysql-connector-java.version>\n+        <picocli.version>4.6.1</picocli.version>\n         <snakeyaml.version>1.27</snakeyaml.version>\n         <surefire-plugin.version>3.0.0-M5</surefire-plugin.version>\n         <wildfly.common.format.version>1.5.4.Final-format-001</wildfly.common.format.version>"
  },
  {
    "sha": "bec6e2788b2dc7e4d663ffe4e0e6817e34ea7f46",
    "filename": "quarkus/runtime/src/main/java/org/keycloak/provider/quarkus/ClientConnectionContextInjector.java",
    "status": "added",
    "additions": 47,
    "deletions": 0,
    "changes": 47,
    "blob_url": "https://github.com/olantobi/keycloak/blob/0b68f24a09c3d9f73b35fb85a207e5be939cc8f1/quarkus/runtime/src/main/java/org/keycloak/provider/quarkus/ClientConnectionContextInjector.java",
    "raw_url": "https://github.com/olantobi/keycloak/raw/0b68f24a09c3d9f73b35fb85a207e5be939cc8f1/quarkus/runtime/src/main/java/org/keycloak/provider/quarkus/ClientConnectionContextInjector.java",
    "contents_url": "https://api.github.com/repos/olantobi/keycloak/contents/quarkus/runtime/src/main/java/org/keycloak/provider/quarkus/ClientConnectionContextInjector.java?ref=0b68f24a09c3d9f73b35fb85a207e5be939cc8f1",
    "patch": "@@ -0,0 +1,47 @@\n+/*\n+ *\n+ *  * Copyright 2021  Red Hat, Inc. and/or its affiliates\n+ *  * and other contributors as indicated by the @author tags.\n+ *  *\n+ *  * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ *  * you may not use this file except in compliance with the License.\n+ *  * You may obtain a copy of the License at\n+ *  *\n+ *  * http://www.apache.org/licenses/LICENSE-2.0\n+ *  *\n+ *  * Unless required by applicable law or agreed to in writing, software\n+ *  * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ *  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ *  * See the License for the specific language governing permissions and\n+ *  * limitations under the License.\n+ *\n+ */\n+\n+package org.keycloak.provider.quarkus;\n+\n+import javax.ws.rs.ext.Provider;\n+import java.lang.annotation.Annotation;\n+import java.lang.reflect.Type;\n+\n+import org.jboss.resteasy.spi.ContextInjector;\n+import org.keycloak.common.ClientConnection;\n+import org.keycloak.common.util.Resteasy;\n+\n+/**\n+ * <p>This {@link ContextInjector} allows injecting {@link ClientConnection} to JAX-RS resources.\n+ *\n+ * <p>Due to the latest changes in Quarkus, the context map is cleared prior to dispatching to JAX-RS resources, so we need\n+ * to delegate to the {@link ResteasyVertxProvider} provider the lookup of Keycloak contextual objects.\n+ *\n+ * @see QuarkusRequestFilter\n+ * @see ResteasyVertxProvider\n+ *\n+ * @author <a href=\"mailto:psilva@redhat.com\">Pedro Igor</a>\n+ */\n+@Provider\n+public class ClientConnectionContextInjector implements ContextInjector<ClientConnection, ClientConnection> {\n+    @Override\n+    public ClientConnection resolve(Class rawType, Type genericType, Annotation[] annotations) {\n+        return Resteasy.getContextData(ClientConnection.class);\n+    }\n+}"
  },
  {
    "sha": "35029f7425faba32dfcde44eaa12ad4474a9bc3e",
    "filename": "quarkus/runtime/src/main/java/org/keycloak/provider/quarkus/KeycloakContextInjector.java",
    "status": "added",
    "additions": 47,
    "deletions": 0,
    "changes": 47,
    "blob_url": "https://github.com/olantobi/keycloak/blob/0b68f24a09c3d9f73b35fb85a207e5be939cc8f1/quarkus/runtime/src/main/java/org/keycloak/provider/quarkus/KeycloakContextInjector.java",
    "raw_url": "https://github.com/olantobi/keycloak/raw/0b68f24a09c3d9f73b35fb85a207e5be939cc8f1/quarkus/runtime/src/main/java/org/keycloak/provider/quarkus/KeycloakContextInjector.java",
    "contents_url": "https://api.github.com/repos/olantobi/keycloak/contents/quarkus/runtime/src/main/java/org/keycloak/provider/quarkus/KeycloakContextInjector.java?ref=0b68f24a09c3d9f73b35fb85a207e5be939cc8f1",
    "patch": "@@ -0,0 +1,47 @@\n+/*\n+ *\n+ *  * Copyright 2021  Red Hat, Inc. and/or its affiliates\n+ *  * and other contributors as indicated by the @author tags.\n+ *  *\n+ *  * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ *  * you may not use this file except in compliance with the License.\n+ *  * You may obtain a copy of the License at\n+ *  *\n+ *  * http://www.apache.org/licenses/LICENSE-2.0\n+ *  *\n+ *  * Unless required by applicable law or agreed to in writing, software\n+ *  * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ *  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ *  * See the License for the specific language governing permissions and\n+ *  * limitations under the License.\n+ *\n+ */\n+\n+package org.keycloak.provider.quarkus;\n+\n+import javax.ws.rs.ext.Provider;\n+import java.lang.annotation.Annotation;\n+import java.lang.reflect.Type;\n+\n+import org.jboss.resteasy.spi.ContextInjector;\n+import org.keycloak.common.util.Resteasy;\n+import org.keycloak.models.KeycloakSession;\n+\n+/**\n+ * <p>This {@link ContextInjector} allows injecting {@link KeycloakSession} to JAX-RS resources.\n+ *\n+ * <p>Due to the latest changes in Quarkus, the context map is cleared prior to dispatching to JAX-RS resources, so we need\n+ * to delegate to the {@link ResteasyVertxProvider} provider the lookup of Keycloak contextual objects.\n+ *\n+ * @see QuarkusRequestFilter\n+ * @see ResteasyVertxProvider\n+ *\n+ * @author <a href=\"mailto:psilva@redhat.com\">Pedro Igor</a>\n+ */\n+@Provider\n+public class KeycloakContextInjector implements ContextInjector<KeycloakSession, KeycloakSession> {\n+    @Override\n+    public KeycloakSession resolve(Class rawType, Type genericType, Annotation[] annotations) {\n+        return Resteasy.getContextData(KeycloakSession.class);\n+    }\n+}"
  },
  {
    "sha": "ac874f1ab292324343bce227a878553ea7af5c34",
    "filename": "quarkus/runtime/src/main/java/org/keycloak/provider/quarkus/QuarkusRequestFilter.java",
    "status": "modified",
    "additions": 13,
    "deletions": 3,
    "changes": 16,
    "blob_url": "https://github.com/olantobi/keycloak/blob/0b68f24a09c3d9f73b35fb85a207e5be939cc8f1/quarkus/runtime/src/main/java/org/keycloak/provider/quarkus/QuarkusRequestFilter.java",
    "raw_url": "https://github.com/olantobi/keycloak/raw/0b68f24a09c3d9f73b35fb85a207e5be939cc8f1/quarkus/runtime/src/main/java/org/keycloak/provider/quarkus/QuarkusRequestFilter.java",
    "contents_url": "https://api.github.com/repos/olantobi/keycloak/contents/quarkus/runtime/src/main/java/org/keycloak/provider/quarkus/QuarkusRequestFilter.java?ref=0b68f24a09c3d9f73b35fb85a207e5be939cc8f1",
    "patch": "@@ -17,9 +17,8 @@\n \n package org.keycloak.provider.quarkus;\n \n-import java.util.function.Predicate;\n-\n import org.keycloak.common.ClientConnection;\n+import org.keycloak.models.KeycloakSession;\n import org.keycloak.services.filters.AbstractRequestFilter;\n \n import io.vertx.core.AsyncResult;\n@@ -45,8 +44,12 @@ public void handle(RoutingContext context) {\n         // our code should always be run as blocking until we don't provide a better support for running non-blocking code\n         // in the event loop\n         context.vertx().executeBlocking(promise -> {\n-            filter(createClientConnection(context.request()), (session) -> {\n+            ClientConnection connection = createClientConnection(context.request());\n+\n+            filter(connection, (session) -> {\n                 try {\n+                    configureContextualData(context, connection, session);\n+\n                     // we need to close the session before response is sent to the client, otherwise subsequent requests could\n                     // not get the latest state because the session from the previous request is still being closed\n                     // other methods from Vert.x to add a handler to the response works asynchronously\n@@ -62,6 +65,13 @@ public void handle(RoutingContext context) {\n         }, false, EMPTY_RESULT);\n     }\n \n+    private void configureContextualData(RoutingContext context, ClientConnection connection, KeycloakSession session) {\n+        // quarkus-resteasy changed and clears the context map before dispatching\n+        // need to push keycloak contextual objects into the routing context for retrieving it later\n+        context.data().put(KeycloakSession.class.getName(), session);\n+        context.data().put(ClientConnection.class.getName(), connection);\n+    }\n+\n     @Override\n     protected boolean isAutoClose() {\n         return false;"
  },
  {
    "sha": "d4310f91eca8b395618e31df35fe9ef457833348",
    "filename": "quarkus/runtime/src/main/java/org/keycloak/provider/quarkus/ResteasyVertxProvider.java",
    "status": "renamed",
    "additions": 12,
    "deletions": 2,
    "changes": 14,
    "blob_url": "https://github.com/olantobi/keycloak/blob/0b68f24a09c3d9f73b35fb85a207e5be939cc8f1/quarkus/runtime/src/main/java/org/keycloak/provider/quarkus/ResteasyVertxProvider.java",
    "raw_url": "https://github.com/olantobi/keycloak/raw/0b68f24a09c3d9f73b35fb85a207e5be939cc8f1/quarkus/runtime/src/main/java/org/keycloak/provider/quarkus/ResteasyVertxProvider.java",
    "contents_url": "https://api.github.com/repos/olantobi/keycloak/contents/quarkus/runtime/src/main/java/org/keycloak/provider/quarkus/ResteasyVertxProvider.java?ref=0b68f24a09c3d9f73b35fb85a207e5be939cc8f1",
    "patch": "@@ -17,14 +17,24 @@\n \n package org.keycloak.provider.quarkus;\n \n+import io.vertx.ext.web.RoutingContext;\n import org.jboss.resteasy.core.ResteasyContext;\n import org.keycloak.common.util.ResteasyProvider;\n \n-public class Resteasy4Provider implements ResteasyProvider {\n+/**\n+ * TODO: we should probably rely on the vert.x routing context instead of resteasy context data\n+ */\n+public class ResteasyVertxProvider implements ResteasyProvider {\n \n     @Override\n     public <R> R getContextData(Class<R> type) {\n-        return ResteasyContext.getContextData(type);\n+        R data = ResteasyContext.getContextData(type);\n+\n+        if (data == null) {\n+            return (R) ResteasyContext.getContextData(RoutingContext.class).data().get(type.getName());\n+        }\n+\n+        return data;\n     }\n \n     @Override",
    "previous_filename": "quarkus/runtime/src/main/java/org/keycloak/provider/quarkus/Resteasy4Provider.java"
  },
  {
    "sha": "4e8e03fbe9c0ec91dcbc58c71468f5b4b9566527",
    "filename": "quarkus/runtime/src/main/resources/META-INF/services/org.keycloak.common.util.ResteasyProvider",
    "status": "modified",
    "additions": 1,
    "deletions": 1,
    "changes": 2,
    "blob_url": "https://github.com/olantobi/keycloak/blob/0b68f24a09c3d9f73b35fb85a207e5be939cc8f1/quarkus/runtime/src/main/resources/META-INF/services/org.keycloak.common.util.ResteasyProvider",
    "raw_url": "https://github.com/olantobi/keycloak/raw/0b68f24a09c3d9f73b35fb85a207e5be939cc8f1/quarkus/runtime/src/main/resources/META-INF/services/org.keycloak.common.util.ResteasyProvider",
    "contents_url": "https://api.github.com/repos/olantobi/keycloak/contents/quarkus/runtime/src/main/resources/META-INF/services/org.keycloak.common.util.ResteasyProvider?ref=0b68f24a09c3d9f73b35fb85a207e5be939cc8f1",
    "patch": "@@ -1 +1 @@\n-org.keycloak.provider.quarkus.Resteasy4Provider\n\\ No newline at end of file\n+org.keycloak.provider.quarkus.ResteasyVertxProvider\n\\ No newline at end of file"
  },
  {
    "sha": "f9c608443e43891f37ec1a2fd599f2baecb8f0d2",
    "filename": "testsuite/integration-arquillian/tests/base/src/main/java/org/keycloak/testsuite/console/page/fragment/AbstractMultipleSelect2.java",
    "status": "modified",
    "additions": 5,
    "deletions": 1,
    "changes": 6,
    "blob_url": "https://github.com/olantobi/keycloak/blob/0b68f24a09c3d9f73b35fb85a207e5be939cc8f1/testsuite/integration-arquillian/tests/base/src/main/java/org/keycloak/testsuite/console/page/fragment/AbstractMultipleSelect2.java",
    "raw_url": "https://github.com/olantobi/keycloak/raw/0b68f24a09c3d9f73b35fb85a207e5be939cc8f1/testsuite/integration-arquillian/tests/base/src/main/java/org/keycloak/testsuite/console/page/fragment/AbstractMultipleSelect2.java",
    "contents_url": "https://api.github.com/repos/olantobi/keycloak/contents/testsuite/integration-arquillian/tests/base/src/main/java/org/keycloak/testsuite/console/page/fragment/AbstractMultipleSelect2.java?ref=0b68f24a09c3d9f73b35fb85a207e5be939cc8f1",
    "patch": "@@ -93,7 +93,7 @@ public void select(R value) {\n         }\n \n         for (WebElement result : result) {\n-            if (result.getText().equalsIgnoreCase(id)) {\n+            if (match(result.getText(), id)) {\n                 clickLink(result);\n                 return;\n             }\n@@ -102,6 +102,10 @@ public void select(R value) {\n \n     protected abstract Function<R, String> identity();\n \n+    protected boolean match(String result, String search) {\n+        return result != null && result.equalsIgnoreCase(search);\n+    };\n+\n     public Set<R> getSelected() {\n         Set<R> values = new HashSet<>();\n "
  },
  {
    "sha": "623923861a3ed0ea7033a8906ffaef891163b63d",
    "filename": "testsuite/integration-arquillian/tests/other/console/src/main/java/org/keycloak/testsuite/console/page/groups/CreateGroup.java",
    "status": "added",
    "additions": 23,
    "deletions": 0,
    "changes": 23,
    "blob_url": "https://github.com/olantobi/keycloak/blob/0b68f24a09c3d9f73b35fb85a207e5be939cc8f1/testsuite/integration-arquillian/tests/other/console/src/main/java/org/keycloak/testsuite/console/page/groups/CreateGroup.java",
    "raw_url": "https://github.com/olantobi/keycloak/raw/0b68f24a09c3d9f73b35fb85a207e5be939cc8f1/testsuite/integration-arquillian/tests/other/console/src/main/java/org/keycloak/testsuite/console/page/groups/CreateGroup.java",
    "contents_url": "https://api.github.com/repos/olantobi/keycloak/contents/testsuite/integration-arquillian/tests/other/console/src/main/java/org/keycloak/testsuite/console/page/groups/CreateGroup.java?ref=0b68f24a09c3d9f73b35fb85a207e5be939cc8f1",
    "patch": "@@ -0,0 +1,23 @@\n+package org.keycloak.testsuite.console.page.groups;\n+\n+import org.jboss.arquillian.graphene.page.Page;\n+import org.keycloak.testsuite.console.page.AdminConsoleCreate;\n+\n+/**\n+ *\n+ * @author clementcur\n+ */\n+public class CreateGroup extends AdminConsoleCreate {\n+\n+    public CreateGroup() {\n+        setEntity(\"group\");\n+    }\n+    \n+    @Page\n+    private CreateGroupForm form;\n+    \n+    public CreateGroupForm form() {\n+        return form;\n+    }\n+\n+}"
  },
  {
    "sha": "5711b650a29259840a8120b2ac6b1ff7094e24c6",
    "filename": "testsuite/integration-arquillian/tests/other/console/src/main/java/org/keycloak/testsuite/console/page/groups/CreateGroupForm.java",
    "status": "added",
    "additions": 36,
    "deletions": 0,
    "changes": 36,
    "blob_url": "https://github.com/olantobi/keycloak/blob/0b68f24a09c3d9f73b35fb85a207e5be939cc8f1/testsuite/integration-arquillian/tests/other/console/src/main/java/org/keycloak/testsuite/console/page/groups/CreateGroupForm.java",
    "raw_url": "https://github.com/olantobi/keycloak/raw/0b68f24a09c3d9f73b35fb85a207e5be939cc8f1/testsuite/integration-arquillian/tests/other/console/src/main/java/org/keycloak/testsuite/console/page/groups/CreateGroupForm.java",
    "contents_url": "https://api.github.com/repos/olantobi/keycloak/contents/testsuite/integration-arquillian/tests/other/console/src/main/java/org/keycloak/testsuite/console/page/groups/CreateGroupForm.java?ref=0b68f24a09c3d9f73b35fb85a207e5be939cc8f1",
    "patch": "@@ -0,0 +1,36 @@\n+package org.keycloak.testsuite.console.page.groups;\n+\n+import org.keycloak.representations.idm.GroupRepresentation;\n+import org.keycloak.testsuite.page.Form;\n+import org.keycloak.testsuite.util.UIUtils;\n+import org.openqa.selenium.WebElement;\n+import org.openqa.selenium.support.FindBy;\n+import org.openqa.selenium.support.ui.Select;\n+\n+import static org.keycloak.testsuite.util.UIUtils.getTextFromElement;\n+import static org.keycloak.testsuite.util.UIUtils.getTextInputValue;\n+import static org.keycloak.testsuite.util.WaitUtils.*;\n+\n+/**\n+ *\n+ * @author clementcur\n+ */\n+public class CreateGroupForm extends Form {\n+\n+    @FindBy(id = \"name\")\n+    private WebElement groupNameInput;\n+    \n+    public void setValues(GroupRepresentation group) {\n+        waitUntilElement(groupNameInput).is().present();\n+\n+        setGroupName(group.getName());\n+    }\n+\n+    public String getGroupName() {\n+        return getTextInputValue(groupNameInput);\n+    }\n+\n+    public void setGroupName(String groupName) {\n+        UIUtils.setTextInputValue(groupNameInput, groupName);\n+    }\n+}\n\\ No newline at end of file"
  },
  {
    "sha": "8f7e8da971279fede1fa74722f7a28a131289fc4",
    "filename": "testsuite/integration-arquillian/tests/other/console/src/main/java/org/keycloak/testsuite/console/page/groups/Groups.java",
    "status": "added",
    "additions": 56,
    "deletions": 0,
    "changes": 56,
    "blob_url": "https://github.com/olantobi/keycloak/blob/0b68f24a09c3d9f73b35fb85a207e5be939cc8f1/testsuite/integration-arquillian/tests/other/console/src/main/java/org/keycloak/testsuite/console/page/groups/Groups.java",
    "raw_url": "https://github.com/olantobi/keycloak/raw/0b68f24a09c3d9f73b35fb85a207e5be939cc8f1/testsuite/integration-arquillian/tests/other/console/src/main/java/org/keycloak/testsuite/console/page/groups/Groups.java",
    "contents_url": "https://api.github.com/repos/olantobi/keycloak/contents/testsuite/integration-arquillian/tests/other/console/src/main/java/org/keycloak/testsuite/console/page/groups/Groups.java?ref=0b68f24a09c3d9f73b35fb85a207e5be939cc8f1",
    "patch": "@@ -0,0 +1,56 @@\n+/*\n+ * JBoss, Home of Professional Open Source\n+ *\n+ * Copyright 2013 Red Hat, Inc. and/or its affiliates.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package org.keycloak.testsuite.console.page.groups;\n+\n+import org.jboss.arquillian.drone.api.annotation.Drone;\n+import org.keycloak.testsuite.console.page.AdminConsoleRealm;\n+import org.keycloak.testsuite.console.page.fragment.DataTable;\n+import org.openqa.selenium.WebDriver;\n+import org.openqa.selenium.support.FindBy;\n+\n+/**\n+ *\n+ * @author clementcur\n+ */\n+public class Groups extends AdminConsoleRealm {\n+\n+    @Override\n+    public String getUriFragment() {\n+        return super.getUriFragment() + \"/groups\";\n+    }\n+\n+    public static final String NEW_GROUP = \"New\";\n+\n+    @FindBy(id = \"group-table\")\n+    private GroupsTable table;\n+\n+    public GroupsTable table() {\n+        return table;\n+    }\n+\n+    public class GroupsTable extends DataTable {\n+\n+        @Drone\n+        private WebDriver driver;\n+\n+        public void addGroup() {\n+            clickHeaderButton(NEW_GROUP);\n+        }\n+    }\n+    \n+}"
  },
  {
    "sha": "d92e63a296266dc29f02d9a77653341fb19d931a",
    "filename": "testsuite/integration-arquillian/tests/other/console/src/main/java/org/keycloak/testsuite/console/page/users/UserAttributesForm.java",
    "status": "modified",
    "additions": 48,
    "deletions": 0,
    "changes": 48,
    "blob_url": "https://github.com/olantobi/keycloak/blob/0b68f24a09c3d9f73b35fb85a207e5be939cc8f1/testsuite/integration-arquillian/tests/other/console/src/main/java/org/keycloak/testsuite/console/page/users/UserAttributesForm.java",
    "raw_url": "https://github.com/olantobi/keycloak/raw/0b68f24a09c3d9f73b35fb85a207e5be939cc8f1/testsuite/integration-arquillian/tests/other/console/src/main/java/org/keycloak/testsuite/console/page/users/UserAttributesForm.java",
    "contents_url": "https://api.github.com/repos/olantobi/keycloak/contents/testsuite/integration-arquillian/tests/other/console/src/main/java/org/keycloak/testsuite/console/page/users/UserAttributesForm.java?ref=0b68f24a09c3d9f73b35fb85a207e5be939cc8f1",
    "patch": "@@ -5,12 +5,18 @@\n import org.keycloak.testsuite.console.page.fragment.OnOffSwitch;\n import org.keycloak.testsuite.page.Form;\n import org.keycloak.testsuite.util.UIUtils;\n+import org.openqa.selenium.By;\n import org.openqa.selenium.WebElement;\n import org.openqa.selenium.support.FindBy;\n \n import java.util.HashSet;\n+import java.util.List;\n import java.util.Set;\n+import java.util.function.BiFunction;\n+import java.util.function.Function;\n+import java.util.stream.Collectors;\n \n+import static org.keycloak.testsuite.util.UIUtils.getTextFromElement;\n import static org.keycloak.testsuite.util.WaitUtils.waitUntilElement;\n \n /**\n@@ -41,6 +47,9 @@\n     @FindBy(xpath = \".//div[@class='onoffswitch' and ./input[@id='emailVerified']]\")\n     private OnOffSwitch emailVerifiedSwitch;\n \n+    @FindBy(id = \"s2id_groups\")\n+    private GroupSelect groupsInput;\n+\n     @FindBy(id = \"s2id_reqActions\")\n     private MultipleStringSelect2 requiredUserActionsSelect;\n \n@@ -103,6 +112,8 @@ public void setEmailVerified(boolean emailVerified) {\n         emailVerifiedSwitch.setOn(emailVerified);\n     }\n \n+    public void setGroups(Set<String> groups) { groupsInput.update(groups); }\n+\n     public void addRequiredAction(String requiredAction) {\n         requiredUserActionsSelect.select(requiredAction);\n     }\n@@ -121,8 +132,45 @@ public void setValues(UserRepresentation user) {\n         setLastName(user.getLastName());\n         if (user.isEnabled() != null) setEnabled(user.isEnabled());\n         if (user.isEmailVerified() != null) setEmailVerified(user.isEmailVerified());\n+        if (user.getGroups() != null && user.getGroups().size() > 0) setGroups(new HashSet<String>(user.getGroups()));\n         if (user.getRequiredActions() != null) setRequiredActions(new HashSet<>(user.getRequiredActions()));\n     }\n \n     // TODO Contact Information section\n+\n+    public class GroupSelect extends MultipleStringSelect2 {\n+\n+        @Override\n+        protected List<WebElement> getSelectedElements() {\n+            return getRoot().findElements(By.xpath(\"(//table[@id='selected-groups'])/tbody/tr\")).stream()\n+                    .filter(webElement -> webElement.findElements(By.tagName(\"td\")).size() > 1)\n+                    .collect(Collectors.toList());\n+        }\n+\n+        @Override\n+        protected BiFunction<WebElement, String, Boolean> deselect() {\n+            return (webElement, name) -> {\n+                List<WebElement> tds = webElement.findElements(By.tagName(\"td\"));\n+\n+                if (!getTextFromElement(tds.get(0)).isEmpty()) {\n+                    if (getTextFromElement(tds.get(0)).equals(name)) {\n+                        tds.get(1).findElement(By.tagName(\"button\")).click();\n+                        return true;\n+                    }\n+                }\n+\n+                return false;\n+            };\n+        }\n+\n+        @Override\n+        protected Function<WebElement, String> representation() {\n+            return webElement -> getTextFromElement(webElement.findElements(By.tagName(\"td\")).get(0));\n+        }\n+\n+        @Override\n+        protected boolean match(String result, String search) {\n+            return result != null && result.equalsIgnoreCase(\"/\" + search);\n+        }\n+    }\n }"
  },
  {
    "sha": "291261751e7b52929e421d560f6fe8e918c12d19",
    "filename": "testsuite/integration-arquillian/tests/other/console/src/test/java/org/keycloak/testsuite/console/groups/AbstractGroupTest.java",
    "status": "added",
    "additions": 40,
    "deletions": 0,
    "changes": 40,
    "blob_url": "https://github.com/olantobi/keycloak/blob/0b68f24a09c3d9f73b35fb85a207e5be939cc8f1/testsuite/integration-arquillian/tests/other/console/src/test/java/org/keycloak/testsuite/console/groups/AbstractGroupTest.java",
    "raw_url": "https://github.com/olantobi/keycloak/raw/0b68f24a09c3d9f73b35fb85a207e5be939cc8f1/testsuite/integration-arquillian/tests/other/console/src/test/java/org/keycloak/testsuite/console/groups/AbstractGroupTest.java",
    "contents_url": "https://api.github.com/repos/olantobi/keycloak/contents/testsuite/integration-arquillian/tests/other/console/src/test/java/org/keycloak/testsuite/console/groups/AbstractGroupTest.java?ref=0b68f24a09c3d9f73b35fb85a207e5be939cc8f1",
    "patch": "@@ -0,0 +1,40 @@\n+package org.keycloak.testsuite.console.groups;\n+\n+import org.jboss.arquillian.graphene.page.Page;\n+import org.junit.Before;\n+import org.keycloak.admin.client.resource.GroupResource;\n+import org.keycloak.admin.client.resource.GroupsResource;\n+import org.keycloak.representations.idm.GroupRepresentation;\n+import org.keycloak.testsuite.console.AbstractConsoleTest;\n+import org.keycloak.testsuite.console.page.groups.CreateGroup;\n+import org.keycloak.testsuite.console.page.groups.Groups;\n+\n+import static org.keycloak.testsuite.util.URLAssert.assertCurrentUrlEquals;\n+import static org.keycloak.testsuite.util.URLAssert.assertCurrentUrlStartsWith;\n+\n+/**\n+ *\n+ * @author clementcur\n+ */\n+public abstract class AbstractGroupTest extends AbstractConsoleTest {\n+\n+    @Page\n+    protected Groups groupsPage;\n+    @Page\n+    protected CreateGroup createGroupPage;\n+\n+    protected GroupRepresentation newTestRealmGroup;\n+    \n+    @Before\n+    public void beforeGroupTest() {\n+        newTestRealmGroup = new GroupRepresentation();\n+    }\n+\n+    public void createGroup(GroupRepresentation group) {\n+        assertCurrentUrlEquals(groupsPage);\n+        groupsPage.table().addGroup();\n+        assertCurrentUrlStartsWith(createGroupPage);\n+        createGroupPage.form().setValues(group);\n+        createGroupPage.form().save();\n+    }\n+}"
  },
  {
    "sha": "cf0a45d72c1998ba1fe164f8bef28df3e23d98c0",
    "filename": "testsuite/integration-arquillian/tests/other/console/src/test/java/org/keycloak/testsuite/console/groups/GroupTest.java",
    "status": "added",
    "additions": 48,
    "deletions": 0,
    "changes": 48,
    "blob_url": "https://github.com/olantobi/keycloak/blob/0b68f24a09c3d9f73b35fb85a207e5be939cc8f1/testsuite/integration-arquillian/tests/other/console/src/test/java/org/keycloak/testsuite/console/groups/GroupTest.java",
    "raw_url": "https://github.com/olantobi/keycloak/raw/0b68f24a09c3d9f73b35fb85a207e5be939cc8f1/testsuite/integration-arquillian/tests/other/console/src/test/java/org/keycloak/testsuite/console/groups/GroupTest.java",
    "contents_url": "https://api.github.com/repos/olantobi/keycloak/contents/testsuite/integration-arquillian/tests/other/console/src/test/java/org/keycloak/testsuite/console/groups/GroupTest.java?ref=0b68f24a09c3d9f73b35fb85a207e5be939cc8f1",
    "patch": "@@ -0,0 +1,48 @@\n+/*\n+ * JBoss, Home of Professional Open Source\n+ *\n+ * Copyright 2013 Red Hat, Inc. and/or its affiliates.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package org.keycloak.testsuite.console.groups;\n+\n+import org.jboss.arquillian.graphene.page.Page;\n+import org.junit.Before;\n+import org.junit.Test;\n+import org.keycloak.representations.idm.GroupRepresentation;\n+import org.keycloak.testsuite.console.page.groups.CreateGroup;\n+\n+import static org.junit.Assert.*;\n+\n+/**\n+ *\n+ * @author clementcur\n+ */\n+public class GroupTest extends AbstractGroupTest {\n+\n+    @Page\n+    private CreateGroup createGroupPage;\n+\n+    @Before\n+    public void beforeCreateGroupTest() {\n+        groupsPage.navigateTo();\n+    }\n+\n+    @Test\n+    public void createAGroup() {\n+        newTestRealmGroup.setName(\"mygroup\");\n+        createGroup(newTestRealmGroup);\n+        assertAlertSuccess();\n+    }\n+}"
  },
  {
    "sha": "e970dd147550a24a8a90681a7001b47fd7e3c695",
    "filename": "testsuite/integration-arquillian/tests/other/console/src/test/java/org/keycloak/testsuite/console/users/UserAttributesTest.java",
    "status": "modified",
    "additions": 41,
    "deletions": 0,
    "changes": 41,
    "blob_url": "https://github.com/olantobi/keycloak/blob/0b68f24a09c3d9f73b35fb85a207e5be939cc8f1/testsuite/integration-arquillian/tests/other/console/src/test/java/org/keycloak/testsuite/console/users/UserAttributesTest.java",
    "raw_url": "https://github.com/olantobi/keycloak/raw/0b68f24a09c3d9f73b35fb85a207e5be939cc8f1/testsuite/integration-arquillian/tests/other/console/src/test/java/org/keycloak/testsuite/console/users/UserAttributesTest.java",
    "contents_url": "https://api.github.com/repos/olantobi/keycloak/contents/testsuite/integration-arquillian/tests/other/console/src/test/java/org/keycloak/testsuite/console/users/UserAttributesTest.java?ref=0b68f24a09c3d9f73b35fb85a207e5be939cc8f1",
    "patch": "@@ -22,10 +22,18 @@\n import org.junit.Test;\n import org.keycloak.representations.idm.RealmRepresentation;\n import org.keycloak.representations.idm.UserRepresentation;\n+import org.keycloak.representations.idm.GroupRepresentation;\n import org.keycloak.testsuite.console.page.users.UserAttributes;\n+import org.keycloak.testsuite.console.page.groups.CreateGroup;\n+import org.keycloak.testsuite.console.page.groups.Groups;\n+\n+import java.util.ArrayList;\n+import java.util.Arrays;\n \n import static org.junit.Assert.*;\n import static org.keycloak.testsuite.admin.Users.setPasswordFor;\n+import static org.keycloak.testsuite.util.URLAssert.assertCurrentUrlEquals;\n+import static org.keycloak.testsuite.util.URLAssert.assertCurrentUrlStartsWith;\n \n /**\n  *\n@@ -37,6 +45,12 @@\n     @Page\n     private UserAttributes userAttributesPage;\n \n+    @Page\n+    protected Groups groupsPage;\n+\n+    @Page\n+    protected CreateGroup createGroupPage;\n+\n     @Before\n     public void beforeUserAttributesTest() {\n         usersPage.navigateTo();\n@@ -99,4 +113,31 @@ public void disabledUser() {\n         // TODO try to log in\n     }\n \n+    @Test\n+    public void createUserWithGroups() {\n+        GroupRepresentation newGroup = new GroupRepresentation();\n+        newGroup.setName(\"mygroup\");\n+\n+        // navigate to Groups creation page\n+        groupsPage.navigateTo();\n+        assertCurrentUrlEquals(groupsPage);\n+        groupsPage.table().addGroup();\n+        assertCurrentUrlStartsWith(createGroupPage);\n+\n+        // create the group\n+        createGroupPage.form().setValues(newGroup);\n+        createGroupPage.form().save();\n+        assertAlertSuccess();\n+\n+        // navigate to Users creation page\n+        usersPage.navigateTo();\n+        RealmRepresentation representation = testRealmResource().toRepresentation();\n+        representation.setRegistrationEmailAsUsername(true);\n+        testRealmResource().update(representation);\n+        newTestRealmUser.setEmail(\"test-with-groups@keycloak.org\");\n+        newTestRealmUser.setGroups(Arrays.asList(\"mygroup\"));\n+        createUser(newTestRealmUser);\n+        assertAlertSuccess();\n+    }\n+\n }"
  },
  {
    "sha": "6283c5fa51b010b44c06b12c875d5c978b44635f",
    "filename": "themes/src/main/resources/theme/base/admin/messages/admin-messages_en.properties",
    "status": "modified",
    "additions": 5,
    "deletions": 0,
    "changes": 5,
    "blob_url": "https://github.com/olantobi/keycloak/blob/0b68f24a09c3d9f73b35fb85a207e5be939cc8f1/themes/src/main/resources/theme/base/admin/messages/admin-messages_en.properties",
    "raw_url": "https://github.com/olantobi/keycloak/raw/0b68f24a09c3d9f73b35fb85a207e5be939cc8f1/themes/src/main/resources/theme/base/admin/messages/admin-messages_en.properties",
    "contents_url": "https://api.github.com/repos/olantobi/keycloak/contents/themes/src/main/resources/theme/base/admin/messages/admin-messages_en.properties?ref=0b68f24a09c3d9f73b35fb85a207e5be939cc8f1",
    "patch": "@@ -1412,6 +1412,11 @@ unlock-user=Unlock user\n federation-link=Federation Link\n email-verified=Email Verified\n email-verified.tooltip=Has the user's email been verified?\n+groups-joining=Groups\n+groups-joining.tooltip=Groups the user will be joining. To add a group, search for any existing one and select it.\n+groups-joining-select.placeholder=Select existing group\n+groups-joining-no-selected=No group selected\n+groups-joining-path=Path\n required-user-actions=Required User Actions\n required-user-actions.tooltip=Require an action when the user logs in. 'Verify email' sends an email to the user to verify their email address. 'Update profile' requires user to enter in new personal information. 'Update password' requires user to enter in a new password. 'Configure OTP' requires setup of a mobile password generator.\n locale=Locale"
  },
  {
    "sha": "34df0290c3eef22101376dcae55e9d5b536cf7f6",
    "filename": "themes/src/main/resources/theme/base/admin/resources/js/controllers/users.js",
    "status": "modified",
    "additions": 111,
    "deletions": 2,
    "changes": 113,
    "blob_url": "https://github.com/olantobi/keycloak/blob/0b68f24a09c3d9f73b35fb85a207e5be939cc8f1/themes/src/main/resources/theme/base/admin/resources/js/controllers/users.js",
    "raw_url": "https://github.com/olantobi/keycloak/raw/0b68f24a09c3d9f73b35fb85a207e5be939cc8f1/themes/src/main/resources/theme/base/admin/resources/js/controllers/users.js",
    "contents_url": "https://api.github.com/repos/olantobi/keycloak/contents/themes/src/main/resources/theme/base/admin/resources/js/controllers/users.js?ref=0b68f24a09c3d9f73b35fb85a207e5be939cc8f1",
    "patch": "@@ -385,14 +385,15 @@ module.controller('UserDetailCtrl', function($scope, realm, user, BruteForceUser\n                                              Components,\n                                              UserImpersonation, RequiredActions,\n                                              UserStorageOperations,\n-                                             $location, $http, Dialog, Notifications, $translate) {\n+                                             $location, $http, Dialog, Notifications, $translate, Groups) {\n     $scope.realm = realm;\n     $scope.create = !user.id;\n     $scope.editUsername = $scope.create || $scope.realm.editUsernameAllowed;\n     $scope.emailAsUsername = $scope.realm.registrationEmailAsUsername;\n+    $scope.groupSearch = { selectedGroup : null };\n \n     if ($scope.create) {\n-        $scope.user = { enabled: true, attributes: {} }\n+        $scope.user = { enabled: true, attributes: {}, groups: [] }\n     } else {\n         if (!user.attributes) {\n             user.attributes = {}\n@@ -464,6 +465,8 @@ module.controller('UserDetailCtrl', function($scope, realm, user, BruteForceUser\n         convertAttributeValuesToLists();\n \n         if ($scope.create) {\n+            pushSelectedGroupsToUser();\n+\n             User.save({\n                 realm: realm.realm\n             }, $scope.user, function (data, headers) {\n@@ -513,6 +516,51 @@ module.controller('UserDetailCtrl', function($scope, realm, user, BruteForceUser\n         }\n     }\n \n+    function pushSelectedGroupsToUser() {\n+        var groups = $scope.user.groups;\n+        if ($scope.selectedGroups) {\n+            for (i = 0; i < $scope.selectedGroups.length; i++) {\n+                var groupPath = $scope.selectedGroups[i].path;\n+                if (!groups.includes(groupPath)) {\n+                    groups.push(groupPath);\n+                }\n+            }\n+        }\n+    }\n+\n+    function bfs(tree, collection) {\n+    \tif (!tree[\"subGroups\"] || tree[\"subGroups\"].length === 0) return;\n+    \tfor (var i=0; i < tree[\"subGroups\"].length; i++) {\n+    \t\tvar child = tree[\"subGroups\"][i]\n+    \t\tcollection.push(child);\n+    \t\tbfs(child, collection);\n+    \t}\n+    \treturn;\n+    }\n+\n+    function flattenGroups(groups) {\n+        var flattenedGroups = [];\n+        if (!groups || groups.length === 0) return groups;\n+        for (var i=0; i < groups.length; i++) {\n+            flattenedGroups.push(groups[i]);\n+            bfs(groups[i], flattenedGroups);\n+        }\n+\n+        return flattenedGroups;\n+    }\n+\n+    /**\n+     * Only keep groups that :\n+     *   - include the search term in their path\n+     *   - are not already selected\n+     */\n+    function filterSearchedGroups(groups, term, selectedGroups) {\n+        if (!groups || groups.length === 0) return groups;\n+        if (!selectedGroups) selectedGroups = [];\n+\n+        return groups.filter(group => group.path?.includes(term) && !selectedGroups.some(selGroup => selGroup.id === group.id));\n+    }\n+\n     $scope.reset = function() {\n         $scope.user = angular.copy(user);\n         $scope.changed = false;\n@@ -530,6 +578,67 @@ module.controller('UserDetailCtrl', function($scope, realm, user, BruteForceUser\n     $scope.removeAttribute = function(key) {\n         delete $scope.user.attributes[key];\n     }\n+\n+    $scope.groupsUiSelect = {\n+        minimumInputLength: 1,\n+        delay: 500,\n+        allowClear: true,\n+        query: function (query) {\n+            var data = {results: []};\n+            if ('' == query.term.trim()) {\n+                query.callback(data);\n+                return;\n+            }\n+            $scope.query = {\n+                realm: realm.realm,\n+                search: query.term.trim(),\n+                max : 20,\n+                first : 0\n+            };\n+            Groups.query($scope.query, function(response) {\n+                data.results = filterSearchedGroups(flattenGroups(response), query.term.trim(), $scope.selectedGroups);\n+                query.callback(data);\n+            });\n+        },\n+        formatResult: function(object, container, query) {\n+            object.text = object.path;\n+            return object.path;\n+        }\n+    };\n+\n+    $scope.removeGroup = function(list, group) {\n+        for (i = 0; i < angular.copy(list).length; i++) {\n+            if (group.id == list[i].id) {\n+                list.splice(i, 1);\n+            }\n+        }\n+    }\n+\n+    $scope.selectGroup = function(group) {\n+        if (!group || !group.id) {\n+            return;\n+        }\n+\n+        $scope.groupSearch.selectedGroup = group;\n+\n+        if (!$scope.selectedGroups) {\n+            $scope.selectedGroups = [];\n+        }\n+\n+        for (i = 0; i < $scope.selectedGroups.length; i++) {\n+            if ($scope.selectedGroups[i].id == group.id) {\n+                return;\n+            }\n+        }\n+\n+        $scope.selectedGroups.push(group);\n+        $scope.groupSearch.selectedGroup = null;\n+    }\n+\n+    $scope.clearGroupSelection = function() {\n+        $scope.groupSearch.selectedGroup = null;\n+        $('#groups').val(null).trigger('change.select2');\n+    }\n });\n \n module.controller('UserCredentialsCtrl', function($scope, realm, user, $route, $location, RequiredActions, User, UserExecuteActionsEmail,"
  },
  {
    "sha": "3412e6a2d9f151729437fb8d35103dc5665f3463",
    "filename": "themes/src/main/resources/theme/base/admin/resources/partials/group-list.html",
    "status": "modified",
    "additions": 1,
    "deletions": 1,
    "changes": 2,
    "blob_url": "https://github.com/olantobi/keycloak/blob/0b68f24a09c3d9f73b35fb85a207e5be939cc8f1/themes/src/main/resources/theme/base/admin/resources/partials/group-list.html",
    "raw_url": "https://github.com/olantobi/keycloak/raw/0b68f24a09c3d9f73b35fb85a207e5be939cc8f1/themes/src/main/resources/theme/base/admin/resources/partials/group-list.html",
    "contents_url": "https://api.github.com/repos/olantobi/keycloak/contents/themes/src/main/resources/theme/base/admin/resources/partials/group-list.html?ref=0b68f24a09c3d9f73b35fb85a207e5be939cc8f1",
    "patch": "@@ -1,7 +1,7 @@\n <div class=\"col-sm-9 col-md-10 col-sm-push-3 col-md-push-2\">\n     <kc-tabs-group-list></kc-tabs-group-list>\n \n-    <table class=\"table table-striped table-bordered\" style=\"margin-bottom: 0\">\n+    <table class=\"table table-striped table-bordered\" id=\"group-table\" style=\"margin-bottom: 0\">\n         <thead>\n         <tr>\n             <th class=\"kc-table-actions\" colspan=\"5\">"
  },
  {
    "sha": "d7b46238867d197ad84202c38e7cc5b9ad0ee03a",
    "filename": "themes/src/main/resources/theme/base/admin/resources/partials/user-detail.html",
    "status": "modified",
    "additions": 36,
    "deletions": 0,
    "changes": 36,
    "blob_url": "https://github.com/olantobi/keycloak/blob/0b68f24a09c3d9f73b35fb85a207e5be939cc8f1/themes/src/main/resources/theme/base/admin/resources/partials/user-detail.html",
    "raw_url": "https://github.com/olantobi/keycloak/raw/0b68f24a09c3d9f73b35fb85a207e5be939cc8f1/themes/src/main/resources/theme/base/admin/resources/partials/user-detail.html",
    "contents_url": "https://api.github.com/repos/olantobi/keycloak/contents/themes/src/main/resources/theme/base/admin/resources/partials/user-detail.html?ref=0b68f24a09c3d9f73b35fb85a207e5be939cc8f1",
    "patch": "@@ -97,6 +97,42 @@\n                 </div>\n                 <kc-tooltip>{{:: 'email-verified.tooltip' | translate}}</kc-tooltip>\n             </div>\n+            <div class=\"form-group clearfix block\" data-ng-if=\"create\">\n+                <label class=\"col-md-2 control-label\" for=\"selected-groups\">{{:: 'groups-joining' | translate}}</label>\n+                <div class=\"col-sm-6\">\n+                    <table class=\"table table-striped table-bordered\" style=\"margin-top: 0px\" id=\"selected-groups\">\n+                        <thead>\n+                        <tr>\n+                            <th class=\"kc-table-actions\" colspan=\"2\">\n+                                <div class=\"form-inline col-md-12 select2-container-single\">\n+                                    <div class=\"form-group\">\n+                                        <div class=\"input-group\">\n+                                            <input type=\"hidden\" ui-select2=\"groupsUiSelect\" id=\"groups\" data-ng-change=\"selectGroup(groupSearch.selectedGroup);\" data-ng-model=\"groupSearch.selectedGroup\" data-placeholder=\"{{:: 'groups-joining-select.placeholder' | translate}}...\"/>\n+                                        </div>\n+                                    </div>\n+                                </div>\n+                            </th>\n+                        </tr>\n+                        <tr data-ng-hide=\"!selectedGroups || selectedGroups.length == 0\">\n+                            <th>{{:: 'groups-joining-path' | translate}}</th>\n+                            <th width=\"20%\">{{:: 'actions' | translate}}</th>\n+                        </tr>\n+                        </thead>\n+                        <tbody>\n+                        <tr ng-repeat=\"group in selectedGroups\">\n+                            <td>{{group.path}}</td>\n+                            <td class=\"kc-action-cell\" ng-click=\"removeGroup(selectedGroups, group);\" style=\"vertical-align: middle\">\n+                                {{:: 'remove' | translate}}\n+                            </td>\n+                        </tr>\n+                        <tr data-ng-show=\"!selectedGroups || selectedGroups.length == 0\">\n+                            <td class=\"text-muted\" colspan=\"2\">{{:: 'groups-joining-no-selected' | translate}}</td>\n+                        </tr>\n+                        </tbody>\n+                    </table>\n+                </div>\n+                <kc-tooltip>{{:: 'groups-joining.tooltip' | translate}}</kc-tooltip>\n+            </div>\n             <div class=\"form-group clearfix\">\n                 <label class=\"col-md-2 control-label\" for=\"reqActions\">{{:: 'required-user-actions' | translate}}</label>\n "
  },
  {
    "sha": "47166f5a5b2a353978e59236a725855fb1121d52",
    "filename": "themes/src/main/resources/theme/keycloak/admin/resources/css/styles.css",
    "status": "modified",
    "additions": 14,
    "deletions": 0,
    "changes": 14,
    "blob_url": "https://github.com/olantobi/keycloak/blob/0b68f24a09c3d9f73b35fb85a207e5be939cc8f1/themes/src/main/resources/theme/keycloak/admin/resources/css/styles.css",
    "raw_url": "https://github.com/olantobi/keycloak/raw/0b68f24a09c3d9f73b35fb85a207e5be939cc8f1/themes/src/main/resources/theme/keycloak/admin/resources/css/styles.css",
    "contents_url": "https://api.github.com/repos/olantobi/keycloak/contents/themes/src/main/resources/theme/keycloak/admin/resources/css/styles.css?ref=0b68f24a09c3d9f73b35fb85a207e5be939cc8f1",
    "patch": "@@ -190,6 +190,20 @@ th.w-40 {\n     height: 26px;\n }\n \n+.select2-container-single {\n+    padding: 0;\n+    margin: 0;\n+}\n+\n+.select2-container-single .form-group {\n+    width: 100%;\n+    margin: 0;\n+}\n+\n+.select2-container-single .form-group .input-group {\n+    width: 100%;\n+}\n+\n /*********** html select ********/\n .overflow-select {\n     overflow: auto;"
  }
]
