[
  {
    "sha": "9ca3871b240cfc7b287a2e0ef7cd0eab7ffad95d",
    "filename": "docs/content/instcfg_pxf.html.md.erb",
    "status": "modified",
    "additions": 28,
    "deletions": 8,
    "changes": 36,
    "blob_url": "https://github.com/greenplum-db/pxf/blob/94c0214ecef22ff3e8f352f200deec102f2f9a1b/docs/content/instcfg_pxf.html.md.erb",
    "raw_url": "https://github.com/greenplum-db/pxf/raw/94c0214ecef22ff3e8f352f200deec102f2f9a1b/docs/content/instcfg_pxf.html.md.erb",
    "contents_url": "https://api.github.com/repos/greenplum-db/pxf/contents/docs/content/instcfg_pxf.html.md.erb?ref=94c0214ecef22ff3e8f352f200deec102f2f9a1b",
    "patch": "@@ -1,24 +1,44 @@\n ---\n title: Configuring PXF\n ---\n-\n Your Greenplum Database deployment consists of a master node, standby master, and multiple segment hosts. After you configure the Greenplum Platform Extension Framework (PXF), you start a single PXF JVM process (PXF Service) on each Greenplum Database host.\n \n PXF provides connectors to Hadoop, Hive, HBase, object stores, network file systems, and external SQL data stores. You must configure PXF to support the connectors that you plan to use.\n \n To configure PXF, you must:\n \n-1. Install Java 8 or 11 on each Greenplum Database host as described in [Installing Java for PXF](install_java.html).\n+1. Install Java 8 or 11 on each Greenplum Database host as described in [Installing Java for PXF](install_java.html). If your `JAVA_HOME` is different to `/usr/java/default`, you must inform PXF of the $JAVA_HOME setting by specifying its value in the `pxf-env.sh` [configuration file](config_files.html). \n+    - Edit the `$PXF_BASE/conf/pxf-env.sh` file on the Greenplum master node.\n+\n+        ``` shell        \n+        gpadmin@gpmaster$ vi /usr/local/pxf-gp6/conf/pxf-env.sh\n+        ```\n+    - Locate the `JAVA_HOME` setting in the `pxf-env.sh` file, uncomment if necessary, and set it to your `$JAVA_HOME` value. For example:\n+\n+        ```\n+        export JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk/jre/\n+        ```\n+\n+1. Register the PXF extension with Greenplum Database (see [pxf cluster register](ref/pxf-cluster.html)). Run this command after your first installation of a PXF version 6.x, and/or after you upgrade your Greenplum Database installation:\n+\n+    ``` shell\n+    gpadmin@gpmaster$ pxf cluster register\n+    ```\n+\n+1. If you plan to use the Hadoop, Hive, or HBase PXF connectors, you must perform the configuration procedure described in [Configuring PXF Hadoop Connectors](client_instcfg.html).\n \n-2. Register the PXF extension with Greenplum Database (see [pxf cluster register](ref/pxf-cluster.html)). Run this command after your first installation of a PXF version 6.x, and/or after you upgrade your Greenplum Database installation.\n+1. If you plan to use the PXF connectors to access the Azure, Google Cloud Storage, Minio, or S3 object store(s), you must perform the configuration procedure described in [Configuring Connectors to Azure, Google Cloud Storage, Minio, and S3 Object Stores](objstore_cfg.html).\n \n-3. If you plan to use the Hadoop, Hive, or HBase PXF connectors, you must perform the configuration procedure described in [Configuring PXF Hadoop Connectors](client_instcfg.html).\n+1. If you plan to use the PXF JDBC Connector to access an external SQL database, perform the configuration procedure described in [Configuring the JDBC Connector](jdbc_cfg.html).\n \n-3. If you plan to use the PXF connectors to access the Azure, Google Cloud Storage, Minio, or S3 object store(s), you must perform the configuration procedure described in [Configuring Connectors to Azure, Google Cloud Storage, Minio, and S3 Object Stores](objstore_cfg.html).\n+1. If you plan to use PXF to access a network file system, perform the configuration procedure described in [Configuring a PXF Network File System Server](nfs_pxf.html#ex_fscfg).\n \n-3. If you plan to use the PXF JDBC Connector to access an external SQL database, perform the configuration procedure described in [Configuring the JDBC Connector](jdbc_cfg.html).\n+1. After making any configuration changes, synchronize the PXF configuration to all hosts in the cluster.\n \n-3. If you plan to use PXF to access a network file system, perform the configuration procedure described in [Configuring a PXF Network File System Server](nfs_pxf.html#ex_fscfg).\n+    ``` shell\n+    gpadmin@gpmaster$ pxf cluster sync\n+    ```\n \n-After you complete PXF configuration, you [Start PXF](cfginitstart_pxf.html).\n+1. After synchronizing PXF configuration changes, [Start PXF](cfginitstart_pxf.html).\n \n+2. Enable the [PXF extension](using_pxf.html#enable-pxf-ext) and [grant access to users](using_pxf.html#access_pxf)."
  }
]
