[
  {
    "sha": "c873c93a609744d3b469230f6b6a22a695f2d19d",
    "filename": "pom.xml",
    "status": "modified",
    "additions": 18,
    "deletions": 0,
    "changes": 18,
    "blob_url": "https://github.com/aligorbor/Chatm/blob/debd8fd492805439aae203cf35d915d2b068850a/pom.xml",
    "raw_url": "https://github.com/aligorbor/Chatm/raw/debd8fd492805439aae203cf35d915d2b068850a/pom.xml",
    "contents_url": "https://api.github.com/repos/aligorbor/Chatm/contents/pom.xml?ref=debd8fd492805439aae203cf35d915d2b068850a",
    "patch": "@@ -20,6 +20,24 @@\n             <artifactId>javafx-fxml</artifactId>\n             <version>15.0.1</version>\n         </dependency>\n+        <!-- https://mvnrepository.com/artifact/org.xerial/sqlite-jdbc -->\n+        <dependency>\n+            <groupId>org.xerial</groupId>\n+            <artifactId>sqlite-jdbc</artifactId>\n+            <version>3.34.0</version>\n+        </dependency>\n+        <!-- https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-core -->\n+        <dependency>\n+            <groupId>org.apache.logging.log4j</groupId>\n+            <artifactId>log4j-core</artifactId>\n+            <version>2.14.0</version>\n+        </dependency>\n+        <!-- https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-api -->\n+        <dependency>\n+            <groupId>org.apache.logging.log4j</groupId>\n+            <artifactId>log4j-api</artifactId>\n+            <version>2.14.0</version>\n+        </dependency>\n     </dependencies>\n     <build>\n         <plugins>"
  },
  {
    "sha": "0d486b78f9672c91d812943e73007e2172ffa2d6",
    "filename": "src/main/java/org/openjfx/App.java",
    "status": "modified",
    "additions": 97,
    "deletions": 16,
    "changes": 113,
    "blob_url": "https://github.com/aligorbor/Chatm/blob/debd8fd492805439aae203cf35d915d2b068850a/src/main/java/org/openjfx/App.java",
    "raw_url": "https://github.com/aligorbor/Chatm/raw/debd8fd492805439aae203cf35d915d2b068850a/src/main/java/org/openjfx/App.java",
    "contents_url": "https://api.github.com/repos/aligorbor/Chatm/contents/src/main/java/org/openjfx/App.java?ref=debd8fd492805439aae203cf35d915d2b068850a",
    "patch": "@@ -4,35 +4,116 @@\n import javafx.fxml.FXMLLoader;\n import javafx.scene.Parent;\n import javafx.scene.Scene;\n+import javafx.stage.Modality;\n import javafx.stage.Stage;\n+import org.apache.logging.log4j.LogManager;\n+import org.apache.logging.log4j.Logger;\n+import org.openjfx.client.AuthController;\n+import org.openjfx.client.Controller;\n+import org.openjfx.client.Network;\n+import org.openjfx.client.RegisterController;\n+import org.openjfx.server.ServerApp;\n \n import java.io.IOException;\n \n-/**\n- * JavaFX App\n- */\n public class App extends Application {\n+    private static final Logger logger = LogManager.getLogger(\"client\");\n \n-    private static Scene scene;\n+    private Stage primaryStage;\n+    private Stage authStage;\n+    private Stage registerStage;\n \n-    @Override\n-    public void start(Stage stage) throws IOException {\n-        scene = new Scene(loadFXML(\"primary\"), 640, 480);\n-        stage.setScene(scene);\n-        stage.show();\n+    private Network network;\n+    private Controller controller;\n+    private AuthController authLoaderController;\n+    private RegisterController registerLoaderController;\n+\n+    public Stage getPrimaryStage() {\n+        return primaryStage;\n     }\n \n-    static void setRoot(String fxml) throws IOException {\n-        scene.setRoot(loadFXML(fxml));\n+    public Stage getAuthStage() {\n+        return authStage;\n     }\n \n-    private static Parent loadFXML(String fxml) throws IOException {\n-        FXMLLoader fxmlLoader = new FXMLLoader(App.class.getResource(fxml + \".fxml\"));\n-        return fxmlLoader.load();\n+    public Stage getRegisterStage() {\n+        return registerStage;\n+    }\n+\n+\n+    @Override\n+    public void start(Stage primaryStage) {\n+        this.primaryStage = primaryStage;\n+\n+        try {\n+            chatDialog();\n+            authDialig();\n+            registerDialig();\n+            network = new Network();\n+            network.setController(controller);\n+            network.setAuthController(authLoaderController);\n+            network.setRegisterController(registerLoaderController);\n+            network.setAppChat(this);\n+            controller.setNetwork(network);\n+            authLoaderController.setNetwork(network);\n+            registerLoaderController.setNetwork(network);\n+\n+            if (!network.connect())\n+                System.exit(0);\n+\n+        } catch (Exception e) {\n+            logger.error(e.getMessage());\n+            System.exit(1);\n+        }\n     }\n \n     public static void main(String[] args) {\n-        launch();\n+        launch(args);\n+    }\n+\n+    private void authDialig() throws IOException {\n+        FXMLLoader authLoader = new FXMLLoader();\n+        authLoader.setLocation(App.class.getResource(\"auth-view.fxml\"));\n+\n+        Parent root = authLoader.load();\n+        authStage = new Stage();\n+        authStage.setTitle(\"Аутентификация\");\n+        authStage.setScene(new Scene(root));\n+        authStage.initModality(Modality.WINDOW_MODAL);\n+        authStage.initOwner(primaryStage);\n+        authStage.setOnCloseRequest(evt -> {\n+            if (!network.isAuthorized()) System.exit(0);\n+        });\n+        //authStage.setX(2200);\n+        authStage.show();\n+        authLoaderController = authLoader.getController();\n+    }\n+\n+    private void chatDialog() throws IOException {\n+        FXMLLoader loader = new FXMLLoader();\n+        loader.setLocation(App.class.getResource(\"sample.fxml\"));\n+        Parent root = loader.load();\n+        primaryStage.setTitle(\"Chat\");\n+        primaryStage.setScene(new Scene(root));\n+        //primaryStage.setX(2200);\n+        controller = loader.getController();\n+        primaryStage.setOnCloseRequest(evt -> {\n+            controller.saveChatToFiles();\n+        });\n+        primaryStage.show();\n+    }\n+\n+    private void registerDialig() throws IOException {\n+        FXMLLoader registerLoader = new FXMLLoader();\n+        registerLoader.setLocation(App.class.getResource(\"register-view.fxml\"));\n+\n+        Parent root = registerLoader.load();\n+        registerStage = new Stage();\n+        registerStage.setTitle(\"Регистрация\");\n+        registerStage.setScene(new Scene(root));\n+        registerStage.initModality(Modality.WINDOW_MODAL);\n+        registerStage.initOwner(authStage);\n+        registerLoaderController = registerLoader.getController();\n     }\n+}\n \n-}\n\\ No newline at end of file"
  },
  {
    "sha": "6731bf3cf495957a81f18bc3c3ca8a3da0276a28",
    "filename": "src/main/java/org/openjfx/client/AuthController.java",
    "status": "added",
    "additions": 91,
    "deletions": 0,
    "changes": 91,
    "blob_url": "https://github.com/aligorbor/Chatm/blob/debd8fd492805439aae203cf35d915d2b068850a/src/main/java/org/openjfx/client/AuthController.java",
    "raw_url": "https://github.com/aligorbor/Chatm/raw/debd8fd492805439aae203cf35d915d2b068850a/src/main/java/org/openjfx/client/AuthController.java",
    "contents_url": "https://api.github.com/repos/aligorbor/Chatm/contents/src/main/java/org/openjfx/client/AuthController.java?ref=debd8fd492805439aae203cf35d915d2b068850a",
    "patch": "@@ -0,0 +1,91 @@\n+package org.openjfx.client;\n+\n+import javafx.application.Platform;\n+import javafx.collections.FXCollections;\n+import javafx.collections.ObservableList;\n+import javafx.fxml.FXML;\n+import javafx.scene.control.*;\n+import org.apache.logging.log4j.LogManager;\n+import org.apache.logging.log4j.Logger;\n+import org.openjfx.App;\n+\n+import java.io.IOException;\n+\n+public class AuthController {\n+    private static final Logger logger = LogManager.getLogger(\"client\");\n+    @FXML\n+    public PasswordField passwordField;\n+    @FXML\n+    private ChoiceBox<String> choicePersonAccount;\n+\n+    @FXML\n+    private Button authButton;\n+\n+    private Network network;\n+\n+    private ObservableList<String> loginList = FXCollections.observableArrayList();\n+\n+    @FXML\n+    void initialize() {\n+        choicePersonAccount.setItems(loginList);\n+        choicePersonAccount.setOnAction(actionEvent -> {\n+            prepareControls();\n+        });\n+    }\n+\n+    @FXML\n+    public void checkAuth() {\n+        String login = choicePersonAccount.getValue().trim();\n+        String password = passwordField.getText().trim();\n+\n+        if (login.length() == 0 || password.length() == 0) {\n+            authErrAlert(\"Ошибка авторизации\", \"Поля не должны быть пустыми!\");\n+            return;\n+        }\n+\n+        try {\n+            network.getOut().writeUTF(Network.CMD_PREF_AUTH + \" \" + login + \" \" + password);\n+            network.setCurrentLogin(login);\n+            passwordField.clear();\n+        } catch (IOException e) {\n+            logger.error(e.getMessage());\n+        }\n+\n+    }\n+\n+    @FXML\n+    void register() {\n+        Platform.runLater(() -> network.getAppChat().getRegisterStage().show());\n+    }\n+\n+    public void setNetwork(Network network) {\n+        this.network = network;\n+    }\n+\n+    public void addLoginList(String login) {\n+        loginList.add(login);\n+    }\n+\n+    public void clearLoginList() {\n+        loginList.removeAll();\n+    }\n+\n+    public void prepareControls() {\n+        if (network.isAuthorized()) {\n+            choicePersonAccount.setDisable(true);\n+            passwordField.setDisable(true);\n+            authButton.setDisable(true);\n+        } else {\n+            choicePersonAccount.setDisable(false);\n+            passwordField.setDisable(false);\n+            authButton.setDisable(false);\n+        }\n+    }\n+\n+    public void authErrAlert(String title, String content) {\n+        Alert alert = new Alert(Alert.AlertType.ERROR);\n+        alert.setTitle(title);\n+        alert.setContentText(content);\n+        alert.show();\n+    }\n+}"
  },
  {
    "sha": "7bc4002619bcf16edb3ed5152d96abb4b1cd8aff",
    "filename": "src/main/java/org/openjfx/client/Controller.java",
    "status": "added",
    "additions": 277,
    "deletions": 0,
    "changes": 277,
    "blob_url": "https://github.com/aligorbor/Chatm/blob/debd8fd492805439aae203cf35d915d2b068850a/src/main/java/org/openjfx/client/Controller.java",
    "raw_url": "https://github.com/aligorbor/Chatm/raw/debd8fd492805439aae203cf35d915d2b068850a/src/main/java/org/openjfx/client/Controller.java",
    "contents_url": "https://api.github.com/repos/aligorbor/Chatm/contents/src/main/java/org/openjfx/client/Controller.java?ref=debd8fd492805439aae203cf35d915d2b068850a",
    "patch": "@@ -0,0 +1,277 @@\n+package org.openjfx.client;\n+\n+import javafx.collections.FXCollections;\n+import javafx.collections.ObservableList;\n+import javafx.fxml.FXML;\n+import javafx.scene.control.*;\n+import org.apache.logging.log4j.LogManager;\n+import org.apache.logging.log4j.Logger;\n+\n+import java.io.*;\n+import java.text.DateFormat;\n+import java.util.ArrayList;\n+import java.util.Date;\n+\n+public class Controller {\n+\n+    private static final Logger logger = LogManager.getLogger(\"client\");\n+\n+    @FXML\n+    private TextField inputField;\n+\n+    @FXML\n+    private Button sendButton;\n+\n+    @FXML\n+    private ListView<String> listView;\n+\n+    @FXML\n+    private ListView<String> listPersons;\n+\n+    @FXML\n+    private Label labelPersonChat;\n+\n+\n+    @FXML\n+    private TextField textLoginNick;\n+\n+    @FXML\n+    private Button btnChangeNick;\n+\n+    private MultipleSelectionModel<String> personsSelectionModel;\n+    private MultipleSelectionModel<String> chatSelectionModel;\n+\n+    private ObservableList<String> personList = FXCollections.observableArrayList\n+            (\"Общий чат\");\n+    private final ArrayList<ObservableList<String>> arrChat = new ArrayList<>();\n+\n+    private Network network;\n+    private String loginNick;\n+    private ArrayList<Integer> currentHistNumbLines = new ArrayList<>();\n+\n+    public void setNetwork(Network network) {\n+        this.network = network;\n+    }\n+\n+    @FXML\n+    void initialize() {\n+        personsSelectionModel = listPersons.getSelectionModel();\n+        chatSelectionModel = listView.getSelectionModel();\n+\n+        personsSelectionModel.selectedItemProperty().addListener((changed, oldValue, newValue) -> {\n+            labelPersonChat.setText(newValue);\n+            int index = personsSelectionModel.getSelectedIndex();\n+            listView.setItems(arrChat.get(index));\n+            refreshChatList();\n+        });\n+\n+        listPersons.setItems(personList);\n+        while (arrChat.size() < personList.size()) {\n+            arrChat.add(FXCollections.observableArrayList());\n+            currentHistNumbLines.add(0);\n+        }\n+        personsSelectionModel.select(0);\n+    }\n+\n+    @FXML\n+    void sendMessage() {\n+        // String timeStamp = DateFormat.getInstance().format(new Date());\n+        String message = inputField.getText().trim();\n+        if (!message.isBlank()) {\n+            // message = timeStamp + \" \"+ message;\n+            int index = personsSelectionModel.getSelectedIndex();\n+            if (index > 0) {\n+                message = Network.CMD_PREF_INDIVID + \" \" + personList.get(index) + \": \" + message;\n+            }\n+            try {\n+                network.getOut().writeUTF(message);\n+            } catch (IOException e) {\n+                //  System.out.println(\"Ошибка при отправке сообщения\");\n+                logger.error(e.getMessage());\n+            }\n+        } else {\n+            chatErrAlert(\"Ошибка ввода сообщения\", \"Нельзя отправлять пустое сообщение\");\n+        }\n+        inputField.clear();\n+        textLoginNick.setText(loginNick);\n+    }\n+\n+    public void setLoginNick(String loginNick) {\n+        this.loginNick = loginNick;\n+    }\n+\n+    public void refreshChatList() {\n+        if (listView.getItems().size() > 0)\n+            listView.scrollTo(listView.getItems().size() - 1);\n+        //  chatSelectionModel.select(listView.getItems().size() - 1);\n+    }\n+\n+    public void appendMessage(String message) {\n+        if (message.startsWith(Network.CMD_PREF_CHANGENICK)) {\n+            message = changeNick(message);\n+        }\n+        if (message.startsWith(Network.CMD_PREF_AUTHOK) || message.startsWith(Network.CMD_PREF_NICK)) {\n+            message = addNick(message);\n+        }\n+        if (message.startsWith(Network.CMD_PREF_INDIVID)) {\n+            String namePerson;\n+            if (message.startsWith(Network.CMD_PREF_INDIVIDBACK)) {\n+                namePerson = message.substring(Network.CMD_PREF_INDIVIDBACK.length() + 1, message.indexOf(\":\"));\n+                message = message.substring(Network.CMD_PREF_INDIVIDBACK.length() + 1);\n+                message = message.replaceFirst(namePerson, loginNick);\n+            } else {\n+                namePerson = message.substring(Network.CMD_PREF_INDIVID.length() + 1, message.indexOf(\":\"));\n+                message = message.substring(Network.CMD_PREF_INDIVID.length() + 1);\n+            }\n+            personsSelectionModel.select(personList.indexOf(namePerson));\n+        } else {\n+            personsSelectionModel.select(0);\n+        }\n+        if (!message.isBlank()) {\n+            listView.getItems().add(message);\n+            refreshChatList();\n+        }\n+    }\n+\n+    public String addNick(String strNick) {\n+        String[] parts = strNick.split(\"\\\\s\");\n+        String cmdPref = parts[0];\n+        String msgNick = parts[1];\n+        if (cmdPref.equals(Network.CMD_PREF_AUTHOK)) {\n+            loginNick = msgNick;\n+            textLoginNick.setText(loginNick);\n+            prepareControls();\n+            return loginNick + \" зашел в чат\";\n+        } else if ((cmdPref.equals(Network.CMD_PREF_NICK) || cmdPref.equals(Network.CMD_PREF_NICKLIST)) && !msgNick.equals(loginNick)) {\n+            personList.add(msgNick);\n+            arrChat.add(FXCollections.observableArrayList());\n+            currentHistNumbLines.add(0);\n+            restoreChatFromFile(arrChat.size() - 1);\n+            if (cmdPref.equals(Network.CMD_PREF_NICK))\n+                return msgNick + \" зашел в чат\";\n+        } else if (cmdPref.equals(Network.CMD_PREF_NICKEND) && !msgNick.equals(loginNick)) {\n+            int ind = personList.indexOf(msgNick);\n+            saveChatToFile(ind);\n+            arrChat.remove(ind);\n+            currentHistNumbLines.remove(ind);\n+            personList.remove(msgNick);\n+            return parts[1] + \" вышел из чата\";\n+        }\n+        return \"\";\n+    }\n+\n+    public String changeNick(String strNick) {\n+        String[] parts = strNick.split(\"\\\\s\");\n+        String oldNick = parts[1];\n+        String newNick = parts[2];\n+        if (loginNick.equals(oldNick)) {\n+            loginNick = newNick;\n+            textLoginNick.setText(loginNick);\n+        } else {\n+            personList.set(personList.indexOf(oldNick), newNick);\n+        }\n+        changeHistoryFileName(oldNick, newNick);\n+        return oldNick + \" сменил ник на \" + newNick;\n+    }\n+\n+    private void changeHistoryFileName(String oldNick, String newNick) {\n+        File fileOld = new File(Network.HISTORY_URL_STARTS + network.getCurrentLogin() + \"_\" + oldNick + \".txt\");\n+        File fileNew = new File(Network.HISTORY_URL_STARTS + network.getCurrentLogin() + \"_\" + newNick + \".txt\");\n+        if (fileNew.exists()) fileNew.delete();\n+        if (fileOld.exists()) fileOld.renameTo(fileNew);\n+\n+    }\n+\n+    public void prepareControls() {\n+        if (network.isAuthorized()) {\n+            inputField.setDisable(false);\n+            sendButton.setDisable(false);\n+        } else {\n+            inputField.setDisable(true);\n+            sendButton.setDisable(true);\n+        }\n+    }\n+\n+    @FXML\n+    void onChangeNick() {\n+        String newNick = textLoginNick.getText().trim();\n+\n+        if (newNick.equals(loginNick)) return;\n+\n+        if (newNick.length() == 0) {\n+            chatErrAlert(\"Ошибка смены ника\", \"Ник не должен быть пустым\");\n+            return;\n+        }\n+\n+        try {\n+            network.getOut().writeUTF(Network.CMD_PREF_CHANGENICK + \" \" + loginNick + \" \" + newNick);\n+            textLoginNick.setText(loginNick);\n+        } catch (IOException e) {\n+            logger.error(e.getMessage());\n+        }\n+    }\n+\n+    public void saveChatToFiles() {\n+        for (String person : personList) {\n+            saveChatToFile(personList.indexOf(person));\n+        }\n+    }\n+\n+    public void saveChatToFile(int chatIndex) {\n+        String fileName = Network.HISTORY_URL_STARTS + network.getCurrentLogin() + \"_\" + personList.get(chatIndex) + \".txt\";\n+        try (BufferedWriter writer = new BufferedWriter(new FileWriter(fileName, true))) {\n+            ObservableList<String> chat = arrChat.get(chatIndex);\n+\n+            for (int i = currentHistNumbLines.get(chatIndex); i < chat.size(); i++) {\n+                writer.write(chat.get(i) + \"\\n\");\n+            }\n+        } catch (IOException e) {\n+            logger.error(e.getMessage());\n+        }\n+\n+    }\n+\n+    public void restoreChatFromFiles() {\n+        arrChat.get(0).clear();   //удаляю сообщения от авторизации\n+        for (String person : personList) {\n+            restoreChatFromFile(personList.indexOf(person));\n+        }\n+    }\n+\n+    public void restoreChatFromFile(int chatIndex) {\n+        currentHistNumbLines.set(chatIndex, 0);\n+\n+        String fileName = Network.HISTORY_URL_STARTS + network.getCurrentLogin() + \"_\" + personList.get(chatIndex) + \".txt\";\n+\n+        if (new File(fileName).exists()) {\n+            ArrayList<String> history = new ArrayList<>();\n+            try (BufferedReader reader = new BufferedReader(new FileReader(fileName))) {\n+                String str;\n+                while ((str = reader.readLine()) != null) {\n+                    history.add(str);\n+                }\n+            } catch (IOException e) {\n+                logger.error(e.getMessage());\n+            }\n+            int indexFrom;\n+            if (history.size() > Network.HISTORY_NUMBER_LINES) {\n+                indexFrom = history.size() - Network.HISTORY_NUMBER_LINES;\n+                currentHistNumbLines.set(chatIndex, Network.HISTORY_NUMBER_LINES);\n+            } else {\n+                indexFrom = 0;\n+                currentHistNumbLines.set(chatIndex, history.size());\n+            }\n+            for (int i = indexFrom; i < history.size(); i++) {\n+                arrChat.get(chatIndex).add(history.get(i));\n+            }\n+\n+        }\n+    }\n+\n+    public void chatErrAlert(String title, String content) {\n+        Alert alert = new Alert(Alert.AlertType.ERROR);\n+        alert.setTitle(title);\n+        alert.setContentText(content);\n+        alert.show();\n+    }\n+}"
  },
  {
    "sha": "bb9b946d9a662782a30be39491f54be789d562f0",
    "filename": "src/main/java/org/openjfx/client/Network.java",
    "status": "added",
    "additions": 200,
    "deletions": 0,
    "changes": 200,
    "blob_url": "https://github.com/aligorbor/Chatm/blob/debd8fd492805439aae203cf35d915d2b068850a/src/main/java/org/openjfx/client/Network.java",
    "raw_url": "https://github.com/aligorbor/Chatm/raw/debd8fd492805439aae203cf35d915d2b068850a/src/main/java/org/openjfx/client/Network.java",
    "contents_url": "https://api.github.com/repos/aligorbor/Chatm/contents/src/main/java/org/openjfx/client/Network.java?ref=debd8fd492805439aae203cf35d915d2b068850a",
    "patch": "@@ -0,0 +1,200 @@\n+package org.openjfx.client;\n+\n+import javafx.application.Platform;\n+import org.apache.logging.log4j.LogManager;\n+import org.apache.logging.log4j.Logger;\n+import org.openjfx.App;\n+\n+import java.io.DataInputStream;\n+import java.io.DataOutputStream;\n+import java.io.IOException;\n+import java.net.Socket;\n+\n+public class Network {\n+    private static final Logger logger = LogManager.getLogger(\"client\");\n+\n+    private static final int DEFAULT_SERVER_SOCKET = 8189;\n+    private static final String DEFAULT_SERVER_HOST = \"localhost\";\n+\n+    public static final String CMD_PREF_REGISTER = \"/register\";\n+    public static final String CMD_PREF_AUTH = \"/auth\";\n+    public static final String CMD_PREF_AUTHOK = \"/authok\";\n+    public static final String CMD_PREF_NICK = \"/nick\";\n+    public static final String CMD_PREF_NICKLIST = \"/nicklist\";\n+    public static final String CMD_PREF_NICKEND = \"/nickend\";\n+    public static final String CMD_PREF_LOGINEND = \"/loginend\";\n+    public static final String CMD_PREF_END = \"/end\";\n+    public static final String CMD_PREF_INDIVID = \"/w\";\n+    public static final String CMD_PREF_INDIVIDBACK = \"/wback\";\n+    public static final String CMD_PREF_CHANGENICK = \"/changenick\";\n+\n+    public static final int HISTORY_NUMBER_LINES = 100;\n+    public static final String HISTORY_URL_STARTS = \"src/main/resources/lib/history_\";\n+\n+\n+    private Socket socket;\n+    private DataInputStream in;\n+    private DataOutputStream out;\n+    private boolean authorized;\n+    private String currentLogin;\n+\n+    private final Object lockAuthorization = new Object();\n+\n+    private final int port;\n+    private final String host;\n+\n+    private Controller controller;\n+    private AuthController authController;\n+    private RegisterController registerController;\n+\n+    private App appChat;\n+\n+    public App getAppChat() {\n+        return appChat;\n+    }\n+\n+    public void setAppChat(App appChat) {\n+        this.appChat = appChat;\n+    }\n+\n+    public void setController(Controller controller) {\n+        this.controller = controller;\n+    }\n+\n+    public void setAuthController(AuthController authController) {\n+        this.authController = authController;\n+    }\n+\n+    public void setRegisterController(RegisterController registerController) {\n+        this.registerController = registerController;\n+    }\n+\n+    public String getCurrentLogin() {\n+        return currentLogin;\n+    }\n+\n+    public void setCurrentLogin(String currentLogin) {\n+        this.currentLogin = currentLogin;\n+    }\n+\n+    public Network(String host, int port) {\n+        this.port = port;\n+        this.host = host;\n+        currentLogin = \"\";\n+    }\n+\n+    public boolean isAuthorized() {\n+        return authorized;\n+    }\n+\n+    public void setAuthorized(boolean authorized) {\n+        this.authorized = authorized;\n+    }\n+\n+    public Network() {\n+        this.host = DEFAULT_SERVER_HOST;\n+        this.port = DEFAULT_SERVER_SOCKET;\n+    }\n+\n+    public boolean connect() {\n+        try {\n+            socket = new Socket(host, port);\n+            in = new DataInputStream(socket.getInputStream());\n+            out = new DataOutputStream(socket.getOutputStream());\n+            getLoginsFromServer();\n+            setAuthorized(false);\n+            startAuthorization();\n+        } catch (IOException e) {\n+            //   System.out.println(\"Соединение не установлено\");\n+            logger.error(e.getMessage());\n+            return false;\n+        }\n+        return true;\n+    }\n+\n+    public void disconnect() {\n+        try {\n+            controller.setLoginNick(\"\");\n+            authController.clearLoginList();\n+            out.writeUTF(Network.CMD_PREF_END);\n+            socket.close();\n+        } catch (IOException e) {\n+            // System.out.println(\"Ошибка отключения\");\n+            logger.error(e.getMessage());\n+        }\n+\n+    }\n+\n+    private void getLoginsFromServer() throws IOException {\n+        while (true) {\n+            String message = in.readUTF();\n+            if (message.startsWith(Network.CMD_PREF_LOGINEND)) {\n+                break;\n+            }\n+            authController.addLoginList(message);\n+        }\n+    }\n+\n+    public DataOutputStream getOut() {\n+        return out;\n+    }\n+\n+    public void startAuthorization() {\n+        new Thread(() -> {\n+            synchronized (lockAuthorization) {\n+                try {\n+                    while (true) {\n+                        String message = in.readUTF();\n+                        if (message.startsWith(Network.CMD_PREF_AUTHOK)) {\n+                            setAuthorized(true);\n+                            Platform.runLater(() -> controller.restoreChatFromFiles());\n+                            Platform.runLater(() -> controller.appendMessage(message));\n+\n+                            Platform.runLater(() -> controller.refreshChatList());\n+                            Platform.runLater(() -> appChat.getAuthStage().close());\n+                            Platform.runLater(() -> appChat.getRegisterStage().close());\n+                            Platform.runLater(() -> appChat.getPrimaryStage().setTitle(\"Chat \" + currentLogin));\n+                            Platform.runLater(() -> appChat.getPrimaryStage().setAlwaysOnTop(true));\n+                            break;\n+                        } else\n+                            //  Platform.runLater(() -> controller.appendMessage(message));\n+                            Platform.runLater(() -> authController.authErrAlert(\"Ошибка авторизации\", message));\n+\n+                    }\n+                } catch (IOException e) {\n+                    //   System.out.println(\"Ошибка при авторизации\");\n+                    logger.error(e.getMessage());\n+                    System.exit(1);\n+                }\n+            }\n+        }).start();\n+\n+        waitMessage();\n+    }\n+\n+    public void waitMessage() {\n+        Thread thread = new Thread(() -> {\n+            synchronized (lockAuthorization) {\n+                if (isAuthorized()) {\n+                    try {\n+                        while (true) {\n+                            String message = in.readUTF();\n+                            if (message.equalsIgnoreCase(Network.CMD_PREF_END)) {\n+                                break;\n+                            }\n+                            Platform.runLater(() -> controller.appendMessage(message));\n+                        }\n+                    } catch (IOException | NullPointerException e) {\n+                        //   System.out.println(\"Ошибка подключения\");\n+                        logger.error(e.getMessage());\n+                        System.exit(1);\n+                    }\n+                } else\n+                    System.exit(1);\n+            }\n+        });\n+        thread.setDaemon(true);\n+        thread.start();\n+    }\n+\n+}"
  },
  {
    "sha": "f0dab28d5039515cf689d32e605798f9cd053f46",
    "filename": "src/main/java/org/openjfx/client/RegisterController.java",
    "status": "added",
    "additions": 78,
    "deletions": 0,
    "changes": 78,
    "blob_url": "https://github.com/aligorbor/Chatm/blob/debd8fd492805439aae203cf35d915d2b068850a/src/main/java/org/openjfx/client/RegisterController.java",
    "raw_url": "https://github.com/aligorbor/Chatm/raw/debd8fd492805439aae203cf35d915d2b068850a/src/main/java/org/openjfx/client/RegisterController.java",
    "contents_url": "https://api.github.com/repos/aligorbor/Chatm/contents/src/main/java/org/openjfx/client/RegisterController.java?ref=debd8fd492805439aae203cf35d915d2b068850a",
    "patch": "@@ -0,0 +1,78 @@\n+package org.openjfx.client;\n+\n+import javafx.application.Platform;\n+import javafx.fxml.FXML;\n+import javafx.scene.control.*;\n+import org.apache.logging.log4j.LogManager;\n+import org.apache.logging.log4j.Logger;\n+import org.openjfx.App;\n+\n+import java.io.IOException;\n+\n+\n+public class RegisterController {\n+    private static final Logger logger = LogManager.getLogger(\"client\");\n+\n+    @FXML\n+    private PasswordField passwordField;\n+\n+    @FXML\n+    private Button saveButton;\n+\n+    @FXML\n+    private Button cancelButton;\n+\n+    @FXML\n+    private TextField loginField;\n+\n+    @FXML\n+    private PasswordField repasswordField;\n+\n+    @FXML\n+    private TextField nickField;\n+\n+    private Network network;\n+\n+    public void setNetwork(Network network) {\n+        this.network = network;\n+    }\n+\n+    @FXML\n+    void saveChanges() {\n+        String login = loginField.getText().trim();\n+        String password = passwordField.getText().trim();\n+        String repassword = repasswordField.getText().trim();\n+        String nick = nickField.getText().trim();\n+\n+\n+        if (login.length() == 0 || password.length() == 0 || repassword.length() == 0 || nick.length() == 0) {\n+            registerErrAlert(\"Ошибка регистрации\", \"Поля не должны быть пустыми!\");\n+            return;\n+        }\n+\n+        if (!password.equals(repassword)) {\n+            registerErrAlert(\"Ошибка регистрации\", \"Пароли не совпадают!\");\n+            return;\n+        }\n+\n+        try {\n+            network.getOut().writeUTF(Network.CMD_PREF_REGISTER + \" \" + login + \" \" + password + \" \" + nick);\n+            network.setCurrentLogin(login);\n+        } catch (IOException e) {\n+            logger.error(e.getMessage());\n+        }\n+\n+    }\n+\n+    @FXML\n+    void cancelChanges() {\n+        Platform.runLater(() -> network.getAppChat().getRegisterStage().close());\n+    }\n+\n+    public void registerErrAlert(String title, String content) {\n+        Alert alert = new Alert(Alert.AlertType.ERROR);\n+        alert.setTitle(title);\n+        alert.setContentText(content);\n+        alert.show();\n+    }\n+}"
  },
  {
    "sha": "96caead4b3b6dfe81cf3743027ae900cb5f9dc23",
    "filename": "src/main/java/org/openjfx/server/AuthService.java",
    "status": "added",
    "additions": 19,
    "deletions": 0,
    "changes": 19,
    "blob_url": "https://github.com/aligorbor/Chatm/blob/debd8fd492805439aae203cf35d915d2b068850a/src/main/java/org/openjfx/server/AuthService.java",
    "raw_url": "https://github.com/aligorbor/Chatm/raw/debd8fd492805439aae203cf35d915d2b068850a/src/main/java/org/openjfx/server/AuthService.java",
    "contents_url": "https://api.github.com/repos/aligorbor/Chatm/contents/src/main/java/org/openjfx/server/AuthService.java?ref=debd8fd492805439aae203cf35d915d2b068850a",
    "patch": "@@ -0,0 +1,19 @@\n+package org.openjfx.server;\n+\n+import java.sql.SQLException;\n+import java.util.ArrayList;\n+\n+public interface AuthService {\n+    void start() throws SQLException, ClassNotFoundException;\n+\n+    String getNickByLoginPass(String login, String pass);\n+\n+    String changeNick(String oldNick, String newNick);\n+\n+    String registerNew(String login, String pass, String nick);\n+\n+    void stop();\n+\n+    ArrayList<String> getLogins();\n+\n+}"
  },
  {
    "sha": "9d7fdfd1edb4cb216a237ddda9338afc815826f5",
    "filename": "src/main/java/org/openjfx/server/BaseAuthService.java",
    "status": "added",
    "additions": 141,
    "deletions": 0,
    "changes": 141,
    "blob_url": "https://github.com/aligorbor/Chatm/blob/debd8fd492805439aae203cf35d915d2b068850a/src/main/java/org/openjfx/server/BaseAuthService.java",
    "raw_url": "https://github.com/aligorbor/Chatm/raw/debd8fd492805439aae203cf35d915d2b068850a/src/main/java/org/openjfx/server/BaseAuthService.java",
    "contents_url": "https://api.github.com/repos/aligorbor/Chatm/contents/src/main/java/org/openjfx/server/BaseAuthService.java?ref=debd8fd492805439aae203cf35d915d2b068850a",
    "patch": "@@ -0,0 +1,141 @@\n+package org.openjfx.server;\n+\n+import org.apache.logging.log4j.LogManager;\n+import org.apache.logging.log4j.Logger;\n+\n+import java.sql.*;\n+import java.util.ArrayList;\n+\n+public class BaseAuthService implements AuthService {\n+    private final String strDriver;\n+    private final String strUrl;\n+    private Connection connection;\n+\n+    private static final Logger logger = LogManager.getLogger(BaseAuthService.class);\n+\n+    public BaseAuthService() {\n+        strDriver = \"org.sqlite.JDBC\";\n+        strUrl = \"jdbc:sqlite:src/main/resources/mainDb.sqlite\";\n+    }\n+\n+    public BaseAuthService(String strDriver, String strUrl) {\n+        this.strDriver = strDriver;\n+        this.strUrl = strUrl;\n+    }\n+\n+    @Override\n+    public void start() throws SQLException, ClassNotFoundException {\n+        setConnection(true);\n+        //  System.out.println(\"Сервис аутентификации запущен\");\n+        logger.info(\"Сервис аутентификации запущен\");\n+    }\n+\n+    @Override\n+    public String getNickByLoginPass(String login, String pass) {\n+        String str = null;\n+        PreparedStatement pst;\n+        try {\n+            pst = connection.prepareStatement(\"SELECT nick FROM logins WHERE login = ? and pass = ?\");\n+            pst.setString(1, login);\n+            pst.setString(2, pass);\n+            ResultSet rs = pst.executeQuery();\n+            rs.next();\n+            str = rs.getString(1);\n+        } catch (SQLException throwables) {\n+            //  throwables.printStackTrace();\n+            logger.error(throwables.getMessage());\n+        }\n+        return str;\n+    }\n+\n+    @Override\n+    public String changeNick(String oldNick, String newNick) {\n+        PreparedStatement pst;\n+        try {\n+            pst = connection.prepareStatement(\"SELECT COUNT (*) FROM logins WHERE nick = ?\");\n+            pst.setString(1, newNick);\n+            ResultSet rs = pst.executeQuery();\n+            rs.next();\n+            if (rs.getInt(1) == 0) {\n+                pst = connection.prepareStatement(\"update logins set nick=? where nick=?\");\n+                pst.setString(1, newNick);\n+                pst.setString(2, oldNick);\n+                if (pst.executeUpdate() > 0) return newNick;\n+            }\n+        } catch (SQLException throwables) {\n+            //    throwables.printStackTrace();\n+            logger.error(throwables.getMessage());\n+        }\n+        return null;\n+    }\n+\n+    @Override\n+    public String registerNew(String login, String pass, String nick) {\n+        PreparedStatement pst;\n+        try {\n+            pst = connection.prepareStatement(\"SELECT COUNT (*) FROM logins WHERE nick = ?\");\n+            pst.setString(1, nick);\n+            ResultSet rs = pst.executeQuery();\n+            rs.next();\n+            if (rs.getInt(1) > 0) return \"Ошибка регистрации. Ник \" + nick + \" уже существует\";\n+\n+            pst = connection.prepareStatement(\"SELECT COUNT (*) FROM logins WHERE login = ?\");\n+            pst.setString(1, login);\n+            rs = pst.executeQuery();\n+            rs.next();\n+            if (rs.getInt(1) > 0) return \"Ошибка регистрации. Логин \" + login + \" уже существует\";\n+\n+            if (rs.getInt(1) == 0) {\n+                pst = connection.prepareStatement(\"insert into logins values (?,?,?)\");\n+                pst.setString(1, login);\n+                pst.setString(2, pass);\n+                pst.setString(3, nick);\n+                if (pst.executeUpdate() > 0) return nick;\n+            }\n+\n+        } catch (SQLException throwables) {\n+            //    throwables.printStackTrace();\n+            logger.error(throwables.getMessage());\n+        }\n+        return null;\n+    }\n+\n+    @Override\n+    public void stop() {\n+        try {\n+            setConnection(false);\n+        } catch (ClassNotFoundException | SQLException e) {\n+            //  e.printStackTrace();\n+            logger.error(e.getMessage());\n+        }\n+        //     System.out.println(\"Сервис аутентификации остановлен\");\n+        logger.info(\"Сервис аутентификации остановлен\");\n+    }\n+\n+    @Override\n+    public ArrayList<String> getLogins() {\n+        ArrayList<String> arrayList = new ArrayList<>();\n+        Statement stmt;\n+        try {\n+            stmt = connection.createStatement();\n+            ResultSet rs = stmt.executeQuery(\"SELECT * FROM logins\");\n+            while (rs.next()) {\n+                arrayList.add(rs.getString(1));\n+            }\n+        } catch (SQLException throwables) {\n+            //   throwables.printStackTrace();\n+            logger.error(throwables.getMessage());\n+        }\n+        return arrayList;\n+    }\n+\n+    private void setConnection(boolean connect) throws ClassNotFoundException, SQLException {\n+        if (connect) {\n+            Class.forName(strDriver);\n+            connection = DriverManager.getConnection(strUrl);\n+        } else {\n+            if (connection != null)\n+                connection.close();\n+        }\n+    }\n+}"
  },
  {
    "sha": "20362b77a63e2e320f38a22671d550c6b496be7c",
    "filename": "src/main/java/org/openjfx/server/ClientHandler.java",
    "status": "added",
    "additions": 182,
    "deletions": 0,
    "changes": 182,
    "blob_url": "https://github.com/aligorbor/Chatm/blob/debd8fd492805439aae203cf35d915d2b068850a/src/main/java/org/openjfx/server/ClientHandler.java",
    "raw_url": "https://github.com/aligorbor/Chatm/raw/debd8fd492805439aae203cf35d915d2b068850a/src/main/java/org/openjfx/server/ClientHandler.java",
    "contents_url": "https://api.github.com/repos/aligorbor/Chatm/contents/src/main/java/org/openjfx/server/ClientHandler.java?ref=debd8fd492805439aae203cf35d915d2b068850a",
    "patch": "@@ -0,0 +1,182 @@\n+package org.openjfx.server;\n+\n+import org.apache.logging.log4j.LogManager;\n+import org.apache.logging.log4j.Logger;\n+\n+import java.io.DataInputStream;\n+import java.io.DataOutputStream;\n+import java.io.IOException;\n+import java.net.Socket;\n+import java.net.SocketException;\n+import java.net.SocketTimeoutException;\n+import java.util.ArrayList;\n+\n+public class ClientHandler {\n+    private MyServer myServer;\n+    private Socket socket;\n+    private DataInputStream in;\n+    private DataOutputStream out;\n+\n+    private String name;\n+\n+    private static final Logger logger = LogManager.getLogger(ClientHandler.class);\n+\n+    public String getName() {\n+        return name;\n+    }\n+\n+    public ClientHandler(MyServer myServer, Socket socket) {\n+        try {\n+            this.myServer = myServer;\n+            this.socket = socket;\n+            this.in = new DataInputStream(socket.getInputStream());\n+            this.out = new DataOutputStream(socket.getOutputStream());\n+            this.name = \"\";\n+            new Thread(() -> {\n+                try {\n+                    sendLogins();\n+                    authentication();\n+                    readMessages();\n+                } catch (IOException e) {\n+                    //  e.printStackTrace();\n+                    logger.error(e.getMessage());\n+                } finally {\n+                    closeConnection();\n+                }\n+\n+            }).start();\n+\n+        } catch (IOException e) {\n+            logger.error(e.getMessage());\n+            throw new RuntimeException(\"Проблемы при создании обработчика клиента\");\n+        }\n+    }\n+\n+    public void authentication() throws IOException {\n+        socket.setSoTimeout(MyServer.SO_TIMEOUT_AUTH);\n+        while (true) {\n+            String str;\n+            try {\n+                str = in.readUTF();\n+            } catch (IOException e) {\n+                throw new IOException();\n+            }\n+            //  System.out.println(str);\n+            logger.info(str);\n+            if (str.startsWith(MyServer.CMD_PREF_AUTH)) {\n+                String[] parts = str.split(\"\\\\s\");\n+                String nick = myServer.getAuthService().getNickByLoginPass(parts[1], parts[2]);\n+                if (nick != null) {\n+                    if (!myServer.isNickBusy(nick)) {\n+                        sendMsg(MyServer.CMD_PREF_AUTHOK + \" \" + nick);\n+                        name = nick;\n+                        sendConnectedNicks();\n+                        myServer.subscribe(this);\n+                        myServer.broadcastMsg(MyServer.CMD_PREF_NICK + \" \" + name);\n+                        return;\n+                    } else {\n+                        sendMsg(\"Учетная запись уже используется\");\n+                    }\n+                } else {\n+                    sendMsg(\"Неверные логин/пароль\");\n+                }\n+            }\n+\n+            if (str.startsWith(MyServer.CMD_PREF_REGISTER)) {\n+                String[] parts = str.split(\"\\\\s\");\n+                String login = parts[1];\n+                String pass = parts[2];\n+                String nick = parts[3];\n+                String nickAuth = myServer.getAuthService().registerNew(login, pass, nick);\n+                if (nick != null) {\n+                    if (nick.equals(nickAuth)) {\n+                        sendMsg(MyServer.CMD_PREF_AUTHOK + \" \" + nick);\n+                        name = nick;\n+                        sendConnectedNicks();\n+                        myServer.subscribe(this);\n+                        myServer.broadcastMsg(MyServer.CMD_PREF_NICK + \" \" + name);\n+                        return;\n+                    } else {\n+                        sendMsg(nickAuth);\n+                    }\n+                } else {\n+                    sendMsg(\"Ошибка регистрации.\");\n+                }\n+            }\n+\n+        }\n+    }\n+\n+    public void sendConnectedNicks() {\n+        ArrayList<String> listNicks = myServer.getConnectedNicks();\n+        for (String nick : listNicks) {\n+            sendMsg(MyServer.CMD_PREF_NICKLIST + \" \" + nick);\n+        }\n+    }\n+\n+    public void sendLogins() {\n+        ArrayList<String> listLogins = myServer.getAuthService().getLogins();\n+        for (String login : listLogins) {\n+            sendMsg(login);\n+        }\n+        sendMsg(MyServer.CMD_PREF_LOGINEND);\n+    }\n+\n+    public void sendMsg(String msg) {\n+        try {\n+            out.writeUTF(msg);\n+        } catch (IOException e) {\n+            //    e.printStackTrace();\n+            logger.error(e.getMessage());\n+        }\n+    }\n+\n+    public void closeConnection() {\n+        myServer.unsubscribe(this);\n+        if (!name.isBlank())\n+            myServer.broadcastMsg(MyServer.CMD_PREF_NICKEND + \" \" + name);\n+        //   System.out.println(\"Клиент \" + name + \" отключился\");\n+        logger.info(\"Клиент \" + name + \" отключился\");\n+        try {\n+            in.close();\n+            out.close();\n+            socket.close();\n+        } catch (IOException e) {\n+            //  e.printStackTrace();\n+            logger.error(e.getMessage());\n+        }\n+    }\n+\n+    public void readMessages() throws IOException {\n+        socket.setSoTimeout(MyServer.SO_TIMEOUT_INACTIVITY);\n+        while (true) {\n+            String strFromClient;\n+            try {\n+                strFromClient = in.readUTF();\n+            } catch (IOException e) {\n+                throw new IOException();\n+            }\n+            //  System.out.println(\"от \" + name + \": \" + strFromClient);\n+            logger.info(\"от \" + name + \": \" + strFromClient);\n+            if (strFromClient.equals(MyServer.CMD_PREF_END)) {\n+                return;\n+            }\n+            if (strFromClient.startsWith(MyServer.CMD_PREF_CHANGENICK)) {\n+                String[] parts = strFromClient.split(\"\\\\s\");\n+                String newNick = parts[2];\n+                String newNickAuth = myServer.getAuthService().changeNick(name, newNick);\n+                if (newNickAuth != null) {\n+                    name = newNickAuth;\n+                    myServer.broadcastMsg(strFromClient);\n+                } else {\n+                    sendMsg(\"Ник \" + newNick + \" уже используется, попробуйте другой.\");\n+                }\n+            } else {\n+                if (strFromClient.startsWith(MyServer.CMD_PREF_INDIVID))\n+                    myServer.individualMsg(name, strFromClient);\n+                else\n+                    myServer.broadcastMsg(name + \": \" + strFromClient);\n+            }\n+        }\n+    }\n+}"
  },
  {
    "sha": "20f09e1e5402fefa672e6155295e2e0a62198ff0",
    "filename": "src/main/java/org/openjfx/server/MyServer.java",
    "status": "added",
    "additions": 121,
    "deletions": 0,
    "changes": 121,
    "blob_url": "https://github.com/aligorbor/Chatm/blob/debd8fd492805439aae203cf35d915d2b068850a/src/main/java/org/openjfx/server/MyServer.java",
    "raw_url": "https://github.com/aligorbor/Chatm/raw/debd8fd492805439aae203cf35d915d2b068850a/src/main/java/org/openjfx/server/MyServer.java",
    "contents_url": "https://api.github.com/repos/aligorbor/Chatm/contents/src/main/java/org/openjfx/server/MyServer.java?ref=debd8fd492805439aae203cf35d915d2b068850a",
    "patch": "@@ -0,0 +1,121 @@\n+package org.openjfx.server;\n+\n+import org.apache.logging.log4j.LogManager;\n+import org.apache.logging.log4j.Logger;\n+\n+import java.io.IOException;\n+import java.net.ServerSocket;\n+import java.net.Socket;\n+import java.sql.SQLException;\n+import java.util.ArrayList;\n+import java.util.List;\n+import java.util.Scanner;\n+\n+public class MyServer {\n+\n+    private List<ClientHandler> clients;\n+    private AuthService authService;\n+    private static final Logger logger = LogManager.getLogger((MyServer.class));\n+\n+    public static final String CMD_PREF_REGISTER = \"/register\";\n+    public static final String CMD_PREF_AUTH = \"/auth\";\n+    public static final String CMD_PREF_AUTHOK = \"/authok\";\n+    public static final String CMD_PREF_NICK = \"/nick\";\n+    public static final String CMD_PREF_NICKLIST = \"/nicklist\";\n+    public static final String CMD_PREF_NICKEND = \"/nickend\";\n+    public static final String CMD_PREF_LOGINEND = \"/loginend\";\n+    public static final String CMD_PREF_END = \"/end\";\n+    public static final String CMD_PREF_INDIVID = \"/w\";\n+    public static final String CMD_PREF_INDIVIDBACK = \"/wback\";\n+    public static final String CMD_PREF_CHANGENICK = \"/changenick\";\n+\n+    public static final int SO_TIMEOUT_AUTH = 120000;\n+    public static final int SO_TIMEOUT_INACTIVITY = 3600000;\n+\n+    public AuthService getAuthService() {\n+        return authService;\n+    }\n+\n+    public MyServer(int port) throws IOException, SQLException, ClassNotFoundException {\n+        readServerCommand();\n+        try (ServerSocket server = new ServerSocket(port)) {\n+            authService = new BaseAuthService();\n+            authService.start();\n+            clients = new ArrayList<>();\n+            while (true) {\n+//                System.out.println(\"Сервер ожидает подключения\");\n+                logger.info(\"Сервер ожидает подключения\");\n+                Socket socket = server.accept();\n+//                System.out.println(\"Клиент подключился\");\n+                logger.info(\"Сервер ожидает подключения\");\n+                new ClientHandler(this, socket);\n+            }\n+        } catch (IOException | SQLException | ClassNotFoundException e) {\n+            //           System.out.println(\"Ошибка в работе сервера\");\n+            logger.error(\"Ошибка в работе сервера\");\n+            throw e;\n+        } finally {\n+            if (authService != null) {\n+                authService.stop();\n+            }\n+        }\n+    }\n+\n+    public synchronized boolean isNickBusy(String nick) {\n+        for (ClientHandler o : clients) {\n+            if (o.getName().equals(nick)) {\n+                return true;\n+            }\n+        }\n+        return false;\n+    }\n+\n+    public synchronized void broadcastMsg(String msg) {\n+        for (ClientHandler o : clients) {\n+            o.sendMsg(msg);\n+        }\n+    }\n+\n+    public synchronized void individualMsg(String nameFrom, String msg) {\n+        //    /w nick2: bcvxncxvbnxcv\n+        String nameTo = msg.substring(MyServer.CMD_PREF_INDIVID.length() + 1, msg.indexOf(\":\"));\n+        for (ClientHandler o : clients) {\n+            if (o.getName().equals(nameTo)) {\n+                o.sendMsg(msg.replaceFirst(nameTo, nameFrom));\n+            }\n+            if (o.getName().equals(nameFrom)) {\n+                o.sendMsg(msg.replaceFirst(MyServer.CMD_PREF_INDIVID, MyServer.CMD_PREF_INDIVIDBACK));\n+            }\n+        }\n+    }\n+\n+    public synchronized void unsubscribe(ClientHandler o) {\n+        clients.remove(o);\n+    }\n+\n+    public synchronized void subscribe(ClientHandler o) {\n+        clients.add(o);\n+    }\n+\n+    public synchronized ArrayList<String> getConnectedNicks() {\n+        ArrayList<String> arrayList = new ArrayList<>();\n+        for (ClientHandler o : clients) {\n+            arrayList.add(o.getName());\n+        }\n+        return arrayList;\n+    }\n+\n+    public void readServerCommand() {\n+        new Thread(() -> {\n+            Scanner scanner = new Scanner(System.in);\n+            while (true) {\n+                String str = scanner.nextLine();\n+                if (str.equalsIgnoreCase(MyServer.CMD_PREF_END)) {\n+                    authService.stop();\n+                    System.exit(0);\n+                    break;\n+                }\n+            }\n+        }).start();\n+    }\n+}"
  },
  {
    "sha": "55bcc9011e1ddba24a8fcdceb4f1d0d024222e0c",
    "filename": "src/main/java/org/openjfx/server/ServerApp.java",
    "status": "added",
    "additions": 26,
    "deletions": 0,
    "changes": 26,
    "blob_url": "https://github.com/aligorbor/Chatm/blob/debd8fd492805439aae203cf35d915d2b068850a/src/main/java/org/openjfx/server/ServerApp.java",
    "raw_url": "https://github.com/aligorbor/Chatm/raw/debd8fd492805439aae203cf35d915d2b068850a/src/main/java/org/openjfx/server/ServerApp.java",
    "contents_url": "https://api.github.com/repos/aligorbor/Chatm/contents/src/main/java/org/openjfx/server/ServerApp.java?ref=debd8fd492805439aae203cf35d915d2b068850a",
    "patch": "@@ -0,0 +1,26 @@\n+package org.openjfx.server;\n+\n+import java.io.IOException;\n+import java.sql.SQLException;\n+\n+import org.apache.logging.log4j.LogManager;\n+import org.apache.logging.log4j.Logger;\n+\n+public class ServerApp {\n+    private static final int PORT = 8189;\n+    private static final Logger logger = LogManager.getLogger(ServerApp.class);\n+\n+    public static void main(String[] args) {\n+        int port = PORT;\n+        if (args.length != 0) {\n+            port = Integer.parseInt(args[0]);\n+        }\n+        try {\n+            new MyServer(port);\n+        } catch (IOException | SQLException | ClassNotFoundException e) {\n+            logger.error(e.getMessage());\n+            System.exit(1);\n+        }\n+    }\n+\n+}"
  },
  {
    "sha": "8270b4af761c1e627a433abb1a7008d0d7470932",
    "filename": "src/main/resources/lib/history_Andrey_Serg.txt",
    "status": "added",
    "additions": 2,
    "deletions": 0,
    "changes": 2,
    "blob_url": "https://github.com/aligorbor/Chatm/blob/debd8fd492805439aae203cf35d915d2b068850a/src/main/resources/lib/history_Andrey_Serg.txt",
    "raw_url": "https://github.com/aligorbor/Chatm/raw/debd8fd492805439aae203cf35d915d2b068850a/src/main/resources/lib/history_Andrey_Serg.txt",
    "contents_url": "https://api.github.com/repos/aligorbor/Chatm/contents/src/main/resources/lib/history_Andrey_Serg.txt?ref=debd8fd492805439aae203cf35d915d2b068850a",
    "patch": "@@ -0,0 +1,2 @@\n+Serg: who are you?\n+BatMan: i am batman"
  },
  {
    "sha": "c078d3c0ffc9d45c88c242c1c72f54b1574bb66a",
    "filename": "src/main/resources/lib/history_Andrey_Общий чат.txt",
    "status": "added",
    "additions": 3,
    "deletions": 0,
    "changes": 3,
    "blob_url": "https://github.com/aligorbor/Chatm/blob/debd8fd492805439aae203cf35d915d2b068850a/src/main/resources/lib/history_Andrey_%D0%9E%D0%B1%D1%89%D0%B8%D0%B9%20%D1%87%D0%B0%D1%82.txt",
    "raw_url": "https://github.com/aligorbor/Chatm/raw/debd8fd492805439aae203cf35d915d2b068850a/src/main/resources/lib/history_Andrey_%D0%9E%D0%B1%D1%89%D0%B8%D0%B9%20%D1%87%D0%B0%D1%82.txt",
    "contents_url": "https://api.github.com/repos/aligorbor/Chatm/contents/src/main/resources/lib/history_Andrey_%D0%9E%D0%B1%D1%89%D0%B8%D0%B9%20%D1%87%D0%B0%D1%82.txt?ref=debd8fd492805439aae203cf35d915d2b068850a",
    "patch": "@@ -0,0 +1,3 @@\n+BatMan ����� � ���\n+BatMan: hello\n+Peter ����� �� ����"
  },
  {
    "sha": "8270b4af761c1e627a433abb1a7008d0d7470932",
    "filename": "src/main/resources/lib/history_login1_BatMan.txt",
    "status": "added",
    "additions": 2,
    "deletions": 0,
    "changes": 2,
    "blob_url": "https://github.com/aligorbor/Chatm/blob/debd8fd492805439aae203cf35d915d2b068850a/src/main/resources/lib/history_login1_BatMan.txt",
    "raw_url": "https://github.com/aligorbor/Chatm/raw/debd8fd492805439aae203cf35d915d2b068850a/src/main/resources/lib/history_login1_BatMan.txt",
    "contents_url": "https://api.github.com/repos/aligorbor/Chatm/contents/src/main/resources/lib/history_login1_BatMan.txt?ref=debd8fd492805439aae203cf35d915d2b068850a",
    "patch": "@@ -0,0 +1,2 @@\n+Serg: who are you?\n+BatMan: i am batman"
  },
  {
    "sha": "bf86f8da8eb458809a9b26471f293a903c0c5906",
    "filename": "src/main/resources/lib/history_login1_Nikolay.txt",
    "status": "added",
    "additions": 20,
    "deletions": 0,
    "changes": 20,
    "blob_url": "https://github.com/aligorbor/Chatm/blob/debd8fd492805439aae203cf35d915d2b068850a/src/main/resources/lib/history_login1_Nikolay.txt",
    "raw_url": "https://github.com/aligorbor/Chatm/raw/debd8fd492805439aae203cf35d915d2b068850a/src/main/resources/lib/history_login1_Nikolay.txt",
    "contents_url": "https://api.github.com/repos/aligorbor/Chatm/contents/src/main/resources/lib/history_login1_Nikolay.txt?ref=debd8fd492805439aae203cf35d915d2b068850a",
    "patch": "@@ -0,0 +1,20 @@\n+Nikolay: fdgdfgds\n+Vasia: fsdfdsasadga\n+Vasia: gfdgdfdsf\n+Vasia: gdfgfdgdsf\n+Nikolay: gdsfgdsfgsd\n+Nikolay: hgjghjghj\n+Vasia: jhgjhgfjjgf\n+Nikolay: hello vova!\n+Nikolay: 111111111111111111111\n+Nikolay: hello Sergey!!!!!!!!!\n+Sergey: yessss!\n+Nikolay: gdfgdfgdf\n+Nikolay: hgfhdf\n+Nikolay: fghfhdf\n+Nikolay: hhdfghd\n+Nikolay: fhdf\n+Nikolay: hello serg\n+Nikolay: I am glad to see you!\n+Nikolay: ����������� �� ��������?\n+Serg: ����� Java"
  },
  {
    "sha": "dd3e6919a0b8a90a008aff5e2fdf0ee5e5076e42",
    "filename": "src/main/resources/lib/history_login1_Peter.txt",
    "status": "added",
    "additions": 24,
    "deletions": 0,
    "changes": 24,
    "blob_url": "https://github.com/aligorbor/Chatm/blob/debd8fd492805439aae203cf35d915d2b068850a/src/main/resources/lib/history_login1_Peter.txt",
    "raw_url": "https://github.com/aligorbor/Chatm/raw/debd8fd492805439aae203cf35d915d2b068850a/src/main/resources/lib/history_login1_Peter.txt",
    "contents_url": "https://api.github.com/repos/aligorbor/Chatm/contents/src/main/resources/lib/history_login1_Peter.txt?ref=debd8fd492805439aae203cf35d915d2b068850a",
    "patch": "@@ -0,0 +1,24 @@\n+Sergey: hello who are yopu?\n+Peter1: i am peter\n+Peter: No! I am Peter!\n+Peter1: Way!!!\n+Serg: I am Serg!\n+Peter: I am Peter\n+Serg: ��� ������ ��������\n+Peter: ���...\n+Serg: ������\n+Peter: �������\n+Peter: �������\n+Serg: �������\n+Peter: �������\n+Serg: ������\n+Peter: ������\n+Serg: ��������� �����\n+Peter: � ���?\n+Serg: � ������\n+Serg: ��������\n+Peter: �����������\n+Serg: qq\n+Peter: qqq\n+Serg: hi how are you?\n+Peter: i'm ok"
  },
  {
    "sha": "f2a211b72b29143575fcaf604fe0008f1e0ab83c",
    "filename": "src/main/resources/lib/history_login1_Общий чат.txt",
    "status": "added",
    "additions": 204,
    "deletions": 0,
    "changes": 204,
    "blob_url": "https://github.com/aligorbor/Chatm/blob/debd8fd492805439aae203cf35d915d2b068850a/src/main/resources/lib/history_login1_%D0%9E%D0%B1%D1%89%D0%B8%D0%B9%20%D1%87%D0%B0%D1%82.txt",
    "raw_url": "https://github.com/aligorbor/Chatm/raw/debd8fd492805439aae203cf35d915d2b068850a/src/main/resources/lib/history_login1_%D0%9E%D0%B1%D1%89%D0%B8%D0%B9%20%D1%87%D0%B0%D1%82.txt",
    "contents_url": "https://api.github.com/repos/aligorbor/Chatm/contents/src/main/resources/lib/history_login1_%D0%9E%D0%B1%D1%89%D0%B8%D0%B9%20%D1%87%D0%B0%D1%82.txt?ref=debd8fd492805439aae203cf35d915d2b068850a",
    "patch": "@@ -0,0 +1,204 @@\n+Vasia ����� � ���\n+Vasia: bxcbxzcvbzxcbvc\n+Peter ����� � ���\n+Peter: gffsgdsf\n+Nikolay ����� � ���\n+Nikolay: gfdfgsgds\n+Nikolay: fdgsdfgsd\n+Nikolay: gdfgdsfgsdf\n+Nikolay: gfdsfgdgsd\n+Vasia: gdfgdgd\n+Peter: fgdfgdfgsdf\n+Nikolay ����� �� ����\n+Peter ����� �� ����\n+Peter ����� �� ����\n+Peter ����� � ���\n+Nikolay ����� � ���\n+Vasia: jghjgjfgh\n+Peter: hgjgjgj\n+Nikolay: jghjgjgfhj\n+Nikolay: jghjgjgfhj\n+Peter ����� � ���\n+Nikolay ����� � ���\n+Vasia ������ ��� �� Alex\n+Vasia ������ ��� �� Alex\n+Peter ����� � ���\n+Nikolay ����� � ���\n+Alex ������ ��� �� Vova\n+Peter: hello Vova!!!!!!!!!!!!!!\n+Peter: hello Vova!!!!!!!!!!!!!!\n+Peter ����� � ���\n+Nikolay ����� � ���\n+Nikolay ����� � ���\n+Peter ����� � ���\n+Nikolay ����� � ���\n+Peter: dsfdsgdsfg\n+Nikolay: fgfdgds\n+Vova: dfgdfgds\n+Vova ������ ��� �� Sergey\n+Nikolay: Hello serg!!!!!!!!!!!!\n+Nikolay: Hello serg!!!!!!!!!!!!\n+Peter ����� � ���\n+Nikolay ����� � ���\n+Peter ����� �� ����\n+Peter ����� �� ����\n+Peter ����� � ���\n+Peter: fyfyd\n+Peter: fydydyr\n+Peter: ydydy\n+Peter: ydydry\n+Peter: ydtrydr\n+Peter: ydydr\n+Peter: tydfydf\n+Peter: yhgfhyfh\n+Peter: ydydryd\n+Peter: ydyd\n+Peter: ytdy\n+Peter: uytutdy\n+Peter: yuyfuf\n+Peter ����� �� ����\n+Sergey: 111\\n\n+Sergey: 111\\n\n+Sergey: dgdfgsgdfg\n+Sergey: gsdggs\n+Sergey: gfgsd\n+Sergey: gfjghjgfh\n+Sergey: uutut\n+Sergey: utut\n+Peter ����� � ���\n+Peter ����� �� ����\n+Peter ����� �� ����\n+Peter ����� � ���\n+Nikolay ����� � ���\n+Nikolay: fgdfgfd\n+Nikolay: fgdfgdfgd\n+Nikolay: fgdfgdfg\n+Nikolay: gdfgdgf\n+Nikolay: fgdfgdf\n+Nikolay: fgfdgd\n+Nikolay: gfdgsdg\n+Nikolay: dfdsgdgff\n+Nikolay: gfgdfgsfdg\n+Nikolay: igfifgh\n+Nikolay: uiouoyu\n+Nikolay: iouoyu\n+Peter: ufyty\n+Peter: utytyr\n+Peter: yuiityi\n+Peter: iytyi\n+Peter: iuityit\n+Peter ����� �� ����\n+Peter ����� � ���\n+Peter ����� �� ����\n+Peter ����� � ���\n+Peter ����� �� ����\n+Peter ����� � ���\n+Peter ����� �� ����\n+Nikolay ����� �� ����\n+Nikolay ����� �� ����\n+Peter ����� � ���\n+Nikolay ����� � ���\n+Nikolay ����� � ���\n+Peter ����� � ���\n+Nikolay ����� � ���\n+Nikolay ����� � ���\n+Sergey ������ ��� �� Peter\n+Sergey ������ ��� �� Peter\n+Peter1 ����� � ���\n+Nikolay ����� � ���\n+Peter1 ������ ��� �� Peter2\n+Peter ������ ��� �� Serg\n+Peter2 ������ ��� �� Peter\n+Nikolay ����� �� ����\n+Peter ����� �� ����\n+Peter ����� �� ����\n+Nikolay ����� �� ����\n+Peter ����� �� ����\n+Peter ����� �� ����\n+Serg ����� � ���\n+Peter ����� � ���\n+Peter: ����\n+Serg: ���!!!!!!!!!!\n+Peter: �� � ��� ?\n+Serg ����� � ���\n+Peter ����� � ���\n+Serg: �������\n+Peter: ������\n+Serg: �������\n+Peter: ������\n+Serg: �������\n+Peter: ������\n+Serg ����� � ���\n+Serg: ������ �����!\n+Peter ����� � ���\n+Peter: � ���\n+Nikolay ����� � ���\n+Nikolay: � �\n+Nikolay ����� �� ����\n+Peter ����� �� ����\n+Serg ����� � ���\n+Peter ����� � ���\n+Nikolay ����� � ���\n+Peter ����� �� ����\n+Nikolay ����� �� ����\n+Serg ����� � ���\n+Peter ����� � ���\n+Serg: �������\n+Serg: ����������\n+Peter: �����\n+Peter: �������\n+Serg: �������\n+Serg ����� � ���\n+Peter ����� � ���\n+Peter: dvsdvsvsvsv\n+Serg: vxvxvxcv\n+Peter ����� �� ����\n+Serg ����� � ���\n+Peter ����� � ���\n+Serg: ������ ����!!!!\n+Peter: ������ ������\n+Peter ����� �� ����\n+Serg ����� � ���\n+Peter ����� � ���\n+Peter ����� �� ����\n+Serg ����� � ���\n+Serg ����� � ���\n+SUNshine ����� � ���\n+SUNshine ������ ��� �� SUNchine\n+Peter ����� � ���\n+Peter ����� �� ����\n+Serg ����� � ���\n+vvvas ����� � ���\n+Zupp ����� � ���\n+qwerty ����� � ���\n+Serg ����� � ���\n+Peter ����� � ���\n+Funny ����� � ���\n+Funny ����� �� ����\n+Serg ����� � ���\n+Serg ����� � ���\n+Serg ����� � ���\n+Serg ����� � ���\n+Serg ����� � ���\n+theBest ����� � ���\n+theBest: qqq\n+Serg: qq\n+theBest ����� �� ����\n+Serg ����� � ���\n+theBest ����� � ���\n+Serg: hello\n+theBest: yes\n+theBest ����� �� ����\n+Serg ����� � ���\n+Serg ����� � ���\n+Peter ����� � ���\n+Serg: ������ ����\n+Peter: ������ ������\n+Peter ����� �� ����\n+Serg ����� � ���\n+Peter ����� � ���\n+BatMan ����� � ���\n+BatMan: hello\n+Peter ����� �� ����\n+BatMan ����� �� ����\n+Serg ����� � ���"
  },
  {
    "sha": "b6de2c046b944cf24875f2241f47de98942db941",
    "filename": "src/main/resources/lib/history_login2_Nikolay.txt",
    "status": "added",
    "additions": 24,
    "deletions": 0,
    "changes": 24,
    "blob_url": "https://github.com/aligorbor/Chatm/blob/debd8fd492805439aae203cf35d915d2b068850a/src/main/resources/lib/history_login2_Nikolay.txt",
    "raw_url": "https://github.com/aligorbor/Chatm/raw/debd8fd492805439aae203cf35d915d2b068850a/src/main/resources/lib/history_login2_Nikolay.txt",
    "contents_url": "https://api.github.com/repos/aligorbor/Chatm/contents/src/main/resources/lib/history_login2_Nikolay.txt?ref=debd8fd492805439aae203cf35d915d2b068850a",
    "patch": "@@ -0,0 +1,24 @@\n+Nikolay: fgdfgdfgdsf\n+Peter: gdfdgdfgdsf\n+Peter: gdgsdgsd\n+Nikolay: gdfgdsgsd\n+Nikolay: ggjghjhg\n+Nikolay: gjghjgfhj\n+Nikolay: jghjgfh\n+Peter: ghjghjghj\n+Nikolay: jhgjghjghj\n+Nikolay: xxzxgzx\n+Peter: igiuuyi\n+Peter: yuiyuiyt\n+Peter: uityit\n+Peter: iyuyui\n+Nikolay: what are you doing?\n+Peter: whatch the tv\n+Nikolay: no no no\n+Peter: why?\n+Nikolay: no no no\n+Peter: i dont know what you know\n+Peter1: qq\n+Nikolay: I am glad to see you!\n+Nikolay: ��� �� ������� ������� �������?\n+Peter: ��� ������"
  },
  {
    "sha": "b64ed80ad17f948c5ad145357f27cc74cbdc1c43",
    "filename": "src/main/resources/lib/history_login2_Serg.txt",
    "status": "added",
    "additions": 45,
    "deletions": 0,
    "changes": 45,
    "blob_url": "https://github.com/aligorbor/Chatm/blob/debd8fd492805439aae203cf35d915d2b068850a/src/main/resources/lib/history_login2_Serg.txt",
    "raw_url": "https://github.com/aligorbor/Chatm/raw/debd8fd492805439aae203cf35d915d2b068850a/src/main/resources/lib/history_login2_Serg.txt",
    "contents_url": "https://api.github.com/repos/aligorbor/Chatm/contents/src/main/resources/lib/history_login2_Serg.txt?ref=debd8fd492805439aae203cf35d915d2b068850a",
    "patch": "@@ -0,0 +1,45 @@\n+Peter: fgddsfgdfg\n+Vasia: dfgsddfgsd\n+Vasia: jghjgfhjgfh\n+Vasia: jghjhjghjfg\n+Vasia: ghjghjgfhjfgh\n+Peter: hello Alex\n+Peter: 22222222222222222222222222222\n+Peter: hello Serg\n+Sergey: helooooooooooo!\n+Peter: hjgjgj\n+Peter: ugfufyu\n+Peter: i\n+Peter: ityi\n+Peter: ootot\n+Sergey: hello\n+Peter: qqq\n+Sergey: qqq\n+Peter: yes of course\n+Sergey: yes\n+Peter: rrrrrrrrrree\n+Sergey: eeeeeeeeeeeeeeeeerr\n+Sergey: hello who are yopu?\n+Peter1: i am peter\n+Peter: No! I am Peter!\n+Peter1: Way!!!\n+Serg: I am Serg!\n+Peter: I am Peter\n+Serg: ��� ������ ��������\n+Peter: ���...\n+Serg: ������\n+Peter: �������\n+Peter: �������\n+Serg: �������\n+Peter: �������\n+Serg: ������\n+Peter: ������\n+Serg: ��������� �����\n+Peter: � ���?\n+Serg: � ������\n+Serg: ��������\n+Peter: �����������\n+Serg: qq\n+Peter: qqq\n+Serg: hi how are you?\n+Peter: i'm ok"
  },
  {
    "sha": "b76b537fab88f8bfcef72ac12ea8a4ee2afdd86f",
    "filename": "src/main/resources/lib/history_login2_Общий чат.txt",
    "status": "added",
    "additions": 144,
    "deletions": 0,
    "changes": 144,
    "blob_url": "https://github.com/aligorbor/Chatm/blob/debd8fd492805439aae203cf35d915d2b068850a/src/main/resources/lib/history_login2_%D0%9E%D0%B1%D1%89%D0%B8%D0%B9%20%D1%87%D0%B0%D1%82.txt",
    "raw_url": "https://github.com/aligorbor/Chatm/raw/debd8fd492805439aae203cf35d915d2b068850a/src/main/resources/lib/history_login2_%D0%9E%D0%B1%D1%89%D0%B8%D0%B9%20%D1%87%D0%B0%D1%82.txt",
    "contents_url": "https://api.github.com/repos/aligorbor/Chatm/contents/src/main/resources/lib/history_login2_%D0%9E%D0%B1%D1%89%D0%B8%D0%B9%20%D1%87%D0%B0%D1%82.txt?ref=debd8fd492805439aae203cf35d915d2b068850a",
    "patch": "@@ -0,0 +1,144 @@\n+Peter ����� � ���\n+Peter: gffsgdsf\n+Nikolay ����� � ���\n+Nikolay: gfdfgsgds\n+Nikolay: fdgsdfgsd\n+Nikolay: gdfgdsfgsdf\n+Nikolay: gfdsfgdgsd\n+Vasia: gdfgdgd\n+Peter: fgdfgdfgsdf\n+Nikolay ����� �� ����\n+Nikolay ����� �� ����\n+Nikolay ����� � ���\n+Vasia: jghjgjfgh\n+Peter: hgjgjgj\n+Nikolay: jghjgjgfhj\n+Vasia ����� �� ����\n+Nikolay ����� �� ����\n+Nikolay ����� �� ����\n+Nikolay ����� � ���\n+Vasia ������ ��� �� Alex\n+Alex ����� �� ����\n+Alex ����� �� ����\n+Nikolay ����� � ���\n+Alex ������ ��� �� Vova\n+Peter: hello Vova!!!!!!!!!!!!!!\n+Vova ����� �� ����\n+Nikolay ����� �� ����\n+Nikolay ����� �� ����\n+Nikolay ����� � ���\n+Vova ����� �� ����\n+Nikolay ����� �� ����\n+Nikolay ����� �� ����\n+Nikolay ����� � ���\n+Peter: dsfdsgdsfg\n+Nikolay: fgfdgds\n+Vova: dfgdfgds\n+Vova ������ ��� �� Sergey\n+Nikolay: Hello serg!!!!!!!!!!!!\n+Sergey ����� �� ����\n+Sergey ����� �� ����\n+Nikolay ����� � ���\n+Nikolay ����� � ���\n+Peter: fyfyd\n+Peter: fydydyr\n+Peter: ydydy\n+Peter: ydydry\n+Peter: ydtrydr\n+Peter: ydydr\n+Peter: tydfydf\n+Peter: yhgfhyfh\n+Peter: ydydryd\n+Peter: ydyd\n+Peter: ytdy\n+Peter: uytutdy\n+Peter: yuyfuf\n+Peter: yuyfuf\n+Peter: yuyfuf\n+Nikolay ����� � ���\n+Nikolay: fgdfgfd\n+Nikolay: fgdfgdfgd\n+Nikolay: fgdfgdfg\n+Nikolay: gdfgdgf\n+Nikolay: fgdfgdf\n+Nikolay: fgfdgd\n+Nikolay: gfdgsdg\n+Nikolay: dfdsgdgff\n+Nikolay: gfgdfgsfdg\n+Nikolay: igfifgh\n+Nikolay: uiouoyu\n+Nikolay: iouoyu\n+Peter: ufyty\n+Peter: utytyr\n+Peter: yuiityi\n+Peter: iytyi\n+Peter: iuityit\n+Peter: iuityit\n+Peter: iuityit\n+Peter: iuityit\n+Peter: iuityit\n+Nikolay ����� � ���\n+Sergey ����� �� ����\n+Nikolay ����� �� ����\n+Nikolay ����� �� ����\n+Nikolay ����� � ���\n+Sergey ����� �� ����\n+Peter ������ ��� �� Peter1\n+Sergey ����� � ���\n+Sergey ������ ��� �� Peter\n+Peter ����� �� ����\n+Peter ����� �� ����\n+Nikolay ����� � ���\n+��� Peter ��� ������������, ���������� ������.\n+Peter1 ������ ��� �� Peter2\n+Peter ������ ��� �� Serg\n+Peter2 ������ ��� �� Peter\n+Nikolay ����� �� ����\n+Peter ����� � ���\n+Peter: ����\n+Serg: ���!!!!!!!!!!\n+Peter: �� � ��� ?\n+Serg ����� �� ����\n+Peter ����� � ���\n+Serg: �������\n+Peter: ������\n+Serg: �������\n+Peter: ������\n+Serg: �������\n+Peter: ������\n+Serg ����� �� ����\n+Peter ����� � ���\n+Peter: � ���\n+Nikolay ����� � ���\n+Nikolay: � �\n+Nikolay ����� �� ����\n+Peter ����� � ���\n+Nikolay ����� � ���\n+Peter ����� � ���\n+Serg: �������\n+Serg: ����������\n+Peter: �����\n+Peter: �������\n+Serg: �������\n+Serg ����� �� ����\n+Peter ����� � ���\n+Peter: dvsdvsvsvsv\n+Serg: vxvxvxcv\n+Peter ����� � ���\n+Serg: ������ ����!!!!\n+Peter: ������ ������\n+Peter ����� � ���\n+Peter ����� � ���\n+Peter ����� � ���\n+Peter1 ������ ��� �� GoodMan\n+sunChine ����� �� ����\n+Peter ����� � ���\n+Funny ����� � ���\n+Funny ����� �� ����\n+Serg ����� �� ����\n+Peter ����� � ���\n+Serg: ������ ����\n+Peter: ������ ������\n+Peter ����� � ���\n+BatMan ����� � ���\n+BatMan: hello"
  },
  {
    "sha": "b6de2c046b944cf24875f2241f47de98942db941",
    "filename": "src/main/resources/lib/history_login3_Peter.txt",
    "status": "added",
    "additions": 24,
    "deletions": 0,
    "changes": 24,
    "blob_url": "https://github.com/aligorbor/Chatm/blob/debd8fd492805439aae203cf35d915d2b068850a/src/main/resources/lib/history_login3_Peter.txt",
    "raw_url": "https://github.com/aligorbor/Chatm/raw/debd8fd492805439aae203cf35d915d2b068850a/src/main/resources/lib/history_login3_Peter.txt",
    "contents_url": "https://api.github.com/repos/aligorbor/Chatm/contents/src/main/resources/lib/history_login3_Peter.txt?ref=debd8fd492805439aae203cf35d915d2b068850a",
    "patch": "@@ -0,0 +1,24 @@\n+Nikolay: fgdfgdfgdsf\n+Peter: gdfdgdfgdsf\n+Peter: gdgsdgsd\n+Nikolay: gdfgdsgsd\n+Nikolay: ggjghjhg\n+Nikolay: gjghjgfhj\n+Nikolay: jghjgfh\n+Peter: ghjghjghj\n+Nikolay: jhgjghjghj\n+Nikolay: xxzxgzx\n+Peter: igiuuyi\n+Peter: yuiyuiyt\n+Peter: uityit\n+Peter: iyuyui\n+Nikolay: what are you doing?\n+Peter: whatch the tv\n+Nikolay: no no no\n+Peter: why?\n+Nikolay: no no no\n+Peter: i dont know what you know\n+Peter1: qq\n+Nikolay: I am glad to see you!\n+Nikolay: ��� �� ������� ������� �������?\n+Peter: ��� ������"
  },
  {
    "sha": "bf86f8da8eb458809a9b26471f293a903c0c5906",
    "filename": "src/main/resources/lib/history_login3_Serg.txt",
    "status": "added",
    "additions": 20,
    "deletions": 0,
    "changes": 20,
    "blob_url": "https://github.com/aligorbor/Chatm/blob/debd8fd492805439aae203cf35d915d2b068850a/src/main/resources/lib/history_login3_Serg.txt",
    "raw_url": "https://github.com/aligorbor/Chatm/raw/debd8fd492805439aae203cf35d915d2b068850a/src/main/resources/lib/history_login3_Serg.txt",
    "contents_url": "https://api.github.com/repos/aligorbor/Chatm/contents/src/main/resources/lib/history_login3_Serg.txt?ref=debd8fd492805439aae203cf35d915d2b068850a",
    "patch": "@@ -0,0 +1,20 @@\n+Nikolay: fdgdfgds\n+Vasia: fsdfdsasadga\n+Vasia: gfdgdfdsf\n+Vasia: gdfgfdgdsf\n+Nikolay: gdsfgdsfgsd\n+Nikolay: hgjghjghj\n+Vasia: jhgjhgfjjgf\n+Nikolay: hello vova!\n+Nikolay: 111111111111111111111\n+Nikolay: hello Sergey!!!!!!!!!\n+Sergey: yessss!\n+Nikolay: gdfgdfgdf\n+Nikolay: hgfhdf\n+Nikolay: fghfhdf\n+Nikolay: hhdfghd\n+Nikolay: fhdf\n+Nikolay: hello serg\n+Nikolay: I am glad to see you!\n+Nikolay: ����������� �� ��������?\n+Serg: ����� Java"
  },
  {
    "sha": "fd246387710ab672c0a4ffc1d717794be34e181e",
    "filename": "src/main/resources/lib/history_login3_Общий чат.txt",
    "status": "added",
    "additions": 76,
    "deletions": 0,
    "changes": 76,
    "blob_url": "https://github.com/aligorbor/Chatm/blob/debd8fd492805439aae203cf35d915d2b068850a/src/main/resources/lib/history_login3_%D0%9E%D0%B1%D1%89%D0%B8%D0%B9%20%D1%87%D0%B0%D1%82.txt",
    "raw_url": "https://github.com/aligorbor/Chatm/raw/debd8fd492805439aae203cf35d915d2b068850a/src/main/resources/lib/history_login3_%D0%9E%D0%B1%D1%89%D0%B8%D0%B9%20%D1%87%D0%B0%D1%82.txt",
    "contents_url": "https://api.github.com/repos/aligorbor/Chatm/contents/src/main/resources/lib/history_login3_%D0%9E%D0%B1%D1%89%D0%B8%D0%B9%20%D1%87%D0%B0%D1%82.txt?ref=debd8fd492805439aae203cf35d915d2b068850a",
    "patch": "@@ -0,0 +1,76 @@\n+Nikolay ����� � ���\n+Nikolay: gfdfgsgds\n+Nikolay: fdgsdfgsd\n+Nikolay: gdfgdsfgsdf\n+Nikolay: gfdsfgdgsd\n+Vasia: gdfgdgd\n+Peter: fgdfgdfgsdf\n+Peter: fgdfgdfgsdf\n+Vasia: jghjgjfgh\n+Peter: hgjgjgj\n+Nikolay: jghjgjgfhj\n+Vasia ����� �� ����\n+Vasia ����� �� ����\n+Vasia ������ ��� �� Alex\n+Alex ����� �� ����\n+Peter ����� �� ����\n+Peter ����� �� ����\n+Alex ������ ��� �� Vova\n+Peter: hello Vova!!!!!!!!!!!!!!\n+Vova ����� �� ����\n+Vova ����� �� ����\n+Vova ����� �� ����\n+Vova ����� �� ����\n+Peter: dsfdsgdsfg\n+Nikolay: fgfdgds\n+Vova: dfgdfgds\n+Vova ������ ��� �� Sergey\n+Nikolay: Hello serg!!!!!!!!!!!!\n+Sergey ����� �� ����\n+Peter ����� �� ����\n+Peter ����� �� ����\n+Peter ����� �� ����\n+Sergey ����� �� ����\n+Sergey ����� �� ����\n+Nikolay: fgdfgfd\n+Nikolay: fgdfgdfgd\n+Nikolay: fgdfgdfg\n+Nikolay: gdfgdgf\n+Nikolay: fgdfgdf\n+Nikolay: fgfdgd\n+Nikolay: gfdgsdg\n+Nikolay: dfdsgdgff\n+Nikolay: gfgdfgsfdg\n+Nikolay: igfifgh\n+Nikolay: uiouoyu\n+Nikolay: iouoyu\n+Peter: ufyty\n+Peter: utytyr\n+Peter: yuiityi\n+Peter: iytyi\n+Peter: iuityit\n+Peter ����� �� ����\n+Peter ����� � ���\n+Peter ����� �� ����\n+Peter ����� � ���\n+Peter ����� �� ����\n+Peter ����� � ���\n+Peter ����� �� ����\n+Peter ����� �� ����\n+Sergey ����� �� ����\n+Sergey ����� �� ����\n+Sergey ����� �� ����\n+Sergey ����� �� ����\n+Peter ������ ��� �� Peter1\n+Sergey ����� � ���\n+Sergey ������ ��� �� Peter\n+Peter ����� �� ����\n+Peter1 ����� �� ����\n+Peter1 ����� �� ����\n+Peter1 ������ ��� �� Peter2\n+Peter ������ ��� �� Serg\n+Peter2 ������ ��� �� Peter\n+Nikolay ����� � ���\n+Nikolay: � �\n+Nikolay ����� � ���\n+Peter ����� �� ����"
  },
  {
    "sha": "cb9e5a3426c4171c25a6dfff01b660a91c860c0a",
    "filename": "src/main/resources/log4j2.xml",
    "status": "added",
    "additions": 28,
    "deletions": 0,
    "changes": 28,
    "blob_url": "https://github.com/aligorbor/Chatm/blob/debd8fd492805439aae203cf35d915d2b068850a/src/main/resources/log4j2.xml",
    "raw_url": "https://github.com/aligorbor/Chatm/raw/debd8fd492805439aae203cf35d915d2b068850a/src/main/resources/log4j2.xml",
    "contents_url": "https://api.github.com/repos/aligorbor/Chatm/contents/src/main/resources/log4j2.xml?ref=debd8fd492805439aae203cf35d915d2b068850a",
    "patch": "@@ -0,0 +1,28 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<Configuration status=\"WARN\">\n+    <Properties>\n+        <Property name=\"basePath\">src/main/resources/logs</Property>\n+    </Properties>\n+    <Appenders>\n+        <File name=\"FILE\" fileName=\"${basePath}/logfile.log\">\n+            <PatternLayout pattern=\"%-5p %d{yyyy-MM-dd HH:mm:ss} [%t] %C (%F:%L)- %m%n\"/>\n+        </File>\n+        <File name=\"FILE1\" fileName=\"${basePath}/logfile1.log\">\n+            <PatternLayout pattern=\"%-5p %d{yyyy-MM-dd HH:mm:ss} [%t] %C (%F:%L)- %m%n\"/>\n+        </File>\n+        <Console name=\"STDOUT\" target=\"SYSTEM_OUT\">\n+            <PatternLayout pattern=\"%-5p %d{yyyy-MM-dd HH:mm:ss} [%t] %C (%F:%L)- %m%n\"/>\n+        </Console>\n+    </Appenders>\n+    <Loggers>\n+        <Logger name=\"client\" level=\"info\">\n+            <AppenderRef ref=\"STDOUT\"/>\n+            <AppenderRef ref=\"FILE1\"/>\n+        </Logger>\n+\n+        <Root level=\"info\">\n+            <AppenderRef ref=\"STDOUT\"/>\n+            <AppenderRef ref=\"FILE\"/>\n+        </Root>\n+    </Loggers>\n+</Configuration>\n\\ No newline at end of file"
  },
  {
    "sha": "32987bf64657a0cfeb56cc55d449a3d767018772",
    "filename": "src/main/resources/logs/logfile.log",
    "status": "added",
    "additions": 91,
    "deletions": 0,
    "changes": 91,
    "blob_url": "https://github.com/aligorbor/Chatm/blob/debd8fd492805439aae203cf35d915d2b068850a/src/main/resources/logs/logfile.log",
    "raw_url": "https://github.com/aligorbor/Chatm/raw/debd8fd492805439aae203cf35d915d2b068850a/src/main/resources/logs/logfile.log",
    "contents_url": "https://api.github.com/repos/aligorbor/Chatm/contents/src/main/resources/logs/logfile.log?ref=debd8fd492805439aae203cf35d915d2b068850a",
    "patch": "@@ -0,0 +1,91 @@\n+\n+ERROR 2021-03-06 21:44:30 [Thread-27] org.openjfx.server.ClientHandler (ClientHandler.java:42)- java.io.IOException\n+INFO  2021-03-06 21:44:30 [Thread-27] org.openjfx.server.ClientHandler (ClientHandler.java:139)- Клиент  отключился\n+INFO  2021-03-06 21:45:54 [main] org.openjfx.server.MyServer (MyServer.java:50)- Сервер ожидает подключения\n+INFO  2021-03-06 21:45:54 [main] org.openjfx.server.MyServer (MyServer.java:47)- Сервер ожидает подключения\n+ERROR 2021-03-06 21:45:57 [Thread-28] org.openjfx.server.ClientHandler (ClientHandler.java:42)- java.io.IOException\n+INFO  2021-03-06 21:45:57 [Thread-28] org.openjfx.server.ClientHandler (ClientHandler.java:139)- Клиент  отключился\n+INFO  2021-03-06 22:14:44 [main] org.openjfx.server.BaseAuthService (BaseAuthService.java:30)- Сервис аутентификации запущен\n+INFO  2021-03-06 22:14:44 [main] org.openjfx.server.MyServer (MyServer.java:47)- Сервер ожидает подключения\n+INFO  2021-03-06 22:14:54 [main] org.openjfx.server.MyServer (MyServer.java:50)- Сервер ожидает подключения\n+INFO  2021-03-06 22:14:54 [main] org.openjfx.server.MyServer (MyServer.java:47)- Сервер ожидает подключения\n+INFO  2021-03-06 22:14:59 [Thread-1] org.openjfx.server.ClientHandler (ClientHandler.java:65)- /auth login1 111\n+INFO  2021-03-06 22:15:08 [main] org.openjfx.server.MyServer (MyServer.java:50)- Сервер ожидает подключения\n+INFO  2021-03-06 22:15:08 [main] org.openjfx.server.MyServer (MyServer.java:47)- Сервер ожидает подключения\n+INFO  2021-03-06 22:15:29 [Thread-2] org.openjfx.server.ClientHandler (ClientHandler.java:65)- /register Semen 111 theBest\n+INFO  2021-03-06 22:15:37 [Thread-2] org.openjfx.server.ClientHandler (ClientHandler.java:160)- от theBest: qqq\n+INFO  2021-03-06 22:15:39 [Thread-1] org.openjfx.server.ClientHandler (ClientHandler.java:160)- от Serg: qq\n+ERROR 2021-03-06 22:15:45 [Thread-2] org.openjfx.server.ClientHandler (ClientHandler.java:42)- null\n+INFO  2021-03-06 22:15:45 [Thread-2] org.openjfx.server.ClientHandler (ClientHandler.java:139)- Клиент theBest отключился\n+ERROR 2021-03-06 22:15:46 [Thread-1] org.openjfx.server.ClientHandler (ClientHandler.java:42)- null\n+INFO  2021-03-06 22:15:46 [Thread-1] org.openjfx.server.ClientHandler (ClientHandler.java:139)- Клиент Serg отключился\n+INFO  2021-03-06 22:15:59 [Thread-0] org.openjfx.server.BaseAuthService (BaseAuthService.java:112)- Сервис аутентификации остановлен\n+ERROR 2021-03-06 22:16:35 [JavaFX Application Thread] org.openjfx.client.Network (Network.java:109)- ????? ? ??????\n+INFO  2021-03-07 10:05:03 [main] org.openjfx.server.BaseAuthService (BaseAuthService.java:30)- Сервис аутентификации запущен\n+INFO  2021-03-07 10:05:03 [main] org.openjfx.server.MyServer (MyServer.java:47)- Сервер ожидает подключения\n+INFO  2021-03-07 10:05:11 [main] org.openjfx.server.MyServer (MyServer.java:50)- Сервер ожидает подключения\n+INFO  2021-03-07 10:05:11 [main] org.openjfx.server.MyServer (MyServer.java:47)- Сервер ожидает подключения\n+INFO  2021-03-07 10:05:18 [Thread-1] org.openjfx.server.ClientHandler (ClientHandler.java:65)- /auth login1 111\n+INFO  2021-03-07 10:05:27 [main] org.openjfx.server.MyServer (MyServer.java:50)- Сервер ожидает подключения\n+INFO  2021-03-07 10:05:27 [main] org.openjfx.server.MyServer (MyServer.java:47)- Сервер ожидает подключения\n+INFO  2021-03-07 10:05:42 [Thread-2] org.openjfx.server.ClientHandler (ClientHandler.java:65)- /auth Semen 111\n+INFO  2021-03-07 10:06:12 [Thread-1] org.openjfx.server.ClientHandler (ClientHandler.java:160)- от Serg: hello\n+INFO  2021-03-07 10:06:17 [Thread-2] org.openjfx.server.ClientHandler (ClientHandler.java:160)- от theBest: yes\n+ERROR 2021-03-07 10:06:25 [Thread-2] org.openjfx.server.ClientHandler (ClientHandler.java:42)- null\n+INFO  2021-03-07 10:06:25 [Thread-2] org.openjfx.server.ClientHandler (ClientHandler.java:139)- Клиент theBest отключился\n+ERROR 2021-03-07 10:06:27 [Thread-1] org.openjfx.server.ClientHandler (ClientHandler.java:42)- null\n+INFO  2021-03-07 10:06:27 [Thread-1] org.openjfx.server.ClientHandler (ClientHandler.java:139)- Клиент Serg отключился\n+INFO  2021-03-07 10:09:56 [Thread-0] org.openjfx.server.BaseAuthService (BaseAuthService.java:112)- Сервис аутентификации остановлен\n+INFO  2021-03-07 10:17:00 [main] org.openjfx.server.BaseAuthService (BaseAuthService.java:30)- Сервис аутентификации запущен\n+INFO  2021-03-07 10:17:00 [main] org.openjfx.server.MyServer (MyServer.java:47)- Сервер ожидает подключения\n+INFO  2021-03-07 10:17:08 [main] org.openjfx.server.MyServer (MyServer.java:50)- Сервер ожидает подключения\n+INFO  2021-03-07 10:17:08 [main] org.openjfx.server.MyServer (MyServer.java:47)- Сервер ожидает подключения\n+ERROR 2021-03-07 10:17:31 [Thread-1] org.openjfx.server.ClientHandler (ClientHandler.java:42)- null\n+INFO  2021-03-07 10:17:31 [Thread-1] org.openjfx.server.ClientHandler (ClientHandler.java:139)- Клиент  отключился\n+INFO  2021-03-07 10:19:14 [main] org.openjfx.server.MyServer (MyServer.java:50)- Сервер ожидает подключения\n+INFO  2021-03-07 10:19:14 [main] org.openjfx.server.MyServer (MyServer.java:47)- Сервер ожидает подключения\n+INFO  2021-03-07 10:19:20 [Thread-2] org.openjfx.server.ClientHandler (ClientHandler.java:65)- /auth login1 111\n+ERROR 2021-03-07 10:20:41 [Thread-2] org.openjfx.server.ClientHandler (ClientHandler.java:42)- null\n+INFO  2021-03-07 10:20:41 [Thread-2] org.openjfx.server.ClientHandler (ClientHandler.java:139)- Клиент Serg отключился\n+INFO  2021-03-07 10:26:20 [main] org.openjfx.server.MyServer (MyServer.java:50)- Сервер ожидает подключения\n+INFO  2021-03-07 10:26:20 [main] org.openjfx.server.MyServer (MyServer.java:47)- Сервер ожидает подключения\n+INFO  2021-03-07 10:26:24 [Thread-3] org.openjfx.server.ClientHandler (ClientHandler.java:65)- /auth login1 111\n+INFO  2021-03-07 10:26:54 [main] org.openjfx.server.MyServer (MyServer.java:50)- Сервер ожидает подключения\n+INFO  2021-03-07 10:26:54 [main] org.openjfx.server.MyServer (MyServer.java:47)- Сервер ожидает подключения\n+INFO  2021-03-07 10:27:08 [Thread-4] org.openjfx.server.ClientHandler (ClientHandler.java:65)- /auth login2 111\n+INFO  2021-03-07 10:27:33 [Thread-3] org.openjfx.server.ClientHandler (ClientHandler.java:160)- от Serg: Привет петя\n+INFO  2021-03-07 10:27:42 [Thread-4] org.openjfx.server.ClientHandler (ClientHandler.java:160)- от Peter: привет сергей\n+ERROR 2021-03-07 10:27:47 [Thread-4] org.openjfx.server.ClientHandler (ClientHandler.java:42)- null\n+INFO  2021-03-07 10:27:47 [Thread-4] org.openjfx.server.ClientHandler (ClientHandler.java:139)- Клиент Peter отключился\n+ERROR 2021-03-07 10:27:49 [Thread-3] org.openjfx.server.ClientHandler (ClientHandler.java:42)- null\n+INFO  2021-03-07 10:27:49 [Thread-3] org.openjfx.server.ClientHandler (ClientHandler.java:139)- Клиент Serg отключился\n+INFO  2021-03-07 10:34:14 [Thread-0] org.openjfx.server.BaseAuthService (BaseAuthService.java:112)- Сервис аутентификации остановлен\n+INFO  2021-03-07 10:35:55 [main] org.openjfx.server.BaseAuthService (BaseAuthService.java:30)- Сервис аутентификации запущен\n+INFO  2021-03-07 10:35:55 [main] org.openjfx.server.MyServer (MyServer.java:47)- Сервер ожидает подключения\n+INFO  2021-03-07 10:36:06 [main] org.openjfx.server.MyServer (MyServer.java:50)- Сервер ожидает подключения\n+INFO  2021-03-07 10:36:06 [main] org.openjfx.server.MyServer (MyServer.java:47)- Сервер ожидает подключения\n+INFO  2021-03-07 10:36:12 [Thread-1] org.openjfx.server.ClientHandler (ClientHandler.java:65)- /auth login1 111\n+INFO  2021-03-07 10:36:22 [main] org.openjfx.server.MyServer (MyServer.java:50)- Сервер ожидает подключения\n+INFO  2021-03-07 10:36:22 [main] org.openjfx.server.MyServer (MyServer.java:47)- Сервер ожидает подключения\n+INFO  2021-03-07 10:36:30 [Thread-2] org.openjfx.server.ClientHandler (ClientHandler.java:65)- /auth login2 111\n+INFO  2021-03-07 10:36:39 [main] org.openjfx.server.MyServer (MyServer.java:50)- Сервер ожидает подключения\n+INFO  2021-03-07 10:36:39 [main] org.openjfx.server.MyServer (MyServer.java:47)- Сервер ожидает подключения\n+INFO  2021-03-07 10:37:16 [Thread-3] org.openjfx.server.ClientHandler (ClientHandler.java:65)- /register Andrey 111 BatMan\n+INFO  2021-03-07 10:37:41 [Thread-3] org.openjfx.server.ClientHandler (ClientHandler.java:160)- от BatMan: hello\n+INFO  2021-03-07 10:37:59 [Thread-1] org.openjfx.server.ClientHandler (ClientHandler.java:160)- от Serg: /w BatMan: who are you?\n+INFO  2021-03-07 10:38:13 [Thread-3] org.openjfx.server.ClientHandler (ClientHandler.java:160)- от BatMan: /w Serg: i am batman\n+ERROR 2021-03-07 10:38:38 [Thread-2] org.openjfx.server.ClientHandler (ClientHandler.java:42)- null\n+INFO  2021-03-07 10:38:38 [Thread-2] org.openjfx.server.ClientHandler (ClientHandler.java:139)- Клиент Peter отключился\n+ERROR 2021-03-07 10:38:40 [Thread-3] org.openjfx.server.ClientHandler (ClientHandler.java:42)- null\n+INFO  2021-03-07 10:38:40 [Thread-3] org.openjfx.server.ClientHandler (ClientHandler.java:139)- Клиент BatMan отключился\n+ERROR 2021-03-07 10:38:41 [Thread-1] org.openjfx.server.ClientHandler (ClientHandler.java:42)- null\n+INFO  2021-03-07 10:38:41 [Thread-1] org.openjfx.server.ClientHandler (ClientHandler.java:139)- Клиент Serg отключился\n+INFO  2021-03-07 10:41:21 [Thread-0] org.openjfx.server.BaseAuthService (BaseAuthService.java:112)- Сервис аутентификации остановлен\n+INFO  2021-03-07 10:51:11 [main] org.openjfx.server.BaseAuthService (BaseAuthService.java:30)- Сервис аутентификации запущен\n+INFO  2021-03-07 10:51:11 [main] org.openjfx.server.MyServer (MyServer.java:47)- Сервер ожидает подключения\n+INFO  2021-03-07 10:51:23 [main] org.openjfx.server.MyServer (MyServer.java:50)- Сервер ожидает подключения\n+INFO  2021-03-07 10:51:23 [main] org.openjfx.server.MyServer (MyServer.java:47)- Сервер ожидает подключения\n+INFO  2021-03-07 10:51:33 [Thread-1] org.openjfx.server.ClientHandler (ClientHandler.java:65)- /auth login1 111\n+ERROR 2021-03-07 10:51:45 [Thread-1] org.openjfx.server.ClientHandler (ClientHandler.java:42)- null\n+INFO  2021-03-07 10:51:45 [Thread-1] org.openjfx.server.ClientHandler (ClientHandler.java:139)- Клиент Serg отключился\n+INFO  2021-03-07 10:51:52 [Thread-0] org.openjfx.server.BaseAuthService (BaseAuthService.java:112)- Сервис аутентификации остановлен"
  },
  {
    "sha": "992195b051af2a8f5acda37e4632dd54f2053c55",
    "filename": "src/main/resources/logs/logfile1.log",
    "status": "added",
    "additions": 2,
    "deletions": 0,
    "changes": 2,
    "blob_url": "https://github.com/aligorbor/Chatm/blob/debd8fd492805439aae203cf35d915d2b068850a/src/main/resources/logs/logfile1.log",
    "raw_url": "https://github.com/aligorbor/Chatm/raw/debd8fd492805439aae203cf35d915d2b068850a/src/main/resources/logs/logfile1.log",
    "contents_url": "https://api.github.com/repos/aligorbor/Chatm/contents/src/main/resources/logs/logfile1.log?ref=debd8fd492805439aae203cf35d915d2b068850a",
    "patch": "@@ -0,0 +1,2 @@\n+ERROR 2021-03-06 21:44:30 [JavaFX Application Thread] org.openjfx.App (App.java:65)- ������\n+ERROR 2021-03-06 22:16:35 [JavaFX Application Thread] org.openjfx.client.Network (Network.java:109)- ���������� �� �����������"
  },
  {
    "sha": "0fa36a420dd06b06af2006aaf83363b9c98596e6",
    "filename": "src/main/resources/mainDb.sqlite",
    "status": "added",
    "additions": 0,
    "deletions": 0,
    "changes": 0,
    "blob_url": "https://github.com/aligorbor/Chatm/blob/debd8fd492805439aae203cf35d915d2b068850a/src/main/resources/mainDb.sqlite",
    "raw_url": "https://github.com/aligorbor/Chatm/raw/debd8fd492805439aae203cf35d915d2b068850a/src/main/resources/mainDb.sqlite",
    "contents_url": "https://api.github.com/repos/aligorbor/Chatm/contents/src/main/resources/mainDb.sqlite?ref=debd8fd492805439aae203cf35d915d2b068850a"
  },
  {
    "sha": "d9497f1dac8e1d7f0fb20d150307db88ac1dab11",
    "filename": "src/main/resources/org/openjfx/auth-view.fxml",
    "status": "added",
    "additions": 43,
    "deletions": 0,
    "changes": 43,
    "blob_url": "https://github.com/aligorbor/Chatm/blob/debd8fd492805439aae203cf35d915d2b068850a/src/main/resources/org/openjfx/auth-view.fxml",
    "raw_url": "https://github.com/aligorbor/Chatm/raw/debd8fd492805439aae203cf35d915d2b068850a/src/main/resources/org/openjfx/auth-view.fxml",
    "contents_url": "https://api.github.com/repos/aligorbor/Chatm/contents/src/main/resources/org/openjfx/auth-view.fxml?ref=debd8fd492805439aae203cf35d915d2b068850a",
    "patch": "@@ -0,0 +1,43 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+\n+<?import javafx.scene.control.Button?>\n+<?import javafx.scene.control.ChoiceBox?>\n+<?import javafx.scene.control.Label?>\n+<?import javafx.scene.control.PasswordField?>\n+<?import javafx.scene.layout.AnchorPane?>\n+<?import javafx.scene.text.Font?>\n+\n+<AnchorPane prefHeight=\"179.0\" prefWidth=\"403.0\" xmlns=\"http://javafx.com/javafx/8.0.171\"\n+            xmlns:fx=\"http://javafx.com/fxml/1\" fx:controller=\"org.openjfx.client.AuthController\">\n+    <children>\n+        <PasswordField fx:id=\"passwordField\" disable=\"true\" layoutX=\"113.0\" layoutY=\"66.0\" onAction=\"#checkAuth\"\n+                       prefHeight=\"39.0\" prefWidth=\"210.0\">\n+            <font>\n+                <Font size=\"18.0\"/>\n+            </font>\n+        </PasswordField>\n+        <Label layoutX=\"21.0\" layoutY=\"20.0\" text=\"Login\">\n+            <font>\n+                <Font size=\"18.0\"/>\n+            </font>\n+        </Label>\n+        <Label layoutX=\"21.0\" layoutY=\"72.0\" text=\"Password\">\n+            <font>\n+                <Font size=\"18.0\"/>\n+            </font>\n+        </Label>\n+        <Button fx:id=\"authButton\" disable=\"true\" layoutX=\"113.0\" layoutY=\"123.0\" mnemonicParsing=\"false\"\n+                onAction=\"#checkAuth\" prefHeight=\"39.0\" prefWidth=\"91.0\" text=\"Sign in\">\n+            <font>\n+                <Font size=\"18.0\"/>\n+            </font>\n+        </Button>\n+        <ChoiceBox fx:id=\"choicePersonAccount\" layoutX=\"113.0\" layoutY=\"18.0\" prefHeight=\"39.0\" prefWidth=\"210.0\"/>\n+        <Button layoutX=\"232.0\" layoutY=\"123.0\" mnemonicParsing=\"false\" onAction=\"#register\" prefHeight=\"39.0\"\n+                prefWidth=\"91.0\" text=\"Register\">\n+            <font>\n+                <Font size=\"18.0\"/>\n+            </font>\n+        </Button>\n+    </children>\n+</AnchorPane>"
  },
  {
    "sha": "bd1f2e22d034242cbc5bcb16a49126b092c55b19",
    "filename": "src/main/resources/org/openjfx/register-view.fxml",
    "status": "added",
    "additions": 59,
    "deletions": 0,
    "changes": 59,
    "blob_url": "https://github.com/aligorbor/Chatm/blob/debd8fd492805439aae203cf35d915d2b068850a/src/main/resources/org/openjfx/register-view.fxml",
    "raw_url": "https://github.com/aligorbor/Chatm/raw/debd8fd492805439aae203cf35d915d2b068850a/src/main/resources/org/openjfx/register-view.fxml",
    "contents_url": "https://api.github.com/repos/aligorbor/Chatm/contents/src/main/resources/org/openjfx/register-view.fxml?ref=debd8fd492805439aae203cf35d915d2b068850a",
    "patch": "@@ -0,0 +1,59 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+\n+<?import javafx.scene.control.Button?>\n+<?import javafx.scene.control.Label?>\n+<?import javafx.scene.control.PasswordField?>\n+<?import javafx.scene.control.TextField?>\n+<?import javafx.scene.layout.AnchorPane?>\n+<?import javafx.scene.text.Font?>\n+\n+<AnchorPane prefHeight=\"318.0\" prefWidth=\"346.0\" xmlns=\"http://javafx.com/javafx/8.0.171\"\n+            xmlns:fx=\"http://javafx.com/fxml/1\" fx:controller=\"org.openjfx.client.RegisterController\">\n+    <children>\n+        <PasswordField fx:id=\"passwordField\" layoutX=\"113.0\" layoutY=\"78.0\" prefHeight=\"39.0\" prefWidth=\"210.0\">\n+            <font>\n+                <Font size=\"18.0\"/>\n+            </font>\n+        </PasswordField>\n+        <Label layoutX=\"21.0\" layoutY=\"24.0\" prefHeight=\"27.0\" prefWidth=\"73.0\" text=\"Login:\">\n+            <font>\n+                <Font size=\"18.0\"/>\n+            </font>\n+        </Label>\n+        <Label layoutX=\"21.0\" layoutY=\"81.0\" text=\"Password:\">\n+            <font>\n+                <Font size=\"18.0\"/>\n+            </font>\n+        </Label>\n+        <Button fx:id=\"saveButton\" defaultButton=\"true\" layoutX=\"113.0\" layoutY=\"245.0\" mnemonicParsing=\"false\"\n+                onAction=\"#saveChanges\" prefHeight=\"39.0\" prefWidth=\"91.0\" text=\"Save\">\n+            <font>\n+                <Font size=\"18.0\"/>\n+            </font>\n+        </Button>\n+        <Button fx:id=\"cancelButton\" cancelButton=\"true\" layoutX=\"232.0\" layoutY=\"245.0\" mnemonicParsing=\"false\"\n+                onAction=\"#cancelChanges\" prefHeight=\"39.0\" prefWidth=\"91.0\" text=\"Cancel\">\n+            <font>\n+                <Font size=\"18.0\"/>\n+            </font>\n+        </Button>\n+        <TextField fx:id=\"loginField\" layoutX=\"113.0\" layoutY=\"18.0\" prefHeight=\"39.0\" prefWidth=\"210.0\"/>\n+        <Label layoutX=\"21.0\" layoutY=\"111.0\" prefHeight=\"58.0\" prefWidth=\"84.0\" text=\"re-enter Password:\"\n+               wrapText=\"true\">\n+            <font>\n+                <Font size=\"18.0\"/>\n+            </font>\n+        </Label>\n+        <PasswordField fx:id=\"repasswordField\" layoutX=\"113.0\" layoutY=\"127.0\" prefHeight=\"39.0\" prefWidth=\"210.0\">\n+            <font>\n+                <Font size=\"18.0\"/>\n+            </font>\n+        </PasswordField>\n+        <Label layoutX=\"21.0\" layoutY=\"192.0\" text=\"Nickname:\">\n+            <font>\n+                <Font size=\"18.0\"/>\n+            </font>\n+        </Label>\n+        <TextField fx:id=\"nickField\" layoutX=\"113.0\" layoutY=\"188.0\" prefHeight=\"39.0\" prefWidth=\"210.0\"/>\n+    </children>\n+</AnchorPane>"
  },
  {
    "sha": "b322fbc06417f11dc34e8add97c2e8267fa3fbe0",
    "filename": "src/main/resources/org/openjfx/sample.fxml",
    "status": "added",
    "additions": 106,
    "deletions": 0,
    "changes": 106,
    "blob_url": "https://github.com/aligorbor/Chatm/blob/debd8fd492805439aae203cf35d915d2b068850a/src/main/resources/org/openjfx/sample.fxml",
    "raw_url": "https://github.com/aligorbor/Chatm/raw/debd8fd492805439aae203cf35d915d2b068850a/src/main/resources/org/openjfx/sample.fxml",
    "contents_url": "https://api.github.com/repos/aligorbor/Chatm/contents/src/main/resources/org/openjfx/sample.fxml?ref=debd8fd492805439aae203cf35d915d2b068850a",
    "patch": "@@ -0,0 +1,106 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+\n+<?import javafx.geometry.Insets?>\n+<?import javafx.scene.control.Button?>\n+<?import javafx.scene.control.Label?>\n+<?import javafx.scene.control.ListView?>\n+<?import javafx.scene.control.SplitPane?>\n+<?import javafx.scene.control.TextField?>\n+<?import javafx.scene.layout.AnchorPane?>\n+<?import javafx.scene.layout.BorderPane?>\n+<?import javafx.scene.text.Font?>\n+\n+<BorderPane maxHeight=\"-Infinity\" maxWidth=\"-Infinity\" minHeight=\"-Infinity\" minWidth=\"-Infinity\" prefHeight=\"364.0\"\n+            prefWidth=\"529.0\" xmlns=\"http://javafx.com/javafx/8.0.171\" xmlns:fx=\"http://javafx.com/fxml/1\"\n+            fx:controller=\"org.openjfx.client.Controller\">\n+    <bottom>\n+        <SplitPane dividerPositions=\"0.7661927330173776\" prefHeight=\"70.0\" prefWidth=\"529.0\"\n+                   BorderPane.alignment=\"CENTER\">\n+            <items>\n+                <AnchorPane minHeight=\"0.0\" minWidth=\"0.0\" prefHeight=\"68.0\" prefWidth=\"400.0\">\n+                    <children>\n+                        <TextField fx:id=\"inputField\" disable=\"true\" layoutX=\"71.0\" layoutY=\"14.0\"\n+                                   onAction=\"#sendMessage\" prefHeight=\"68.0\" prefWidth=\"400.0\"\n+                                   promptText=\"Input your message\" AnchorPane.bottomAnchor=\"0.0\"\n+                                   AnchorPane.leftAnchor=\"0.0\" AnchorPane.rightAnchor=\"0.0\" AnchorPane.topAnchor=\"0.0\">\n+                            <padding>\n+                                <Insets bottom=\"12.0\" left=\"12.0\" right=\"12.0\" top=\"12.0\"/>\n+                            </padding>\n+                            <font>\n+                                <Font size=\"20.0\"/>\n+                            </font>\n+                        </TextField>\n+                    </children>\n+                </AnchorPane>\n+                <AnchorPane minHeight=\"0.0\" minWidth=\"0.0\" prefHeight=\"68.0\" prefWidth=\"100.0\">\n+                    <children>\n+                        <Button fx:id=\"sendButton\" disable=\"true\" layoutX=\"6.0\" mnemonicParsing=\"false\"\n+                                onAction=\"#sendMessage\" text=\"Send\" textFill=\"#dd3434\" AnchorPane.bottomAnchor=\"0.0\"\n+                                AnchorPane.leftAnchor=\"0.0\" AnchorPane.rightAnchor=\"0.0\" AnchorPane.topAnchor=\"0.0\">\n+                            <font>\n+                                <Font name=\"System Bold\" size=\"20.0\"/>\n+                            </font>\n+                        </Button>\n+                    </children>\n+                </AnchorPane>\n+            </items>\n+        </SplitPane>\n+    </bottom>\n+    <center>\n+        <SplitPane dividerPositions=\"0.22756005056890014\" prefHeight=\"245.0\" prefWidth=\"529.0\"\n+                   BorderPane.alignment=\"CENTER\">\n+            <items>\n+                <AnchorPane minHeight=\"0.0\" minWidth=\"0.0\" prefHeight=\"243.0\" prefWidth=\"116.0\">\n+                    <children>\n+                        <ListView fx:id=\"listPersons\" layoutX=\"-14.0\" layoutY=\"63.0\" prefHeight=\"243.0\"\n+                                  prefWidth=\"116.0\" AnchorPane.bottomAnchor=\"0.0\" AnchorPane.leftAnchor=\"0.0\"\n+                                  AnchorPane.rightAnchor=\"0.0\" AnchorPane.topAnchor=\"0.0\"/>\n+                    </children>\n+                </AnchorPane>\n+                <AnchorPane minHeight=\"0.0\" minWidth=\"0.0\" prefHeight=\"243.0\" prefWidth=\"403.0\">\n+                    <children>\n+                        <ListView fx:id=\"listView\" layoutX=\"-207.0\" layoutY=\"57.0\" prefHeight=\"243.0\" prefWidth=\"403.0\"\n+                                  AnchorPane.bottomAnchor=\"0.0\" AnchorPane.leftAnchor=\"0.0\" AnchorPane.rightAnchor=\"0.0\"\n+                                  AnchorPane.topAnchor=\"0.0\"/>\n+                    </children>\n+                </AnchorPane>\n+            </items>\n+        </SplitPane>\n+    </center>\n+    <top>\n+        <SplitPane dividerPositions=\"0.22756005056890014\" prefHeight=\"36.0\" prefWidth=\"529.0\"\n+                   BorderPane.alignment=\"CENTER\">\n+            <items>\n+                <AnchorPane minHeight=\"0.0\" minWidth=\"0.0\" prefHeight=\"28.0\" prefWidth=\"116.0\">\n+                    <children>\n+                        <TextField fx:id=\"textLoginNick\" layoutX=\"1.0\" onAction=\"#onChangeNick\" prefHeight=\"28.0\"\n+                                   prefWidth=\"81.0\" AnchorPane.bottomAnchor=\"0.0\" AnchorPane.leftAnchor=\"0.0\"\n+                                   AnchorPane.rightAnchor=\"0.0\" AnchorPane.topAnchor=\"0.0\">\n+                            <font>\n+                                <Font name=\"System Bold\" size=\"20.0\"/>\n+                            </font>\n+                        </TextField>\n+                    </children>\n+                </AnchorPane>\n+                <AnchorPane minHeight=\"0.0\" minWidth=\"0.0\" prefWidth=\"403.0\">\n+                    <children>\n+                        <Button fx:id=\"btnChangeNick\" mnemonicParsing=\"false\" onAction=\"#onChangeNick\" prefHeight=\"28.0\"\n+                                prefWidth=\"38.0\" text=\"Change\" AnchorPane.bottomAnchor=\"0.0\" AnchorPane.leftAnchor=\"0.0\"\n+                                AnchorPane.rightAnchor=\"365.0\" AnchorPane.topAnchor=\"0.0\"/>\n+                        <Label fx:id=\"labelPersonChat\" alignment=\"CENTER_RIGHT\" layoutX=\"121.0\" prefHeight=\"34.0\"\n+                               prefWidth=\"282.0\" textAlignment=\"CENTER\" textFill=\"#2b8a20\" AnchorPane.bottomAnchor=\"0.0\"\n+                               AnchorPane.leftAnchor=\"121.0\" AnchorPane.rightAnchor=\"0.0\" AnchorPane.topAnchor=\"0.0\">\n+                            <font>\n+                                <Font name=\"System Bold\" size=\"20.0\"/>\n+                            </font>\n+                            <padding>\n+                                <Insets right=\"10.0\"/>\n+                            </padding>\n+                        </Label>\n+                    </children>\n+                </AnchorPane>\n+            </items>\n+        </SplitPane>\n+    </top>\n+</BorderPane>\n+"
  }
]
