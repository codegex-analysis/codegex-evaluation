[
  {
    "sha": "955114d1dc0536ea90c671ad4374bfb69344446a",
    "filename": ".appveyor.yml",
    "status": "modified",
    "additions": 1,
    "deletions": 1,
    "changes": 2,
    "blob_url": "https://github.com/Bogdmoen/aqa-2-1-1/blob/1019330754493d9f44c33d239458032a06a5f128/.appveyor.yml",
    "raw_url": "https://github.com/Bogdmoen/aqa-2-1-1/raw/1019330754493d9f44c33d239458032a06a5f128/.appveyor.yml",
    "contents_url": "https://api.github.com/repos/Bogdmoen/aqa-2-1-1/contents/.appveyor.yml?ref=1019330754493d9f44c33d239458032a06a5f128",
    "patch": "@@ -13,4 +13,4 @@ install:\n   - java -jar ./artifacts/app-order.jar &\n \n build_script:\n-  - ./gradlew test --info  # запускаем тест, флаг --info позволяет выводить больше информации\n\\ No newline at end of file\n+  - ./gradlew test --info -Dselenide.headless=true # запускаем тест, флаг --info позволяет выводить больше информации\n\\ No newline at end of file"
  },
  {
    "sha": "ff12de2ebac3f30e338711ee2d9639b4a531c64a",
    "filename": "build.gradle",
    "status": "modified",
    "additions": 2,
    "deletions": 4,
    "changes": 6,
    "blob_url": "https://github.com/Bogdmoen/aqa-2-1-1/blob/1019330754493d9f44c33d239458032a06a5f128/build.gradle",
    "raw_url": "https://github.com/Bogdmoen/aqa-2-1-1/raw/1019330754493d9f44c33d239458032a06a5f128/build.gradle",
    "contents_url": "https://api.github.com/repos/Bogdmoen/aqa-2-1-1/contents/build.gradle?ref=1019330754493d9f44c33d239458032a06a5f128",
    "patch": "@@ -16,12 +16,10 @@ repositories {\n dependencies {\n     testImplementation 'org.junit.jupiter:junit-jupiter:5.7.1'\n     testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine'\n-    testImplementation 'org.seleniumhq.selenium:selenium-java:3.141.59'\n-    testImplementation 'org.seleniumhq.selenium:selenium-chrome-driver:3.141.59'\n-    testImplementation(\"io.github.bonigarcia:webdrivermanager:4.3.1\")\n-\n+    testImplementation 'com.codeborne:selenide:5.19.0'\n }\n \n test {\n     useJUnitPlatform()\n+    systemProperty 'selenide.headless', System.getProperty('selenide.headless')\n }\n\\ No newline at end of file"
  },
  {
    "sha": "35b215e1530c1a881dd98526983854948aa22677",
    "filename": "src/test/java/ru/netology/web/CallbackTest.java",
    "status": "modified",
    "additions": 43,
    "deletions": 32,
    "changes": 75,
    "blob_url": "https://github.com/Bogdmoen/aqa-2-1-1/blob/1019330754493d9f44c33d239458032a06a5f128/src/test/java/ru/netology/web/CallbackTest.java",
    "raw_url": "https://github.com/Bogdmoen/aqa-2-1-1/raw/1019330754493d9f44c33d239458032a06a5f128/src/test/java/ru/netology/web/CallbackTest.java",
    "contents_url": "https://api.github.com/repos/Bogdmoen/aqa-2-1-1/contents/src/test/java/ru/netology/web/CallbackTest.java?ref=1019330754493d9f44c33d239458032a06a5f128",
    "patch": "@@ -1,51 +1,62 @@\n package ru.netology.web;\n \n-import io.github.bonigarcia.wdm.WebDriverManager;\n-import org.junit.jupiter.api.AfterEach;\n-import org.junit.jupiter.api.BeforeAll;\n-import org.junit.jupiter.api.BeforeEach;\n+import com.codeborne.selenide.Condition;\n import org.junit.jupiter.api.Test;\n-import org.openqa.selenium.By;\n-import org.openqa.selenium.WebDriver;\n-import org.openqa.selenium.WebElement;\n-import org.openqa.selenium.chrome.ChromeDriver;\n-import org.openqa.selenium.chrome.ChromeOptions;\n \n-\n-import static org.junit.jupiter.api.Assertions.*;\n+import static com.codeborne.selenide.Selenide.*;\n \n public class CallbackTest {\n-    private WebDriver driver;\n \n-    @BeforeAll\n-    static void setUpAll() {\n-        WebDriverManager.chromedriver().setup();\n+    @Test\n+    void shouldGetSuccessForm() {\n+        open(\"http://localhost:9999\");\n+        $(\"[class='input__control'][type='text']\").setValue(\"Василий\");\n+        $(\"[class='input__control'][type='tel']\").setValue(\"+79270000000\");\n+        $(\".checkbox__box\").click();\n+        $(\"[type='button'][class='button button_view_extra button_size_m button_theme_alfa-on-white']\").click();\n+        $(\".Success_successBlock__2L3Cw\").shouldHave(Condition.exactText(\"Ваша заявка успешно отправлена! Наш менеджер свяжется с вами в ближайшее время.\"));\n+    }\n \n+    @Test\n+    void shouldGetEmptyNameAlert() {\n+        open(\"http://localhost:9999\");\n+        $(\"[type='button'][class='button button_view_extra button_size_m button_theme_alfa-on-white']\").click();\n+        $(\"[data-test-id='name'].input_invalid .input__sub\").shouldHave(Condition.exactText(\"Поле обязательно для заполнения\"));\n+    }\n \n+    @Test\n+    void shouldGetEmptyPhoneAlert() {\n+        open(\"http://localhost:9999\");\n+        $(\"[class='input__control'][type='text']\").setValue(\"Василий\");\n+        $(\"[type='button'][class='button button_view_extra button_size_m button_theme_alfa-on-white']\").click();\n+        $(\"[data-test-id='phone'].input_invalid .input__sub\").shouldHave(Condition.exactText(\"Поле обязательно для заполнения\"));\n     }\n \n-    @BeforeEach\n-    void setUp() {\n-        ChromeOptions chromeOptions = new ChromeOptions();\n-        chromeOptions.addArguments(\"--headless\");\n-        driver = new ChromeDriver(chromeOptions);\n+    @Test\n+    void shouldGetIncorrectNameAlert() {\n+        open(\"http://localhost:9999\");\n+        $(\"[class='input__control'][type='text']\").setValue(\"test\");\n+        $(\"[class='input__control'][type='tel']\").setValue(\"+79270000000\");\n+        $(\"[type='button'][class='button button_view_extra button_size_m button_theme_alfa-on-white']\").click();\n+        $(\"[data-test-id='name'].input_invalid .input__sub\").shouldHave(Condition.exactText(\"Имя и Фамилия указаные неверно. Допустимы только русские буквы, пробелы и дефисы.\"));\n     }\n \n-    @AfterEach\n-    void tearDown() {\n-        driver.quit();\n-        driver = null;\n+    @Test\n+    void shouldGetIncorrectPhoneAlert() {\n+        open(\"http://localhost:9999\");\n+        $(\"[class='input__control'][type='text']\").setValue(\"Иван\");\n+        $(\"[class='input__control'][type='tel']\").setValue(\"955\");\n+        $(\"[type='button'][class='button button_view_extra button_size_m button_theme_alfa-on-white']\").click();\n+        $(\"[data-test-id='phone'].input_invalid .input__sub\").shouldHave(Condition.exactText(\"Телефон указан неверно. Должно быть 11 цифр, например, +79012345678.\"));\n     }\n \n     @Test\n-    void shouldTestV1() {\n-        driver.get(\"http://localhost:9999\");\n-        driver.findElement(By.cssSelector(\"[class='input__control'][type='text']\")).sendKeys(\"Василий\");\n-        driver.findElement(By.cssSelector(\"[class='input__control'][type='tel']\")).sendKeys(\"+79270000000\");\n-        driver.findElement(By.cssSelector(\".checkbox__box\")).click();\n-        driver.findElement(By.cssSelector(\"[type='button'][class='button button_view_extra button_size_m button_theme_alfa-on-white']\")).click();\n-        String text = driver.findElement(By.className(\"Success_successBlock__2L3Cw\")).getText();\n-        assertEquals(\"Ваша заявка успешно отправлена! Наш менеджер свяжется с вами в ближайшее время.\", text.trim());\n+    void shouldGetCheckboxAlert() {\n+        open(\"http://localhost:9999\");\n+        $(\"[class='input__control'][type='text']\").setValue(\"Иван\");\n+        $(\"[class='input__control'][type='tel']\").setValue(\"+79270000000\");\n+        $(\"[type='button'][class='button button_view_extra button_size_m button_theme_alfa-on-white']\").click();\n+        $(\".input_invalid[data-test-id='agreement']\").shouldHave(Condition.exactText(\"Я соглашаюсь с условиями обработки и использования моих персональных данных и разрешаю сделать запрос в бюро кредитных историй\"));\n     }\n \n }"
  }
]
