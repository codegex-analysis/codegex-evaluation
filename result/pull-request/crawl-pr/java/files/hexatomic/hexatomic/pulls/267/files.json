[
  {
    "sha": "052285f92ce8179ecc6fbb1b815a56262a5f6b6e",
    "filename": "bundles/org.corpus_tools.hexatomic.core/Application.e4xmi",
    "status": "modified",
    "additions": 3,
    "deletions": 0,
    "changes": 3,
    "blob_url": "https://github.com/hexatomic/hexatomic/blob/beb55b650a30f28d9f079c99b635224a8cd7f798/bundles/org.corpus_tools.hexatomic.core/Application.e4xmi",
    "raw_url": "https://github.com/hexatomic/hexatomic/raw/beb55b650a30f28d9f079c99b635224a8cd7f798/bundles/org.corpus_tools.hexatomic.core/Application.e4xmi",
    "contents_url": "https://api.github.com/repos/hexatomic/hexatomic/contents/bundles/org.corpus_tools.hexatomic.core/Application.e4xmi?ref=beb55b650a30f28d9f079c99b635224a8cd7f798",
    "patch": "@@ -26,6 +26,7 @@\n       <children xsi:type=\"menu:Menu\" xmi:id=\"_trgNYDpCEeu92f5JR1mQ3w\" elementId=\"org.corpus_tools.hexatomic.core.menu.help\" label=\"&amp;Help\">\n         <children xsi:type=\"menu:HandledMenuItem\" xmi:id=\"_oEtxwDpHEeu92f5JR1mQ3w\" elementId=\"org.corpus_tools.hexatomic.core.handledmenuitem.online_documentation\" label=\"Online Documentation\" command=\"_V7e7gDpHEeu92f5JR1mQ3w\"/>\n         <children xsi:type=\"menu:HandledMenuItem\" xmi:id=\"_wIyIIDpCEeu92f5JR1mQ3w\" elementId=\"org.corpus_tools.hexatomic.core.handledmenuitem.about\" label=\"About\" command=\"_oseuoDpCEeu92f5JR1mQ3w\"/>\n+        <children xsi:type=\"menu:HandledMenuItem\" xmi:id=\"_s9xtEHwfEeuqD5Pog2ICmw\" elementId=\"org.corpus_tools.hexatomic.core.handledmenuitem.update\" label=\"Update\" iconURI=\"platform:/plugin/org.corpus_tools.hexatomic.core/icons/fontawesome/sync-solid.png\" command=\"_SjveQHwfEeuqD5Pog2ICmw\"/>\n       </children>\n     </mainMenu>\n     <trimBars xmi:id=\"_ZPTWQOCuEeqWdLUQSqXLVA\" elementId=\"org.corpus_tools.hexatomic.core.trimbar.tools\">\n@@ -54,6 +55,7 @@\n   <handlers xmi:id=\"_1pA7oOCfEeqWdLUQSqXLVA\" elementId=\"org.corpus_tools.hexatomic.core.handler.redo\" contributionURI=\"bundleclass://org.corpus_tools.hexatomic.core/org.corpus_tools.hexatomic.core.handlers.RedoHandler\" command=\"_tXJzIOCfEeqWdLUQSqXLVA\"/>\n   <handlers xmi:id=\"_-8f0EDpCEeu92f5JR1mQ3w\" elementId=\"org.corpus_tools.hexatomic.core.handler.about\" contributionURI=\"bundleclass://org.corpus_tools.hexatomic.core/org.corpus_tools.hexatomic.core.handlers.AboutHandler\" command=\"_oseuoDpCEeu92f5JR1mQ3w\"/>\n   <handlers xmi:id=\"_iL-cwDpHEeu92f5JR1mQ3w\" elementId=\"org.corpus_tools.hexatomic.core.handler.online_documentation\" contributionURI=\"bundleclass://org.corpus_tools.hexatomic.core/org.corpus_tools.hexatomic.core.handlers.OpenOnlineDocumentationHandler\" command=\"_V7e7gDpHEeu92f5JR1mQ3w\"/>\n+  <handlers xmi:id=\"_cEkUQHwfEeuqD5Pog2ICmw\" elementId=\"org.corpus_tools.hexatomic.core.handler.0\" contributionURI=\"bundleclass://org.corpus_tools.hexatomic.core/org.corpus_tools.hexatomic.core.handlers.UpdateHandler\" command=\"_SjveQHwfEeuqD5Pog2ICmw\"/>\n   <bindingTables xmi:id=\"_oI0WcEz5EeqppqV5eQIggg\" elementId=\"org.corpus_tools.hexatomic.core.bindingtable.windows\" bindingContext=\"_c3AF2cjYEeSyMNYR5xypkQ\">\n     <bindings xmi:id=\"_qIQeoEz5EeqppqV5eQIggg\" elementId=\"org.corpus_tools.hexatomic.core.keybinding.0\" keySequence=\"M1+M2+S\" command=\"_mqJxIEzaEeqppqV5eQIggg\">\n       <tags>type:user</tags>\n@@ -94,6 +96,7 @@\n   <commands xmi:id=\"_tXJzIOCfEeqWdLUQSqXLVA\" elementId=\"org.eclipse.ui.edit.redo\" commandName=\"Redo\"/>\n   <commands xmi:id=\"_oseuoDpCEeu92f5JR1mQ3w\" elementId=\"org.eclipse.ui.help.aboutAction\" commandName=\"About\"/>\n   <commands xmi:id=\"_V7e7gDpHEeu92f5JR1mQ3w\" elementId=\"org.corpus_tools.hexatomic.core.command.online_documentation\" commandName=\"Online Documentation\"/>\n+  <commands xmi:id=\"_SjveQHwfEeuqD5Pog2ICmw\" elementId=\"org.corpus_tools.hexatomic.core.command.update\" commandName=\"Update\"/>\n   <addons xmi:id=\"_c3AF0sjYEeSyMNYR5xypkQ\" elementId=\"org.eclipse.e4.core.commands.service\" contributionURI=\"bundleclass://org.eclipse.e4.core.commands/org.eclipse.e4.core.commands.CommandServiceAddon\"/>\n   <addons xmi:id=\"_c3AF08jYEeSyMNYR5xypkQ\" elementId=\"org.eclipse.e4.ui.contexts.service\" contributionURI=\"bundleclass://org.eclipse.e4.ui.services/org.eclipse.e4.ui.services.ContextServiceAddon\"/>\n   <addons xmi:id=\"_c3AF1MjYEeSyMNYR5xypkQ\" elementId=\"org.eclipse.e4.ui.bindings.service\" contributionURI=\"bundleclass://org.eclipse.e4.ui.bindings/org.eclipse.e4.ui.bindings.BindingServiceAddon\"/>"
  },
  {
    "sha": "5720c038cf0d61e34b07742153cd864d67d516a8",
    "filename": "bundles/org.corpus_tools.hexatomic.core/META-INF/MANIFEST.MF",
    "status": "modified",
    "additions": 11,
    "deletions": 6,
    "changes": 17,
    "blob_url": "https://github.com/hexatomic/hexatomic/blob/beb55b650a30f28d9f079c99b635224a8cd7f798/bundles/org.corpus_tools.hexatomic.core/META-INF/MANIFEST.MF",
    "raw_url": "https://github.com/hexatomic/hexatomic/raw/beb55b650a30f28d9f079c99b635224a8cd7f798/bundles/org.corpus_tools.hexatomic.core/META-INF/MANIFEST.MF",
    "contents_url": "https://api.github.com/repos/hexatomic/hexatomic/contents/bundles/org.corpus_tools.hexatomic.core/META-INF/MANIFEST.MF?ref=beb55b650a30f28d9f079c99b635224a8cd7f798",
    "patch": "@@ -4,6 +4,11 @@ Bundle-Name: Hexatomic Core Plugin\n Bundle-SymbolicName: org.corpus_tools.hexatomic.core;singleton:=true\n Bundle-Version: 0.5.0.qualifier\n Bundle-Vendor: Hexatomic Research Project\n+Export-Package: org.corpus_tools.hexatomic.core,\n+ org.corpus_tools.hexatomic.core.errors,\n+ org.corpus_tools.hexatomic.core.handlers,\n+ org.corpus_tools.hexatomic.core.ui;x-internal:=true,\n+ org.corpus_tools.hexatomic.core.undo\n Require-Bundle: javax.inject;bundle-version=\"0.0.0\",\n  org.eclipse.core.runtime;bundle-version=\"0.0.0\",\n  org.eclipse.swt;bundle-version=\"0.0.0\",\n@@ -20,11 +25,11 @@ Require-Bundle: javax.inject;bundle-version=\"0.0.0\",\n  ch.qos.logback.core;bundle-version=\"1.1.2\",\n  org.slf4j.api;bundle-version=\"1.7.10\",\n  org.corpus-tools.salt-api,\n- javax.annotation;bundle-version=\"1.2.0\"\n+ javax.annotation;bundle-version=\"1.2.0\",\n+ org.eclipse.equinox.p2.core;bundle-version=\"2.6.300\",\n+ org.eclipse.equinox.p2.engine;bundle-version=\"2.6.700\",\n+ org.eclipse.equinox.p2.operations;bundle-version=\"2.5.800\",\n+ org.eclipse.equinox.p2.metadata.repository;bundle-version=\"1.3.400\"\n Bundle-RequiredExecutionEnvironment: JavaSE-1.8\n Automatic-Module-Name: org.corpus_tools.hexatomic.core\n-Export-Package: org.corpus_tools.hexatomic.core,\n- org.corpus_tools.hexatomic.core.errors,\n- org.corpus_tools.hexatomic.core.handlers,\n- org.corpus_tools.hexatomic.core.ui;x-internal:=true,\n- org.corpus_tools.hexatomic.core.undo\n+Import-Package: javax.inject;version=\"1.0.0\""
  },
  {
    "sha": "173bb483b1aec254ccbba7d2402b6d019b463231",
    "filename": "bundles/org.corpus_tools.hexatomic.core/icons/fontawesome/sync-solid.png",
    "status": "added",
    "additions": 0,
    "deletions": 0,
    "changes": 0,
    "blob_url": "https://github.com/hexatomic/hexatomic/blob/beb55b650a30f28d9f079c99b635224a8cd7f798/bundles/org.corpus_tools.hexatomic.core/icons/fontawesome/sync-solid.png",
    "raw_url": "https://github.com/hexatomic/hexatomic/raw/beb55b650a30f28d9f079c99b635224a8cd7f798/bundles/org.corpus_tools.hexatomic.core/icons/fontawesome/sync-solid.png",
    "contents_url": "https://api.github.com/repos/hexatomic/hexatomic/contents/bundles/org.corpus_tools.hexatomic.core/icons/fontawesome/sync-solid.png?ref=beb55b650a30f28d9f079c99b635224a8cd7f798"
  },
  {
    "sha": "22d63563a19e2d65490f9408d64d4bde2ed9985f",
    "filename": "bundles/org.corpus_tools.hexatomic.core/icons/fontawesome/sync-solid.svg",
    "status": "added",
    "additions": 1,
    "deletions": 0,
    "changes": 1,
    "blob_url": "https://github.com/hexatomic/hexatomic/blob/beb55b650a30f28d9f079c99b635224a8cd7f798/bundles/org.corpus_tools.hexatomic.core/icons/fontawesome/sync-solid.svg",
    "raw_url": "https://github.com/hexatomic/hexatomic/raw/beb55b650a30f28d9f079c99b635224a8cd7f798/bundles/org.corpus_tools.hexatomic.core/icons/fontawesome/sync-solid.svg",
    "contents_url": "https://api.github.com/repos/hexatomic/hexatomic/contents/bundles/org.corpus_tools.hexatomic.core/icons/fontawesome/sync-solid.svg?ref=beb55b650a30f28d9f079c99b635224a8cd7f798",
    "patch": "@@ -0,0 +1 @@\n+<svg aria-hidden=\"true\" focusable=\"false\" data-prefix=\"fas\" data-icon=\"sync\" class=\"svg-inline--fa fa-sync fa-w-16\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><path fill=\"currentColor\" d=\"M440.65 12.57l4 82.77A247.16 247.16 0 0 0 255.83 8C134.73 8 33.91 94.92 12.29 209.82A12 12 0 0 0 24.09 224h49.05a12 12 0 0 0 11.67-9.26 175.91 175.91 0 0 1 317-56.94l-101.46-4.86a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12H500a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12h-47.37a12 12 0 0 0-11.98 12.57zM255.83 432a175.61 175.61 0 0 1-146-77.8l101.8 4.87a12 12 0 0 0 12.57-12v-47.4a12 12 0 0 0-12-12H12a12 12 0 0 0-12 12V500a12 12 0 0 0 12 12h47.35a12 12 0 0 0 12-12.6l-4.15-82.57A247.17 247.17 0 0 0 255.83 504c121.11 0 221.93-86.92 243.55-201.82a12 12 0 0 0-11.8-14.18h-49.05a12 12 0 0 0-11.67 9.26A175.86 175.86 0 0 1 255.83 432z\"></path></svg>\n\\ No newline at end of file"
  },
  {
    "sha": "43021452fb64e758a96d242a71e970002a57a1d4",
    "filename": "bundles/org.corpus_tools.hexatomic.core/src/main/java/org/corpus_tools/hexatomic/core/handlers/UpdateHandler.java",
    "status": "added",
    "additions": 79,
    "deletions": 0,
    "changes": 79,
    "blob_url": "https://github.com/hexatomic/hexatomic/blob/beb55b650a30f28d9f079c99b635224a8cd7f798/bundles/org.corpus_tools.hexatomic.core/src/main/java/org/corpus_tools/hexatomic/core/handlers/UpdateHandler.java",
    "raw_url": "https://github.com/hexatomic/hexatomic/raw/beb55b650a30f28d9f079c99b635224a8cd7f798/bundles/org.corpus_tools.hexatomic.core/src/main/java/org/corpus_tools/hexatomic/core/handlers/UpdateHandler.java",
    "contents_url": "https://api.github.com/repos/hexatomic/hexatomic/contents/bundles/org.corpus_tools.hexatomic.core/src/main/java/org/corpus_tools/hexatomic/core/handlers/UpdateHandler.java?ref=beb55b650a30f28d9f079c99b635224a8cd7f798",
    "patch": "@@ -0,0 +1,79 @@\n+/*-\n+ * #%L\n+ * org.corpus_tools.hexatomic.core\n+ * %%\n+ * Copyright (C) 2018 - 2021 Stephan Druskat, Thomas Krause, Clara Lachenmaier\n+ * %%\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ * \n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ * \n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ * #L%\n+ */\n+\n+package org.corpus_tools.hexatomic.core.handlers;\n+\n+import org.eclipse.core.runtime.IStatus;\n+import org.eclipse.e4.core.di.annotations.Execute;\n+import org.eclipse.e4.ui.di.UISynchronize;\n+import org.eclipse.e4.ui.workbench.IWorkbench;\n+import org.eclipse.equinox.p2.core.IProvisioningAgent;\n+import org.eclipse.equinox.p2.operations.ProvisioningJob;\n+import org.eclipse.equinox.p2.operations.ProvisioningSession;\n+import org.eclipse.equinox.p2.operations.UpdateOperation;\n+import org.eclipse.jface.dialogs.MessageDialog;\n+\n+public class UpdateHandler {\n+  /**\n+   * Search for updates and update if wanted.\n+   * \n+   * @param agent OSGi service needed for creating an update operation\n+   * @param sync Helper class for executing code in the UI thread\n+   * @param workbench The current workbench. Will be needed to restart the application.\n+   */\n+\n+  @Execute\n+  public void execute(IProvisioningAgent agent, UISynchronize sync, IWorkbench workbench) {\n+\n+    ProvisioningSession session = new ProvisioningSession(agent);\n+    // update all user-visible installable units\n+    UpdateOperation operation = new UpdateOperation(session);\n+    IStatus status = operation.resolveModal(null);\n+    if (status.getCode() == UpdateOperation.STATUS_NOTHING_TO_UPDATE) {\n+      MessageDialog.openInformation(null, \"Information\", \"Nothing to update\");\n+    }\n+    ProvisioningJob provisioningJob = operation.getProvisioningJob(null);\n+    if (provisioningJob != null) {\n+      sync.syncExec(new Runnable() {\n+        @Override\n+        public void run() {\n+          boolean performUpdate = MessageDialog.openQuestion(null, \"Updates available\",\n+              \"There are updates available. Do you want to install them now?\");\n+          if (performUpdate) {\n+            provisioningJob.schedule();\n+\n+            boolean restart = MessageDialog.openQuestion(null, \"Updates installed, restart?\",\n+                \"Updates have been installed successfully, do you want to restart?\");\n+            if (restart) {\n+              workbench.restart();\n+            }\n+          }\n+        }\n+      });\n+    } else {\n+      if (operation.hasResolved()) {\n+        MessageDialog.openError(null, \"Error\",\n+            \"Couldn't get provisioning job: \" + operation.getResolutionResult());\n+      } else {\n+        MessageDialog.openError(null, \"Error\", \"Couldn't resolve provisioning job\");\n+      }\n+    }\n+  }\n+}"
  },
  {
    "sha": "6897ee4a024c8d0cd9f9497e92aea920b7573717",
    "filename": "releng/org.corpus_tools.hexatomic.product/org.corpus_tools.hexatomic.product",
    "status": "modified",
    "additions": 6,
    "deletions": 1,
    "changes": 7,
    "blob_url": "https://github.com/hexatomic/hexatomic/blob/beb55b650a30f28d9f079c99b635224a8cd7f798/releng/org.corpus_tools.hexatomic.product/org.corpus_tools.hexatomic.product",
    "raw_url": "https://github.com/hexatomic/hexatomic/raw/beb55b650a30f28d9f079c99b635224a8cd7f798/releng/org.corpus_tools.hexatomic.product/org.corpus_tools.hexatomic.product",
    "contents_url": "https://api.github.com/repos/hexatomic/hexatomic/contents/releng/org.corpus_tools.hexatomic.product/org.corpus_tools.hexatomic.product?ref=beb55b650a30f28d9f079c99b635224a8cd7f798",
    "patch": "@@ -25,7 +25,6 @@\n    <vm>\n    </vm>\n \n-\n    <plugins>\n    </plugins>\n \n@@ -34,6 +33,12 @@\n       <feature id=\"org.eclipse.e4.rcp\" installMode=\"root\"/>\n       <feature id=\"org.eclipse.emf.ecore\" installMode=\"root\"/>\n       <feature id=\"org.eclipse.emf.common\" installMode=\"root\"/>\n+      <feature id=\"org.eclipse.equinox.p2.core.feature\" installMode=\"root\"/>\n+      <feature id=\"org.eclipse.ecf.core.ssl.feature\" installMode=\"root\"/>\n+      <feature id=\"org.eclipse.ecf.filetransfer.ssl.feature\" installMode=\"root\"/>\n+      <feature id=\"org.eclipse.ecf.core.feature\" installMode=\"root\"/>\n+      <feature id=\"org.eclipse.ecf.filetransfer.httpclient45.feature\" installMode=\"root\"/>\n+      <feature id=\"org.eclipse.ecf.filetransfer.feature\" installMode=\"root\"/>\n    </features>\n \n    <configurations>"
  },
  {
    "sha": "949da77873afafc2207d59595fe752cbfc269e34",
    "filename": "releng/org.corpus_tools.hexatomic.target/org.corpus_tools.hexatomic.target.target",
    "status": "modified",
    "additions": 5,
    "deletions": 1,
    "changes": 6,
    "blob_url": "https://github.com/hexatomic/hexatomic/blob/beb55b650a30f28d9f079c99b635224a8cd7f798/releng/org.corpus_tools.hexatomic.target/org.corpus_tools.hexatomic.target.target",
    "raw_url": "https://github.com/hexatomic/hexatomic/raw/beb55b650a30f28d9f079c99b635224a8cd7f798/releng/org.corpus_tools.hexatomic.target/org.corpus_tools.hexatomic.target.target",
    "contents_url": "https://api.github.com/repos/hexatomic/hexatomic/contents/releng/org.corpus_tools.hexatomic.target/org.corpus_tools.hexatomic.target.target?ref=beb55b650a30f28d9f079c99b635224a8cd7f798",
    "patch": "@@ -1,7 +1,7 @@\n <?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?>\n <?pde?>\n <!-- generated with https://github.com/eclipse-cbi/targetplatform-dsl -->\n-<target name=\"Hexatomic Target Platform Definition\" sequenceNumber=\"1607351706\">\n+<target name=\"Hexatomic Target Platform Definition\" sequenceNumber=\"1614793713\">\n   <locations>\n     <location includeMode=\"planner\" includeAllPlatforms=\"false\" includeSource=\"true\" includeConfigurePhase=\"true\" type=\"InstallableUnit\">\n       <unit id=\"org.eclipse.platform.sdk\" version=\"4.16.0.I20200604-0540\"/>\n@@ -21,6 +21,10 @@\n       <unit id=\"org.eclipse.swtbot.swt.finder\" version=\"3.0.0.202006031738\"/>\n       <unit id=\"org.eclipse.jface\" version=\"3.20.0.v20200505-1952\"/>\n       <unit id=\"org.eclipse.pde.junit.runtime\" version=\"3.5.800.v20200310-0710\"/>\n+      <unit id=\"org.eclipse.equinox.p2.core\" version=\"2.6.300.v20200211-1504\"/>\n+      <unit id=\"org.eclipse.equinox.p2.engine\" version=\"2.6.700.v20200511-1530\"/>\n+      <unit id=\"org.eclipse.equinox.p2.operations\" version=\"2.5.800.v20200410-1336\"/>\n+      <unit id=\"org.eclipse.equinox.p2.metadata.repository\" version=\"1.3.400.v20191211-1528\"/>\n       <repository location=\"http://download.eclipse.org/releases/2020-06/\"/>\n     </location>\n     <location includeMode=\"planner\" includeAllPlatforms=\"false\" includeSource=\"true\" includeConfigurePhase=\"true\" type=\"InstallableUnit\">"
  },
  {
    "sha": "cbf2aa619fb575e106083fcfe672b0919c6fcf09",
    "filename": "releng/org.corpus_tools.hexatomic.target/org.corpus_tools.hexatomic.target.tpd",
    "status": "modified",
    "additions": 4,
    "deletions": 0,
    "changes": 4,
    "blob_url": "https://github.com/hexatomic/hexatomic/blob/beb55b650a30f28d9f079c99b635224a8cd7f798/releng/org.corpus_tools.hexatomic.target/org.corpus_tools.hexatomic.target.tpd",
    "raw_url": "https://github.com/hexatomic/hexatomic/raw/beb55b650a30f28d9f079c99b635224a8cd7f798/releng/org.corpus_tools.hexatomic.target/org.corpus_tools.hexatomic.target.tpd",
    "contents_url": "https://api.github.com/repos/hexatomic/hexatomic/contents/releng/org.corpus_tools.hexatomic.target/org.corpus_tools.hexatomic.target.tpd?ref=beb55b650a30f28d9f079c99b635224a8cd7f798",
    "patch": "@@ -20,6 +20,10 @@ location 'http://download.eclipse.org/releases/2020-06/' {\n \torg.eclipse.swtbot.swt.finder\n \torg.eclipse.jface\n \torg.eclipse.pde.junit.runtime\n+\torg.eclipse.equinox.p2.core\n+\torg.eclipse.equinox.p2.engine\n+\torg.eclipse.equinox.p2.operations\n+\torg.eclipse.equinox.p2.metadata.repository\n }\n \n location 'https://download.eclipse.org/tools/orbit/downloads/drops/R20201130205003/repository/' {"
  }
]
