[
  {
    "sha": "62d4c711b89ecf6f5de939d6c76afd366b268510",
    "filename": ".github/CODEOWNERS",
    "status": "modified",
    "additions": 8,
    "deletions": 0,
    "changes": 8,
    "blob_url": "https://github.com/Nicholas282787728/azure-sdk-for-java/blob/bbd7e1154cec53e5c677d95433e4188f9ce222a8/.github/CODEOWNERS",
    "raw_url": "https://github.com/Nicholas282787728/azure-sdk-for-java/raw/bbd7e1154cec53e5c677d95433e4188f9ce222a8/.github/CODEOWNERS",
    "contents_url": "https://api.github.com/repos/Nicholas282787728/azure-sdk-for-java/contents/.github/CODEOWNERS?ref=bbd7e1154cec53e5c677d95433e4188f9ce222a8",
    "patch": "@@ -21,13 +21,17 @@\n /sdk/appconfiguration/                              @mssfang @alzimmermsft\n # PRLabel: %azure-spring\n /sdk/appconfiguration/azure-spring-cloud-*/         @mrm9084 @saragluna @yiliuTo @chenrujun @backwind1233 @jialindai @zhenlan @stliu\n+/sdk/appconfiguration/spring-cloud-azure-*/         @mrm9084 @saragluna @yiliuTo @chenrujun @backwind1233 @jialindai @zhenlan @stliu\n \n # PRLabel: %Batch\n /sdk/batch/                                         @xingwu1 @bgklein @matthchr\n \n # PRLabel: %Communication\n /sdk/communication/                                 @JianpingChen @ankitarorabit @minnieliu @Azure/azure-sdk-communication-code-reviewers\n \n+# PRLabel: %Container Registry\n+/sdk/containerregistry/                             @pallavit @alzimmermsft @jianghaolu\n+\n # PRLabel: %Azure.Core\n /sdk/core/                                          @alzimmermsft @jianghaolu @srnagar @hemanttanwar @anuchandy\n \n@@ -68,6 +72,9 @@\n \n /sdk/monitor/azure-monitor-opentelemetry-exporter   @trask @joshfree @srnagar\n \n+# PRLabel: %Remote Rendering\n+/sdk/remoterendering/                               @MalcolmTyrrell\n+\n # PRLabel: %Schema Registry\n /sdk/schemaregistry/                                @arerlend @sjkwak\n \n@@ -115,6 +122,7 @@\n /eng/spotbugs-aggregate-report/                     @srnagar @JonathanGiles\n /eng/mgmt/                                          @JimSuplizio @mitchdenny @weshaggard @danieljurek @ChenTanyi @weidongxu-microsoft @yungezz @xccc-msft\n /eng/versioning/                                    @JimSuplizio @mitchdenny @danieljurek @alzimmermsft @samvaity @g2vinay\n+/eng/versioning/external_dependencies.txt           @JimSuplizio @mitchdenny @danieljurek @alzimmermsft @samvaity @g2vinay @saragluna @yiliuTo @chenrujun @backwind1233 @stliu\n /parent/                                            @JimSuplizio @alzimmermsft\n \n /**/tests.yml                                       @danieljurek"
  },
  {
    "sha": "541928398352b3e938424629644fbcf60e273bd6",
    "filename": "common/perf-test-core/pom.xml",
    "status": "modified",
    "additions": 5,
    "deletions": 4,
    "changes": 9,
    "blob_url": "https://github.com/Nicholas282787728/azure-sdk-for-java/blob/bbd7e1154cec53e5c677d95433e4188f9ce222a8/common/perf-test-core/pom.xml",
    "raw_url": "https://github.com/Nicholas282787728/azure-sdk-for-java/raw/bbd7e1154cec53e5c677d95433e4188f9ce222a8/common/perf-test-core/pom.xml",
    "contents_url": "https://api.github.com/repos/Nicholas282787728/azure-sdk-for-java/contents/common/perf-test-core/pom.xml?ref=bbd7e1154cec53e5c677d95433e4188f9ce222a8",
    "patch": "@@ -51,11 +51,12 @@\n           <rules>\n             <bannedDependencies>\n               <includes>\n-                <include>com.azure:*</include>\n                 <include>com.fasterxml.jackson.core:jackson-databind:[2.12.1]</include> <!-- {x-include-update;com.fasterxml.jackson.core:jackson-databind;external_dependency} -->\n \n                 <!-- special allowance for perf-test-core as it is not a shipping library: -->\n                 <include>com.beust:jcommander:[1.78]</include> <!-- {x-include-update;com.beust:jcommander;external_dependency} -->\n+\n+                <include>io.projectreactor:reactor-core:[3.4.3]</include> <!-- {x-include-update;io.projectreactor:reactor-core;external_dependency} -->\n               </includes>\n             </bannedDependencies>\n           </rules>\n@@ -76,9 +77,9 @@\n       <version>1.78</version> <!-- {x-version-update;com.beust:jcommander;external_dependency} -->\n     </dependency>\n     <dependency>\n-      <groupId>com.azure</groupId>\n-      <artifactId>azure-core-http-netty</artifactId>\n-      <version>1.8.0</version> <!-- {x-version-update;com.azure:azure-core-http-netty;dependency} -->\n+      <groupId>io.projectreactor</groupId>\n+      <artifactId>reactor-core</artifactId>\n+      <version>3.4.3</version> <!-- {x-version-update;io.projectreactor:reactor-core;external_dependency} -->\n     </dependency>\n   </dependencies>\n </project>"
  },
  {
    "sha": "cdd9a71d263786b218b3ce0b6bafa6b4d2f9b320",
    "filename": "common/perf-test-core/src/main/java/com/azure/perf/test/core/ExceptionTest.java",
    "status": "modified",
    "additions": 1,
    "deletions": 5,
    "changes": 6,
    "blob_url": "https://github.com/Nicholas282787728/azure-sdk-for-java/blob/bbd7e1154cec53e5c677d95433e4188f9ce222a8/common/perf-test-core/src/main/java/com/azure/perf/test/core/ExceptionTest.java",
    "raw_url": "https://github.com/Nicholas282787728/azure-sdk-for-java/raw/bbd7e1154cec53e5c677d95433e4188f9ce222a8/common/perf-test-core/src/main/java/com/azure/perf/test/core/ExceptionTest.java",
    "contents_url": "https://api.github.com/repos/Nicholas282787728/azure-sdk-for-java/contents/common/perf-test-core/src/main/java/com/azure/perf/test/core/ExceptionTest.java?ref=bbd7e1154cec53e5c677d95433e4188f9ce222a8",
    "patch": "@@ -3,12 +3,9 @@\n \n package com.azure.perf.test.core;\n \n-import com.azure.core.util.logging.ClientLogger;\n import reactor.core.publisher.Mono;\n \n class ExceptionTest extends PerfStressTest<PerfStressOptions> {\n-    private final ClientLogger logger = new ClientLogger(ExceptionTest.class);\n-\n     /**\n      * Sets up the Exception test.\n      * @param options the options to setup the test with.\n@@ -21,8 +18,7 @@ public ExceptionTest(PerfStressOptions options) {\n     public void run() {\n         try {\n             throw new IllegalArgumentException();\n-        } catch (Exception ex) {\n-            logger.info(\"Test exception.\", ex);\n+        } catch (Exception e) {\n         }\n     }\n "
  },
  {
    "sha": "30e548413e80a5e000a1cbed93396daaf139f29c",
    "filename": "common/perf-test-core/src/main/java/com/azure/perf/test/core/PerfStressHttpClient.java",
    "status": "removed",
    "additions": 0,
    "deletions": 97,
    "changes": 97,
    "blob_url": "https://github.com/Nicholas282787728/azure-sdk-for-java/blob/09f428d8da4b7d4411eb0818d28cde5115691e03/common/perf-test-core/src/main/java/com/azure/perf/test/core/PerfStressHttpClient.java",
    "raw_url": "https://github.com/Nicholas282787728/azure-sdk-for-java/raw/09f428d8da4b7d4411eb0818d28cde5115691e03/common/perf-test-core/src/main/java/com/azure/perf/test/core/PerfStressHttpClient.java",
    "contents_url": "https://api.github.com/repos/Nicholas282787728/azure-sdk-for-java/contents/common/perf-test-core/src/main/java/com/azure/perf/test/core/PerfStressHttpClient.java?ref=09f428d8da4b7d4411eb0818d28cde5115691e03",
    "patch": "@@ -1,97 +0,0 @@\n-// Copyright (c) Microsoft Corporation. All rights reserved.\n-// Licensed under the MIT License.\n-\n-package com.azure.perf.test.core;\n-\n-import java.lang.reflect.Field;\n-import java.net.MalformedURLException;\n-import java.net.URL;\n-\n-import com.azure.core.http.HttpClient;\n-import com.azure.core.http.HttpRequest;\n-import com.azure.core.http.HttpResponse;\n-\n-import io.netty.handler.ssl.SslContextBuilder;\n-import io.netty.handler.ssl.util.InsecureTrustManagerFactory;\n-\n-import reactor.core.publisher.Mono;\n-\n-/**\n- * Represents the Http Client used to run performance tests.\n- */\n-public class PerfStressHttpClient {\n-    /**\n-     * Creates an instance of the http client\n-     * @param options the configuration to create the http client with.\n-     * @return The Http client.\n-     */\n-    public static HttpClient create(PerfStressOptions options) {\n-        HttpClient httpClient = HttpClient.createDefault();\n-\n-        if (options.isInsecure()) {\n-            makeInsecure(httpClient);\n-        }\n-\n-        if (options.getHost() != null && options.getHost().length() > 0) {\n-            httpClient = new ChangeUriHttpClient(httpClient, options.getHost(), options.getPort());\n-        }\n-\n-        return httpClient;\n-    }\n-     \n-    private static void makeInsecure(HttpClient httpClient) {\n-        Field nettyClientField;\n-        try {\n-            nettyClientField = httpClient.getClass().getDeclaredField(\"nettyClient\");\n-        } catch (NoSuchFieldException | SecurityException e) {\n-            throw new RuntimeException(e);\n-        }\n-        nettyClientField.setAccessible(true);\n-\n-        reactor.netty.http.client.HttpClient nettyClient;\n-        try {\n-            nettyClient = (reactor.netty.http.client.HttpClient) nettyClientField.get(httpClient);\n-        } catch (IllegalArgumentException | IllegalAccessException e) {\n-            throw new RuntimeException(e);\n-        }\n-\n-        SslContextBuilder sslContextBuilder = SslContextBuilder.forClient()\n-                .trustManager(InsecureTrustManagerFactory.INSTANCE);\n-\n-        try {\n-            nettyClientField.set(httpClient, nettyClient.secure(spec -> spec.sslContext(sslContextBuilder)));\n-        } catch (IllegalArgumentException | IllegalAccessException e) {\n-            throw new RuntimeException(e);\n-        }\n-    }\n-\n-    private static class ChangeUriHttpClient implements HttpClient {\n-        private final HttpClient httpClient;\n-        private final String host;\n-        private final int port;\n-    \n-        ChangeUriHttpClient(HttpClient httpClient, String host, int port) {\n-            this.httpClient = httpClient;\n-            this.host = host;\n-            this.port = port;\n-        }\n-    \n-        @Override\n-        public Mono<HttpResponse> send(HttpRequest request) {\n-            request.getHeaders().put(\"Host\", request.getUrl().getHost());\n-    \n-            String protocol = request.getUrl().getProtocol();\n-            String host = this.host;\n-            int port = this.port;\n-            String file = request.getUrl().getFile();\n-    \n-            try {\n-                request.setUrl(new URL(protocol, host, port, file));\n-            } catch (MalformedURLException e) {\n-                throw new RuntimeException(e);\n-            }\n-    \n-            return httpClient.send(request);\n-        }\n-    }    \n-}"
  },
  {
    "sha": "469fcf509842bbd7dfbbc45e4370b189f26e91b2",
    "filename": "common/perf-test-core/src/main/java/com/azure/perf/test/core/SleepTest.java",
    "status": "modified",
    "additions": 1,
    "deletions": 6,
    "changes": 7,
    "blob_url": "https://github.com/Nicholas282787728/azure-sdk-for-java/blob/bbd7e1154cec53e5c677d95433e4188f9ce222a8/common/perf-test-core/src/main/java/com/azure/perf/test/core/SleepTest.java",
    "raw_url": "https://github.com/Nicholas282787728/azure-sdk-for-java/raw/bbd7e1154cec53e5c677d95433e4188f9ce222a8/common/perf-test-core/src/main/java/com/azure/perf/test/core/SleepTest.java",
    "contents_url": "https://api.github.com/repos/Nicholas282787728/azure-sdk-for-java/contents/common/perf-test-core/src/main/java/com/azure/perf/test/core/SleepTest.java?ref=bbd7e1154cec53e5c677d95433e4188f9ce222a8",
    "patch": "@@ -3,19 +3,15 @@\n \n package com.azure.perf.test.core;\n \n-import com.azure.core.util.logging.ClientLogger;\n import reactor.core.publisher.Mono;\n \n import java.time.Duration;\n import java.util.concurrent.atomic.AtomicInteger;\n \n-\n class SleepTest extends PerfStressTest<PerfStressOptions> {\n-    private static final ClientLogger LOGGER = new ClientLogger(SleepTest.class);\n     private static final AtomicInteger INSTANCE_COUNT = new AtomicInteger();\n     private final int secondsPerOperation;\n \n-\n     public SleepTest(PerfStressOptions options) {\n         super(options);\n \n@@ -35,8 +31,7 @@ private static int pow(int value, int exponent) {\n     public void run() {\n         try {\n             Thread.sleep(secondsPerOperation * 1000);\n-        } catch (InterruptedException e) {\n-            throw LOGGER.logExceptionAsError(new RuntimeException(e));\n+        } catch (Exception e) {\n         }\n     }\n "
  },
  {
    "sha": "4efe16cd15f747be82d99e29116f442fdca8062a",
    "filename": "common/perf-test-core/src/main/java/module-info.java",
    "status": "modified",
    "additions": 1,
    "deletions": 3,
    "changes": 4,
    "blob_url": "https://github.com/Nicholas282787728/azure-sdk-for-java/blob/bbd7e1154cec53e5c677d95433e4188f9ce222a8/common/perf-test-core/src/main/java/module-info.java",
    "raw_url": "https://github.com/Nicholas282787728/azure-sdk-for-java/raw/bbd7e1154cec53e5c677d95433e4188f9ce222a8/common/perf-test-core/src/main/java/module-info.java",
    "contents_url": "https://api.github.com/repos/Nicholas282787728/azure-sdk-for-java/contents/common/perf-test-core/src/main/java/module-info.java?ref=bbd7e1154cec53e5c677d95433e4188f9ce222a8",
    "patch": "@@ -3,11 +3,9 @@\n \n module com.azure.core.test.perf {\n     requires reactor.core;\n+    requires org.reactivestreams;\n     requires jcommander;\n-    requires reactor.netty;\n-    requires io.netty.handler;\n     requires com.fasterxml.jackson.annotation;\n     requires com.fasterxml.jackson.core;\n     requires com.fasterxml.jackson.databind;\n-    requires com.azure.core;\n }"
  },
  {
    "sha": "4ed410ee32e3454ba72208b3e42b100a6838e747",
    "filename": "common/smoke-tests/pom.xml",
    "status": "modified",
    "additions": 11,
    "deletions": 11,
    "changes": 22,
    "blob_url": "https://github.com/Nicholas282787728/azure-sdk-for-java/blob/bbd7e1154cec53e5c677d95433e4188f9ce222a8/common/smoke-tests/pom.xml",
    "raw_url": "https://github.com/Nicholas282787728/azure-sdk-for-java/raw/bbd7e1154cec53e5c677d95433e4188f9ce222a8/common/smoke-tests/pom.xml",
    "contents_url": "https://api.github.com/repos/Nicholas282787728/azure-sdk-for-java/contents/common/smoke-tests/pom.xml?ref=bbd7e1154cec53e5c677d95433e4188f9ce222a8",
    "patch": "@@ -81,68 +81,68 @@\n     <dependency>\n       <groupId>junit</groupId>\n       <artifactId>junit</artifactId>\n-      <version>4.13.1</version> <!-- {x-version-update;junit:junit;external_dependency} -->\n+      <version>4.13.2</version> <!-- {x-version-update;junit:junit;external_dependency} -->\n       <scope>test</scope>\n     </dependency>\n \n     <dependency>\n       <groupId>com.azure</groupId>\n       <artifactId>azure-core</artifactId>\n-      <version>1.13.0</version> <!-- {x-version-update;com.azure:azure-core;dependency} -->\n+      <version>1.14.0</version> <!-- {x-version-update;com.azure:azure-core;dependency} -->\n     </dependency>\n \n     <dependency>\n       <groupId>com.azure</groupId>\n       <artifactId>azure-core-http-netty</artifactId>\n-      <version>1.8.0</version> <!-- {x-version-update;com.azure:azure-core-http-netty;dependency} -->\n+      <version>1.9.0</version> <!-- {x-version-update;com.azure:azure-core-http-netty;dependency} -->\n     </dependency>\n \n     <dependency>\n       <groupId>com.azure</groupId>\n       <artifactId>azure-core-tracing-opentelemetry</artifactId>\n-      <version>1.0.0-beta.7</version> <!-- {x-version-update;com.azure:azure-core-tracing-opentelemetry;dependency} -->\n+      <version>1.0.0-beta.8</version> <!-- {x-version-update;com.azure:azure-core-tracing-opentelemetry;dependency} -->\n     </dependency>\n \n     <dependency>\n       <groupId>com.azure</groupId>\n       <artifactId>azure-core-http-okhttp</artifactId>\n-      <version>1.5.0</version> <!-- {x-version-update;com.azure:azure-core-http-okhttp;dependency} -->\n+      <version>1.6.0</version> <!-- {x-version-update;com.azure:azure-core-http-okhttp;dependency} -->\n     </dependency>\n \n     <dependency>\n       <groupId>com.azure</groupId>\n       <artifactId>azure-core-amqp</artifactId>\n-      <version>2.0.2</version> <!-- {x-version-update;com.azure:azure-core-amqp;dependency} -->\n+      <version>2.0.3</version> <!-- {x-version-update;com.azure:azure-core-amqp;dependency} -->\n     </dependency>\n \n     <dependency>\n       <groupId>com.azure</groupId>\n       <artifactId>azure-cosmos</artifactId>\n-      <version>4.12.0</version> <!-- {x-version-update;com.azure:azure-cosmos;dependency} -->\n+      <version>4.13.0</version> <!-- {x-version-update;com.azure:azure-cosmos;dependency} -->\n     </dependency>\n \n     <dependency>\n       <groupId>com.azure</groupId>\n       <artifactId>azure-identity</artifactId>\n-      <version>1.2.3</version> <!-- {x-version-update;com.azure:azure-identity;dependency} -->\n+      <version>1.2.4</version> <!-- {x-version-update;com.azure:azure-identity;dependency} -->\n     </dependency>\n \n     <dependency>\n       <groupId>com.azure</groupId>\n       <artifactId>azure-security-keyvault-secrets</artifactId>\n-      <version>4.2.5</version> <!-- {x-version-update;com.azure:azure-security-keyvault-secrets;dependency} -->\n+      <version>4.2.6</version> <!-- {x-version-update;com.azure:azure-security-keyvault-secrets;dependency} -->\n     </dependency>\n \n     <dependency>\n       <groupId>com.azure</groupId>\n       <artifactId>azure-messaging-eventhubs</artifactId>\n-      <version>5.5.0</version> <!-- {x-version-update;com.azure:azure-messaging-eventhubs;dependency} -->\n+      <version>5.6.0</version> <!-- {x-version-update;com.azure:azure-messaging-eventhubs;dependency} -->\n     </dependency>\n \n     <dependency>\n       <groupId>com.azure</groupId>\n       <artifactId>azure-messaging-eventhubs-checkpointstore-blob</artifactId>\n-      <version>1.5.0</version> <!-- {x-version-update;com.azure:azure-messaging-eventhubs-checkpointstore-blob;dependency} -->\n+      <version>1.5.1</version> <!-- {x-version-update;com.azure:azure-messaging-eventhubs-checkpointstore-blob;dependency} -->\n     </dependency>\n \n     <dependency>"
  },
  {
    "sha": "aefa98c893743f6d1f7f90eb629952b2eee60649",
    "filename": "eng/.docsettings.yml",
    "status": "modified",
    "additions": 1,
    "deletions": 1,
    "changes": 2,
    "blob_url": "https://github.com/Nicholas282787728/azure-sdk-for-java/blob/bbd7e1154cec53e5c677d95433e4188f9ce222a8/eng/.docsettings.yml",
    "raw_url": "https://github.com/Nicholas282787728/azure-sdk-for-java/raw/bbd7e1154cec53e5c677d95433e4188f9ce222a8/eng/.docsettings.yml",
    "contents_url": "https://api.github.com/repos/Nicholas282787728/azure-sdk-for-java/contents/eng/.docsettings.yml?ref=bbd7e1154cec53e5c677d95433e4188f9ce222a8",
    "patch": "@@ -135,6 +135,7 @@ known_content_issues:\n   - ['sdk/cosmos/azure-cosmos/README.md', '#3113']\n   - ['sdk/cosmos/azure-cosmos-encryption/README.md', '#3113']\n   - ['sdk/cosmos/README.md', '#3113']\n+  - ['sdk/deviceupdate/azure-iot-deviceupdate/swagger/README.md', '#3113']\n   - ['sdk/e2e/README.md', '#3113']\n   - ['sdk/eventgrid/azure-messaging-eventgrid/swagger/README.md', '#3113']\n   - ['sdk/eventgrid/microsoft-azure-eventgrid/README.md', '#3113']\n@@ -170,7 +171,6 @@ known_content_issues:\n   - ['sdk/synapse/azure-analytics-synapse-managedprivateendpoints/swagger/README.md', '#3113']\n   - ['sdk/synapse/azure-analytics-synapse-monitoring/swagger/README.md', '#3113']\n   - ['sdk/tables/azure-data-tables/swagger/README.md', '#3113']\n-  - ['sdk/template/azure-sdk-template/README.md','has other required sections']\n   - ['sdk/textanalytics/azure-ai-textanalytics/swagger/README.md', '#3113']\n \n package_indexing_exclusion_list:"
  },
  {
    "sha": "e87d6626128c932208357621f14ef38cd8c47a99",
    "filename": "eng/code-quality-reports/pom.xml",
    "status": "modified",
    "additions": 1,
    "deletions": 1,
    "changes": 2,
    "blob_url": "https://github.com/Nicholas282787728/azure-sdk-for-java/blob/bbd7e1154cec53e5c677d95433e4188f9ce222a8/eng/code-quality-reports/pom.xml",
    "raw_url": "https://github.com/Nicholas282787728/azure-sdk-for-java/raw/bbd7e1154cec53e5c677d95433e4188f9ce222a8/eng/code-quality-reports/pom.xml",
    "contents_url": "https://api.github.com/repos/Nicholas282787728/azure-sdk-for-java/contents/eng/code-quality-reports/pom.xml?ref=bbd7e1154cec53e5c677d95433e4188f9ce222a8",
    "patch": "@@ -48,7 +48,7 @@\n     <dependency>\n       <groupId>junit</groupId>\n       <artifactId>junit</artifactId>\n-      <version>4.13.1</version> <!-- {x-version-update;junit:junit;external_dependency} -->\n+      <version>4.13.2</version> <!-- {x-version-update;junit:junit;external_dependency} -->\n       <scope>test</scope>\n     </dependency>\n   </dependencies>"
  },
  {
    "sha": "5eed93d87bf7aebd8520ff5bb94fe84b2f80c62b",
    "filename": "eng/code-quality-reports/src/main/resources/checkstyle/checkstyle-suppressions.xml",
    "status": "modified",
    "additions": 4,
    "deletions": 4,
    "changes": 8,
    "blob_url": "https://github.com/Nicholas282787728/azure-sdk-for-java/blob/bbd7e1154cec53e5c677d95433e4188f9ce222a8/eng/code-quality-reports/src/main/resources/checkstyle/checkstyle-suppressions.xml",
    "raw_url": "https://github.com/Nicholas282787728/azure-sdk-for-java/raw/bbd7e1154cec53e5c677d95433e4188f9ce222a8/eng/code-quality-reports/src/main/resources/checkstyle/checkstyle-suppressions.xml",
    "contents_url": "https://api.github.com/repos/Nicholas282787728/azure-sdk-for-java/contents/eng/code-quality-reports/src/main/resources/checkstyle/checkstyle-suppressions.xml?ref=bbd7e1154cec53e5c677d95433e4188f9ce222a8",
    "patch": "@@ -9,7 +9,7 @@\n   <suppress checks=\"Javadoc\" files=\".*CoverageReporter\\.java\"/>\n   <suppress checks=\"Javadoc\" files=\".*[/\\\\]implementation[/\\\\].*\\.java\"/>\n   <suppress checks=\"Header\" files=\".*package-info.java\"/>\n-  \n+\n   <!-- Suppress all checkstyle rules for Track 1/management libraries. -->\n   <suppress checks=\"[a-zA-Z0-9]*\" files=\".*[/\\\\]com[/\\\\]microsoft[/\\\\].*\"/>\n \n@@ -168,8 +168,6 @@ the main ServiceBusClientBuilder. -->\n             files=\"com.azure.security.keyvault.keys.cryptography.AesCbc.java\"/>\n   <suppress checks=\"com.azure.tools.checkstyle.checks.ThrowFromClientLogger\"\n             files=\"com.azure.security.keyvault.keys.cryptography.AesCbcPad.java\"/>\n-  <suppress checks=\"com.azure.tools.checkstyle.checks.ThrowFromClientLogger\"\n-            files=\"com.azure.security.keyvault.keys.cryptography.AesGcm.java\"/>\n \n   <!-- suppress the runtime exception in the KeyVaultClient class-->\n   <suppress checks=\"com.azure.tools.checkstyle.checks.ThrowFromClientLogger\"\n@@ -282,11 +280,13 @@ the main ServiceBusClientBuilder. -->\n \n   <!-- Allows the HttpPipelinePolicy derived class in Implementation folder -->\n   <suppress checks=\"com.azure.tools.checkstyle.checks.HttpPipelinePolicy\" files=\"com.azure.messaging.servicebus.implementation.ServiceBusTokenCredentialHttpPolicy.java\"/>\n+  <suppress checks=\"com.azure.tools.checkstyle.checks.HttpPipelinePolicy\" files=\"com.azure.messaging.eventgrid.implementation.CloudEventTracingPipelinePolicy.java\"/>\n   <suppress checks=\"com.azure.tools.checkstyle.checks.HttpPipelinePolicy\" files=\"com.azure.storage.common.implementation.policy.SasTokenCredentialPolicy.java\"/>\n   <suppress checks=\"com.azure.tools.checkstyle.checks.HttpPipelinePolicy\" files=\"com.azure.security.keyvault.administration.implementation.KeyVaultCredentialPolicy.java\"/>\n   <suppress checks=\"com.azure.tools.checkstyle.checks.HttpPipelinePolicy\" files=\"com.azure.security.keyvault.certificates.implementation.KeyVaultCredentialPolicy.java\"/>\n   <suppress checks=\"com.azure.tools.checkstyle.checks.HttpPipelinePolicy\" files=\"com.azure.security.keyvault.keys.implementation.KeyVaultCredentialPolicy.java\"/>\n   <suppress checks=\"com.azure.tools.checkstyle.checks.HttpPipelinePolicy\" files=\"com.azure.security.keyvault.secrets.implementation.KeyVaultCredentialPolicy.java\"/>\n+  <suppress checks=\"com.azure.tools.checkstyle.checks.HttpPipelinePolicy\" files=\"com.azure.storage.blob.implementation.util.BlobUserAgentModificationPolicy.java\"/>\n \n   <!-- Fields tenantId, clientId and clientSecret are not set in all constructors. -->\n   <suppress checks=\"com.azure.tools.checkstyle.checks.EnforceFinalFieldsCheck\" files=\"com.azure.security.keyvault.jca.KeyVaultClient\"/>\n@@ -510,8 +510,8 @@ the main ServiceBusClientBuilder. -->\n   <!-- TODO: (https://github.com/Azure/azure-sdk-for-java/issues/18279) -->\n   <!-- Suppress DigitalTwins for now -->\n   <suppress checks=\"[a-zA-Z0-9]*\" files=\"[/\\\\]azure-digitaltwins-core[/\\\\]src[/\\\\]\"/>\n-  <suppress checks=\"[a-zA-Z0-9]*\" files=\"[/\\\\]azure-messaging-eventgrid[/\\\\]src[/\\\\]\"/>\n   <suppress checks=\"[a-zA-Z0-9]*\" files=\"[/\\\\]azure-ai-anomalydetector[/\\\\]src[/\\\\]\"/>\n+  <suppress checks=\"[a-zA-Z0-9]*\" files=\"[/\\\\]azure-iot-deviceupdate[/\\\\]src[/\\\\]\"/>\n \n   <!-- Don't enforce non-static ClientLogger instances in com.azure.core.util.Option types-->\n   <suppress checks=\"com.azure.tools.checkstyle.checks.ThrowFromClientLoggerCheck\""
  },
  {
    "sha": "ed77b256f249f295f83ec99a64508253749f30c8",
    "filename": "eng/code-quality-reports/src/main/resources/checkstyle/checkstyle.xml",
    "status": "modified",
    "additions": 2,
    "deletions": 2,
    "changes": 4,
    "blob_url": "https://github.com/Nicholas282787728/azure-sdk-for-java/blob/bbd7e1154cec53e5c677d95433e4188f9ce222a8/eng/code-quality-reports/src/main/resources/checkstyle/checkstyle.xml",
    "raw_url": "https://github.com/Nicholas282787728/azure-sdk-for-java/raw/bbd7e1154cec53e5c677d95433e4188f9ce222a8/eng/code-quality-reports/src/main/resources/checkstyle/checkstyle.xml",
    "contents_url": "https://api.github.com/repos/Nicholas282787728/azure-sdk-for-java/contents/eng/code-quality-reports/src/main/resources/checkstyle/checkstyle.xml?ref=bbd7e1154cec53e5c677d95433e4188f9ce222a8",
    "patch": "@@ -269,10 +269,10 @@ page at http://checkstyle.sourceforge.net/config.html -->\n \n     <!--Checks for package naming and name length limit. Package names have to starting with either-->\n     <!--'com.microsoft.azure' or 'com.azure', and then the extension names should only contains-->\n-    <!--characters 'a' to 'z' with no more than 20 characters and  the package names should be no-->\n+    <!--characters 'a' to 'z' with no more than 30 characters and  the package names should be no-->\n     <!--more than 80 characters.-->\n     <module name=\"PackageName\">\n-      <property name=\"format\" value=\"^(?=.{9,80}$)((com.microsoft|com.azure)(\\.[a-z]{1,20})*)+$\"/>\n+      <property name=\"format\" value=\"^(?=.{9,80}$)((com.microsoft|com.azure)(\\.[a-z]{1,30})*)+$\"/>\n     </module>\n \n     <!-- Javadoc checks                                   -->"
  },
  {
    "sha": "6b03692d2dd83aac6b460fbc32dc57601684ba01",
    "filename": "eng/code-quality-reports/src/main/resources/revapi/revapi.json",
    "status": "modified",
    "additions": 7,
    "deletions": 17,
    "changes": 24,
    "blob_url": "https://github.com/Nicholas282787728/azure-sdk-for-java/blob/bbd7e1154cec53e5c677d95433e4188f9ce222a8/eng/code-quality-reports/src/main/resources/revapi/revapi.json",
    "raw_url": "https://github.com/Nicholas282787728/azure-sdk-for-java/raw/bbd7e1154cec53e5c677d95433e4188f9ce222a8/eng/code-quality-reports/src/main/resources/revapi/revapi.json",
    "contents_url": "https://api.github.com/repos/Nicholas282787728/azure-sdk-for-java/contents/eng/code-quality-reports/src/main/resources/revapi/revapi.json?ref=bbd7e1154cec53e5c677d95433e4188f9ce222a8",
    "patch": "@@ -14,6 +14,7 @@\n             \"com\\\\.azure\\\\..+\\\\.implementation(\\\\..+)?\",\n             \"com\\\\.azure\\\\..+\\\\.samples(\\\\..+)?\",\n             \"com\\\\.fasterxml\\\\.jackson\\\\..+\",\n+            \"reactor\\\\.core\\\\..+\",\n             \"reactor\\\\.netty\\\\..+\",\n             \"reactor\\\\.util\\\\..+\",\n             \"io\\\\.netty\\\\..+\",\n@@ -205,18 +206,6 @@\n         \"new\": \"method <V> reactor.core.publisher.Flux<V> reactor.core.publisher.Flux<T>::switchOnFirst(java.util.function.BiFunction<reactor.core.publisher.Signal<? extends T>, reactor.core.publisher.Flux<T>, org.reactivestreams.Publisher<? extends V>>, boolean) @ com.azure.core.util.paging.ContinuablePagedFluxCore<C, T, P extends com.azure.core.util.paging.ContinuablePage<C extends java.lang.Object, T extends java.lang.Object>>\",\n         \"justification\": \"Reactor added new final APIs to Flux.\"\n       },\n-      {\n-        \"regex\": true,\n-        \"code\": \"java\\\\.annotation\\\\.added\",\n-        \"new\": \"^(method|parameter)\\\\s.+?\\\\scom\\\\.azure\\\\.search\\\\.documents(\\\\.indexes)?\\\\.models\\\\.(FacetResult|SearchServiceStatistics)::.+$\",\n-        \"justification\": \"Annotations better indicate which parameters are required when handling service requests and responses.\"\n-      },\n-      {\n-        \"regex\": true,\n-        \"code\": \"java\\\\.annotation\\\\.attributeAdded\",\n-        \"new\": \"^parameter\\\\s.+?\\\\scom\\\\.azure\\\\.search\\\\.documents(\\\\.indexes)?\\\\.models\\\\.(AnalyzedTokenInfo|CorsOptions|FieldMapping|IndexerExecutionResult|SearchIndexerStatus|SearchServiceCounters|TextWeights|AutocompleteResult)::<init>\\\\(.+\\\\)$\",\n-        \"justification\": \"Annotations attributes better indicate which parameters are required when handling service requests and responses.\"\n-      },\n       {\n         \"code\": \"java.class.externalClassExposedInAPI\",\n         \"new\": \"class com.azure.data.schemaregistry.SchemaRegistryAsyncClient\",\n@@ -375,11 +364,6 @@\n         \"new\": \"method reactor.core.publisher.Mono<com.azure.core.http.HttpResponse> com.azure.core.http.HttpClient::send(com.azure.core.http.HttpRequest, com.azure.core.util.Context)\",\n         \"justification\": \"Default interface method\"\n       },\n-      {\n-        \"code\": \"java.annotation.attributeValueChanged\",\n-        \"new\": \"class com.azure.search.documents.SearchClientBuilder\",\n-        \"justification\": \"Non-breaking change\"\n-      },\n       {\n         \"code\": \"java.method.staticMethodAddedToInterface\",\n         \"new\": \"method com.azure.core.http.HttpClient com.azure.core.http.HttpClient::createDefault(com.azure.core.util.HttpClientOptions)\",\n@@ -439,6 +423,12 @@\n         \"code\": \"java.method.defaultMethodAddedToInterface\",\n         \"new\": \"method com.azure.core.util.polling.SyncPoller<T, U> com.azure.core.util.polling.SyncPoller<T, U>::setPollInterval(java.time.Duration)\",\n         \"justification\": \"Default implementation\"\n+      },\n+      {\n+        \"regex\": true,\n+        \"code\": \"java\\\\.annotation\\\\.(added|attributeValueChanged|attributeAdded)\",\n+        \"new\": \"(class|method void|parameter void) com\\\\.azure\\\\.search\\\\.documents\\\\.indexes\\\\.models\\\\..*\",\n+        \"justification\": \"Generated classes were moved into public API, these annotations were already being used in implementation used during serialization and deserialization.\"\n       }\n     ]\n   }"
  },
  {
    "sha": "893bc87a75ea0f391c587fae2b9840ef4148be68",
    "filename": "eng/common/pipelines/templates/jobs/archetype-sdk-tests-generate.yml",
    "status": "modified",
    "additions": 30,
    "deletions": 2,
    "changes": 32,
    "blob_url": "https://github.com/Nicholas282787728/azure-sdk-for-java/blob/bbd7e1154cec53e5c677d95433e4188f9ce222a8/eng/common/pipelines/templates/jobs/archetype-sdk-tests-generate.yml",
    "raw_url": "https://github.com/Nicholas282787728/azure-sdk-for-java/raw/bbd7e1154cec53e5c677d95433e4188f9ce222a8/eng/common/pipelines/templates/jobs/archetype-sdk-tests-generate.yml",
    "contents_url": "https://api.github.com/repos/Nicholas282787728/azure-sdk-for-java/contents/eng/common/pipelines/templates/jobs/archetype-sdk-tests-generate.yml?ref=bbd7e1154cec53e5c677d95433e4188f9ce222a8",
    "patch": "@@ -10,18 +10,45 @@ parameters:\n - name: MatrixFilters\n   type: object\n   default: []\n+- name: MatrixReplace\n+  type: object\n+  default: {}\n - name: JobTemplatePath\n   type: string\n+# Set this to false to do a full checkout for private repositories with the azure pipelines service connection\n+- name: SparseCheckout\n+  type: boolean\n+  default: true\n+- name: SparseCheckoutPaths\n+  type: object\n+  default: []\n+- name: Pool\n+  type: string\n+  default: azsdk-pool-mms-ubuntu-1804-general\n+- name: OsVmImage\n+  type: string\n+  default: MMSUbuntu18.04\n \n jobs:\n - job: generate_matrix\n   variables:\n     displayNameFilter: $[ coalesce(variables.jobMatrixFilter, '.*') ]\n   pool:\n-    name: Azure Pipelines\n-    vmImage: ubuntu-18.04\n+    name: ${{ parameters.Pool }}\n+    vmImage: ${{ parameters.OsVmImage }}\n   displayName: Generate Job Matrix\n   steps:\n+    # Skip sparse checkout for the `azure-sdk-for-<lang>-pr` private mirrored repositories\n+    # as we require the github service connection to be loaded.\n+    - ${{ if and(parameters.SparseCheckout, not(contains(variables['Build.DefinitionName'], '-pr - '))) }}:\n+      - template: /eng/common/pipelines/templates/steps/sparse-checkout.yml\n+        parameters:\n+          ${{ if ne(length(parameters.SparseCheckoutPaths), 0) }}:\n+            Paths: ${{ parameters.SparseCheckoutPaths }}\n+          ${{ if and(eq(length(parameters.SparseCheckoutPaths), 0), ne(parameters.AdditionalParameters.ServiceDirectory, '')) }}:\n+            Paths:\n+              - ${{ parameters.AdditionalParameters.ServiceDirectory }}\n+\n     - ${{ each config in parameters.MatrixConfigs }}:\n       - ${{ if eq(config.GenerateVMJobs, 'true') }}:\n         - task: Powershell@2\n@@ -33,6 +60,7 @@ jobs:\n               -Selection ${{ config.Selection }}\n               -DisplayNameFilter \"$(displayNameFilter)\"\n               -Filters \"${{ join('\",\"', parameters.MatrixFilters) }}\",\"container=^$\",\"SupportedClouds=^$|${{ parameters.CloudConfig.Cloud }}\"\n+              -Replace \"${{ join('\",\"', parameters.MatrixReplace) }}\"\n               -NonSparseParameters \"${{ join('\",\"', config.NonSparseParameters) }}\"\n           displayName: Generate VM Job Matrix ${{ config.Name }}\n           name: generate_vm_job_matrix_${{ config.Name }}"
  },
  {
    "sha": "730bc2bb4c610cda9946ca08eeea04bc4b9877de",
    "filename": "eng/common/pipelines/templates/steps/create-apireview.yml",
    "status": "modified",
    "additions": 0,
    "deletions": 1,
    "changes": 1,
    "blob_url": "https://github.com/Nicholas282787728/azure-sdk-for-java/blob/bbd7e1154cec53e5c677d95433e4188f9ce222a8/eng/common/pipelines/templates/steps/create-apireview.yml",
    "raw_url": "https://github.com/Nicholas282787728/azure-sdk-for-java/raw/bbd7e1154cec53e5c677d95433e4188f9ce222a8/eng/common/pipelines/templates/steps/create-apireview.yml",
    "contents_url": "https://api.github.com/repos/Nicholas282787728/azure-sdk-for-java/contents/eng/common/pipelines/templates/steps/create-apireview.yml?ref=bbd7e1154cec53e5c677d95433e4188f9ce222a8",
    "patch": "@@ -19,4 +19,3 @@ steps:\n         workingDirectory: $(Pipeline.Workspace)\n       displayName: Create API Review for ${{ artifact.name}}\n       condition: and(succeededOrFailed(), ne(variables['Skip.CreateApiReview'], 'true') , ne(variables['Build.Reason'],'PullRequest'), eq(variables['System.TeamProject'], 'internal'))\n-      continueOnError: true"
  },
  {
    "sha": "bd76c296fabf9abc4891af89bbc90939549857f4",
    "filename": "eng/common/pipelines/templates/steps/create-pull-request.yml",
    "status": "modified",
    "additions": 2,
    "deletions": 0,
    "changes": 2,
    "blob_url": "https://github.com/Nicholas282787728/azure-sdk-for-java/blob/bbd7e1154cec53e5c677d95433e4188f9ce222a8/eng/common/pipelines/templates/steps/create-pull-request.yml",
    "raw_url": "https://github.com/Nicholas282787728/azure-sdk-for-java/raw/bbd7e1154cec53e5c677d95433e4188f9ce222a8/eng/common/pipelines/templates/steps/create-pull-request.yml",
    "contents_url": "https://api.github.com/repos/Nicholas282787728/azure-sdk-for-java/contents/eng/common/pipelines/templates/steps/create-pull-request.yml?ref=bbd7e1154cec53e5c677d95433e4188f9ce222a8",
    "patch": "@@ -20,6 +20,7 @@ parameters:\n   PRLabels: ''\n   SkipCheckingForChanges: false\n   CloseAfterOpenForTesting: false\n+  OpenAsDraft: false\n \n steps:\n \n@@ -87,3 +88,4 @@ steps:\n       -TeamReviewers \"${{ parameters.GHTeamReviewersVariable }}\"\n       -Assignees \"${{ parameters.GHAssignessVariable }}\"\n       -CloseAfterOpenForTesting $${{ coalesce(parameters.CloseAfterOpenForTesting, 'false') }}\n+      -OpenAsDraft $${{ parameters.OpenAsDraft }}"
  },
  {
    "sha": "d0da703285f3cc692e0918cb72b381f97259699a",
    "filename": "eng/common/pipelines/templates/steps/install-pipeline-generation.yml",
    "status": "modified",
    "additions": 1,
    "deletions": 1,
    "changes": 2,
    "blob_url": "https://github.com/Nicholas282787728/azure-sdk-for-java/blob/bbd7e1154cec53e5c677d95433e4188f9ce222a8/eng/common/pipelines/templates/steps/install-pipeline-generation.yml",
    "raw_url": "https://github.com/Nicholas282787728/azure-sdk-for-java/raw/bbd7e1154cec53e5c677d95433e4188f9ce222a8/eng/common/pipelines/templates/steps/install-pipeline-generation.yml",
    "contents_url": "https://api.github.com/repos/Nicholas282787728/azure-sdk-for-java/contents/eng/common/pipelines/templates/steps/install-pipeline-generation.yml?ref=bbd7e1154cec53e5c677d95433e4188f9ce222a8",
    "patch": "@@ -9,7 +9,7 @@ steps:\n   - script: >\n       dotnet tool install\n       Azure.Sdk.Tools.PipelineGenerator\n-      --version 1.0.2-dev.20210219.1\n+      --version 1.0.2-dev.20210309.1\n       --add-source https://pkgs.dev.azure.com/azure-sdk/public/_packaging/azure-sdk/nuget/v3/index.json\n       --tool-path ${{parameters.ToolPath}}\n     workingDirectory: $(Pipeline.Workspace)/pipeline-generator"
  },
  {
    "sha": "fc295f6801d9ea2841a78fda8b16160bbc6b7e66",
    "filename": "eng/common/pipelines/templates/steps/publish-artifact.yml",
    "status": "added",
    "additions": 27,
    "deletions": 0,
    "changes": 27,
    "blob_url": "https://github.com/Nicholas282787728/azure-sdk-for-java/blob/bbd7e1154cec53e5c677d95433e4188f9ce222a8/eng/common/pipelines/templates/steps/publish-artifact.yml",
    "raw_url": "https://github.com/Nicholas282787728/azure-sdk-for-java/raw/bbd7e1154cec53e5c677d95433e4188f9ce222a8/eng/common/pipelines/templates/steps/publish-artifact.yml",
    "contents_url": "https://api.github.com/repos/Nicholas282787728/azure-sdk-for-java/contents/eng/common/pipelines/templates/steps/publish-artifact.yml?ref=bbd7e1154cec53e5c677d95433e4188f9ce222a8",
    "patch": "@@ -0,0 +1,27 @@\n+# This step is used to prevent duplication of artifact publishes when there is an issue that would prevent the overall success of the job.\n+# Ensuring that we only publish when successful (and two a differently named artifact otherwise) will allow easy retry on a build pipeline\n+# without running into the \"cannot override artifact\" failure when we finally do get a passing run.\n+\n+# ArtifactName - The name of the artifact in the \"successful\" case.\n+# ArtifactPath - The path we will be publishing.\n+# CustomCondition - Used if there is additional logic necessary to prevent attempt of publish.\n+\n+parameters:\n+  ArtifactName: ''\n+  ArtifactPath: ''\n+  CustomCondition: true\n+\n+steps:\n+  - task: PublishPipelineArtifact@1\n+    condition: and(succeeded(), ${{ parameters.CustomCondition }})\n+    displayName: 'Publish ${{ parameters.ArtifactName }} Artifacts'\n+    inputs:\n+      artifactName: '${{ parameters.ArtifactName }}'\n+      path: '${{ parameters.ArtifactPath }}'\n+\n+  - task: PublishPipelineArtifact@1\n+    condition: failed()\n+    displayName: 'Publish failed ${{ parameters.ArtifactName }} Artifacts'\n+    inputs:\n+      artifactName: '${{ parameters.ArtifactName }}-FailedAttempt$(System.JobAttempt)'\n+      path: '${{ parameters.ArtifactPath }}'"
  },
  {
    "sha": "b4949e93bbfa1f875654b527d08996fda49b8f0b",
    "filename": "eng/common/pipelines/templates/steps/set-default-branch.yml",
    "status": "added",
    "additions": 11,
    "deletions": 0,
    "changes": 11,
    "blob_url": "https://github.com/Nicholas282787728/azure-sdk-for-java/blob/bbd7e1154cec53e5c677d95433e4188f9ce222a8/eng/common/pipelines/templates/steps/set-default-branch.yml",
    "raw_url": "https://github.com/Nicholas282787728/azure-sdk-for-java/raw/bbd7e1154cec53e5c677d95433e4188f9ce222a8/eng/common/pipelines/templates/steps/set-default-branch.yml",
    "contents_url": "https://api.github.com/repos/Nicholas282787728/azure-sdk-for-java/contents/eng/common/pipelines/templates/steps/set-default-branch.yml?ref=bbd7e1154cec53e5c677d95433e4188f9ce222a8",
    "patch": "@@ -0,0 +1,11 @@\n+parameters:\n+  WorkingDirectory: '$(System.DefaultWorkingDirectory)'\n+  RemoteRepo: 'origin'\n+steps:\n+- pwsh: |\n+    $setDefaultBranch = (git remote show ${{ parameters.RemoteRepo }} | Out-String) -replace \"(?ms).*HEAD branch: (\\w+).*\", '$1'\n+    Write-Host \"Setting DefaultBranch=$setDefaultBranch\"\n+    echo \"##vso[task.setvariable variable=DefaultBranch]$setDefaultBranch\"\n+  displayName: \"Setup Default Branch\"\n+  workingDirectory: ${{ parameters.workingDirectory }}\n+  condition: eq(variables['DefaultBranch'], '')"
  },
  {
    "sha": "9f21918de992ab42e7a4559441439f24a3cb8afd",
    "filename": "eng/common/pipelines/templates/steps/set-test-pipeline-version.yml",
    "status": "added",
    "additions": 15,
    "deletions": 0,
    "changes": 15,
    "blob_url": "https://github.com/Nicholas282787728/azure-sdk-for-java/blob/bbd7e1154cec53e5c677d95433e4188f9ce222a8/eng/common/pipelines/templates/steps/set-test-pipeline-version.yml",
    "raw_url": "https://github.com/Nicholas282787728/azure-sdk-for-java/raw/bbd7e1154cec53e5c677d95433e4188f9ce222a8/eng/common/pipelines/templates/steps/set-test-pipeline-version.yml",
    "contents_url": "https://api.github.com/repos/Nicholas282787728/azure-sdk-for-java/contents/eng/common/pipelines/templates/steps/set-test-pipeline-version.yml?ref=bbd7e1154cec53e5c677d95433e4188f9ce222a8",
    "patch": "@@ -0,0 +1,15 @@\n+parameters:\n+  PackageName: ''\n+  ServiceDirectory: ''\n+  TestPipeline: false\n+\n+steps:\n+- ${{if eq(parameters.TestPipeline, 'true')}}:\n+    - task: PowerShell@2\n+      displayName: Prep template pipeline for release\n+      condition: succeeded()\n+      inputs:\n+        pwsh: true\n+        workingDirectory: $(Build.SourcesDirectory)\n+        filePath: $(Build.SourcesDirectory)/eng/common/scripts/SetTestPipelineVersion.ps1\n+        arguments: '-BuildID $(Build.BuildId) -PackageName ${{ parameters.PackageName }} -ServiceDirectory ${{ parameters.ServiceDirectory }}'\n\\ No newline at end of file"
  },
  {
    "sha": "9c421712d4e42b6bec5dc5a39368bcb3892ef87d",
    "filename": "eng/common/pipelines/templates/steps/sparse-checkout.yml",
    "status": "added",
    "additions": 34,
    "deletions": 0,
    "changes": 34,
    "blob_url": "https://github.com/Nicholas282787728/azure-sdk-for-java/blob/bbd7e1154cec53e5c677d95433e4188f9ce222a8/eng/common/pipelines/templates/steps/sparse-checkout.yml",
    "raw_url": "https://github.com/Nicholas282787728/azure-sdk-for-java/raw/bbd7e1154cec53e5c677d95433e4188f9ce222a8/eng/common/pipelines/templates/steps/sparse-checkout.yml",
    "contents_url": "https://api.github.com/repos/Nicholas282787728/azure-sdk-for-java/contents/eng/common/pipelines/templates/steps/sparse-checkout.yml?ref=bbd7e1154cec53e5c677d95433e4188f9ce222a8",
    "patch": "@@ -0,0 +1,34 @@\n+parameters:\n+  - name: Paths\n+    type: object\n+    default: []\n+  - name: Repositories\n+    type: object\n+    default:\n+      - Name: $(Build.Repository.Name)\n+        Commitish: $(Build.SourceVersion)\n+        WorkingDirectory: $(System.DefaultWorkingDirectory)\n+\n+steps:\n+  - checkout: none\n+\n+  - ${{ each repo in parameters.Repositories }}:\n+    - pwsh: |\n+        $dir = \"${{ coalesce(repo.WorkingDirectory, format('{0}/{1}', '$(System.DefaultWorkingDirectory)', repo.Name)) }}\"\n+        New-Item $dir -ItemType Directory -Force\n+\n+    - pwsh: |\n+        git clone --no-checkout --filter=tree:0 git://github.com/${{ repo.Name }} .\n+        git sparse-checkout init\n+        git sparse-checkout set eng\n+      displayName: Init sparse checkout ${{ repo.Name }}\n+      workingDirectory: ${{ coalesce(repo.WorkingDirectory, format('{0}/{1}', '$(System.DefaultWorkingDirectory)', repo.Name)) }}\n+\n+    - ${{ each path in parameters.Paths }}:\n+      - pwsh: git sparse-checkout add ${{ path }}\n+        displayName: Add sparse checkout path ${{ path }}\n+        workingDirectory: ${{ coalesce(repo.WorkingDirectory, format('{0}/{1}', '$(System.DefaultWorkingDirectory)', repo.Name)) }}\n+\n+    - pwsh: git checkout ${{ repo.Commitish }}\n+      displayName: Sparse checkout at ${{ repo.Commitish }}\n+      workingDirectory: ${{ coalesce(repo.WorkingDirectory, format('{0}/{1}', '$(System.DefaultWorkingDirectory)', repo.Name)) }}"
  },
  {
    "sha": "45c68c45091ec2fbd1c96e3898a602f42689daa2",
    "filename": "eng/common/pipelines/templates/steps/verify-links.yml",
    "status": "modified",
    "additions": 3,
    "deletions": 2,
    "changes": 5,
    "blob_url": "https://github.com/Nicholas282787728/azure-sdk-for-java/blob/bbd7e1154cec53e5c677d95433e4188f9ce222a8/eng/common/pipelines/templates/steps/verify-links.yml",
    "raw_url": "https://github.com/Nicholas282787728/azure-sdk-for-java/raw/bbd7e1154cec53e5c677d95433e4188f9ce222a8/eng/common/pipelines/templates/steps/verify-links.yml",
    "contents_url": "https://api.github.com/repos/Nicholas282787728/azure-sdk-for-java/contents/eng/common/pipelines/templates/steps/verify-links.yml?ref=bbd7e1154cec53e5c677d95433e4188f9ce222a8",
    "patch": "@@ -6,11 +6,12 @@ parameters:\n   Recursive: $false\n   CheckLinkGuidance: $true\n   Urls: '(Get-ChildItem -Path ./ -Recurse -Include *.md)'\n-  BranchReplaceRegex: \"^(${env:SYSTEM_PULLREQUEST_SOURCEREPOSITORYURI}.*/(?:blob|tree)/)master(/.*)$\"\n+  BranchReplaceRegex: \"^(${env:SYSTEM_PULLREQUEST_SOURCEREPOSITORYURI}.*/(?:blob|tree)/)$(DefaultBranch)(/.*)$\"\n   BranchReplacementName: \"${env:SYSTEM_PULLREQUEST_SOURCECOMMITID}\"\n   Condition: succeeded() # If you want to run on failure for the link checker, set it to `Condition: succeededOrFailed()`.\n \n steps:\n+  - template: /eng/common/pipelines/templates/steps/set-default-branch.yml\n   - task: PowerShell@2\n     displayName: Link verification check\n     condition: ${{ parameters.Condition }}\n@@ -26,4 +27,4 @@ steps:\n         -branchReplaceRegex \"${{ parameters.BranchReplaceRegex }}\"\n         -branchReplacementName ${{ parameters.BranchReplacementName }}\n         -devOpsLogging: $true\n-        -checkLinkGuidance: ${{ parameters.CheckLinkGuidance }}\n+        -checkLinkGuidance: ${{ parameters.CheckLinkGuidance }}\n\\ No newline at end of file"
  },
  {
    "sha": "22355323d4a90b47074d546598090afc6c435a44",
    "filename": "eng/common/scripts/ChangeLog-Operations.ps1",
    "status": "modified",
    "additions": 2,
    "deletions": 3,
    "changes": 5,
    "blob_url": "https://github.com/Nicholas282787728/azure-sdk-for-java/blob/bbd7e1154cec53e5c677d95433e4188f9ce222a8/eng/common/scripts/ChangeLog-Operations.ps1",
    "raw_url": "https://github.com/Nicholas282787728/azure-sdk-for-java/raw/bbd7e1154cec53e5c677d95433e4188f9ce222a8/eng/common/scripts/ChangeLog-Operations.ps1",
    "contents_url": "https://api.github.com/repos/Nicholas282787728/azure-sdk-for-java/contents/eng/common/scripts/ChangeLog-Operations.ps1?ref=bbd7e1154cec53e5c677d95433e4188f9ce222a8",
    "patch": "@@ -193,15 +193,14 @@ function Set-ChangeLogContent {\n \n   try\n   {\n-    $VersionsSorted = [AzureEngSemanticVersion]::SortVersionStrings($ChangeLogEntries.Keys)\n+    $ChangeLogEntries = $ChangeLogEntries.Values | Sort-Object -Descending -Property ReleaseStatus, ReleaseVersion\n   }\n   catch {\n     LogError \"Problem sorting version in ChangeLogEntries\"\n     return\n   }\n \n-  foreach ($version in $VersionsSorted) {\n-    $changeLogEntry = $ChangeLogEntries[$version]\n+  foreach ($changeLogEntry in $ChangeLogEntries) {\n     $changeLogContent += $changeLogEntry.ReleaseTitle\n     if ($changeLogEntry.ReleaseContent.Count -eq 0) {\n       $changeLogContent += @(\"\",\"\")"
  },
  {
    "sha": "b6736b1a1ceb3a3e33e76d61f0124f4c36115340",
    "filename": "eng/common/scripts/Collect-ChangeLogs.ps1",
    "status": "modified",
    "additions": 2,
    "deletions": 1,
    "changes": 3,
    "blob_url": "https://github.com/Nicholas282787728/azure-sdk-for-java/blob/bbd7e1154cec53e5c677d95433e4188f9ce222a8/eng/common/scripts/Collect-ChangeLogs.ps1",
    "raw_url": "https://github.com/Nicholas282787728/azure-sdk-for-java/raw/bbd7e1154cec53e5c677d95433e4188f9ce222a8/eng/common/scripts/Collect-ChangeLogs.ps1",
    "contents_url": "https://api.github.com/repos/Nicholas282787728/azure-sdk-for-java/contents/eng/common/scripts/Collect-ChangeLogs.ps1?ref=bbd7e1154cec53e5c677d95433e4188f9ce222a8",
    "patch": "@@ -28,6 +28,7 @@ foreach ($packageProp in $allPackageProps) {\n     $changeLogEntries = Get-ChangeLogEntries -ChangeLogLocation $changeLogLocation\n     $packageName = $packageProp.Name\n     $serviceDirectory = $packageProp.ServiceDirectory\n+    $packageDirectoryname = Split-Path -Path $packageProp.DirectoryPath -Leaf\n \n     foreach ($changeLogEntry in $changeLogEntries.Values) {\n         if ([System.String]::IsNullOrEmpty($changeLogEntry.ReleaseStatus))\n@@ -48,7 +49,7 @@ foreach ($packageProp in $allPackageProps) {\n \n         $releaseHighlights[$key] = @{}\n         $releaseHighlights[$key][\"PackageProperties\"] = $packageProp\n-        $releaseHighlights[$key][\"ChangelogUrl\"] = \"https://github.com/Azure/azure-sdk-for-${LanguageShort}/blob/${releaseTag}/sdk/${serviceDirectory}/${packageName}/CHANGELOG.md#${githubAnchor}\"\n+        $releaseHighlights[$key][\"ChangelogUrl\"] = \"https://github.com/Azure/azure-sdk-for-${LanguageShort}/blob/${releaseTag}/sdk/${serviceDirectory}/${packageDirectoryname}/CHANGELOG.md#${githubAnchor}\"\n         $releaseHighlights[$key][\"Content\"] = @()\n \n         $changeLogEntry.ReleaseContent | %{"
  },
  {
    "sha": "b0ecc542ffedaeb8122ce9cc9c9ee91f72e716ad",
    "filename": "eng/common/scripts/Create-APIReview.ps1",
    "status": "modified",
    "additions": 12,
    "deletions": 9,
    "changes": 21,
    "blob_url": "https://github.com/Nicholas282787728/azure-sdk-for-java/blob/bbd7e1154cec53e5c677d95433e4188f9ce222a8/eng/common/scripts/Create-APIReview.ps1",
    "raw_url": "https://github.com/Nicholas282787728/azure-sdk-for-java/raw/bbd7e1154cec53e5c677d95433e4188f9ce222a8/eng/common/scripts/Create-APIReview.ps1",
    "contents_url": "https://api.github.com/repos/Nicholas282787728/azure-sdk-for-java/contents/eng/common/scripts/Create-APIReview.ps1?ref=bbd7e1154cec53e5c677d95433e4188f9ce222a8",
    "patch": "@@ -41,11 +41,12 @@ function Submit-APIReview($packagename, $filePath, $uri, $apiKey, $apiLabel)\n     try\n     {\n         $Response = Invoke-WebRequest -Method 'POST' -Uri $uri -Body $multipartContent -Headers $headers\n-        Write-Host \"API Review: $($Response)\"\n+        Write-Host \"API Review URL: $($Response.Content)\"\n         $StatusCode = $Response.StatusCode\n     }\n     catch\n     {\n+        Write-Host \"Exception details: $($_.Exception.Response)\"\n         $StatusCode = $_.Exception.Response.StatusCode\n     }\n \n@@ -101,6 +102,9 @@ foreach ($pkgName in $responses.Keys)\n         {\n             $pkgInfo = Get-Content $pkgPropPath | ConvertFrom-Json\n             $version = [AzureEngSemanticVersion]::ParseVersionString($pkgInfo.Version)\n+            Write-Host \"Package name: $($PackageName)\"\n+            Write-Host \"Version: $($version)\"\n+            Write-Host \"SDK Type: $($pkgInfo.SdkType)\"\n             if ($version.IsPrerelease)\n             {\n                 Write-Host \"Package version is not GA. Ignoring API view approval status\"\n@@ -110,12 +114,16 @@ foreach ($pkgName in $responses.Keys)\n                 $FoundFailure = $True\n                 if ($respCode -eq '201')\n                 {\n-                    Write-Error \"Automatic API Review approval is pending for package $($PackageName)\"\n+                    Write-Host \"Package version $($version) is GA and automatic API Review is not yet approved for package $($PackageName).\"\n+                    Write-Host \"Build and release is not allowed for GA package without API review approval.\"\n+                    Write-Host \"You will need to queue another build to proceed further after API review is approved\"\n+                    Write-Host \"You can check http://aka.ms/azsdk/engsys/apireview/faq for more details on API Approval.\"\n                 }\n                 else\n                 {\n-                    Write-Error \"Failed to create API Review for package $($PackageName)\"\n-                }                \n+                    Write-Host \"Failed to create API Review for package $($PackageName). Please reach out to Azure SDK engineering systems on teams channel and share this build details.\"\n+                }\n+                exit 1\n             }\n             else\n             {\n@@ -124,8 +132,3 @@ foreach ($pkgName in $responses.Keys)\n         }\n     }\n }\n-if ($FoundFailure)\n-{\n-    Write-Error \"Automatic API review is not yet approved for package $($PackageName)\"\n-    exit 1\n-}"
  },
  {
    "sha": "7812414aeae0e4cdb604f5b046845ea31ed8b9dc",
    "filename": "eng/common/scripts/Package-Properties.ps1",
    "status": "modified",
    "additions": 46,
    "deletions": 60,
    "changes": 106,
    "blob_url": "https://github.com/Nicholas282787728/azure-sdk-for-java/blob/bbd7e1154cec53e5c677d95433e4188f9ce222a8/eng/common/scripts/Package-Properties.ps1",
    "raw_url": "https://github.com/Nicholas282787728/azure-sdk-for-java/raw/bbd7e1154cec53e5c677d95433e4188f9ce222a8/eng/common/scripts/Package-Properties.ps1",
    "contents_url": "https://api.github.com/repos/Nicholas282787728/azure-sdk-for-java/contents/eng/common/scripts/Package-Properties.ps1?ref=bbd7e1154cec53e5c677d95433e4188f9ce222a8",
    "patch": "@@ -78,41 +78,20 @@ function Get-PkgProperties\n     (\n         [Parameter(Mandatory = $true)]\n         [string]$PackageName,\n-        [Parameter(Mandatory = $true)]\n         [string]$ServiceDirectory\n     )\n \n-    $pkgDirectoryPath = $null\n-    $serviceDirectoryPath = Join-Path $RepoRoot \"sdk\" $ServiceDirectory\n-    if (!(Test-Path $serviceDirectoryPath))\n-    {\n-        LogError \"Service Directory $ServiceDirectory does not exist\"\n-        return $null\n-    }\n+    $AllPkgProps = Get-AllPkgProperties -ServiceDirectory $ServiceDirectory\n \n-    $directoriesPresent = Get-ChildItem $serviceDirectoryPath -Directory\n-\n-    foreach ($directory in $directoriesPresent)\n+    foreach ($pkgProp in $AllPkgProps)\n     {\n-        $pkgDirectoryPath = Join-Path $serviceDirectoryPath $directory.Name\n-\n-        if ($GetPackageInfoFromRepoFn -and (Test-Path \"Function:$GetPackageInfoFromRepoFn\"))\n+        if(($pkgProp.Name -eq $PackageName) -or ($pkgProp.ArtifactName -eq $PackageName))\n         {\n-            $pkgProps = &$GetPackageInfoFromRepoFn -pkgPath $pkgDirectoryPath -serviceDirectory $ServiceDirectory -pkgName $PackageName\n-        }\n-        else\n-        {\n-            LogError \"The function for '$GetPackageInfoFromRepoFn' was not found.`\n-            Make sure it is present in eng/scripts/Language-Settings.ps1 and referenced in eng/common/scripts/common.ps1.`\n-            See https://github.com/Azure/azure-sdk-tools/blob/master/doc/common/common_engsys.md#code-structure\"\n-        }\n-\n-        if ($pkgProps -ne $null)\n-        {\n-            return $pkgProps\n+            return $pkgProp\n         }\n     }\n-    LogWarning \"Failed to retrive Properties for $PackageName\"\n+\n+    LogError \"Failed to retrive Properties for [ $PackageName ]\"\n     return $null\n }\n \n@@ -123,33 +102,22 @@ function Get-AllPkgProperties ([string]$ServiceDirectory = $null)\n {\n     $pkgPropsResult = @()\n \n-    if ([string]::IsNullOrEmpty($ServiceDirectory))\n+    if (Test-Path \"Function:Get-AllPackageInfoFromRepo\")\n     {\n-        $searchDir = Join-Path $RepoRoot \"sdk\"\n-        foreach ($dir in (Get-ChildItem $searchDir -Directory))\n-        {\n-            $serviceDir = Join-Path $searchDir $dir.Name\n-\n-            if (Test-Path (Join-Path $serviceDir \"ci.yml\"))\n-            {\n-                $activePkgList = Get-PkgListFromYml -ciYmlPath (Join-Path $serviceDir \"ci.yml\")\n-                if ($activePkgList -ne $null)\n-                {\n-                    $pkgPropsResult = Operate-OnPackages -activePkgList $activePkgList -ServiceDirectory $dir.Name -pkgPropsResult $pkgPropsResult\n-                }\n-            }\n-        }\n-    } \n+        $pkgPropsResult = Get-AllPackageInfoFromRepo -ServiceDirectory $serviceDirectory\n+    }\n     else\n     {\n-        $serviceDir = Join-Path $RepoRoot \"sdk\" $ServiceDirectory\n-        if (Test-Path (Join-Path $serviceDir \"ci.yml\"))\n+        if ([string]::IsNullOrEmpty($ServiceDirectory))\n         {\n-            $activePkgList = Get-PkgListFromYml -ciYmlPath (Join-Path $serviceDir \"ci.yml\")\n-            if ($activePkgList -ne $null)\n+            foreach ($dir in (Get-ChildItem (Join-Path $RepoRoot \"sdk\") -Directory))\n             {\n-                $pkgPropsResult = Operate-OnPackages -activePkgList $activePkgList -ServiceDirectory $ServiceDirectory -pkgPropsResult $pkgPropsResult\n+                $pkgPropsResult += Get-PkgPropsForEntireService -serviceDirectoryPath $dir.FullName\n             }\n+        } \n+        else\n+        {\n+            $pkgPropsResult = Get-PkgPropsForEntireService -serviceDirectoryPath (Join-Path $RepoRoot \"sdk\" $ServiceDirectory)\n         }\n     }\n \n@@ -164,21 +132,43 @@ function Get-CSVMetadata ([string]$MetadataUri=$MetadataUri)\n     return $metadataResponse\n }\n \n-function Operate-OnPackages ($activePkgList, $ServiceDirectory, [Array]$pkgPropsResult)\n+function Get-PkgPropsForEntireService ($serviceDirectoryPath)\n {\n-    foreach ($pkg in $activePkgList)\n+    $projectProps = @() # Properties from very project inthe service\n+    $packageProps = @() # Properties for artifacts specified in ci.yml\n+    $serviceDirectory = (Split-Path -Path $serviceDirectoryPath -Leaf)\n+\n+    if (!$GetPackageInfoFromRepoFn -or !(Test-Path \"Function:$GetPackageInfoFromRepoFn\"))\n     {\n-        LogDebug \"Operating on $($pkg[\"name\"])\"\n-        $pkgProps = Get-PkgProperties -PackageName $pkg[\"name\"] -ServiceDirectory $ServiceDirectory\n+        LogError \"The function for '$GetPackageInfoFromRepoFn' was not found.`\n+        Make sure it is present in eng/scripts/Language-Settings.ps1 and referenced in eng/common/scripts/common.ps1.`\n+        See https://github.com/Azure/azure-sdk-tools/blob/master/doc/common/common_engsys.md#code-structure\"\n+    }\n+\n+    foreach ($directory in (Get-ChildItem $serviceDirectoryPath -Directory))\n+    {\n+        $pkgDirectoryPath = Join-Path $serviceDirectoryPath $directory.Name\n+        $pkgProps = &$GetPackageInfoFromRepoFn $pkgDirectoryPath $serviceDirectory\n         if ($null -ne  $pkgProps)\n         {\n-            $pkgPropsResult += $pkgProps\n+            $projectProps += $pkgProps\n         }\n     }\n-    return $pkgPropsResult\n+\n+    $ciYmlFiles = Get-ChildItem $serviceDirectoryPath -filter \"ci.yml\"\n+    foreach($ciYmlFile in $ciYmlFiles)\n+    {\n+        $activeArtifactList = Get-ArtifactListFromYml -ciYmlPath $ciYmlFile.FullName\n+        foreach ($artifact in $activeArtifactList)\n+        {\n+            $packageProps += $projectProps | Where-Object { $_.ArtifactName -eq $artifact[\"name\"] -and $_.Group -eq $artifact[\"groupId\"] }\n+        }\n+    }\n+\n+    return $packageProps\n }\n \n-function Get-PkgListFromYml ($ciYmlPath)\n+function Get-ArtifactListFromYml ($ciYmlPath)\n {\n     $ProgressPreference = \"SilentlyContinue\"\n     if ((Get-PSRepository | ?{$_.Name -eq \"PSGallery\"}).Count -eq 0)\n@@ -201,9 +191,5 @@ function Get-PkgListFromYml ($ciYmlPath)\n     {\n         $artifactsInCI = $ciYmlObj[\"extends\"][\"parameters\"][\"Artifacts\"]\n     }\n-    if ($artifactsInCI -eq $null)\n-    {\n-        LogError \"Failed to retrive package names in ci $ciYmlPath\"\n-    }\n     return $artifactsInCI\n-}\n\\ No newline at end of file\n+}"
  },
  {
    "sha": "bb608937047e499282982a49e89c2a1fb1a12ef1",
    "filename": "eng/common/scripts/Prepare-Release.ps1",
    "status": "modified",
    "additions": 4,
    "deletions": 4,
    "changes": 8,
    "blob_url": "https://github.com/Nicholas282787728/azure-sdk-for-java/blob/bbd7e1154cec53e5c677d95433e4188f9ce222a8/eng/common/scripts/Prepare-Release.ps1",
    "raw_url": "https://github.com/Nicholas282787728/azure-sdk-for-java/raw/bbd7e1154cec53e5c677d95433e4188f9ce222a8/eng/common/scripts/Prepare-Release.ps1",
    "contents_url": "https://api.github.com/repos/Nicholas282787728/azure-sdk-for-java/contents/eng/common/scripts/Prepare-Release.ps1?ref=bbd7e1154cec53e5c677d95433e4188f9ce222a8",
    "patch": "@@ -27,7 +27,7 @@ function Get-ReleaseDay($baseDate)\n \n $ErrorPreference = 'Stop'\n \n-$packageProperties = Get-PkgProperties -PackageName $PackageName -ServiceDirectory $serviceDirectory\n+$packageProperties = Get-PkgProperties -PackageName $PackageName -ServiceDirectory $ServiceDirectory\n \n if (!$packageProperties)\n {\n@@ -36,7 +36,7 @@ if (!$packageProperties)\n }\n \n Write-Host \"Package Name [ $($packageProperties.Name) ]\"\n-Write-Host \"Source directory [ $serviceDirectory ]\"\n+Write-Host \"Source directory [ $($packageProperties.ServiceDirectory) ]\"\n \n if (!$ReleaseDate)\n {\n@@ -89,7 +89,7 @@ if ($null -eq $newVersionParsed)\n \n if (Test-Path \"Function:SetPackageVersion\")\n {\n-  SetPackageVersion -PackageName $packageProperties.Name -Version $newVersion -ServiceDirectory $serviceDirectory -ReleaseDate $releaseDateString `\n+  SetPackageVersion -PackageName $packageProperties.Name -Version $newVersion -ServiceDirectory $packageProperties.ServiceDirectory -ReleaseDate $releaseDateString `\n     -PackageProperties $packageProperties\n }\n else\n@@ -105,7 +105,7 @@ else\n   -packageName $packageProperties.Name `\n   -version $newVersion `\n   -plannedDate $releaseDateString `\n-  -packageRepoPath $packageProperties.serviceDirectory `\n+  -packageRepoPath $packageProperties.ServiceDirectory `\n   -packageType $packageProperties.SDKType `\n   -packageNewLibrary $packageProperties.IsNewSDK\n "
  },
  {
    "sha": "10c35e825371c6da8156a355c6faaf016ecad2f1",
    "filename": "eng/common/scripts/SemVer.ps1",
    "status": "modified",
    "additions": 27,
    "deletions": 5,
    "changes": 32,
    "blob_url": "https://github.com/Nicholas282787728/azure-sdk-for-java/blob/bbd7e1154cec53e5c677d95433e4188f9ce222a8/eng/common/scripts/SemVer.ps1",
    "raw_url": "https://github.com/Nicholas282787728/azure-sdk-for-java/raw/bbd7e1154cec53e5c677d95433e4188f9ce222a8/eng/common/scripts/SemVer.ps1",
    "contents_url": "https://api.github.com/repos/Nicholas282787728/azure-sdk-for-java/contents/eng/common/scripts/SemVer.ps1?ref=bbd7e1154cec53e5c677d95433e4188f9ce222a8",
    "patch": "@@ -13,7 +13,7 @@ Components: Major.Minor.Patch-PrereleaseLabel.PrereleaseNumber.BuildNumber\n Note: A builtin Powershell version of SemVer exists in 'System.Management.Automation'. At this time, it does not parsing of PrereleaseNumber. It's name is also type accelerated to 'SemVer'.\n #>\n \n-class AzureEngSemanticVersion {\n+class AzureEngSemanticVersion : IComparable {\n   [int] $Major\n   [int] $Minor\n   [int] $Patch\n@@ -178,6 +178,31 @@ class AzureEngSemanticVersion {\n     $this.DefaultAlphaReleaseLabel = \"alpha\"\n   }\n \n+  [int] CompareTo($other)\n+  {\n+    if ($other -isnot [AzureEngSemanticVersion]) {\n+      throw \"Cannot compare $other with $this\"\n+    }\n+\n+    $ret = $this.Major.CompareTo($other.Major)\n+    if ($ret) { return $ret }\n+\n+    $ret = $this.Minor.CompareTo($other.Minor)\n+    if ($ret) { return $ret }\n+\n+    $ret = $this.Patch.CompareTo($other.Patch)\n+    if ($ret) { return $ret }\n+\n+    # Mimic PowerShell that uses case-insensitive comparisons by default.\n+    $ret = [string]::Compare($this.PrereleaseLabel, $other.PrereleaseLabel, $true)\n+    if ($ret) { return $ret }\n+\n+    $ret = $this.PrereleaseNumber.CompareTo($other.PrereleaseNumber)\n+    if ($ret) { return $ret }\n+\n+    return ([int] $this.BuildNumber).CompareTo([int] $other.BuildNumber)\n+  }\n+\n   static [string[]] SortVersionStrings([string[]] $versionStrings)\n   {\n     $versions = $versionStrings | ForEach-Object { [AzureEngSemanticVersion]::ParseVersionString($_) }\n@@ -187,10 +212,7 @@ class AzureEngSemanticVersion {\n \n   static [AzureEngSemanticVersion[]] SortVersions([AzureEngSemanticVersion[]] $versions)\n   {\n-    return ($versions | `\n-            Sort-Object -Descending -Property `\n-              Major, Minor, Patch, PrereleaseLabel, PrereleaseNumber, `\n-              @{ Expression = { [int]$_.BuildNumber }; Descending = $true })\n+    return $versions | Sort-Object -Descending\n   }\n \n   static [void] QuickTests()"
  },
  {
    "sha": "6bc333cd630309cda7ab88d533f9314eae0a99fb",
    "filename": "eng/common/scripts/SetTestPipelineVersion.ps1",
    "status": "added",
    "additions": 33,
    "deletions": 0,
    "changes": 33,
    "blob_url": "https://github.com/Nicholas282787728/azure-sdk-for-java/blob/bbd7e1154cec53e5c677d95433e4188f9ce222a8/eng/common/scripts/SetTestPipelineVersion.ps1",
    "raw_url": "https://github.com/Nicholas282787728/azure-sdk-for-java/raw/bbd7e1154cec53e5c677d95433e4188f9ce222a8/eng/common/scripts/SetTestPipelineVersion.ps1",
    "contents_url": "https://api.github.com/repos/Nicholas282787728/azure-sdk-for-java/contents/eng/common/scripts/SetTestPipelineVersion.ps1?ref=bbd7e1154cec53e5c677d95433e4188f9ce222a8",
    "patch": "@@ -0,0 +1,33 @@\n+# Sets a valid version for a package using the buildID\n+\n+param (\n+  [Parameter(mandatory = $true)]\n+  $BuildID,\n+  [Parameter(mandatory = $true)]\n+  $PackageName,\n+  [Parameter(mandatory = $true)]\n+  $ServiceDirectory\n+)\n+\n+. (Join-Path $PSScriptRoot common.ps1)\n+\n+$latestTags = git tag -l \"${PackageName}_*\"\n+$semVars = @()\n+\n+Foreach ($tags in $latestTags)\n+{\n+  $semVars += $tags.Replace(\"${PackageName}_\", \"\")\n+}\n+\n+$semVarsSorted = [AzureEngSemanticVersion]::SortVersionStrings($semVars)\n+LogDebug \"Last Published Version $($semVarsSorted[0])\"\n+\n+$newVersion = [AzureEngSemanticVersion]::new($semVarsSorted[0])\n+$newVersion.PrereleaseLabel = $newVersion.DefaultPrereleaseLabel\n+$newVersion.PrereleaseNumber = $BuildID\n+\n+LogDebug \"Version to publish [ $($newVersion.ToString()) ]\"\n+\n+SetPackageVersion -PackageName $PackageName `\n+  -Version $newVersion `\n+  -ServiceDirectory $ServiceDirectory\n\\ No newline at end of file"
  },
  {
    "sha": "40a3b5ac6370405d266f9efbea103f427e2fdb74",
    "filename": "eng/common/scripts/Submit-PullRequest.ps1",
    "status": "modified",
    "additions": 26,
    "deletions": 4,
    "changes": 30,
    "blob_url": "https://github.com/Nicholas282787728/azure-sdk-for-java/blob/bbd7e1154cec53e5c677d95433e4188f9ce222a8/eng/common/scripts/Submit-PullRequest.ps1",
    "raw_url": "https://github.com/Nicholas282787728/azure-sdk-for-java/raw/bbd7e1154cec53e5c677d95433e4188f9ce222a8/eng/common/scripts/Submit-PullRequest.ps1",
    "contents_url": "https://api.github.com/repos/Nicholas282787728/azure-sdk-for-java/contents/eng/common/scripts/Submit-PullRequest.ps1?ref=bbd7e1154cec53e5c677d95433e4188f9ce222a8",
    "patch": "@@ -21,6 +21,19 @@ The title of the pull request.\n The body message for the pull request. \n .PARAMETER PRLabels\n The labels added to the PRs. Multple labels seperated by comma, e.g \"bug, service\"\n+.PARAMETER UserReviewers\n+User reviewers to request after opening the PR. Users should be a comma-\n+separated list with no preceeding `@` symbol (e.g. \"user1,usertwo,user3\")\n+.PARAMETER TeamReviewers\n+List of github teams to add as reviewers\n+.PARAMETER Assignees\n+Users to assign to the PR after opening. Users should be a comma-separated list\n+with no preceeding `@` symbol (e.g. \"user1,usertwo,user3\")\n+.PARAMETER CloseAfterOpenForTesting\n+Close the PR after opening to save on CI resources and prevent alerts to code\n+owners, assignees, requested reviewers, or others.\n+.PARAMETER OpenAsDraft\n+Opens the PR as a draft\n #>\n [CmdletBinding(SupportsShouldProcess = $true)]\n param(\n@@ -56,7 +69,9 @@ param(\n \n   [string]$Assignees,\n \n-  [boolean]$CloseAfterOpenForTesting=$false\n+  [boolean]$CloseAfterOpenForTesting=$false,\n+\n+  [boolean]$OpenAsDraft=$false\n )\n \n . (Join-Path $PSScriptRoot common.ps1)\n@@ -79,9 +94,16 @@ if ($resp.Count -gt 0) {\n }\n else {\n   try {\n-    $resp = New-GitHubPullRequest -RepoOwner $RepoOwner -RepoName $RepoName -Title $PRTitle `\n-    -Head \"${PROwner}:${PRBranch}\" -Base $BaseBranch -Body $PRBody -Maintainer_Can_Modify $true `\n-    -AuthToken $AuthToken\n+    $resp = New-GitHubPullRequest `\n+      -RepoOwner $RepoOwner `\n+      -RepoName $RepoName `\n+      -Title $PRTitle `\n+      -Head \"${PROwner}:${PRBranch}\" `\n+      -Base $BaseBranch `\n+      -Body $PRBody `\n+      -Maintainer_Can_Modify $true `\n+      -Draft:$OpenAsDraft `\n+      -AuthToken $AuthToken\n \n     $resp | Write-Verbose\n     LogDebug \"Pull request created https://github.com/$RepoOwner/$RepoName/pull/$($resp.number)\""
  },
  {
    "sha": "b56871390bef33b265c4427833bbf95f0f228b34",
    "filename": "eng/common/scripts/Update-ChangeLog.ps1",
    "status": "modified",
    "additions": 0,
    "deletions": 1,
    "changes": 1,
    "blob_url": "https://github.com/Nicholas282787728/azure-sdk-for-java/blob/bbd7e1154cec53e5c677d95433e4188f9ce222a8/eng/common/scripts/Update-ChangeLog.ps1",
    "raw_url": "https://github.com/Nicholas282787728/azure-sdk-for-java/raw/bbd7e1154cec53e5c677d95433e4188f9ce222a8/eng/common/scripts/Update-ChangeLog.ps1",
    "contents_url": "https://api.github.com/repos/Nicholas282787728/azure-sdk-for-java/contents/eng/common/scripts/Update-ChangeLog.ps1?ref=bbd7e1154cec53e5c677d95433e4188f9ce222a8",
    "patch": "@@ -54,7 +54,6 @@ if ($null -eq [AzureEngSemanticVersion]::ParseVersionString($Version))\n $PkgProperties = Get-PkgProperties -PackageName $PackageName -ServiceDirectory $ServiceDirectory\n $ChangeLogEntries = Get-ChangeLogEntries -ChangeLogLocation $PkgProperties.ChangeLogPath\n \n-\n if ($ChangeLogEntries.Contains($Version))\n {\n     if ($ChangeLogEntries[$Version].ReleaseStatus -eq $ReleaseStatus)"
  }
]
