[
  {
    "sha": "8687b7faa7bbe76978199f0e633fad191ee6f181",
    "filename": "src/main/java/com/tvtracker/enterprise/TvTrackerController.java",
    "status": "modified",
    "additions": 19,
    "deletions": 2,
    "changes": 21,
    "blob_url": "https://github.com/smitty891/TvTracker/blob/fc9dae7dc9ec4d0bedecd491f20116c832ab7711/src/main/java/com/tvtracker/enterprise/TvTrackerController.java",
    "raw_url": "https://github.com/smitty891/TvTracker/raw/fc9dae7dc9ec4d0bedecd491f20116c832ab7711/src/main/java/com/tvtracker/enterprise/TvTrackerController.java",
    "contents_url": "https://api.github.com/repos/smitty891/TvTracker/contents/src/main/java/com/tvtracker/enterprise/TvTrackerController.java?ref=fc9dae7dc9ec4d0bedecd491f20116c832ab7711",
    "patch": "@@ -5,13 +5,15 @@\n import com.tvtracker.enterprise.service.IMediaEntryService;\n import com.tvtracker.enterprise.service.IUserAccountService;\n import org.springframework.beans.factory.annotation.Autowired;\n+import org.springframework.boot.web.servlet.error.ErrorController;\n import org.springframework.http.HttpHeaders;\n import org.springframework.http.HttpStatus;\n import org.springframework.http.MediaType;\n import org.springframework.http.ResponseEntity;\n import org.springframework.stereotype.Controller;\n import org.springframework.web.bind.annotation.*;\n \n+import javax.servlet.http.HttpServletRequest;\n import java.util.List;\n \n /**\n@@ -25,7 +27,7 @@\n  * </p>\n  */\n @Controller\n-public class TvTrackerController {\n+public class TvTrackerController implements ErrorController {\n     @Autowired\n     IUserAccountService userAccountService;\n     @Autowired\n@@ -38,7 +40,6 @@\n     @RequestMapping(\"/\")\n     public String index(){\n         return \"start\";\n-\n     }\n \n     /**\n@@ -238,4 +239,20 @@ public ResponseEntity addMediaEntry(@RequestBody MediaEntry mediaEntry, @Request\n             return new ResponseEntity(headers, HttpStatus.INTERNAL_SERVER_ERROR);\n         }\n     }\n+\n+    /**\n+     * Returns the error template whenever an error occurs\n+     * @param request The request that caused the error\n+     * @return the error.html Thymeleaf template\n+     * @author Stephen Meckstroth\n+     */\n+    @RequestMapping(\"/error\")\n+    public String handleError(HttpServletRequest request) {\n+        return \"error\";\n+    }\n+\n+    @Override\n+    public String getErrorPath() {\n+        return null;\n+    }\n }"
  },
  {
    "sha": "26b40368790119cc457d250cc8f35357f9c48665",
    "filename": "src/main/java/com/tvtracker/enterprise/dao/IMediaEntryDAO.java",
    "status": "modified",
    "additions": 1,
    "deletions": 0,
    "changes": 1,
    "blob_url": "https://github.com/smitty891/TvTracker/blob/fc9dae7dc9ec4d0bedecd491f20116c832ab7711/src/main/java/com/tvtracker/enterprise/dao/IMediaEntryDAO.java",
    "raw_url": "https://github.com/smitty891/TvTracker/raw/fc9dae7dc9ec4d0bedecd491f20116c832ab7711/src/main/java/com/tvtracker/enterprise/dao/IMediaEntryDAO.java",
    "contents_url": "https://api.github.com/repos/smitty891/TvTracker/contents/src/main/java/com/tvtracker/enterprise/dao/IMediaEntryDAO.java?ref=fc9dae7dc9ec4d0bedecd491f20116c832ab7711",
    "patch": "@@ -1,6 +1,7 @@\n package com.tvtracker.enterprise.dao;\n \n import com.tvtracker.enterprise.dto.MediaEntry;\n+import org.springframework.stereotype.Repository;\n \n import java.util.List;\n "
  },
  {
    "sha": "17a2f8164813f6ed6bfe4b5ecb8bbc085b250ffa",
    "filename": "src/main/java/com/tvtracker/enterprise/dao/IUserAccountDAO.java",
    "status": "modified",
    "additions": 1,
    "deletions": 0,
    "changes": 1,
    "blob_url": "https://github.com/smitty891/TvTracker/blob/fc9dae7dc9ec4d0bedecd491f20116c832ab7711/src/main/java/com/tvtracker/enterprise/dao/IUserAccountDAO.java",
    "raw_url": "https://github.com/smitty891/TvTracker/raw/fc9dae7dc9ec4d0bedecd491f20116c832ab7711/src/main/java/com/tvtracker/enterprise/dao/IUserAccountDAO.java",
    "contents_url": "https://api.github.com/repos/smitty891/TvTracker/contents/src/main/java/com/tvtracker/enterprise/dao/IUserAccountDAO.java?ref=fc9dae7dc9ec4d0bedecd491f20116c832ab7711",
    "patch": "@@ -1,6 +1,7 @@\n package com.tvtracker.enterprise.dao;\n \n import com.tvtracker.enterprise.dto.UserAccount;\n+import org.springframework.stereotype.Repository;\n \n /**\n  * Data Access Object for UserAccounts"
  },
  {
    "sha": "bbbcfea29ec688f1ce17881d506230dcedffc92d",
    "filename": "src/main/java/com/tvtracker/enterprise/dao/MediaEntryDAOStub.java",
    "status": "modified",
    "additions": 8,
    "deletions": 7,
    "changes": 15,
    "blob_url": "https://github.com/smitty891/TvTracker/blob/fc9dae7dc9ec4d0bedecd491f20116c832ab7711/src/main/java/com/tvtracker/enterprise/dao/MediaEntryDAOStub.java",
    "raw_url": "https://github.com/smitty891/TvTracker/raw/fc9dae7dc9ec4d0bedecd491f20116c832ab7711/src/main/java/com/tvtracker/enterprise/dao/MediaEntryDAOStub.java",
    "contents_url": "https://api.github.com/repos/smitty891/TvTracker/contents/src/main/java/com/tvtracker/enterprise/dao/MediaEntryDAOStub.java?ref=fc9dae7dc9ec4d0bedecd491f20116c832ab7711",
    "patch": "@@ -2,15 +2,16 @@\n \n import com.tvtracker.enterprise.dto.MediaEntry;\n import org.springframework.stereotype.Component;\n+import org.springframework.stereotype.Repository;\n \n import java.util.ArrayList;\n import java.util.HashMap;\n import java.util.List;\n \n-@Component\n+@Repository\n public class MediaEntryDAOStub implements  IMediaEntryDAO {\n-    HashMap<Integer, MediaEntry> entriesByID = new HashMap<Integer, MediaEntry>();\n-    HashMap<String, HashMap<Integer, MediaEntry>> entriesByUsername = new HashMap<String, HashMap<Integer, MediaEntry>>();\n+    HashMap<Integer, MediaEntry> entriesByID = new HashMap<>();\n+    HashMap<String, HashMap<Integer, MediaEntry>> entriesByUsername = new HashMap<>();\n \n     /**\n      * Method for creating a new MediaEntry record in the database\n@@ -26,7 +27,7 @@ public MediaEntry save(MediaEntry mediaEntry) throws Exception {\n         if(entriesByUsername.containsKey(mediaEntry.getUsername())){\n             entriesByUsername.get(mediaEntry.getUsername()).put(mediaEntry.getEntryId(), mediaEntry);\n         } else {\n-            HashMap<Integer, MediaEntry> entries = new HashMap<Integer, MediaEntry>();\n+            HashMap<Integer, MediaEntry> entries = new HashMap<>();\n             entries.put(mediaEntry.getEntryId(), mediaEntry);\n             entriesByUsername.put(mediaEntry.getUsername(), entries);\n         }\n@@ -41,7 +42,7 @@ public MediaEntry save(MediaEntry mediaEntry) throws Exception {\n      * @return List of MediaEntry objects belonging to the given user\n      */\n     @Override\n-    public List<MediaEntry> fetchByUsername(String username) throws Exception {\n+    public List<MediaEntry> fetchByUsername(String username) {\n         return new ArrayList(entriesByUsername.get(username).values());\n     }\n \n@@ -52,7 +53,7 @@ public MediaEntry save(MediaEntry mediaEntry) throws Exception {\n      * @return MediaEntry object representation of corresponding database record\n      */\n     @Override\n-    public MediaEntry fetch(int entryId) throws Exception {\n+    public MediaEntry fetch(int entryId) {\n         return entriesByID.get(entryId);\n     }\n \n@@ -62,7 +63,7 @@ public MediaEntry fetch(int entryId) throws Exception {\n      * @param entryId integer uniquely identifying a MediaEntry record\n      */\n     @Override\n-    public void delete(int entryId) throws Exception {\n+    public void delete(int entryId) {\n         MediaEntry entry = entriesByID.remove(entryId);\n         if(entry != null) {\n             entriesByUsername.get(entry.getUsername()).remove(entryId);"
  },
  {
    "sha": "8ffc0661f6d0d4d63ed816cd7512e8d9adf4e8b3",
    "filename": "src/main/java/com/tvtracker/enterprise/dao/UserAccountDAOStub.java",
    "status": "modified",
    "additions": 6,
    "deletions": 5,
    "changes": 11,
    "blob_url": "https://github.com/smitty891/TvTracker/blob/fc9dae7dc9ec4d0bedecd491f20116c832ab7711/src/main/java/com/tvtracker/enterprise/dao/UserAccountDAOStub.java",
    "raw_url": "https://github.com/smitty891/TvTracker/raw/fc9dae7dc9ec4d0bedecd491f20116c832ab7711/src/main/java/com/tvtracker/enterprise/dao/UserAccountDAOStub.java",
    "contents_url": "https://api.github.com/repos/smitty891/TvTracker/contents/src/main/java/com/tvtracker/enterprise/dao/UserAccountDAOStub.java?ref=fc9dae7dc9ec4d0bedecd491f20116c832ab7711",
    "patch": "@@ -2,12 +2,13 @@\n \n import com.tvtracker.enterprise.dto.UserAccount;\n import org.springframework.stereotype.Component;\n+import org.springframework.stereotype.Repository;\n \n import java.util.HashMap;\n \n-@Component\n+@Repository\n public class UserAccountDAOStub implements IUserAccountDAO {\n-    HashMap<String, UserAccount> userAccounts = new HashMap<String, UserAccount>();\n+    HashMap<String, UserAccount> userAccounts = new HashMap<>();\n \n     /**\n      * Method for creating a new UserAccount record in the database\n@@ -34,7 +35,7 @@ public UserAccount save(UserAccount userAccount) throws Exception {\n      * @return UserAccount representation of the corresponding UserAccount database record\n      */\n     @Override\n-    public UserAccount fetch(String username) throws Exception {\n+    public UserAccount fetch(String username) {\n         return userAccounts.get(username);\n     }\n \n@@ -45,7 +46,7 @@ public UserAccount fetch(String username) throws Exception {\n      * @return boolean indicating whether a record exists for this username\n      */\n     @Override\n-    public boolean existsBy(String username) throws Exception {\n+    public boolean existsBy(String username) {\n         return userAccounts.containsKey(username);\n     }\n \n@@ -55,7 +56,7 @@ public boolean existsBy(String username) throws Exception {\n      * @param username String uniquely identifying a UserAccount record\n      */\n     @Override\n-    public void delete(String username) throws Exception {\n+    public void delete(String username) {\n         userAccounts.remove(username);\n     }\n "
  },
  {
    "sha": "4618d02ecbed8a428ff6d24ae8c2efc181703601",
    "filename": "src/main/java/com/tvtracker/enterprise/dto/MediaEntry.java",
    "status": "modified",
    "additions": 3,
    "deletions": 5,
    "changes": 8,
    "blob_url": "https://github.com/smitty891/TvTracker/blob/fc9dae7dc9ec4d0bedecd491f20116c832ab7711/src/main/java/com/tvtracker/enterprise/dto/MediaEntry.java",
    "raw_url": "https://github.com/smitty891/TvTracker/raw/fc9dae7dc9ec4d0bedecd491f20116c832ab7711/src/main/java/com/tvtracker/enterprise/dto/MediaEntry.java",
    "contents_url": "https://api.github.com/repos/smitty891/TvTracker/contents/src/main/java/com/tvtracker/enterprise/dto/MediaEntry.java?ref=fc9dae7dc9ec4d0bedecd491f20116c832ab7711",
    "patch": "@@ -1,11 +1,9 @@\n package com.tvtracker.enterprise.dto;\n \n-import lombok.Getter;\n-import lombok.Setter;\n+import lombok.Data;\n \n-@Getter\n-@Setter\n-public class MediaEntry {\n+public @Data\n+class MediaEntry {\n     /**\n      * MediaEntry's unique identifier\n      */"
  },
  {
    "sha": "847d3c51c223fa49118eb6091550c90ecb2564aa",
    "filename": "src/main/java/com/tvtracker/enterprise/dto/UserAccount.java",
    "status": "modified",
    "additions": 3,
    "deletions": 6,
    "changes": 9,
    "blob_url": "https://github.com/smitty891/TvTracker/blob/fc9dae7dc9ec4d0bedecd491f20116c832ab7711/src/main/java/com/tvtracker/enterprise/dto/UserAccount.java",
    "raw_url": "https://github.com/smitty891/TvTracker/raw/fc9dae7dc9ec4d0bedecd491f20116c832ab7711/src/main/java/com/tvtracker/enterprise/dto/UserAccount.java",
    "contents_url": "https://api.github.com/repos/smitty891/TvTracker/contents/src/main/java/com/tvtracker/enterprise/dto/UserAccount.java?ref=fc9dae7dc9ec4d0bedecd491f20116c832ab7711",
    "patch": "@@ -1,13 +1,10 @@\n package com.tvtracker.enterprise.dto;\n \n-import lombok.Getter;\n-import lombok.Setter;\n-\n+import lombok.Data;\n import java.sql.Timestamp;\n \n-@Getter\n-@Setter\n-public class UserAccount {\n+public @Data\n+class UserAccount {\n     /**\n      * UserAccount's unique identifier\n      */"
  },
  {
    "sha": "91460657ea478997d1a4d0bbbafa3ce2bd0404cf",
    "filename": "src/main/resources/templates/favorites.html",
    "status": "modified",
    "additions": 3,
    "deletions": 28,
    "changes": 31,
    "blob_url": "https://github.com/smitty891/TvTracker/blob/fc9dae7dc9ec4d0bedecd491f20116c832ab7711/src/main/resources/templates/favorites.html",
    "raw_url": "https://github.com/smitty891/TvTracker/raw/fc9dae7dc9ec4d0bedecd491f20116c832ab7711/src/main/resources/templates/favorites.html",
    "contents_url": "https://api.github.com/repos/smitty891/TvTracker/contents/src/main/resources/templates/favorites.html?ref=fc9dae7dc9ec4d0bedecd491f20116c832ab7711",
    "patch": "@@ -1,5 +1,5 @@\n <!DOCTYPE html>\n-<html lang=\"en\">\n+<html lang=\"en\" xmlns:th=\"http://www.w3.org/1999/xhtml\">\n <head>\n     <meta charset=\"UTF-8\">\n \n@@ -28,35 +28,10 @@\n     <title>Home</title>\n </head>\n <body onload=\"startup()\">\n-    <nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\n-        <div class=\"container-fluid\">\n-            <a class=\"navbar-brand\" href=\"/\">TvTracker</a>\n-            <button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarSupportedContent\" aria-controls=\"navbarSupportedContent\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n-                <span class=\"navbar-toggler-icon\"></span>\n-            </button>\n-            <div class=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\n-                <ul class=\"navbar-nav me-auto mb-2 mb-lg-0\">\n-                    <li class=\"nav-item\">\n-                        <a class=\"nav-link active\" aria-current=\"page\" href=\"/\">Browse</a>\n-                    </li>\n-                    <li class=\"nav-item\">\n-                        <a class=\"nav-link\" href=\"/favorites\">Favorites</a>\n-                    </li>\n-                </ul>\n \n+<div th:replace=\"fragments/topnav :: navbar\">\n \n-                <div class=\"d-flex\">\n-                    <a class=\"nav-link\" href=\"#\">Login</a>\n-                    <select id=\"mediaTypeDropdown\">\n-                        <option value=\"movie\">Movie</option>\n-                        <option value=\"series\">Series</option>\n-                    </select>\n-                    <input id=\"searchTextBox\" class=\"form-control me-2\" type=\"text\" placeholder=\"Search\" aria-label=\"Search\">\n-                    <button id=\"searchBtn\" class=\"btn btn-outline-success\">Search</button>\n-                </div>\n-            </div>\n-        </div>\n-    </nav>\n+</div>\n \n     <h1>Favorites</h1>\n     <div id=\"dashDiv\"></div>"
  },
  {
    "sha": "b6cec3796d16c60b7a8c783ecccb5e67fd60427c",
    "filename": "src/main/resources/templates/fragments/topnav.html",
    "status": "added",
    "additions": 31,
    "deletions": 0,
    "changes": 31,
    "blob_url": "https://github.com/smitty891/TvTracker/blob/fc9dae7dc9ec4d0bedecd491f20116c832ab7711/src/main/resources/templates/fragments/topnav.html",
    "raw_url": "https://github.com/smitty891/TvTracker/raw/fc9dae7dc9ec4d0bedecd491f20116c832ab7711/src/main/resources/templates/fragments/topnav.html",
    "contents_url": "https://api.github.com/repos/smitty891/TvTracker/contents/src/main/resources/templates/fragments/topnav.html?ref=fc9dae7dc9ec4d0bedecd491f20116c832ab7711",
    "patch": "@@ -0,0 +1,31 @@\n+<div th:fragment=\"navbar\">\n+    <nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\n+        <div class=\"container-fluid\">\n+            <a class=\"navbar-brand\" href=\"/\">TvTracker</a>\n+            <button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarSupportedContent\" aria-controls=\"navbarSupportedContent\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n+                <span class=\"navbar-toggler-icon\"></span>\n+            </button>\n+            <div class=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\n+                <ul class=\"navbar-nav me-auto mb-2 mb-lg-0\">\n+                    <li class=\"nav-item\">\n+                        <a class=\"nav-link active\" aria-current=\"page\" href=\"/\">Browse</a>\n+                    </li>\n+                    <li class=\"nav-item\">\n+                        <a class=\"nav-link\" href=\"/favorites\">Favorites</a>\n+                    </li>\n+                </ul>\n+\n+\n+                <div class=\"d-flex\">\n+                    <a class=\"nav-link\" href=\"#\">Login</a>\n+                    <select id=\"mediaTypeDropdown\">\n+                        <option value=\"movie\">Movie</option>\n+                        <option value=\"series\">Series</option>\n+                    </select>\n+                    <input id=\"searchTextBox\" class=\"form-control me-2\" type=\"text\" placeholder=\"Search\" aria-label=\"Search\">\n+                    <button id=\"searchBtn\" class=\"btn btn-outline-success\">Search</button>\n+                </div>\n+            </div>\n+        </div>\n+    </nav>\n+</div>\n\\ No newline at end of file"
  },
  {
    "sha": "3b81c173916d363b4c05b76e17b4e26e5d482d22",
    "filename": "src/main/resources/templates/start.html",
    "status": "modified",
    "additions": 3,
    "deletions": 28,
    "changes": 31,
    "blob_url": "https://github.com/smitty891/TvTracker/blob/fc9dae7dc9ec4d0bedecd491f20116c832ab7711/src/main/resources/templates/start.html",
    "raw_url": "https://github.com/smitty891/TvTracker/raw/fc9dae7dc9ec4d0bedecd491f20116c832ab7711/src/main/resources/templates/start.html",
    "contents_url": "https://api.github.com/repos/smitty891/TvTracker/contents/src/main/resources/templates/start.html?ref=fc9dae7dc9ec4d0bedecd491f20116c832ab7711",
    "patch": "@@ -1,5 +1,5 @@\n <!DOCTYPE html>\n-<html lang=\"en\">\n+<html lang=\"en\" xmlns:th=\"http://www.w3.org/1999/xhtml\">\n <head>\n     <meta charset=\"UTF-8\">\n \n@@ -26,35 +26,10 @@\n     <title>Home</title>\n </head>\n <body onload=\"bindClickHandlers()\">\n-    <nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\n-        <div class=\"container-fluid\">\n-            <a class=\"navbar-brand\" href=\"/\">TvTracker</a>\n-            <button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarSupportedContent\" aria-controls=\"navbarSupportedContent\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n-                <span class=\"navbar-toggler-icon\"></span>\n-            </button>\n-            <div class=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\n-                <ul class=\"navbar-nav me-auto mb-2 mb-lg-0\">\n-                    <li class=\"nav-item\">\n-                        <a class=\"nav-link active\" aria-current=\"page\" href=\"/\">Browse</a>\n-                    </li>\n-                    <li class=\"nav-item\">\n-                        <a class=\"nav-link\" href=\"/favorites\">Favorites</a>\n-                    </li>\n-                </ul>\n \n+<div th:replace=\"fragments/topnav :: navbar\">\n \n-                <div class=\"d-flex\">\n-                    <a class=\"nav-link\" href=\"#\">Login</a>\n-                    <select id=\"mediaTypeDropdown\">\n-                        <option value=\"movie\">Movie</option>\n-                        <option value=\"series\">Series</option>\n-                    </select>\n-                    <input id=\"searchTextBox\" class=\"form-control me-2\" type=\"text\" placeholder=\"Search\" aria-label=\"Search\">\n-                    <button id=\"searchBtn\" class=\"btn btn-outline-success\">Search</button>\n-                </div>\n-            </div>\n-        </div>\n-    </nav>\n+</div>\n \n     <h1>Browse</h1>\n     <div id=\"dashDiv\"></div>"
  },
  {
    "sha": "98741ef4a01bd0f4fe73e4a65ff6827baece7182",
    "filename": "src/test/java/com/tvtracker/enterprise/EnterpriseApplicationTests.java",
    "status": "modified",
    "additions": 50,
    "deletions": 20,
    "changes": 70,
    "blob_url": "https://github.com/smitty891/TvTracker/blob/fc9dae7dc9ec4d0bedecd491f20116c832ab7711/src/test/java/com/tvtracker/enterprise/EnterpriseApplicationTests.java",
    "raw_url": "https://github.com/smitty891/TvTracker/raw/fc9dae7dc9ec4d0bedecd491f20116c832ab7711/src/test/java/com/tvtracker/enterprise/EnterpriseApplicationTests.java",
    "contents_url": "https://api.github.com/repos/smitty891/TvTracker/contents/src/test/java/com/tvtracker/enterprise/EnterpriseApplicationTests.java?ref=fc9dae7dc9ec4d0bedecd491f20116c832ab7711",
    "patch": "@@ -20,28 +20,29 @@\n \n     final String TEST_USERNAME = \"testUser\";\n     final String TEST_USER_PASSWORD = \"testPassword\";\n+    MediaEntry mediaEntry = new MediaEntry();\n+    UserAccount userAccount = new UserAccount();\n \n     @Test\n     void contextLoads() {\n     }\n \n     @Test\n     void userCreatesUserAccount_ReturnsValidAuthenticationToken() throws Exception {\n-        UserAccount userAccount = whenUserSendsUserAccountWithUniqueUsername();\n+        userAccount = whenUserSendsUserAccountWithUniqueUsername();\n         returnsUserAccountWithValidToken(userAccount);\n     }\n \n     private UserAccount whenUserSendsUserAccountWithUniqueUsername() throws Exception {\n-        UserAccount userAccount = new UserAccount();\n         userAccount.setUsername(TEST_USERNAME);\n         userAccount.setPassword(TEST_USER_PASSWORD);\n         userAccount.setEmail(\"testUser@testSite.com\");\n \n-        UserAccount newUserAccount = userAccountService.createUserAccount(userAccount);\n+        userAccount = userAccountService.createUserAccount(userAccount);\n \n-        Assert.notNull(newUserAccount, \"Creating user account returned null indicating username is not unique.\");\n+        Assert.notNull(userAccount, \"Creating user account returned null indicating username is not unique.\");\n \n-        return newUserAccount;\n+        return userAccount;\n     }\n \n     private void returnsUserAccountWithValidToken(UserAccount userAccount) throws Exception {\n@@ -59,7 +60,6 @@ void userCreatesMediaEntry_NewMediaEntryHasEntryId() throws Exception {\n     }\n \n     private void whenUserCreatesNewMediaEntry() throws Exception {\n-        MediaEntry mediaEntry = new MediaEntry();\n         mediaEntry.setType(\"Movie\");\n         mediaEntry.setUsername(TEST_USERNAME);\n         mediaEntry.setTitle(\"Easy Rider\");\n@@ -70,7 +70,7 @@ private void whenUserCreatesNewMediaEntry() throws Exception {\n \n     private void newMediaEntryHasEntryId() throws Exception {\n         List<MediaEntry> entries = mediaEntryService.fetchMediaEntriesByUsername(TEST_USERNAME);\n-        MediaEntry mediaEntry = entries.get(0);\n+        mediaEntry = entries.get(0);\n \n         boolean isCorrectEntry = mediaEntry.getDescription().equals(\"Instant classic!\") && mediaEntry.getTitle().equals(\"Easy Rider\");\n         Assert.isTrue(isCorrectEntry, \"Media Entry values do not match the created media entry.\");\n@@ -85,7 +85,6 @@ void userUpdatesMediaEntry_ReturnsSuccessBoolean() throws Exception {\n     }\n \n     private void givenUserHasCreatedAMediaEntry() throws Exception {\n-        MediaEntry mediaEntry = new MediaEntry();\n         mediaEntry.setType(\"Movie\");\n         mediaEntry.setUsername(TEST_USERNAME);\n         mediaEntry.setTitle(\"Easy Rider\");\n@@ -103,20 +102,19 @@ private void givenUserHasCreatedAMediaEntry() throws Exception {\n     private int whenUserUpdatesMediaEntry() throws Exception {\n         List<MediaEntry> mediaEntries = mediaEntryService.fetchMediaEntriesByUsername(TEST_USERNAME);\n         // update a media entry\n-        MediaEntry mediaEntry = mediaEntries.get(0);\n-        MediaEntry newMediaEntry = new MediaEntry();\n-        newMediaEntry.setEntryId(mediaEntry.getEntryId());\n-        newMediaEntry.setUsername(mediaEntry.getUsername());\n-        newMediaEntry.setTitle(mediaEntry.getTitle());\n-        newMediaEntry.setType(mediaEntry.getType());\n-        newMediaEntry.setDescription(\"Terrible\");\n-        newMediaEntry.setPlatform(\"Hulu\");\n-        newMediaEntry.setWatched(true);\n-\n-        boolean success = mediaEntryService.updateMediaEntry(newMediaEntry);\n+        mediaEntry = mediaEntries.get(0);\n+        mediaEntry.setEntryId(mediaEntry.getEntryId());\n+        mediaEntry.setUsername(mediaEntry.getUsername());\n+        mediaEntry.setTitle(mediaEntry.getTitle());\n+        mediaEntry.setType(mediaEntry.getType());\n+        mediaEntry.setDescription(\"Terrible\");\n+        mediaEntry.setPlatform(\"Hulu\");\n+        mediaEntry.setWatched(true);\n+\n+        boolean success = mediaEntryService.updateMediaEntry(mediaEntry);\n         Assert.isTrue(success, \"An error occurred while updating a media entry.\");\n \n-        return newMediaEntry.getEntryId();\n+        return mediaEntry.getEntryId();\n     }\n \n     private void returnIndicationOfSuccess(int entryId) throws Exception {\n@@ -129,4 +127,36 @@ private void returnIndicationOfSuccess(int entryId) throws Exception {\n         boolean updated = foundEntry.isWatched() && foundEntry.getPlatform().equals(\"Hulu\") && foundEntry.getDescription().equals(\"Terrible\");\n         Assert.isTrue(updated, \"Media entry's fields were not updated.\");\n     }\n+\n+    @Test\n+    void userDeletesMediaEntry_ReturnsSuccessBoolean() throws Exception {\n+        givenUserHasCreatedCastAwayEntryAndHasValidAccount();\n+        int entryId = whenUserDeletesMediaEntry();\n+        thenReturnsMediaEntryNoLongerInUsersLibrary(entryId);\n+    }\n+\n+    private void givenUserHasCreatedCastAwayEntryAndHasValidAccount() throws Exception {\n+        mediaEntry.setType(\"Movie\");\n+        mediaEntry.setUsername(TEST_USERNAME);\n+        mediaEntry.setTitle(\"Cast Away\");\n+        mediaEntry.setDescription(\"WILSON!\");\n+        mediaEntry.setWatched(true);\n+        mediaEntryService.createMediaEntry(mediaEntry);\n+        whenUserDeletesMediaEntry();\n+    }\n+\n+    private int whenUserDeletesMediaEntry() throws Exception {\n+        boolean success = mediaEntryService.deleteMediaEntry(0);\n+        Assert.isTrue(success, \"An error occurred while deleting a media entry.\");\n+\n+        return mediaEntry.getEntryId();\n+    }\n+\n+    private void thenReturnsMediaEntryNoLongerInUsersLibrary(int entryId) throws Exception {\n+        List<MediaEntry> mediaEntries = mediaEntryService.fetchMediaEntriesByUsername(TEST_USERNAME);\n+        MediaEntry foundEntry = null;\n+        for(MediaEntry entry: mediaEntries) if (entry.getEntryId() == entryId) foundEntry = entry;\n+\n+        Assert.isNull(foundEntry, \"The updated media entry was deleted.\");\n+    }\n }"
  }
]
