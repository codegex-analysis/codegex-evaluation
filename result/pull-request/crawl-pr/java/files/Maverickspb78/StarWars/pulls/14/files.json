[
  {
    "sha": "1cd9878c8a8b5e4c0ae04e8c0ae544c7e8883f56",
    "filename": "android/assets/Gains/Bulet.png",
    "status": "added",
    "additions": 0,
    "deletions": 0,
    "changes": 0,
    "blob_url": "https://github.com/Maverickspb78/StarWars/blob/b54216314edca22a501a9ae045602bab92454874/android/assets/Gains/Bulet.png",
    "raw_url": "https://github.com/Maverickspb78/StarWars/raw/b54216314edca22a501a9ae045602bab92454874/android/assets/Gains/Bulet.png",
    "contents_url": "https://api.github.com/repos/Maverickspb78/StarWars/contents/android/assets/Gains/Bulet.png?ref=b54216314edca22a501a9ae045602bab92454874"
  },
  {
    "sha": "866242bf48d49108b021465dad1bc4c130aa696f",
    "filename": "android/assets/Gains/HP.png",
    "status": "added",
    "additions": 0,
    "deletions": 0,
    "changes": 0,
    "blob_url": "https://github.com/Maverickspb78/StarWars/blob/b54216314edca22a501a9ae045602bab92454874/android/assets/Gains/HP.png",
    "raw_url": "https://github.com/Maverickspb78/StarWars/raw/b54216314edca22a501a9ae045602bab92454874/android/assets/Gains/HP.png",
    "contents_url": "https://api.github.com/repos/Maverickspb78/StarWars/contents/android/assets/Gains/HP.png?ref=b54216314edca22a501a9ae045602bab92454874"
  },
  {
    "sha": "76da5cab1ba2c96fa971fea5c71efa06515fb493",
    "filename": "android/assets/Gains/MaxHp.png",
    "status": "added",
    "additions": 0,
    "deletions": 0,
    "changes": 0,
    "blob_url": "https://github.com/Maverickspb78/StarWars/blob/b54216314edca22a501a9ae045602bab92454874/android/assets/Gains/MaxHp.png",
    "raw_url": "https://github.com/Maverickspb78/StarWars/raw/b54216314edca22a501a9ae045602bab92454874/android/assets/Gains/MaxHp.png",
    "contents_url": "https://api.github.com/repos/Maverickspb78/StarWars/contents/android/assets/Gains/MaxHp.png?ref=b54216314edca22a501a9ae045602bab92454874"
  },
  {
    "sha": "cc4e6bc1aecbb553ce83cf112685de4889f96cc7",
    "filename": "android/assets/Gains/gains.png",
    "status": "added",
    "additions": 0,
    "deletions": 0,
    "changes": 0,
    "blob_url": "https://github.com/Maverickspb78/StarWars/blob/b54216314edca22a501a9ae045602bab92454874/android/assets/Gains/gains.png",
    "raw_url": "https://github.com/Maverickspb78/StarWars/raw/b54216314edca22a501a9ae045602bab92454874/android/assets/Gains/gains.png",
    "contents_url": "https://api.github.com/repos/Maverickspb78/StarWars/contents/android/assets/Gains/gains.png?ref=b54216314edca22a501a9ae045602bab92454874"
  },
  {
    "sha": "f899f04fd2e61408692a4404b3cf4d9ab2ad8e09",
    "filename": "android/assets/Gains/gains.tpack",
    "status": "added",
    "additions": 33,
    "deletions": 0,
    "changes": 33,
    "blob_url": "https://github.com/Maverickspb78/StarWars/blob/b54216314edca22a501a9ae045602bab92454874/android/assets/Gains/gains.tpack",
    "raw_url": "https://github.com/Maverickspb78/StarWars/raw/b54216314edca22a501a9ae045602bab92454874/android/assets/Gains/gains.tpack",
    "contents_url": "https://api.github.com/repos/Maverickspb78/StarWars/contents/android/assets/Gains/gains.tpack?ref=b54216314edca22a501a9ae045602bab92454874",
    "patch": "@@ -0,0 +1,33 @@\n+\n+Gains.png\n+format: RGBA8888\n+filter: Nearest,Nearest\n+repeat: none\n+Bulet\n+  rotate: false\n+  xy: 1, 1\n+  size: 75, 75\n+  orig: 75, 75\n+  offset: 0, 0\n+  index: -1\n+HP\n+  rotate: false\n+  xy: 78, 1\n+  size: 75, 75\n+  orig: 75, 75\n+  offset: 0, 0\n+  index: -1\n+MaxHp\n+  rotate: false\n+  xy: 155, 1\n+  size: 75, 75\n+  orig: 75, 75\n+  offset: 0, 0\n+  index: -1\n+undead\n+  rotate: false\n+  xy: 232, 1\n+  size: 75, 75\n+  orig: 75, 75\n+  offset: 0, 0\n+  index: -1"
  },
  {
    "sha": "6be5625bfdb06fa6b62135a315f4d2c1f722f037",
    "filename": "android/assets/Gains/undead.png",
    "status": "added",
    "additions": 0,
    "deletions": 0,
    "changes": 0,
    "blob_url": "https://github.com/Maverickspb78/StarWars/blob/b54216314edca22a501a9ae045602bab92454874/android/assets/Gains/undead.png",
    "raw_url": "https://github.com/Maverickspb78/StarWars/raw/b54216314edca22a501a9ae045602bab92454874/android/assets/Gains/undead.png",
    "contents_url": "https://api.github.com/repos/Maverickspb78/StarWars/contents/android/assets/Gains/undead.png?ref=b54216314edca22a501a9ae045602bab92454874"
  },
  {
    "sha": "af92a1e33acfcd993c6138ea1a26cde5db7495dd",
    "filename": "core/src/ru/star/base/Ship.java",
    "status": "modified",
    "additions": 1,
    "deletions": 0,
    "changes": 1,
    "blob_url": "https://github.com/Maverickspb78/StarWars/blob/b54216314edca22a501a9ae045602bab92454874/core/src/ru/star/base/Ship.java",
    "raw_url": "https://github.com/Maverickspb78/StarWars/raw/b54216314edca22a501a9ae045602bab92454874/core/src/ru/star/base/Ship.java",
    "contents_url": "https://api.github.com/repos/Maverickspb78/StarWars/contents/core/src/ru/star/base/Ship.java?ref=b54216314edca22a501a9ae045602bab92454874",
    "patch": "@@ -38,6 +38,7 @@\n     public Ship() {\n     }\n \n+\n     public Ship(TextureRegion region, int rows, int cols, int frames) {\n         super(region, rows, cols, frames);\n     }"
  },
  {
    "sha": "bf266c9e314a9660c60c65570b04567619254830",
    "filename": "core/src/ru/star/pool/BonusStarPool.java",
    "status": "added",
    "additions": 16,
    "deletions": 0,
    "changes": 16,
    "blob_url": "https://github.com/Maverickspb78/StarWars/blob/b54216314edca22a501a9ae045602bab92454874/core/src/ru/star/pool/BonusStarPool.java",
    "raw_url": "https://github.com/Maverickspb78/StarWars/raw/b54216314edca22a501a9ae045602bab92454874/core/src/ru/star/pool/BonusStarPool.java",
    "contents_url": "https://api.github.com/repos/Maverickspb78/StarWars/contents/core/src/ru/star/pool/BonusStarPool.java?ref=b54216314edca22a501a9ae045602bab92454874",
    "patch": "@@ -0,0 +1,16 @@\n+package ru.star.pool;\n+\n+import ru.star.base.SpritesPool;\n+import ru.star.sprite.BonusStar;\n+\n+\n+public class BonusStarPool extends SpritesPool<BonusStar> {\n+\n+    @Override\n+    protected BonusStar newObject() {\n+        return new BonusStar();\n+    }\n+\n+\n+\n+}"
  },
  {
    "sha": "d1ab5b17e8772e721cd22af5d94e0d6011b22d9e",
    "filename": "core/src/ru/star/pool/EnemyPool.java",
    "status": "modified",
    "additions": 2,
    "deletions": 0,
    "changes": 2,
    "blob_url": "https://github.com/Maverickspb78/StarWars/blob/b54216314edca22a501a9ae045602bab92454874/core/src/ru/star/pool/EnemyPool.java",
    "raw_url": "https://github.com/Maverickspb78/StarWars/raw/b54216314edca22a501a9ae045602bab92454874/core/src/ru/star/pool/EnemyPool.java",
    "contents_url": "https://api.github.com/repos/Maverickspb78/StarWars/contents/core/src/ru/star/pool/EnemyPool.java?ref=b54216314edca22a501a9ae045602bab92454874",
    "patch": "@@ -8,6 +8,7 @@\n \n public class EnemyPool extends SpritesPool<EnemyShip> {\n \n+\n     private BulletPool bulletPool;\n     private ExplosionPool explosionPool;\n     private Rect worldBounds;\n@@ -18,6 +19,7 @@ public EnemyPool(BulletPool bulletPool, ExplosionPool explosionPool, Rect worldB\n         this.explosionPool = explosionPool;\n         this.worldBounds = worldBounds;\n         this.sound = sound;\n+\n     }\n \n     @Override"
  },
  {
    "sha": "e736b06235254710a9ccb2e5d5ac726da3983381",
    "filename": "core/src/ru/star/screen/GameScreen.java",
    "status": "modified",
    "additions": 26,
    "deletions": 0,
    "changes": 26,
    "blob_url": "https://github.com/Maverickspb78/StarWars/blob/b54216314edca22a501a9ae045602bab92454874/core/src/ru/star/screen/GameScreen.java",
    "raw_url": "https://github.com/Maverickspb78/StarWars/raw/b54216314edca22a501a9ae045602bab92454874/core/src/ru/star/screen/GameScreen.java",
    "contents_url": "https://api.github.com/repos/Maverickspb78/StarWars/contents/core/src/ru/star/screen/GameScreen.java?ref=b54216314edca22a501a9ae045602bab92454874",
    "patch": "@@ -13,10 +13,12 @@\n \n import ru.star.base.BaseScreen;\n import ru.star.math.Rect;\n+import ru.star.pool.BonusStarPool;\n import ru.star.pool.BulletPool;\n import ru.star.pool.EnemyPool;\n import ru.star.pool.ExplosionPool;\n import ru.star.sprite.Background;\n+import ru.star.sprite.BonusStar;\n import ru.star.sprite.Bullet;\n import ru.star.sprite.EnemyShip;\n import ru.star.sprite.GameOver;\n@@ -40,6 +42,7 @@\n \n     private Texture bg;\n     private TextureAtlas atlas;\n+    private TextureAtlas atlas2;\n \n     private Background background;\n     private TrackingStar[] stars;\n@@ -66,13 +69,19 @@\n     private StringBuilder sbHp;\n     private StringBuilder sbLevel;\n \n+\n+    private BonusStar bonusStar;\n+    private BonusStarPool bonusStarPool;\n+\n+\n     private int frags;\n \n     @Override\n     public void show() {\n         super.show();\n         bg = new Texture(\"textures/bg.png\");\n         atlas = new TextureAtlas(Gdx.files.internal(\"textures/mainAtlas.tpack\"));\n+        atlas2 = new TextureAtlas(Gdx.files.internal(\"Gains/Gains.tpack\"));\n         background = new Background(bg);\n         bulletPool = new BulletPool();\n         explosionSound = Gdx.audio.newSound(Gdx.files.internal(\"sounds/explosion.wav\"));\n@@ -87,6 +96,10 @@ public void show() {\n         sbFrags = new StringBuilder();\n         sbHp = new StringBuilder();\n         sbLevel = new StringBuilder();\n+        bonusStar = new BonusStar();\n+        bonusStarPool = new BonusStarPool();\n+\n+\n \n         stars = new TrackingStar[STAR_COUNT];\n         for (int i = 0; i < STAR_COUNT; i++) {\n@@ -110,6 +123,7 @@ public void startNewGame() {\n         bulletPool.freeAllActiveSprites();\n         enemyPool.freeAllActiveSprites();\n         explosionPool.freeAllActiveSprites();\n+\n     }\n \n     @Override\n@@ -129,12 +143,14 @@ public void resize(Rect worldBounds) {\n         mainShip.resize(worldBounds);\n         gameOver.resize(worldBounds);\n         newGame.resize(worldBounds);\n+        bonusStar.resize(worldBounds);\n     }\n \n     @Override\n     public void dispose() {\n         bg.dispose();\n         atlas.dispose();\n+        atlas2.dispose();\n         bulletPool.dispose();\n         explosionPool.dispose();\n         enemyPool.dispose();\n@@ -143,6 +159,7 @@ public void dispose() {\n         explosionSound.dispose();\n         mainShip.dispose();\n         font.dispose();\n+\n         super.dispose();\n     }\n \n@@ -192,6 +209,8 @@ private void update(float delta) {\n             bulletPool.updateActiveSprites(delta);\n             enemyPool.updateActiveSprites(delta);\n             enemyEmitter.generate(delta, frags);\n+            bonusStarPool.updateActiveSprites(delta);\n+\n         }\n \n     }\n@@ -231,6 +250,10 @@ private void checkCollisions() {\n                     enemyShip.damage(bullet.getDamage());\n                     bullet.destroy();\n                     if (enemyShip.isDestroyed()) {\n+                        enemyShip.bonus();\n+                        if(enemyShip.ifGifGains()){\n+\n+                        }\n                         frags++;\n                     }\n                 }\n@@ -245,6 +268,7 @@ private void freeAllDestroyed() {\n         bulletPool.freeAllDestroyedActiveSprites();\n         explosionPool.freeAllDestroyedActiveSprites();\n         enemyPool.freeAllDestroyedActiveSprites();\n+        bonusStarPool.freeAllDestroyedActiveSprites();\n     }\n \n     private void draw() {\n@@ -259,6 +283,8 @@ private void draw() {\n             mainShip.draw(batch);\n             bulletPool.drawActiveSprites(batch);\n             enemyPool.drawActiveSprites(batch);\n+            bonusStarPool.drawActiveSprites(batch);\n+\n         } else if (state == State.GAME_OVER) {\n             gameOver.draw(batch);\n             newGame.draw(batch);"
  },
  {
    "sha": "190dfa8a125069560a0b2d2f31225288830ae388",
    "filename": "core/src/ru/star/sprite/BonusStar.java",
    "status": "added",
    "additions": 46,
    "deletions": 0,
    "changes": 46,
    "blob_url": "https://github.com/Maverickspb78/StarWars/blob/b54216314edca22a501a9ae045602bab92454874/core/src/ru/star/sprite/BonusStar.java",
    "raw_url": "https://github.com/Maverickspb78/StarWars/raw/b54216314edca22a501a9ae045602bab92454874/core/src/ru/star/sprite/BonusStar.java",
    "contents_url": "https://api.github.com/repos/Maverickspb78/StarWars/contents/core/src/ru/star/sprite/BonusStar.java?ref=b54216314edca22a501a9ae045602bab92454874",
    "patch": "@@ -0,0 +1,46 @@\n+package ru.star.sprite;\n+\n+\n+import com.badlogic.gdx.graphics.g2d.TextureRegion;\n+import com.badlogic.gdx.math.Vector2;\n+\n+import ru.star.base.Sprite;\n+import ru.star.math.Rect;\n+\n+\n+public class BonusStar extends Sprite {\n+\n+    private final Vector2 v;\n+    private Rect worldBounds;\n+\n+\n+    public BonusStar() {\n+        this.v = new Vector2();\n+        regions = new TextureRegion[1];\n+    }\n+\n+    public void set(\n+            TextureRegion region,\n+            Vector2 pos0,\n+            Vector2 v0,\n+            float height,\n+            Rect worldBounds\n+    ) {\n+        regions[0] = region;\n+        pos.set(pos0);\n+        v.set(v0);\n+        setHeightProportion(height);\n+        this.worldBounds = worldBounds;\n+    }\n+\n+    @Override\n+    public void update(float delta) {\n+        pos.mulAdd(v, delta);\n+        if (isOutside(worldBounds)) {\n+            destroy();\n+        }\n+    }\n+\n+\n+\n+}"
  },
  {
    "sha": "41f9e16bb0492f031cde9cae51dadd5e9b41328c",
    "filename": "core/src/ru/star/sprite/EnemyShip.java",
    "status": "modified",
    "additions": 29,
    "deletions": 0,
    "changes": 29,
    "blob_url": "https://github.com/Maverickspb78/StarWars/blob/b54216314edca22a501a9ae045602bab92454874/core/src/ru/star/sprite/EnemyShip.java",
    "raw_url": "https://github.com/Maverickspb78/StarWars/raw/b54216314edca22a501a9ae045602bab92454874/core/src/ru/star/sprite/EnemyShip.java",
    "contents_url": "https://api.github.com/repos/Maverickspb78/StarWars/contents/core/src/ru/star/sprite/EnemyShip.java?ref=b54216314edca22a501a9ae045602bab92454874",
    "patch": "@@ -6,18 +6,25 @@\n \n import ru.star.base.Ship;\n import ru.star.math.Rect;\n+import ru.star.pool.BonusStarPool;\n import ru.star.pool.BulletPool;\n import ru.star.pool.ExplosionPool;\n \n+\n public class EnemyShip extends Ship {\n \n     private static final float START_V_Y = -0.3f;\n+    private boolean gainsbool = false;\n+    private BonusStarPool bonusStarPool = new BonusStarPool();\n+    private BonusStar bonusStar = new BonusStar();\n+\n \n     public EnemyShip(BulletPool bulletPool, ExplosionPool explosionPool, Rect worldBounds, Sound sound) {\n         this.bulletPool = bulletPool;\n         this.explosionPool = explosionPool;\n         this.worldBounds = worldBounds;\n         this.sound = sound;\n+\n         v = new Vector2();\n         v0 = new Vector2();\n         bulletPos = new Vector2();\n@@ -68,4 +75,26 @@ public boolean isBulletCollision(Rect bullet) {\n                 || bullet.getTop() < pos.y\n         );\n     }\n+\n+    public boolean ifGifGains(){\n+        float gainsRandom = (float) Math.random();\n+        if (gainsRandom > 0f){\n+            gainsbool = true;\n+        }\n+        return gainsbool;\n+    }\n+\n+    @Override\n+    public void destroy() {\n+        super.destroy();\n+\n+    }\n+\n+    public void bonus(){\n+        if (gainsbool){\n+            bonusStarPool.obtain();\n+        }\n+    }\n+\n+\n }\n\\ No newline at end of file"
  }
]
