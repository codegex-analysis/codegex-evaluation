[
  {
    "sha": "27a3d87d050df5e03801c2e7e2366976fde834d8",
    "filename": "src/main/java/ArrayStorage.java",
    "status": "modified",
    "additions": 43,
    "deletions": 28,
    "changes": 71,
    "blob_url": "https://github.com/v-okhrimenko/elementary-java/blob/d3f7a2b18928c44fc78ca201a496ece9cc3af027/src/main/java/ArrayStorage.java",
    "raw_url": "https://github.com/v-okhrimenko/elementary-java/raw/d3f7a2b18928c44fc78ca201a496ece9cc3af027/src/main/java/ArrayStorage.java",
    "contents_url": "https://api.github.com/repos/v-okhrimenko/elementary-java/contents/src/main/java/ArrayStorage.java?ref=d3f7a2b18928c44fc78ca201a496ece9cc3af027",
    "patch": "@@ -3,58 +3,73 @@\n /**\n  * Array based storage for Employees\n  */\n-public class ArrayStorage {\n-    private int counter = 0;\n-    Employee[] storage = new Employee[10000];\n+class ArrayStorage {\n+    private int counter;\n+    private final Employee[] storage = new Employee[10000];\n \n-    void clear() {\n-        Arrays.fill(storage, null);\n-        counter = 0;\n+\n+    public void clear() {\n+        if (size() != 0) {\n+            Arrays.fill(storage, null);\n+            counter = 0;\n+        }\n     }\n \n-    void save(Employee employee) {\n-        if (size() == storage.length) {\n-            System.out.println(\"Unable to save. The array is full\");\n+    public void save(Employee employee) {\n+        if ((employee == null) || (employee.getUuid() == null) || employee.getUuid().isEmpty()) {\n+            System.out.println(\"Unable to save NULL\");\n             return;\n         }\n-        if (employee == null) {\n-            System.out.println(\"Unable to save NULL\");\n+        if (findUuidIndex(employee.getUuid()) <= storage.length) {\n+            System.out.println(\"Unable to save. This UUID \" + employee.getUuid() + \" is already in use\");\n+            return;\n+        }\n+        if (size() == storage.length) {\n+            System.out.println(\"Unable to save. The array is full\");\n             return;\n         }\n         counter++;\n         storage[size() - 1] = employee;\n+        System.out.println(\"Employee \" + employee.getUuid() + \" saved\");\n     }\n \n-    Employee get(String uuid) {\n-        for (int s = 0; s < size(); s++) {\n-            if (storage[s].uuid.equals(uuid)) {\n-                return storage[s];\n-            }\n+    public Employee get(String uuid) {\n+        int i = findUuidIndex(uuid);\n+        if (i <= storage.length - 1) {\n+            return storage[i];\n         }\n-        System.out.println(\"Uuid \" + uuid + \" is not found\");\n         return null;\n     }\n \n-    void delete(String uuid) {\n-        for (int i = 0; i < size(); i++) {\n-            if (storage[i].uuid.equals(uuid)) {\n-                storage[i] = storage[size() - 1];\n-                storage[size() - 1] = null;\n-                counter--;\n-                return;\n-            }\n+    public void delete(String uuid) {\n+        int i = findUuidIndex(uuid);\n+        if (i <= storage.length - 1) {\n+            storage[i] = storage[size() - 1];\n+            storage[size() - 1] = null;\n+            counter--;\n+            System.out.println(\"Employee with UUID \" + uuid + \" deleted\");\n+            return;\n         }\n-        System.out.println(\"Cant delete, uuid \" + uuid + \" not found\");\n+        System.out.println(\"Cant delete, UUID \" + uuid + \" not found\");\n     }\n \n     /**\n      * @return array, contains only Employees in storage (without null)\n      */\n-    Employee[] getAll() {\n+    public Employee[] getAll() {\n         return Arrays.copyOfRange(storage, 0, size());\n     }\n \n-    int size() {\n+    public int size() {\n         return counter;\n     }\n+\n+    public int findUuidIndex(String uid) {\n+        for (int i = 0; i < size(); i++) {\n+            if (storage[i].getUuid().equals(uid)) {\n+                return i;\n+            }\n+        }\n+        return storage.length + 1;\n+    }\n }"
  },
  {
    "sha": "03a06b536bb6bf700c685b5e3075c9f378c5b4d5",
    "filename": "src/main/java/Employee.java",
    "status": "modified",
    "additions": 16,
    "deletions": 1,
    "changes": 17,
    "blob_url": "https://github.com/v-okhrimenko/elementary-java/blob/d3f7a2b18928c44fc78ca201a496ece9cc3af027/src/main/java/Employee.java",
    "raw_url": "https://github.com/v-okhrimenko/elementary-java/raw/d3f7a2b18928c44fc78ca201a496ece9cc3af027/src/main/java/Employee.java",
    "contents_url": "https://api.github.com/repos/v-okhrimenko/elementary-java/contents/src/main/java/Employee.java?ref=d3f7a2b18928c44fc78ca201a496ece9cc3af027",
    "patch": "@@ -4,10 +4,25 @@\n public class Employee {\n \n     // Unique identifier\n-    String uuid;\n+    private String uuid;\n+\n+    public Employee() {\n+    }\n+\n+    public Employee(String uuid) {\n+        this.uuid = uuid;\n+    }\n \n     @Override\n     public String toString() {\n         return uuid;\n     }\n+\n+    public String getUuid() {\n+        return uuid;\n+    }\n+\n+    public void setUuid(String uuid) {\n+        this.uuid = uuid;\n+    }\n }"
  },
  {
    "sha": "79cd217bd0bda67a3c46ba48c559efd9d27acaaf",
    "filename": "src/main/java/MainArray.java",
    "status": "added",
    "additions": 94,
    "deletions": 0,
    "changes": 94,
    "blob_url": "https://github.com/v-okhrimenko/elementary-java/blob/d3f7a2b18928c44fc78ca201a496ece9cc3af027/src/main/java/MainArray.java",
    "raw_url": "https://github.com/v-okhrimenko/elementary-java/raw/d3f7a2b18928c44fc78ca201a496ece9cc3af027/src/main/java/MainArray.java",
    "contents_url": "https://api.github.com/repos/v-okhrimenko/elementary-java/contents/src/main/java/MainArray.java?ref=d3f7a2b18928c44fc78ca201a496ece9cc3af027",
    "patch": "@@ -0,0 +1,94 @@\n+import java.util.Scanner;\n+\n+public class MainArray {\n+    private static final ArrayStorage ARRAY_STORAGE = new ArrayStorage();\n+    private static String command;\n+    private static String uuid;\n+\n+\n+    public static void main(String[] args) {\n+        Scanner scanner = new Scanner(System.in);\n+        String scTxt;\n+        boolean noExit = true;\n+\n+        while (noExit) {\n+            System.out.print(\"\\nВведите одну из команд - (list | save uuid | delete uuid | get uuid | size | clear | exit): \");\n+            scTxt = scanner.nextLine();\n+            scannerCheck(scTxt);\n+\n+            switch (command) {\n+                case \"list\":\n+                    printAll();\n+                    break;\n+                case \"save\":\n+                    ARRAY_STORAGE.save(new Employee(uuid));\n+                    printAll();\n+                    break;\n+                case \"delete\":\n+                    ARRAY_STORAGE.delete(uuid);\n+                    printAll();\n+                    break;\n+                case \"get\":\n+                    if (ARRAY_STORAGE.findUuidIndex(uuid) > ARRAY_STORAGE.size() - 1) {\n+                        System.out.println(\"UUID \" + uuid + \" is not found\");\n+                    } else {\n+                        System.out.println(\"Get employee: \" + ARRAY_STORAGE.get(uuid));\n+                    }\n+                    break;\n+                case \"size\":\n+                    System.out.println(\"Storage size: \" + ARRAY_STORAGE.size());\n+                    break;\n+                case \"clear\":\n+                    ARRAY_STORAGE.clear();\n+                    System.out.println(\"Storage cleared\");\n+                    printAll();\n+                    break;\n+                case \"exit\":\n+                    noExit = false;\n+                    break;\n+                case \"no uuid\":\n+                    System.out.println(\"You need add UUID\");\n+                    break;\n+                default:\n+                    System.out.println(\"Enter correct command\");\n+            }\n+        }\n+    }\n+\n+    private static void printAll() {\n+        System.out.println(\"\\nList of employers:\");\n+        if (ARRAY_STORAGE.size() == 0) {\n+            System.out.println(\"No employers in storage\");\n+        } else {\n+            for (Employee employee : ARRAY_STORAGE.getAll()) {\n+                System.out.println(employee);\n+            }\n+        }\n+    }\n+\n+    private static void scannerCheck(String sc) {\n+        String[] temp = sc.split(\" \");\n+        String x = temp[0];\n+        switch (x) {\n+            case \"list\":\n+            case \"exit\":\n+            case \"size\":\n+            case \"clear\":\n+                command = (temp.length > 1) ? \"err\" : x;\n+                break;\n+            case \"save\":\n+            case \"delete\":\n+            case \"get\":\n+                if (temp.length == 2) {\n+                    command = temp[0];\n+                    uuid = temp[1];\n+                } else {\n+                    command = (temp.length == 1) ? \"no uuid\" : \"err\";\n+                }\n+                break;\n+            default:\n+                command = \"err\";\n+                break;\n+        }\n+    }\n+}"
  },
  {
    "sha": "023631bb4767046268ae381b3ea70ecb21a25812",
    "filename": "src/main/java/MainTestArrayStorage.java",
    "status": "modified",
    "additions": 9,
    "deletions": 8,
    "changes": 17,
    "blob_url": "https://github.com/v-okhrimenko/elementary-java/blob/d3f7a2b18928c44fc78ca201a496ece9cc3af027/src/main/java/MainTestArrayStorage.java",
    "raw_url": "https://github.com/v-okhrimenko/elementary-java/raw/d3f7a2b18928c44fc78ca201a496ece9cc3af027/src/main/java/MainTestArrayStorage.java",
    "contents_url": "https://api.github.com/repos/v-okhrimenko/elementary-java/contents/src/main/java/MainTestArrayStorage.java?ref=d3f7a2b18928c44fc78ca201a496ece9cc3af027",
    "patch": "@@ -5,30 +5,31 @@\n     static final ArrayStorage ARRAY_STORAGE = new ArrayStorage();\n \n     public static void main(String[] args) {\n+\n         Employee employee1 = new Employee();\n-        employee1.uuid = \"uuid1\";\n+        employee1.setUuid(\"uuid1\");\n         Employee employee2 = new Employee();\n-        employee2.uuid = \"uuid2\";\n+        employee2.setUuid(\"uuid2\");\n         Employee employee3 = new Employee();\n-        employee3.uuid = \"uuid3\";\n+        employee3.setUuid(\"uuid3\");\n         Employee employee4 = new Employee();\n-        employee4.uuid = \"uuid4\";\n+        employee4.setUuid(\"uuid1\");\n         Employee employee5 = new Employee();\n-        employee5.uuid = \"uuid5\";\n+        employee5.setUuid(\"uuid1\");\n \n         ARRAY_STORAGE.save(employee1);\n         ARRAY_STORAGE.save(employee2);\n         ARRAY_STORAGE.save(employee3);\n         ARRAY_STORAGE.save(employee4);\n         ARRAY_STORAGE.save(employee5);\n \n-        System.out.println(\"Get employee1: \" + ARRAY_STORAGE.get(employee1.uuid));\n+        System.out.println(\"Get employee1: \" + ARRAY_STORAGE.get(employee1.getUuid()));\n         System.out.println(\"Size: \" + ARRAY_STORAGE.size());\n \n         System.out.println(\"Get dummy: \" + ARRAY_STORAGE.get(\"dummy\"));\n \n         printAll();\n-        ARRAY_STORAGE.delete(employee1.uuid);\n+        ARRAY_STORAGE.delete(employee1.getUuid());\n         printAll();\n         ARRAY_STORAGE.clear();\n         printAll();\n@@ -42,4 +43,4 @@ static void printAll() {\n             System.out.println(employee);\n         }\n     }\n-}\n+}\n\\ No newline at end of file"
  }
]
