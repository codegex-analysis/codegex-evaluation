[
  {
    "sha": "279b94c6ed637c744a046e011233c66094bb4906",
    "filename": "pom.xml",
    "status": "modified",
    "additions": 6,
    "deletions": 1,
    "changes": 7,
    "blob_url": "https://github.com/highlandervova/demo/blob/ca41ebc77d27904465ca9690d096ed409627293f/pom.xml",
    "raw_url": "https://github.com/highlandervova/demo/raw/ca41ebc77d27904465ca9690d096ed409627293f/pom.xml",
    "contents_url": "https://api.github.com/repos/highlandervova/demo/contents/pom.xml?ref=ca41ebc77d27904465ca9690d096ed409627293f",
    "patch": "@@ -48,9 +48,14 @@\n         </dependency>\n         <dependency>\n             <groupId>org.springframework</groupId>\n-            <artifactId>spring-context</artifactId>\n+            <artifactId>spring-webmvc</artifactId>\n             <version>4.3.6.RELEASE</version>\n         </dependency>\n+        <dependency>\n+            <groupId>javax.servlet</groupId>\n+            <artifactId>jstl</artifactId>\n+            <version>1.2</version>\n+        </dependency>\n     </dependencies>\n \n     <build>"
  },
  {
    "sha": "6ed8c1b1031cac4d4bf06b06589ae905eaf8a037",
    "filename": "src/main/java/controller/MainController.java",
    "status": "added",
    "additions": 44,
    "deletions": 0,
    "changes": 44,
    "blob_url": "https://github.com/highlandervova/demo/blob/ca41ebc77d27904465ca9690d096ed409627293f/src/main/java/controller/MainController.java",
    "raw_url": "https://github.com/highlandervova/demo/raw/ca41ebc77d27904465ca9690d096ed409627293f/src/main/java/controller/MainController.java",
    "contents_url": "https://api.github.com/repos/highlandervova/demo/contents/src/main/java/controller/MainController.java?ref=ca41ebc77d27904465ca9690d096ed409627293f",
    "patch": "@@ -0,0 +1,44 @@\n+package controller;\n+\n+import dao.CarDao;\n+import data.Car;\n+import enums.RedirectPath;\n+import enums.SessionAttribute;\n+import enums.Title;\n+import org.springframework.beans.factory.annotation.Autowired;\n+import org.springframework.beans.factory.annotation.Qualifier;\n+import org.springframework.stereotype.Controller;\n+import org.springframework.web.bind.annotation.RequestMapping;\n+import org.springframework.web.bind.annotation.RequestMethod;\n+import org.springframework.web.servlet.ModelAndView;\n+import service.CarService;\n+\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+import java.io.IOException;\n+import java.io.PrintWriter;\n+import java.util.ArrayList;\n+import java.util.Collection;\n+\n+@Controller\n+@RequestMapping(\"/main\")\n+public class MainController {\n+\n+    @Autowired\n+    private CarService carService;\n+\n+    @RequestMapping(method = RequestMethod.GET)\n+    public ModelAndView main(HttpServletRequest req, HttpServletResponse resp) throws IOException {\n+        if (req.getSession().getAttribute(SessionAttribute.AUTHENTICATED.getValue()) != null) {\n+            ModelAndView out = new ModelAndView(\"main\");\n+            String title = Title.MAIN_PAGE.getValue();\n+            out.addObject(\"title\", title);\n+            Collection<Car> cars = carService.getAllCars();\n+            out.addObject(\"cars\", cars);\n+            return out;\n+        } else {\n+            resp.sendRedirect(RedirectPath.AUTH_PAGE.getValue());\n+            return null;\n+        }\n+    }\n+}"
  },
  {
    "sha": "dd312e5df2aec8a315b67beebed579b44396a141",
    "filename": "src/main/java/dao/CarOptionDao.java",
    "status": "added",
    "additions": 7,
    "deletions": 0,
    "changes": 7,
    "blob_url": "https://github.com/highlandervova/demo/blob/ca41ebc77d27904465ca9690d096ed409627293f/src/main/java/dao/CarOptionDao.java",
    "raw_url": "https://github.com/highlandervova/demo/raw/ca41ebc77d27904465ca9690d096ed409627293f/src/main/java/dao/CarOptionDao.java",
    "contents_url": "https://api.github.com/repos/highlandervova/demo/contents/src/main/java/dao/CarOptionDao.java?ref=ca41ebc77d27904465ca9690d096ed409627293f",
    "patch": "@@ -0,0 +1,7 @@\n+package dao;\n+\n+import java.util.Collection;\n+\n+public interface CarOptionDao {\n+    Collection<String> getByCarId(String carId);\n+}"
  },
  {
    "sha": "ea264be45c266540f94fd6b32d558172a5652870",
    "filename": "src/main/java/dao/CarOptionDaoImpl.java",
    "status": "renamed",
    "additions": 3,
    "deletions": 2,
    "changes": 5,
    "blob_url": "https://github.com/highlandervova/demo/blob/ca41ebc77d27904465ca9690d096ed409627293f/src/main/java/dao/CarOptionDaoImpl.java",
    "raw_url": "https://github.com/highlandervova/demo/raw/ca41ebc77d27904465ca9690d096ed409627293f/src/main/java/dao/CarOptionDaoImpl.java",
    "contents_url": "https://api.github.com/repos/highlandervova/demo/contents/src/main/java/dao/CarOptionDaoImpl.java?ref=ca41ebc77d27904465ca9690d096ed409627293f",
    "patch": "@@ -1,14 +1,15 @@\n package dao;\n \n+import org.springframework.stereotype.Component;\n+\n import java.sql.Connection;\n import java.sql.ResultSet;\n import java.sql.Statement;\n import java.util.ArrayList;\n import java.util.Collection;\n import java.util.Collections;\n \n-public class CarOptionDAO extends PostgreSqlDao {\n-    //todo: 27 add interface and hibernate support\n+public class CarOptionDaoImpl extends PostgreSqlDao implements CarOptionDao {\n     public Collection<String> getByCarId(String carId) {\n         try (Connection c = getConnection(); Statement st = c.createStatement();) {\n             ResultSet rs = st.executeQuery(\"SELECT option_id FROM public.car_option WHERE car_id='\" + carId + \"'\");",
    "previous_filename": "src/main/java/dao/CarOptionDAO.java"
  },
  {
    "sha": "9da536fa693fec50cf98884cc5b8e6a0c34aca75",
    "filename": "src/main/java/dao/HibernateCarDao.java",
    "status": "modified",
    "additions": 2,
    "deletions": 0,
    "changes": 2,
    "blob_url": "https://github.com/highlandervova/demo/blob/ca41ebc77d27904465ca9690d096ed409627293f/src/main/java/dao/HibernateCarDao.java",
    "raw_url": "https://github.com/highlandervova/demo/raw/ca41ebc77d27904465ca9690d096ed409627293f/src/main/java/dao/HibernateCarDao.java",
    "contents_url": "https://api.github.com/repos/highlandervova/demo/contents/src/main/java/dao/HibernateCarDao.java?ref=ca41ebc77d27904465ca9690d096ed409627293f",
    "patch": "@@ -3,9 +3,11 @@\n import data.Car;\n import hibernate.HibernateUtil;\n import org.hibernate.Session;\n+import org.springframework.stereotype.Component;\n \n import java.util.Collection;\n \n+@Component\n public class HibernateCarDao implements CarDao{\n     @Override\n     public Collection<Car> getAllCars() {"
  },
  {
    "sha": "ba37fbbf43a351db0a437271d2a41f3d18ae9d9e",
    "filename": "src/main/java/dao/HibernateCarOptionDao.java",
    "status": "added",
    "additions": 24,
    "deletions": 0,
    "changes": 24,
    "blob_url": "https://github.com/highlandervova/demo/blob/ca41ebc77d27904465ca9690d096ed409627293f/src/main/java/dao/HibernateCarOptionDao.java",
    "raw_url": "https://github.com/highlandervova/demo/raw/ca41ebc77d27904465ca9690d096ed409627293f/src/main/java/dao/HibernateCarOptionDao.java",
    "contents_url": "https://api.github.com/repos/highlandervova/demo/contents/src/main/java/dao/HibernateCarOptionDao.java?ref=ca41ebc77d27904465ca9690d096ed409627293f",
    "patch": "@@ -0,0 +1,24 @@\n+package dao;\n+\n+import data.CarOption;\n+import hibernate.HibernateUtil;\n+import org.hibernate.Session;\n+import org.springframework.stereotype.Component;\n+\n+import java.util.ArrayList;\n+import java.util.Collection;\n+\n+@Component\n+public class HibernateCarOptionDao implements CarOptionDao{\n+    @Override\n+    public Collection<String> getByCarId(String carId) {\n+        Session s = HibernateUtil.getSession();\n+        Collection<CarOption> carOptions = s.createQuery(\"FROM CarOption WHERE carId='\" + carId + \"'\").list();\n+        s.close();\n+        Collection<String> out = new ArrayList<>();\n+        for (CarOption co : carOptions) {\n+            out.add(co.getOptionId());\n+        }\n+        return out;\n+    }\n+}"
  },
  {
    "sha": "8128482095c2cce6824bad5855b4508ee3710fcb",
    "filename": "src/main/java/dao/HibernateUserDao.java",
    "status": "modified",
    "additions": 2,
    "deletions": 0,
    "changes": 2,
    "blob_url": "https://github.com/highlandervova/demo/blob/ca41ebc77d27904465ca9690d096ed409627293f/src/main/java/dao/HibernateUserDao.java",
    "raw_url": "https://github.com/highlandervova/demo/raw/ca41ebc77d27904465ca9690d096ed409627293f/src/main/java/dao/HibernateUserDao.java",
    "contents_url": "https://api.github.com/repos/highlandervova/demo/contents/src/main/java/dao/HibernateUserDao.java?ref=ca41ebc77d27904465ca9690d096ed409627293f",
    "patch": "@@ -3,7 +3,9 @@\n import data.User;\n import hibernate.HibernateUtil;\n import org.hibernate.Session;\n+import org.springframework.stereotype.Component;\n \n+@Component\n public class HibernateUserDao implements UserDao {\n \n     @Override"
  },
  {
    "sha": "3233a27913ec7134ed656e9ff9145d7b166d2e78",
    "filename": "src/main/java/data/CarOption.java",
    "status": "modified",
    "additions": 24,
    "deletions": 4,
    "changes": 28,
    "blob_url": "https://github.com/highlandervova/demo/blob/ca41ebc77d27904465ca9690d096ed409627293f/src/main/java/data/CarOption.java",
    "raw_url": "https://github.com/highlandervova/demo/raw/ca41ebc77d27904465ca9690d096ed409627293f/src/main/java/data/CarOption.java",
    "contents_url": "https://api.github.com/repos/highlandervova/demo/contents/src/main/java/data/CarOption.java?ref=ca41ebc77d27904465ca9690d096ed409627293f",
    "patch": "@@ -1,19 +1,38 @@\n package data;\n \n+import javax.persistence.Column;\n+import javax.persistence.Entity;\n+import javax.persistence.Id;\n+import javax.persistence.Table;\n import java.util.Objects;\n \n+@Entity\n+@Table(name = \"car_option\")\n public class CarOption {\n+    @Id\n+    private String id;\n+    @Column(name = \"car_id\")\n     private String carId;\n+    @Column(name = \"option_id\")\n     private String optionId;\n \n     public CarOption() {\n     }\n \n-    public CarOption(String carId, String optionId) {\n+    public CarOption(String id, String carId, String optionId) {\n+        this.id = id;\n         this.carId = carId;\n         this.optionId = optionId;\n     }\n \n+    public String getId() {\n+        return id;\n+    }\n+\n+    public void setId(String id) {\n+        this.id = id;\n+    }\n+\n     public String getCarId() {\n         return carId;\n     }\n@@ -33,7 +52,8 @@ public void setOptionId(String optionId) {\n     @Override\n     public String toString() {\n         return \"CarOption{\" +\n-                \"carId='\" + carId + '\\'' +\n+                \"id='\" + id + '\\'' +\n+                \", carId='\" + carId + '\\'' +\n                 \", optionId='\" + optionId + '\\'' +\n                 '}';\n     }\n@@ -43,11 +63,11 @@ public boolean equals(Object o) {\n         if (this == o) return true;\n         if (o == null || getClass() != o.getClass()) return false;\n         CarOption carOption = (CarOption) o;\n-        return Objects.equals(carId, carOption.carId) && Objects.equals(optionId, carOption.optionId);\n+        return Objects.equals(id, carOption.id) && Objects.equals(carId, carOption.carId) && Objects.equals(optionId, carOption.optionId);\n     }\n \n     @Override\n     public int hashCode() {\n-        return Objects.hash(carId, optionId);\n+        return Objects.hash(id, carId, optionId);\n     }\n }"
  },
  {
    "sha": "b2db0ea36a55ed590bf35a903d53985ab75e0f8a",
    "filename": "src/main/java/service/CarService.java",
    "status": "modified",
    "additions": 7,
    "deletions": 3,
    "changes": 10,
    "blob_url": "https://github.com/highlandervova/demo/blob/ca41ebc77d27904465ca9690d096ed409627293f/src/main/java/service/CarService.java",
    "raw_url": "https://github.com/highlandervova/demo/raw/ca41ebc77d27904465ca9690d096ed409627293f/src/main/java/service/CarService.java",
    "contents_url": "https://api.github.com/repos/highlandervova/demo/contents/src/main/java/service/CarService.java?ref=ca41ebc77d27904465ca9690d096ed409627293f",
    "patch": "@@ -4,15 +4,19 @@\n import dao.CarDao;\n import dao.HibernateCarDao;\n import data.Car;\n+import org.springframework.beans.factory.annotation.Autowired;\n+import org.springframework.stereotype.Service;\n \n import java.util.Collection;\n import java.util.UUID;\n \n import static util.StringUtil.isNotEmpty;\n \n+@Service\n public class CarService {\n-    CarDao carDAO = new HibernateCarDao();\n-    OptionService optionService = new OptionService();\n+    @Autowired\n+    private CarDao carDAO;\n+    private OptionService optionService = new OptionService();\n \n     public boolean checkAddCarParameters(String name, String desc, String picture, Integer type, Integer price) {\n         return isNotEmpty(name) && isNotEmpty(desc) && isNotEmpty(picture) &&\n@@ -26,7 +30,7 @@ public Car addNewCar(String name, String desc, Integer type, Integer price, Stri\n     }\n \n     public Collection<Car> getAllCars() {\n-        Collection<Car> out = CarCache.getAllCars();\n+        Collection<Car> out = carDAO.getAllCars();\n         for (Car c : out) {\n             c.setOptions(optionService.getOptionsByCarId(c.getId()));\n         }"
  },
  {
    "sha": "2c5fcd6c32259f1026deb5b84330a74a007b251d",
    "filename": "src/main/java/service/HtmlService.java",
    "status": "modified",
    "additions": 2,
    "deletions": 0,
    "changes": 2,
    "blob_url": "https://github.com/highlandervova/demo/blob/ca41ebc77d27904465ca9690d096ed409627293f/src/main/java/service/HtmlService.java",
    "raw_url": "https://github.com/highlandervova/demo/raw/ca41ebc77d27904465ca9690d096ed409627293f/src/main/java/service/HtmlService.java",
    "contents_url": "https://api.github.com/repos/highlandervova/demo/contents/src/main/java/service/HtmlService.java?ref=ca41ebc77d27904465ca9690d096ed409627293f",
    "patch": "@@ -4,9 +4,11 @@\n import data.Option;\n import enums.CarType;\n import enums.RedirectPath;\n+import org.springframework.stereotype.Service;\n \n import java.util.Collection;\n \n+@Service\n public class HtmlService {\n \n     public String getMainPage(String title, Collection<Car> cars) {"
  },
  {
    "sha": "a0e8485c3f11b24050d29e293d878c4c30227019",
    "filename": "src/main/java/service/OptionService.java",
    "status": "modified",
    "additions": 6,
    "deletions": 2,
    "changes": 8,
    "blob_url": "https://github.com/highlandervova/demo/blob/ca41ebc77d27904465ca9690d096ed409627293f/src/main/java/service/OptionService.java",
    "raw_url": "https://github.com/highlandervova/demo/raw/ca41ebc77d27904465ca9690d096ed409627293f/src/main/java/service/OptionService.java",
    "contents_url": "https://api.github.com/repos/highlandervova/demo/contents/src/main/java/service/OptionService.java?ref=ca41ebc77d27904465ca9690d096ed409627293f",
    "patch": "@@ -1,15 +1,19 @@\n package service;\n \n-import dao.CarOptionDAO;\n+import dao.CarOptionDao;\n import dao.OptionDAO;\n import data.Option;\n+import org.springframework.beans.factory.annotation.Autowired;\n+import org.springframework.stereotype.Service;\n \n import java.util.ArrayList;\n import java.util.Collection;\n \n+@Service\n public class OptionService {\n     private OptionDAO optionDAO = new OptionDAO();\n-    private CarOptionDAO carOptionDAO = new CarOptionDAO();\n+    @Autowired\n+    private CarOptionDao carOptionDAO;\n \n     public Collection<Option> getOptionsByCarId(String carId) {\n         Collection<String> optionIds = carOptionDAO.getByCarId(carId);"
  },
  {
    "sha": "14dc15cedd9eb212f7c9f65f3dfc0a8c5727ad89",
    "filename": "src/main/java/service/UserService.java",
    "status": "modified",
    "additions": 2,
    "deletions": 0,
    "changes": 2,
    "blob_url": "https://github.com/highlandervova/demo/blob/ca41ebc77d27904465ca9690d096ed409627293f/src/main/java/service/UserService.java",
    "raw_url": "https://github.com/highlandervova/demo/raw/ca41ebc77d27904465ca9690d096ed409627293f/src/main/java/service/UserService.java",
    "contents_url": "https://api.github.com/repos/highlandervova/demo/contents/src/main/java/service/UserService.java?ref=ca41ebc77d27904465ca9690d096ed409627293f",
    "patch": "@@ -3,9 +3,11 @@\n import dao.HibernateUserDao;\n import dao.UserDao;\n import data.User;\n+import org.springframework.stereotype.Service;\n \n import java.util.Random;\n \n+@Service\n public class UserService {\n     private UserDao uDao = new HibernateUserDao();\n "
  },
  {
    "sha": "66048f7f82495f5ec3c4e353afc15aa9057282d2",
    "filename": "src/main/java/service/ValidationService.java",
    "status": "modified",
    "additions": 2,
    "deletions": 0,
    "changes": 2,
    "blob_url": "https://github.com/highlandervova/demo/blob/ca41ebc77d27904465ca9690d096ed409627293f/src/main/java/service/ValidationService.java",
    "raw_url": "https://github.com/highlandervova/demo/raw/ca41ebc77d27904465ca9690d096ed409627293f/src/main/java/service/ValidationService.java",
    "contents_url": "https://api.github.com/repos/highlandervova/demo/contents/src/main/java/service/ValidationService.java?ref=ca41ebc77d27904465ca9690d096ed409627293f",
    "patch": "@@ -2,7 +2,9 @@\n \n import dao.HibernateUserDao;\n import dao.UserDao;\n+import org.springframework.stereotype.Service;\n \n+@Service\n public class ValidationService {\n     private UserDao uDao = new HibernateUserDao();\n "
  },
  {
    "sha": "227cd6e8c8c54d8fffabb3773274249cc6dc30b6",
    "filename": "src/main/java/servlet/AuthServlet.java",
    "status": "modified",
    "additions": 0,
    "deletions": 1,
    "changes": 1,
    "blob_url": "https://github.com/highlandervova/demo/blob/ca41ebc77d27904465ca9690d096ed409627293f/src/main/java/servlet/AuthServlet.java",
    "raw_url": "https://github.com/highlandervova/demo/raw/ca41ebc77d27904465ca9690d096ed409627293f/src/main/java/servlet/AuthServlet.java",
    "contents_url": "https://api.github.com/repos/highlandervova/demo/contents/src/main/java/servlet/AuthServlet.java?ref=ca41ebc77d27904465ca9690d096ed409627293f",
    "patch": "@@ -4,7 +4,6 @@\n import enums.*;\n import service.HtmlService;\n import service.UserService;\n-import spring.SpringContextHolder;\n \n import javax.servlet.ServletException;\n import javax.servlet.http.HttpServlet;"
  },
  {
    "sha": "7070b3fdc4b5c5d096df6019b1f45c505250d286",
    "filename": "src/main/java/servlet/OptionServlet.java",
    "status": "modified",
    "additions": 2,
    "deletions": 1,
    "changes": 3,
    "blob_url": "https://github.com/highlandervova/demo/blob/ca41ebc77d27904465ca9690d096ed409627293f/src/main/java/servlet/OptionServlet.java",
    "raw_url": "https://github.com/highlandervova/demo/raw/ca41ebc77d27904465ca9690d096ed409627293f/src/main/java/servlet/OptionServlet.java",
    "contents_url": "https://api.github.com/repos/highlandervova/demo/contents/src/main/java/servlet/OptionServlet.java?ref=ca41ebc77d27904465ca9690d096ed409627293f",
    "patch": "@@ -8,6 +8,7 @@\n import service.CarService;\n import service.HtmlService;\n import service.OptionService;\n+import spring.SpringContextHolder;\n \n import javax.servlet.ServletException;\n import javax.servlet.http.HttpServlet;\n@@ -22,7 +23,7 @@\n public class OptionServlet extends HttpServlet {\n     private HtmlService   htmlService   = (HtmlService) getBean(SpringBeanName.HTML_SERVICE.getName());\n     private OptionService optionService = new OptionService();\n-    private CarService    carService    = new CarService();\n+    private CarService    carService    = (CarService) SpringContextHolder.getBean(\"carService\");\n \n     @Override\n     protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {"
  },
  {
    "sha": "b25845307e2bcec4b834c57f4c69a6a66a5c74ca",
    "filename": "src/main/resources/hibernate.cfg.xml",
    "status": "modified",
    "additions": 1,
    "deletions": 0,
    "changes": 1,
    "blob_url": "https://github.com/highlandervova/demo/blob/ca41ebc77d27904465ca9690d096ed409627293f/src/main/resources/hibernate.cfg.xml",
    "raw_url": "https://github.com/highlandervova/demo/raw/ca41ebc77d27904465ca9690d096ed409627293f/src/main/resources/hibernate.cfg.xml",
    "contents_url": "https://api.github.com/repos/highlandervova/demo/contents/src/main/resources/hibernate.cfg.xml?ref=ca41ebc77d27904465ca9690d096ed409627293f",
    "patch": "@@ -12,5 +12,6 @@\n         <property name=\"hibernate.dialect\">org.hibernate.dialect.PostgreSQL9Dialect</property>\n         <mapping class=\"data.User\"/>\n         <mapping class=\"data.Car\"/>\n+        <mapping class=\"data.CarOption\"/>\n     </session-factory>\n </hibernate-configuration>\n\\ No newline at end of file"
  },
  {
    "sha": "e5e90f27d04cc8cb69ba8aa8e026688610390117",
    "filename": "src/main/webapp/WEB-INF/dispatcher-servlet.xml",
    "status": "added",
    "additions": 19,
    "deletions": 0,
    "changes": 19,
    "blob_url": "https://github.com/highlandervova/demo/blob/ca41ebc77d27904465ca9690d096ed409627293f/src/main/webapp/WEB-INF/dispatcher-servlet.xml",
    "raw_url": "https://github.com/highlandervova/demo/raw/ca41ebc77d27904465ca9690d096ed409627293f/src/main/webapp/WEB-INF/dispatcher-servlet.xml",
    "contents_url": "https://api.github.com/repos/highlandervova/demo/contents/src/main/webapp/WEB-INF/dispatcher-servlet.xml?ref=ca41ebc77d27904465ca9690d096ed409627293f",
    "patch": "@@ -0,0 +1,19 @@\n+<beans xmlns = \"http://www.springframework.org/schema/beans\"\n+       xmlns:context = \"http://www.springframework.org/schema/context\"\n+       xmlns:xsi = \"http://www.w3.org/2001/XMLSchema-instance\"\n+       xsi:schemaLocation = \"http://www.springframework.org/schema/beans\n+   http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\n+   http://www.springframework.org/schema/context\n+   http://www.springframework.org/schema/context/spring-context-3.0.xsd\">\n+\n+    <context:component-scan base-package = \"controller\" />\n+    <context:component-scan base-package = \"dao\" />\n+    <context:component-scan base-package = \"cache\" />\n+    <context:component-scan base-package = \"service\" />\n+    <context:component-scan base-package = \"servlet\" />\n+\n+    <bean class = \"org.springframework.web.servlet.view.InternalResourceViewResolver\">\n+        <property name = \"prefix\" value = \"/WEB-INF/jsp/\" />\n+        <property name = \"suffix\" value = \".jsp\" />\n+    </bean>\n+</beans>\n\\ No newline at end of file"
  },
  {
    "sha": "570288cce61d56892483b3e7c447b6d32a95e33e",
    "filename": "src/main/webapp/WEB-INF/jsp/main.jsp",
    "status": "added",
    "additions": 50,
    "deletions": 0,
    "changes": 50,
    "blob_url": "https://github.com/highlandervova/demo/blob/ca41ebc77d27904465ca9690d096ed409627293f/src/main/webapp/WEB-INF/jsp/main.jsp",
    "raw_url": "https://github.com/highlandervova/demo/raw/ca41ebc77d27904465ca9690d096ed409627293f/src/main/webapp/WEB-INF/jsp/main.jsp",
    "contents_url": "https://api.github.com/repos/highlandervova/demo/contents/src/main/webapp/WEB-INF/jsp/main.jsp?ref=ca41ebc77d27904465ca9690d096ed409627293f",
    "patch": "@@ -0,0 +1,50 @@\n+<%@ page import=\"data.Car\" %>\n+<%@ page contentType=\"text/html; charset=UTF-8\" pageEncoding=\"UTF-8\" %>\n+<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %>\n+\n+<!DOCTYPE html>\n+<html>\n+    <head>\n+        <title>${title}</title>\n+    </head>\n+<body>\n+\n+<h1>Car Dealer Shop</h1>\n+<table><tr><th>NAME</th><th>TYPE</th><th>PRICE</th><th>DESCRIPTION</th><th>PICTURE</th></tr>\n+    <c:forEach items=\"cars\" var=\"c\">\n+        <tr>\n+            <td>${c.name}</td>\n+            <td>\n+                <c:if test=\"${c.type == 1}\">\n+                    SEDAN\n+                </c:if>\n+                <c:if test=\"${c.getType() == 2}\">\n+                    HATCHBACK\n+                </c:if>\n+                <c:if test=\"${c.getType() == 3}\">\n+                    CROSSOVER\n+                </c:if>\n+            </td>\n+            <td><h2>${c.getPrice()}</h2> <h4>USD</h4></td>\n+            <td>${c.getDescription()}</td>\n+            <td><a href='/demo_war_exploded/detail?id=${c.getId()}'><img style='width: 100px;' src='${c.getPicture()}' alt='No Picture'/></a></td>\n+            <td><h1>Options:</h1>\n+                <form action='/demo_war_exploded/option' method='GET'>\n+                    <input type='hidden' name='carId' value='${c.getId()}'/>\n+                    <input type='submit' value='Edit options'/>\n+                </form>\n+                <c:forEach var=\"o\" items=\"${c.getOptions()}\">\n+                    ${o.toString()}&nbsp;\n+                </c:forEach>\n+            </td>\n+        </tr>\n+    </c:forEach>\n+</table>\");\n+<form action='/demo_war_exploded/add' method='GET'>\n+    <input type='submit' value='Add New Car'/>\n+</form>\n+<form action='/demo_war_exploded/index.jsp' method='GET'>\n+    <input type='submit' value='To First Page'/>\n+</form>\n+</body>\n+</html>\n\\ No newline at end of file"
  },
  {
    "sha": "19f2d8dc9b52815e811de25de6910fb6095f6c55",
    "filename": "src/main/webapp/WEB-INF/web.xml",
    "status": "modified",
    "additions": 11,
    "deletions": 10,
    "changes": 21,
    "blob_url": "https://github.com/highlandervova/demo/blob/ca41ebc77d27904465ca9690d096ed409627293f/src/main/webapp/WEB-INF/web.xml",
    "raw_url": "https://github.com/highlandervova/demo/raw/ca41ebc77d27904465ca9690d096ed409627293f/src/main/webapp/WEB-INF/web.xml",
    "contents_url": "https://api.github.com/repos/highlandervova/demo/contents/src/main/webapp/WEB-INF/web.xml?ref=ca41ebc77d27904465ca9690d096ed409627293f",
    "patch": "@@ -6,7 +6,17 @@\n     <welcome-file-list>\n         <welcome-file>index.jsp</welcome-file>\n     </welcome-file-list>\n-    \n+\n+    <servlet>\n+        <servlet-name>dispatcher</servlet-name>\n+        <servlet-class>org.springframework.web.servlet.DispatcherServlet</servlet-class>\n+        <load-on-startup>1</load-on-startup>\n+    </servlet>\n+    <servlet-mapping>\n+        <servlet-name>dispatcher</servlet-name>\n+        <url-pattern>/main</url-pattern>\n+    </servlet-mapping>\n+\n     <servlet>\n         <servlet-name>helloServlet</servlet-name>\n         <servlet-class>servlet.HelloServlet</servlet-class>\n@@ -25,15 +35,6 @@\n         <url-pattern>/auth</url-pattern>\n     </servlet-mapping>\n \n-    <servlet>\n-        <servlet-name>mainServlet</servlet-name>\n-        <servlet-class>servlet.MainServlet</servlet-class>\n-    </servlet>\n-    <servlet-mapping>\n-        <servlet-name>mainServlet</servlet-name>\n-        <url-pattern>/main</url-pattern>\n-    </servlet-mapping>\n-\n     <servlet>\n         <servlet-name>regServlet</servlet-name>\n         <servlet-class>servlet.RegServlet</servlet-class>"
  }
]
