[
  {
    "sha": "48371805baea98bc3c663f0e8637ce925883fcdc",
    "filename": "build.gradle",
    "status": "modified",
    "additions": 1,
    "deletions": 0,
    "changes": 1,
    "blob_url": "https://github.com/Al-xandr1/spacetrans/blob/230dda626e63a6ea4e4f125b85174939fd986640/build.gradle",
    "raw_url": "https://github.com/Al-xandr1/spacetrans/raw/230dda626e63a6ea4e4f125b85174939fd986640/build.gradle",
    "contents_url": "https://api.github.com/repos/Al-xandr1/spacetrans/contents/build.gradle?ref=230dda626e63a6ea4e4f125b85174939fd986640",
    "patch": "@@ -32,6 +32,7 @@ dependencies {\n     implementation 'io.jmix.security:jmix-security-ui-starter'\n     implementation 'io.jmix.security:jmix-security-data-starter'\n     implementation 'io.jmix.localfs:jmix-localfs-starter'\n+    implementation 'com.opencsv:opencsv:4.1'\n \n     implementation 'org.springframework.boot:spring-boot-starter-web'\n "
  },
  {
    "sha": "c3049068683e011ad06fdda5fc2473dceca91239",
    "filename": "src/main/java/com/company/spacetrans/SpacetransApplication.java",
    "status": "modified",
    "additions": 4,
    "deletions": 6,
    "changes": 10,
    "blob_url": "https://github.com/Al-xandr1/spacetrans/blob/230dda626e63a6ea4e4f125b85174939fd986640/src/main/java/com/company/spacetrans/SpacetransApplication.java",
    "raw_url": "https://github.com/Al-xandr1/spacetrans/raw/230dda626e63a6ea4e4f125b85174939fd986640/src/main/java/com/company/spacetrans/SpacetransApplication.java",
    "contents_url": "https://api.github.com/repos/Al-xandr1/spacetrans/contents/src/main/java/com/company/spacetrans/SpacetransApplication.java?ref=230dda626e63a6ea4e4f125b85174939fd986640",
    "patch": "@@ -23,11 +23,9 @@ DataSource dataSource() {\n \t\treturn DataSourceBuilder.create().build();\n \t}\n \n-\t//todo  [HIGH] подключить PostgreSQL\n-\t//todo  [HIGH] стоит убрать создание зависимых сущностей без созданных родительских. Понять как\n-\t//todo  [HIGH] вынести UID и Version в суперкласс\n-\t//todo  [LOW] везде добавить Version\n-\t//todo  [LOW] исключить version из поиска в UI. Понять как\n+\t//todo  HIGH подключить PostgreSQL\n+\t//todo  HIGH стоит убрать создание зависимых сущностей без созданных родительских. Понять как\n+\t//todo  LOW исключить version из поиска в UI. Понять как\n \n-\t//todo  [BUG] Shift+f1 – пробрасывает на документацию, а там 404\n+\t//todo  BUG Shift+f1 – пробрасывает на документацию, а там 404\n }"
  },
  {
    "sha": "3d93f867c0e3b93468f069faea19b61d1ddac0d0",
    "filename": "src/main/java/com/company/spacetrans/entity/AbstractEntity.java",
    "status": "added",
    "additions": 41,
    "deletions": 0,
    "changes": 41,
    "blob_url": "https://github.com/Al-xandr1/spacetrans/blob/230dda626e63a6ea4e4f125b85174939fd986640/src/main/java/com/company/spacetrans/entity/AbstractEntity.java",
    "raw_url": "https://github.com/Al-xandr1/spacetrans/raw/230dda626e63a6ea4e4f125b85174939fd986640/src/main/java/com/company/spacetrans/entity/AbstractEntity.java",
    "contents_url": "https://api.github.com/repos/Al-xandr1/spacetrans/contents/src/main/java/com/company/spacetrans/entity/AbstractEntity.java?ref=230dda626e63a6ea4e4f125b85174939fd986640",
    "patch": "@@ -0,0 +1,41 @@\n+package com.company.spacetrans.entity;\n+\n+import io.jmix.core.entity.annotation.JmixGeneratedValue;\n+import io.jmix.core.metamodel.annotation.JmixEntity;\n+\n+import javax.persistence.Column;\n+import javax.persistence.Id;\n+import javax.persistence.MappedSuperclass;\n+import javax.persistence.Version;\n+import javax.validation.constraints.NotNull;\n+import java.util.UUID;\n+\n+@JmixEntity(name = \"st_AbstractEntity\")\n+@MappedSuperclass\n+public class AbstractEntity {\n+\n+    @JmixGeneratedValue\n+    @Column(name = \"ID\", nullable = false)\n+    @Id\n+    private UUID id;\n+\n+    @Column(name = \"VERSION\", nullable = false)\n+    @Version\n+    private Integer version;\n+\n+    public UUID getId() {\n+        return id;\n+    }\n+\n+    public void setId(UUID id) {\n+        this.id = id;\n+    }\n+\n+    public Integer getVersion() {\n+        return version;\n+    }\n+\n+    public void setVersion(Integer version) {\n+        this.version = version;\n+    }\n+}\n\\ No newline at end of file"
  },
  {
    "sha": "50d6fe85f253e37315a126cc65409466b000de19",
    "filename": "src/main/java/com/company/spacetrans/entity/AstronomicalBody.java",
    "status": "modified",
    "additions": 9,
    "deletions": 37,
    "changes": 46,
    "blob_url": "https://github.com/Al-xandr1/spacetrans/blob/230dda626e63a6ea4e4f125b85174939fd986640/src/main/java/com/company/spacetrans/entity/AstronomicalBody.java",
    "raw_url": "https://github.com/Al-xandr1/spacetrans/raw/230dda626e63a6ea4e4f125b85174939fd986640/src/main/java/com/company/spacetrans/entity/AstronomicalBody.java",
    "contents_url": "https://api.github.com/repos/Al-xandr1/spacetrans/contents/src/main/java/com/company/spacetrans/entity/AstronomicalBody.java?ref=230dda626e63a6ea4e4f125b85174939fd986640",
    "patch": "@@ -1,28 +1,16 @@\n package com.company.spacetrans.entity;\n \n import io.jmix.core.FileRef;\n-import io.jmix.core.entity.annotation.JmixGeneratedValue;\n import io.jmix.core.metamodel.annotation.InstanceName;\n import io.jmix.core.metamodel.annotation.JmixEntity;\n import io.jmix.core.metamodel.annotation.PropertyDatatype;\n \n import javax.persistence.Column;\n-import javax.persistence.Id;\n import javax.persistence.MappedSuperclass;\n-import javax.persistence.Version;\n-import java.util.UUID;\n \n @JmixEntity(name = \"st_AstronomicalBody\")\n @MappedSuperclass\n-public class AstronomicalBody {\n-    @JmixGeneratedValue\n-    @Column(name = \"ID\", nullable = false)\n-    @Id\n-    private UUID id;\n-\n-    @Column(name = \"VERSION\", nullable = false)\n-    @Version\n-    private Integer version;\n+public class AstronomicalBody extends AbstractEntity {\n \n     @InstanceName\n     @Column(name = \"NAME\", unique = true)\n@@ -35,20 +23,12 @@\n     @Column(name = \"PICTURE\")\n     private FileRef picture;\n \n-    public void setPicture(FileRef picture) {\n-        this.picture = picture;\n-    }\n-\n-    public FileRef getPicture() {\n-        return picture;\n-    }\n-\n-    public Integer getVersion() {\n-        return version;\n+    public String getName() {\n+        return name;\n     }\n \n-    public void setVersion(Integer version) {\n-        this.version = version;\n+    public void setName(String name) {\n+        this.name = name;\n     }\n \n     public Double getMass() {\n@@ -59,19 +39,11 @@ public void setMass(Double mass) {\n         this.mass = mass;\n     }\n \n-    public String getName() {\n-        return name;\n-    }\n-\n-    public void setName(String name) {\n-        this.name = name;\n-    }\n-\n-    public UUID getId() {\n-        return id;\n+    public FileRef getPicture() {\n+        return picture;\n     }\n \n-    public void setId(UUID id) {\n-        this.id = id;\n+    public void setPicture(FileRef picture) {\n+        this.picture = picture;\n     }\n }\n\\ No newline at end of file"
  },
  {
    "sha": "dee7b51dc09f93d05c233399ddbbf7c96de044e8",
    "filename": "src/main/java/com/company/spacetrans/entity/Atmosphere.java",
    "status": "modified",
    "additions": 5,
    "deletions": 28,
    "changes": 33,
    "blob_url": "https://github.com/Al-xandr1/spacetrans/blob/230dda626e63a6ea4e4f125b85174939fd986640/src/main/java/com/company/spacetrans/entity/Atmosphere.java",
    "raw_url": "https://github.com/Al-xandr1/spacetrans/raw/230dda626e63a6ea4e4f125b85174939fd986640/src/main/java/com/company/spacetrans/entity/Atmosphere.java",
    "contents_url": "https://api.github.com/repos/Al-xandr1/spacetrans/contents/src/main/java/com/company/spacetrans/entity/Atmosphere.java?ref=230dda626e63a6ea4e4f125b85174939fd986640",
    "patch": "@@ -1,29 +1,22 @@\n package com.company.spacetrans.entity;\n \n import io.jmix.core.DeletePolicy;\n-import io.jmix.core.entity.annotation.JmixGeneratedValue;\n import io.jmix.core.entity.annotation.OnDeleteInverse;\n import io.jmix.core.metamodel.annotation.Composition;\n import io.jmix.core.metamodel.annotation.InstanceName;\n import io.jmix.core.metamodel.annotation.JmixEntity;\n \n-import javax.persistence.*;\n+import javax.persistence.Column;\n+import javax.persistence.Entity;\n+import javax.persistence.OneToMany;\n+import javax.persistence.Table;\n import javax.validation.constraints.NotNull;\n import java.util.List;\n-import java.util.UUID;\n \n @JmixEntity\n @Table(name = \"ST_ATMOSPHERE\")\n @Entity(name = \"st_Atmosphere\")\n-public class Atmosphere {\n-    @JmixGeneratedValue\n-    @Column(name = \"ID\", nullable = false)\n-    @Id\n-    private UUID id;\n-\n-    @Column(name = \"VERSION\", nullable = false)\n-    @Version\n-    private Integer version;\n+public class Atmosphere extends AbstractEntity {\n \n     @NotNull\n     @InstanceName\n@@ -38,22 +31,6 @@\n     @OneToMany(mappedBy = \"atmosphere\")\n     private List<AtmosphericGas> gases;\n \n-    public UUID getId() {\n-        return id;\n-    }\n-\n-    public void setId(UUID id) {\n-        this.id = id;\n-    }\n-\n-    public Integer getVersion() {\n-        return version;\n-    }\n-\n-    public void setVersion(Integer version) {\n-        this.version = version;\n-    }\n-\n     public String getDescription() {\n         return description;\n     }"
  },
  {
    "sha": "5ba443b108d96382df43800f641d22bac18db79c",
    "filename": "src/main/java/com/company/spacetrans/entity/AtmosphericGas.java",
    "status": "modified",
    "additions": 10,
    "deletions": 41,
    "changes": 51,
    "blob_url": "https://github.com/Al-xandr1/spacetrans/blob/230dda626e63a6ea4e4f125b85174939fd986640/src/main/java/com/company/spacetrans/entity/AtmosphericGas.java",
    "raw_url": "https://github.com/Al-xandr1/spacetrans/raw/230dda626e63a6ea4e4f125b85174939fd986640/src/main/java/com/company/spacetrans/entity/AtmosphericGas.java",
    "contents_url": "https://api.github.com/repos/Al-xandr1/spacetrans/contents/src/main/java/com/company/spacetrans/entity/AtmosphericGas.java?ref=230dda626e63a6ea4e4f125b85174939fd986640",
    "patch": "@@ -1,76 +1,45 @@\n package com.company.spacetrans.entity;\n \n import io.jmix.core.DeletePolicy;\n-import io.jmix.core.entity.annotation.JmixGeneratedValue;\n import io.jmix.core.entity.annotation.OnDeleteInverse;\n-import io.jmix.core.metamodel.annotation.DependsOnProperties;\n-import io.jmix.core.metamodel.annotation.JmixEntity;\n-import io.jmix.core.metamodel.annotation.JmixProperty;\n-import io.jmix.core.metamodel.annotation.NumberFormat;\n+import io.jmix.core.metamodel.annotation.*;\n \n import javax.persistence.*;\n import javax.validation.constraints.NotNull;\n-import java.util.UUID;\n \n @JmixEntity\n @Table(name = \"ST_ATMOSPHERIC_GAS\")\n @Entity(name = \"st_AtmosphericGas\")\n-public class AtmosphericGas {\n-    @JmixGeneratedValue\n-    @Column(name = \"ID\", nullable = false)\n-    @Id\n-    private UUID id;\n-\n-    @NotNull\n-    @Version\n-    @Column(name = \"VERSION\", nullable = false)\n-    private Integer version;\n+public class AtmosphericGas extends AbstractEntity {\n \n     @NotNull\n     @OnDeleteInverse(DeletePolicy.DENY)\n     @JoinColumn(name = \"GAS_ID\", nullable = false)\n     @ManyToOne(optional = false)\n     private Gas gas;\n \n-    //todo [BUG] При проставлении формата в дизайнере он сбрасывается при переключении фокуса с поля Number format. При попытке проставить вручную аннотацию @NumberFormat(pattern = \"###.00%\") - она пропадает после переключения в дизайнер\n-    //@NumberFormat(pattern = \"###.00%\") todo [LOW] либо попробовать через String и AttributeConverter\n-    @NumberFormat(pattern = \"###.00%\")\n-    //todo [BUG] Нельзя проставить число в поле volume - возникает алерт \"Must be a double\", хотя вводится значение 0.5 или 0,5\n-    //todo [LOW] @NotNull - вернуть после починки.\n+    //todo BUG При проставлении формата в дизайнере он сбрасывается при переключении фокуса с поля Number format. При попытке проставить вручную аннотацию @NumberFormat(pattern = \"###.00%\") - она пропадает после переключения в дизайнер\n+    //@NumberFormat(pattern = \"###.00%\", groupingSeparator = \",\", decimalSeparator = \".\") todo [LOW] либо попробовать через String и AttributeConverter\n+    @NumberFormat(pattern = \"###.00%\", groupingSeparator = \",\", decimalSeparator = \".\")\n+    //todo BUG Нельзя проставить число в поле volume - возникает алерт \"Must be a double\", хотя вводится значение 0.5 или 0,5\n+    //todo LOW @NotNull - вернуть после починки.\n     @Column(name = \"VOLUME\") //, nullable = false)\n     private Double volume;\n \n-    @OnDeleteInverse(DeletePolicy.CASCADE)\n     @NotNull\n+    @OnDeleteInverse(DeletePolicy.CASCADE)\n     @JoinColumn(name = \"ATMOSPHERE_ID\", nullable = false)\n     @ManyToOne(optional = false)\n     private Atmosphere atmosphere;\n \n+    @InstanceName\n     @DependsOnProperties({\"gas\", \"atmosphere\"})\n-    @Transient\n-    @JmixProperty\n-    public String getFullName() {\n+    public String getDisplayName() {\n         return String.format(\"%s in %s\",\n                 gas != null ? gas.getName() : null,\n                 atmosphere != null ? atmosphere.getDescription() : null);\n     }\n \n-    public UUID getId() {\n-        return id;\n-    }\n-\n-    public void setId(UUID id) {\n-        this.id = id;\n-    }\n-\n-    public Integer getVersion() {\n-        return version;\n-    }\n-\n-    public void setVersion(Integer version) {\n-        this.version = version;\n-    }\n-\n     public Double getVolume() {\n         return volume;\n     }"
  },
  {
    "sha": "6939d54f86cbbf8590b37851dc8c2ffeab6172c4",
    "filename": "src/main/java/com/company/spacetrans/entity/Carrier.java",
    "status": "added",
    "additions": 39,
    "deletions": 0,
    "changes": 39,
    "blob_url": "https://github.com/Al-xandr1/spacetrans/blob/230dda626e63a6ea4e4f125b85174939fd986640/src/main/java/com/company/spacetrans/entity/Carrier.java",
    "raw_url": "https://github.com/Al-xandr1/spacetrans/raw/230dda626e63a6ea4e4f125b85174939fd986640/src/main/java/com/company/spacetrans/entity/Carrier.java",
    "contents_url": "https://api.github.com/repos/Al-xandr1/spacetrans/contents/src/main/java/com/company/spacetrans/entity/Carrier.java?ref=230dda626e63a6ea4e4f125b85174939fd986640",
    "patch": "@@ -0,0 +1,39 @@\n+package com.company.spacetrans.entity;\n+\n+import io.jmix.core.metamodel.annotation.InstanceName;\n+import io.jmix.core.metamodel.annotation.JmixEntity;\n+\n+import javax.persistence.*;\n+import java.util.List;\n+\n+@JmixEntity\n+@Table(name = \"ST_CARRIER\")\n+@Entity(name = \"st_Carrier\")\n+public class Carrier extends AbstractEntity {\n+\n+    @JoinTable(name = \"ST_CARRIER_SPACEPORT_LINK\",\n+            joinColumns = @JoinColumn(name = \"CARRIER_ID\"),\n+            inverseJoinColumns = @JoinColumn(name = \"SPACEPORT_ID\"))\n+    @ManyToMany\n+    private List<Spaceport> ports;\n+\n+    @InstanceName\n+    @Column(name = \"NAME\", nullable = false, unique = true)\n+    private String name;\n+\n+    public List<Spaceport> getPorts() {\n+        return ports;\n+    }\n+\n+    public void setPorts(List<Spaceport> ports) {\n+        this.ports = ports;\n+    }\n+\n+    public String getName() {\n+        return name;\n+    }\n+\n+    public void setName(String name) {\n+        this.name = name;\n+    }\n+}\n\\ No newline at end of file"
  },
  {
    "sha": "234188b02e38d33af29321396d06724fabc4d793",
    "filename": "src/main/java/com/company/spacetrans/entity/Company.java",
    "status": "added",
    "additions": 35,
    "deletions": 0,
    "changes": 35,
    "blob_url": "https://github.com/Al-xandr1/spacetrans/blob/230dda626e63a6ea4e4f125b85174939fd986640/src/main/java/com/company/spacetrans/entity/Company.java",
    "raw_url": "https://github.com/Al-xandr1/spacetrans/raw/230dda626e63a6ea4e4f125b85174939fd986640/src/main/java/com/company/spacetrans/entity/Company.java",
    "contents_url": "https://api.github.com/repos/Al-xandr1/spacetrans/contents/src/main/java/com/company/spacetrans/entity/Company.java?ref=230dda626e63a6ea4e4f125b85174939fd986640",
    "patch": "@@ -0,0 +1,35 @@\n+package com.company.spacetrans.entity;\n+\n+import io.jmix.core.metamodel.annotation.JmixEntity;\n+\n+import javax.persistence.Column;\n+import javax.persistence.Entity;\n+import javax.persistence.Table;\n+\n+@JmixEntity\n+@Table(name = \"ST_COMPANY\")\n+@Entity(name = \"st_Company\")\n+public class Company extends Customer {\n+\n+    @Column(name = \"COMPANY_TYPE\")\n+    private String companyType;\n+\n+    @Column(name = \"REGISTRATION_ID\", nullable = false, unique = true)\n+    private String registrationId;\n+\n+    public String getCompanyType() {\n+        return companyType;\n+    }\n+\n+    public void setCompanyType(String companyType) {\n+        this.companyType = companyType;\n+    }\n+\n+    public String getRegistrationId() {\n+        return registrationId;\n+    }\n+\n+    public void setRegistrationId(String registrationId) {\n+        this.registrationId = registrationId;\n+    }\n+}\n\\ No newline at end of file"
  },
  {
    "sha": "975e628c84a46d13dc6fdc27417ac73ea182d081",
    "filename": "src/main/java/com/company/spacetrans/entity/Coordinates.java",
    "status": "added",
    "additions": 48,
    "deletions": 0,
    "changes": 48,
    "blob_url": "https://github.com/Al-xandr1/spacetrans/blob/230dda626e63a6ea4e4f125b85174939fd986640/src/main/java/com/company/spacetrans/entity/Coordinates.java",
    "raw_url": "https://github.com/Al-xandr1/spacetrans/raw/230dda626e63a6ea4e4f125b85174939fd986640/src/main/java/com/company/spacetrans/entity/Coordinates.java",
    "contents_url": "https://api.github.com/repos/Al-xandr1/spacetrans/contents/src/main/java/com/company/spacetrans/entity/Coordinates.java?ref=230dda626e63a6ea4e4f125b85174939fd986640",
    "patch": "@@ -0,0 +1,48 @@\n+package com.company.spacetrans.entity;\n+\n+import io.jmix.core.Messages;\n+import io.jmix.core.metamodel.annotation.*;\n+\n+import javax.persistence.Column;\n+import javax.persistence.Embeddable;\n+import javax.persistence.Transient;\n+import javax.validation.constraints.NotNull;\n+\n+@JmixEntity(name = \"st_Coordinates\")\n+@Embeddable\n+public class Coordinates {\n+\n+    @NotNull\n+    //@NumberFormat(pattern = \"###.######\", decimalSeparator = \".\", groupingSeparator = \",\") todo LOW fix\n+    @NumberFormat(pattern = \"###.######\", decimalSeparator = \".\", groupingSeparator = \",\")\n+    @Column(name = \"LATITUDE\", nullable = false)\n+    private Double latitude;\n+\n+    @NotNull\n+    //@NumberFormat(pattern = \"###.######\", decimalSeparator = \".\", groupingSeparator = \",\") todo LOW fix\n+    @NumberFormat(pattern = \"###.######\", decimalSeparator = \".\", groupingSeparator = \",\")\n+    @Column(name = \"LONGITUDE\", nullable = false)\n+    private Double longitude;\n+\n+    @InstanceName\n+    @DependsOnProperties({\"latitude\", \"longitude\"})\n+    public String getDisplayName(Messages messages) {\n+        return messages.formatMessage(getClass(), \"Coordinates.instanceName\", latitude, longitude);\n+    }\n+\n+    public Double getLongitude() {\n+        return longitude;\n+    }\n+\n+    public void setLongitude(Double longitude) {\n+        this.longitude = longitude;\n+    }\n+\n+    public Double getLatitude() {\n+        return latitude;\n+    }\n+\n+    public void setLatitude(Double latitude) {\n+        this.latitude = latitude;\n+    }\n+}\n\\ No newline at end of file"
  },
  {
    "sha": "75f0e4ba7d592b13e9797eee2ae9fe5aa4c56920",
    "filename": "src/main/java/com/company/spacetrans/entity/Customer.java",
    "status": "added",
    "additions": 50,
    "deletions": 0,
    "changes": 50,
    "blob_url": "https://github.com/Al-xandr1/spacetrans/blob/230dda626e63a6ea4e4f125b85174939fd986640/src/main/java/com/company/spacetrans/entity/Customer.java",
    "raw_url": "https://github.com/Al-xandr1/spacetrans/raw/230dda626e63a6ea4e4f125b85174939fd986640/src/main/java/com/company/spacetrans/entity/Customer.java",
    "contents_url": "https://api.github.com/repos/Al-xandr1/spacetrans/contents/src/main/java/com/company/spacetrans/entity/Customer.java?ref=230dda626e63a6ea4e4f125b85174939fd986640",
    "patch": "@@ -0,0 +1,50 @@\n+package com.company.spacetrans.entity;\n+\n+import io.jmix.core.metamodel.annotation.InstanceName;\n+import io.jmix.core.metamodel.annotation.JmixEntity;\n+\n+import javax.persistence.*;\n+import javax.validation.constraints.Email;\n+\n+@JmixEntity\n+@Table(name = \"ST_CUSTOMER\")\n+@Entity(name = \"st_Customer\")\n+@Inheritance(strategy = InheritanceType.JOINED)\n+public class Customer extends AbstractEntity {\n+\n+    @InstanceName\n+    @Column(name = \"NAME\", nullable = false, unique = true)\n+    private String name;\n+\n+    //todo HIGH does the validation work?\n+    @Email\n+    @Column(name = \"EMAIL\")\n+    private String email;\n+\n+    @Column(name = \"GRADE\")\n+    private String grade;\n+\n+    public CustomerGrade getGrade() {\n+        return grade == null ? null : CustomerGrade.fromId(grade);\n+    }\n+\n+    public void setGrade(CustomerGrade grade) {\n+        this.grade = grade == null ? null : grade.getId();\n+    }\n+\n+    public String getEmail() {\n+        return email;\n+    }\n+\n+    public void setEmail(String email) {\n+        this.email = email;\n+    }\n+\n+    public String getName() {\n+        return name;\n+    }\n+\n+    public void setName(String name) {\n+        this.name = name;\n+    }\n+}\n\\ No newline at end of file"
  },
  {
    "sha": "aa7f40a4a94b8d66ea705c7e7f4a56d2dd0ddc23",
    "filename": "src/main/java/com/company/spacetrans/entity/CustomerGrade.java",
    "status": "added",
    "additions": 33,
    "deletions": 0,
    "changes": 33,
    "blob_url": "https://github.com/Al-xandr1/spacetrans/blob/230dda626e63a6ea4e4f125b85174939fd986640/src/main/java/com/company/spacetrans/entity/CustomerGrade.java",
    "raw_url": "https://github.com/Al-xandr1/spacetrans/raw/230dda626e63a6ea4e4f125b85174939fd986640/src/main/java/com/company/spacetrans/entity/CustomerGrade.java",
    "contents_url": "https://api.github.com/repos/Al-xandr1/spacetrans/contents/src/main/java/com/company/spacetrans/entity/CustomerGrade.java?ref=230dda626e63a6ea4e4f125b85174939fd986640",
    "patch": "@@ -0,0 +1,33 @@\n+package com.company.spacetrans.entity;\n+\n+import io.jmix.core.metamodel.datatype.impl.EnumClass;\n+\n+import javax.annotation.Nullable;\n+\n+\n+public enum CustomerGrade implements EnumClass<String> {\n+\n+    BRONZE(\"BRONZE\"),\n+    SILVER(\"SILVER\"),\n+    GOLD(\"GOLD\");\n+\n+    private String id;\n+\n+    CustomerGrade(String value) {\n+        this.id = value;\n+    }\n+\n+    public String getId() {\n+        return id;\n+    }\n+\n+    @Nullable\n+    public static CustomerGrade fromId(String id) {\n+        for (CustomerGrade at : CustomerGrade.values()) {\n+            if (at.getId().equals(id)) {\n+                return at;\n+            }\n+        }\n+        return null;\n+    }\n+}\n\\ No newline at end of file"
  },
  {
    "sha": "1157f0ea19d5afefdcf190514463cf7b8fbc15ef",
    "filename": "src/main/java/com/company/spacetrans/entity/Dimensions.java",
    "status": "added",
    "additions": 56,
    "deletions": 0,
    "changes": 56,
    "blob_url": "https://github.com/Al-xandr1/spacetrans/blob/230dda626e63a6ea4e4f125b85174939fd986640/src/main/java/com/company/spacetrans/entity/Dimensions.java",
    "raw_url": "https://github.com/Al-xandr1/spacetrans/raw/230dda626e63a6ea4e4f125b85174939fd986640/src/main/java/com/company/spacetrans/entity/Dimensions.java",
    "contents_url": "https://api.github.com/repos/Al-xandr1/spacetrans/contents/src/main/java/com/company/spacetrans/entity/Dimensions.java?ref=230dda626e63a6ea4e4f125b85174939fd986640",
    "patch": "@@ -0,0 +1,56 @@\n+package com.company.spacetrans.entity;\n+\n+import io.jmix.core.Messages;\n+import io.jmix.core.metamodel.annotation.DependsOnProperties;\n+import io.jmix.core.metamodel.annotation.InstanceName;\n+import io.jmix.core.metamodel.annotation.JmixEntity;\n+import io.jmix.core.metamodel.annotation.JmixProperty;\n+\n+import javax.persistence.Column;\n+import javax.persistence.Embeddable;\n+import javax.persistence.Entity;\n+import javax.persistence.Transient;\n+\n+@JmixEntity(name = \"st_Dimensions\")\n+@Embeddable\n+public class Dimensions {\n+\n+    @Column(name = \"HEIGHT\", nullable = false)\n+    private Double height;\n+\n+    @Column(name = \"WIDTH\", nullable = false)\n+    private Double width;\n+\n+    @Column(name = \"LENGTH\", nullable = false)\n+    private Double length;\n+\n+    @InstanceName\n+    @DependsOnProperties({\"height\", \"width\", \"length\"})\n+    public String getDisplayName(Messages messages){\n+        return messages.formatMessage(getClass(), \"Dimensions.instanceName\", height, width, length);\n+    }\n+\n+    public Double getHeight() {\n+        return height;\n+    }\n+\n+    public void setHeight(Double height) {\n+        this.height = height;\n+    }\n+\n+    public Double getWidth() {\n+        return width;\n+    }\n+\n+    public void setWidth(Double width) {\n+        this.width = width;\n+    }\n+\n+    public Double getLength() {\n+        return length;\n+    }\n+\n+    public void setLength(Double length) {\n+        this.length = length;\n+    }\n+}\n\\ No newline at end of file"
  },
  {
    "sha": "7c0fab0b892d4d339fef2b1b22d194ea93cb0803",
    "filename": "src/main/java/com/company/spacetrans/entity/Discounts.java",
    "status": "added",
    "additions": 47,
    "deletions": 0,
    "changes": 47,
    "blob_url": "https://github.com/Al-xandr1/spacetrans/blob/230dda626e63a6ea4e4f125b85174939fd986640/src/main/java/com/company/spacetrans/entity/Discounts.java",
    "raw_url": "https://github.com/Al-xandr1/spacetrans/raw/230dda626e63a6ea4e4f125b85174939fd986640/src/main/java/com/company/spacetrans/entity/Discounts.java",
    "contents_url": "https://api.github.com/repos/Al-xandr1/spacetrans/contents/src/main/java/com/company/spacetrans/entity/Discounts.java?ref=230dda626e63a6ea4e4f125b85174939fd986640",
    "patch": "@@ -0,0 +1,47 @@\n+package com.company.spacetrans.entity;\n+\n+import io.jmix.core.Messages;\n+import io.jmix.core.metamodel.annotation.DependsOnProperties;\n+import io.jmix.core.metamodel.annotation.InstanceName;\n+import io.jmix.core.metamodel.annotation.JmixEntity;\n+import io.jmix.core.metamodel.annotation.JmixProperty;\n+\n+import javax.persistence.Column;\n+import javax.persistence.Entity;\n+import javax.persistence.Table;\n+import javax.persistence.Transient;\n+import java.math.BigDecimal;\n+\n+@JmixEntity\n+@Table(name = \"ST_DISCOUNTS\")\n+@Entity(name = \"st_Discounts\")\n+public class Discounts extends AbstractEntity {\n+\n+    @Column(name = \"VALUE_\", precision = 19, scale = 2, nullable = false)\n+    private BigDecimal value;\n+\n+    @Column(name = \"GRADE\", nullable = false, unique = true)\n+    private String grade;\n+\n+    @DependsOnProperties({\"grade\", \"value\"})\n+    @InstanceName\n+    public String getDisplayName(Messages messages) {\n+        return messages.formatMessage(getClass(), \"Discounts.instanceName\", grade, value);\n+    }\n+\n+    public BigDecimal getValue() {\n+        return value;\n+    }\n+\n+    public void setValue(BigDecimal value) {\n+        this.value = value;\n+    }\n+\n+    public CustomerGrade getGrade() {\n+        return grade == null ? null : CustomerGrade.fromId(grade);\n+    }\n+\n+    public void setGrade(CustomerGrade grade) {\n+        this.grade = grade == null ? null : grade.getId();\n+    }\n+}\n\\ No newline at end of file"
  },
  {
    "sha": "0e57807db2568ade67f8ee12f4ae29aa8cdb29db",
    "filename": "src/main/java/com/company/spacetrans/entity/Gas.java",
    "status": "modified",
    "additions": 4,
    "deletions": 28,
    "changes": 32,
    "blob_url": "https://github.com/Al-xandr1/spacetrans/blob/230dda626e63a6ea4e4f125b85174939fd986640/src/main/java/com/company/spacetrans/entity/Gas.java",
    "raw_url": "https://github.com/Al-xandr1/spacetrans/raw/230dda626e63a6ea4e4f125b85174939fd986640/src/main/java/com/company/spacetrans/entity/Gas.java",
    "contents_url": "https://api.github.com/repos/Al-xandr1/spacetrans/contents/src/main/java/com/company/spacetrans/entity/Gas.java?ref=230dda626e63a6ea4e4f125b85174939fd986640",
    "patch": "@@ -1,47 +1,23 @@\n package com.company.spacetrans.entity;\n \n-import io.jmix.core.entity.annotation.JmixGeneratedValue;\n import io.jmix.core.metamodel.annotation.InstanceName;\n import io.jmix.core.metamodel.annotation.JmixEntity;\n \n-import javax.persistence.*;\n+import javax.persistence.Column;\n+import javax.persistence.Entity;\n+import javax.persistence.Table;\n import javax.validation.constraints.NotNull;\n-import java.util.UUID;\n \n @JmixEntity\n @Table(name = \"ST_GAS\")\n @Entity(name = \"st_Gas\")\n-public class Gas {\n-    @JmixGeneratedValue\n-    @Column(name = \"ID\", nullable = false)\n-    @Id\n-    private UUID id;\n-\n-    @Column(name = \"VERSION\", nullable = false)\n-    @Version\n-    private Integer version;\n+public class Gas extends AbstractEntity {\n \n     @NotNull\n     @InstanceName\n     @Column(name = \"NAME\", nullable = false, unique = true)\n     private String name;\n \n-    public UUID getId() {\n-        return id;\n-    }\n-\n-    public void setId(UUID id) {\n-        this.id = id;\n-    }\n-\n-    public Integer getVersion() {\n-        return version;\n-    }\n-\n-    public void setVersion(Integer version) {\n-        this.version = version;\n-    }\n-\n     public String getName() {\n         return name;\n     }"
  },
  {
    "sha": "19436362f4abe368b6393d1c39a06356565c0346",
    "filename": "src/main/java/com/company/spacetrans/entity/Individual.java",
    "status": "added",
    "additions": 38,
    "deletions": 0,
    "changes": 38,
    "blob_url": "https://github.com/Al-xandr1/spacetrans/blob/230dda626e63a6ea4e4f125b85174939fd986640/src/main/java/com/company/spacetrans/entity/Individual.java",
    "raw_url": "https://github.com/Al-xandr1/spacetrans/raw/230dda626e63a6ea4e4f125b85174939fd986640/src/main/java/com/company/spacetrans/entity/Individual.java",
    "contents_url": "https://api.github.com/repos/Al-xandr1/spacetrans/contents/src/main/java/com/company/spacetrans/entity/Individual.java?ref=230dda626e63a6ea4e4f125b85174939fd986640",
    "patch": "@@ -0,0 +1,38 @@\n+package com.company.spacetrans.entity;\n+\n+import io.jmix.core.metamodel.annotation.JmixEntity;\n+\n+import javax.persistence.Column;\n+import javax.persistence.Entity;\n+import javax.persistence.Table;\n+import javax.validation.constraints.NotNull;\n+\n+@JmixEntity\n+@Table(name = \"ST_INDIVIDUAL\")\n+@Entity(name = \"st_Individual\")\n+public class Individual extends Customer {\n+\n+    @NotNull\n+    @Column(name = \"FIRST_NAME\", nullable = false)\n+    private String firstName;\n+\n+    @NotNull\n+    @Column(name = \"LAST_NAME\", nullable = false)\n+    private String lastName;\n+\n+    public String getLastName() {\n+        return lastName;\n+    }\n+\n+    public void setLastName(String lastName) {\n+        this.lastName = lastName;\n+    }\n+\n+    public String getFirstName() {\n+        return firstName;\n+    }\n+\n+    public void setFirstName(String firstName) {\n+        this.firstName = firstName;\n+    }\n+}\n\\ No newline at end of file"
  },
  {
    "sha": "2c5c5d845c1d2549506dc07154ad970b3b5f637a",
    "filename": "src/main/java/com/company/spacetrans/entity/Moon.java",
    "status": "modified",
    "additions": 1,
    "deletions": 3,
    "changes": 4,
    "blob_url": "https://github.com/Al-xandr1/spacetrans/blob/230dda626e63a6ea4e4f125b85174939fd986640/src/main/java/com/company/spacetrans/entity/Moon.java",
    "raw_url": "https://github.com/Al-xandr1/spacetrans/raw/230dda626e63a6ea4e4f125b85174939fd986640/src/main/java/com/company/spacetrans/entity/Moon.java",
    "contents_url": "https://api.github.com/repos/Al-xandr1/spacetrans/contents/src/main/java/com/company/spacetrans/entity/Moon.java?ref=230dda626e63a6ea4e4f125b85174939fd986640",
    "patch": "@@ -1,7 +1,6 @@\n package com.company.spacetrans.entity;\n \n import io.jmix.core.DeletePolicy;\n-import io.jmix.core.entity.annotation.OnDelete;\n import io.jmix.core.entity.annotation.OnDeleteInverse;\n import io.jmix.core.metamodel.annotation.Composition;\n import io.jmix.core.metamodel.annotation.JmixEntity;\n@@ -15,11 +14,10 @@\n public class Moon extends AstronomicalBody {\n \n     @OnDeleteInverse(DeletePolicy.DENY)\n-    //todo [HIGH] @OnDelete(DeletePolicy.CASCADE) это нужно? удаляется после переключения в дизайнер\n     @Composition\n     @NotNull\n     @JoinColumn(name = \"ATMOSPHERE_ID\", nullable = false)\n-    @OneToOne(fetch = FetchType.LAZY, optional = false)\n+    @OneToOne(fetch = FetchType.LAZY, cascade = CascadeType.ALL, optional = false)\n     private Atmosphere atmosphere;\n \n     @JoinColumn(name = \"PLANET_ID\")"
  },
  {
    "sha": "011fe21ec04d564352bbbdf3c8c3c7bcac94ccf4",
    "filename": "src/main/java/com/company/spacetrans/entity/Planet.java",
    "status": "modified",
    "additions": 7,
    "deletions": 5,
    "changes": 12,
    "blob_url": "https://github.com/Al-xandr1/spacetrans/blob/230dda626e63a6ea4e4f125b85174939fd986640/src/main/java/com/company/spacetrans/entity/Planet.java",
    "raw_url": "https://github.com/Al-xandr1/spacetrans/raw/230dda626e63a6ea4e4f125b85174939fd986640/src/main/java/com/company/spacetrans/entity/Planet.java",
    "contents_url": "https://api.github.com/repos/Al-xandr1/spacetrans/contents/src/main/java/com/company/spacetrans/entity/Planet.java?ref=230dda626e63a6ea4e4f125b85174939fd986640",
    "patch": "@@ -12,7 +12,7 @@\n @Table(name = \"ST_PLANET\")\n @Entity(name = \"st_Planet\")\n public class Planet extends AstronomicalBody {\n-    //todo [LOW] set validation on numeric fields\n+    //todo LOW set validation on numeric fields\n \n     @NotNull\n     @Column(name = \"SEMI_MAJOR_AXIS\", nullable = false)\n@@ -27,22 +27,24 @@\n     private Double rotationPeriod;\n \n     @OnDeleteInverse(DeletePolicy.DENY)\n-    //todo [HIGH] @OnDelete(DeletePolicy.CASCADE) это нужно? удаляется после переключения в дизайнер\n     @Composition\n     @NotNull\n     @JoinColumn(name = \"ATMOSPHERE_ID\", nullable = false)\n-    @OneToOne(fetch = FetchType.LAZY, optional = false)\n+    @OneToOne(fetch = FetchType.LAZY, cascade = CascadeType.ALL, optional = false)\n     private Atmosphere atmosphere;\n \n     @NotNull\n     @Column(name = \"RINGS\", nullable = false)\n-    private Boolean rings = false;\n-\n+    private Boolean rings;\n \n     public Boolean getRings() {\n         return rings;\n     }\n \n+    public void setRings(Boolean rings) {\n+        this.rings = rings;\n+    }\n+\n     public void setRotationPeriod(Double rotationPeriod) {\n         this.rotationPeriod = rotationPeriod;\n     }"
  },
  {
    "sha": "5de05df47c55d4807c44cdf45726e4ed038e2e4d",
    "filename": "src/main/java/com/company/spacetrans/entity/Spaceport.java",
    "status": "added",
    "additions": 93,
    "deletions": 0,
    "changes": 93,
    "blob_url": "https://github.com/Al-xandr1/spacetrans/blob/230dda626e63a6ea4e4f125b85174939fd986640/src/main/java/com/company/spacetrans/entity/Spaceport.java",
    "raw_url": "https://github.com/Al-xandr1/spacetrans/raw/230dda626e63a6ea4e4f125b85174939fd986640/src/main/java/com/company/spacetrans/entity/Spaceport.java",
    "contents_url": "https://api.github.com/repos/Al-xandr1/spacetrans/contents/src/main/java/com/company/spacetrans/entity/Spaceport.java?ref=230dda626e63a6ea4e4f125b85174939fd986640",
    "patch": "@@ -0,0 +1,93 @@\n+package com.company.spacetrans.entity;\n+\n+import io.jmix.core.entity.annotation.EmbeddedParameters;\n+import io.jmix.core.metamodel.annotation.InstanceName;\n+import io.jmix.core.metamodel.annotation.JmixEntity;\n+\n+import javax.persistence.*;\n+import javax.validation.constraints.NotNull;\n+import java.util.List;\n+\n+@JmixEntity(name = \"st_Spaceport\")\n+@Table(name = \"ST_SPACEPORT\")\n+@Entity(name = \"st_Spaceport\")\n+public class Spaceport extends AbstractEntity {\n+\n+    @InstanceName\n+    @Column(name = \"NAME\", nullable = false, unique = true)\n+    private String name;\n+\n+    @Embedded\n+    @EmbeddedParameters(nullAllowed = false)\n+    @AttributeOverrides({\n+            @AttributeOverride(name = \"latitude\", column = @Column(name = \"COORDINATES_LATITUDE\")),\n+            @AttributeOverride(name = \"longitude\", column = @Column(name = \"COORDINATES_LONGITUDE\"))\n+    })\n+    private Coordinates coordinates;\n+\n+    @NotNull\n+    @Column(name = \"IS_DEFAULT\", nullable = false)\n+    private Boolean isDefault = false;\n+\n+    @JoinColumn(name = \"MOON_ID\")\n+    @ManyToOne(fetch = FetchType.LAZY)\n+    private Moon moon;\n+\n+    @JoinColumn(name = \"PLANET_ID\")\n+    @ManyToOne(fetch = FetchType.LAZY)\n+    private Planet planet;\n+\n+    @JoinTable(name = \"ST_CARRIER_SPACEPORT_LINK\",\n+            joinColumns = @JoinColumn(name = \"SPACEPORT_ID\"),\n+            inverseJoinColumns = @JoinColumn(name = \"CARRIER_ID\"))\n+    @ManyToMany\n+    private List<Carrier> carriers;\n+\n+    public List<Carrier> getCarriers() {\n+        return carriers;\n+    }\n+\n+    public void setCarriers(List<Carrier> carriers) {\n+        this.carriers = carriers;\n+    }\n+\n+    public Coordinates getCoordinates() {\n+        return coordinates;\n+    }\n+\n+    public void setCoordinates(Coordinates coordinates) {\n+        this.coordinates = coordinates;\n+    }\n+\n+    public Boolean getIsDefault() {\n+        return isDefault;\n+    }\n+\n+    public void setIsDefault(Boolean isDefault) {\n+        this.isDefault = isDefault;\n+    }\n+\n+    public Moon getMoon() {\n+        return moon;\n+    }\n+\n+    public void setMoon(Moon moon) {\n+        this.moon = moon;\n+    }\n+\n+    public Planet getPlanet() {\n+        return planet;\n+    }\n+\n+    public void setPlanet(Planet planet) {\n+        this.planet = planet;\n+    }\n+\n+    public String getName() {\n+        return name;\n+    }\n+\n+    public void setName(String name) {\n+        this.name = name;\n+    }\n+}\n\\ No newline at end of file"
  },
  {
    "sha": "e5d95db3095281293aab4c709128d5cd0483b258",
    "filename": "src/main/java/com/company/spacetrans/entity/User.java",
    "status": "modified",
    "additions": 1,
    "deletions": 28,
    "changes": 29,
    "blob_url": "https://github.com/Al-xandr1/spacetrans/blob/230dda626e63a6ea4e4f125b85174939fd986640/src/main/java/com/company/spacetrans/entity/User.java",
    "raw_url": "https://github.com/Al-xandr1/spacetrans/raw/230dda626e63a6ea4e4f125b85174939fd986640/src/main/java/com/company/spacetrans/entity/User.java",
    "contents_url": "https://api.github.com/repos/Al-xandr1/spacetrans/contents/src/main/java/com/company/spacetrans/entity/User.java?ref=230dda626e63a6ea4e4f125b85174939fd986640",
    "patch": "@@ -1,6 +1,5 @@\n package com.company.spacetrans.entity;\n \n-import io.jmix.core.entity.annotation.JmixGeneratedValue;\n import io.jmix.core.entity.annotation.SystemLevel;\n import io.jmix.core.metamodel.annotation.DependsOnProperties;\n import io.jmix.core.metamodel.annotation.InstanceName;\n@@ -13,23 +12,13 @@\n import javax.validation.constraints.Email;\n import java.util.Collection;\n import java.util.Collections;\n-import java.util.UUID;\n \n @JmixEntity\n @Entity(name = \"st_User\")\n @Table(name = \"ST_USER\", indexes = {\n         @Index(name = \"IDX_ST_USER_ON_USERNAME\", columnList = \"USERNAME\", unique = true)\n })\n-public class User implements UserDetails, GrantedAuthorityContainer {\n-\n-    @Id\n-    @Column(name = \"ID\")\n-    @JmixGeneratedValue\n-    private UUID id;\n-\n-    @Version\n-    @Column(name = \"VERSION\", nullable = false)\n-    private Integer version;\n+public class User extends AbstractEntity implements UserDetails, GrantedAuthorityContainer {\n \n     @Column(name = \"USERNAME\", nullable = false)\n     protected String username;\n@@ -54,22 +43,6 @@\n     @Transient\n     protected Collection<? extends GrantedAuthority> authorities;\n \n-    public UUID getId() {\n-        return id;\n-    }\n-\n-    public void setId(UUID id) {\n-        this.id = id;\n-    }\n-\n-    public Integer getVersion() {\n-        return version;\n-    }\n-\n-    public void setVersion(Integer version) {\n-        this.version = version;\n-    }\n-\n     public String getPassword() {\n         return password;\n     }"
  },
  {
    "sha": "6290614a97923bd7bcf6bcc0e3361c0a698ae651",
    "filename": "src/main/java/com/company/spacetrans/entity/Waybill.java",
    "status": "added",
    "additions": 142,
    "deletions": 0,
    "changes": 142,
    "blob_url": "https://github.com/Al-xandr1/spacetrans/blob/230dda626e63a6ea4e4f125b85174939fd986640/src/main/java/com/company/spacetrans/entity/Waybill.java",
    "raw_url": "https://github.com/Al-xandr1/spacetrans/raw/230dda626e63a6ea4e4f125b85174939fd986640/src/main/java/com/company/spacetrans/entity/Waybill.java",
    "contents_url": "https://api.github.com/repos/Al-xandr1/spacetrans/contents/src/main/java/com/company/spacetrans/entity/Waybill.java?ref=230dda626e63a6ea4e4f125b85174939fd986640",
    "patch": "@@ -0,0 +1,142 @@\n+package com.company.spacetrans.entity;\n+\n+import io.jmix.core.DeletePolicy;\n+import io.jmix.core.entity.annotation.OnDeleteInverse;\n+import io.jmix.core.metamodel.annotation.Composition;\n+import io.jmix.core.metamodel.annotation.InstanceName;\n+import io.jmix.core.metamodel.annotation.JmixEntity;\n+\n+import javax.persistence.*;\n+import java.math.BigDecimal;\n+import java.util.List;\n+\n+@JmixEntity\n+@Table(name = \"ST_WAYBILL\")\n+@Entity(name = \"st_Waybill\")\n+public class Waybill extends AbstractEntity {\n+\n+    @InstanceName\n+    @Column(name = \"REFERENCE\", nullable = false, unique = true)\n+    private String reference;\n+\n+    @OnDeleteInverse(DeletePolicy.UNLINK)\n+    @JoinColumn(name = \"CREATOR_ID\")\n+    @ManyToOne(fetch = FetchType.LAZY)\n+    private User creator;\n+\n+    @OnDeleteInverse(DeletePolicy.DENY)\n+    @JoinColumn(name = \"SHIPPER_ID\", nullable = false)\n+    @ManyToOne(fetch = FetchType.LAZY, optional = false)\n+    private Customer shipper;\n+\n+    @OnDeleteInverse(DeletePolicy.DENY)\n+    @JoinColumn(name = \"CONSIGNEE_ID\", nullable = false)\n+    @ManyToOne(fetch = FetchType.LAZY)\n+    private Customer consignee;\n+\n+    @OnDeleteInverse(DeletePolicy.DENY)\n+    @JoinColumn(name = \"DEPARTURE_PORT_ID\", nullable = false)\n+    @ManyToOne(fetch = FetchType.LAZY, optional = false)\n+    private Spaceport departurePort;\n+\n+    @OnDeleteInverse(DeletePolicy.DENY)\n+    @JoinColumn(name = \"DESTINATION_PORT_ID\", nullable = false)\n+    @ManyToOne(fetch = FetchType.LAZY, optional = false)\n+    private Spaceport destinationPort;\n+\n+    @OnDeleteInverse(DeletePolicy.DENY)\n+    @JoinColumn(name = \"CARRIER_ID\", nullable = false)\n+    @ManyToOne(fetch = FetchType.LAZY, optional = false)\n+    private Carrier carrier;\n+\n+    @OnDeleteInverse(DeletePolicy.DENY)\n+    @Composition\n+    @OneToMany(mappedBy = \"waybill\")\n+    private List<WaybillItem> items;\n+\n+    @Column(name = \"TOTAL_WEIGHT\")\n+    private Double totalWeight;\n+\n+    @Column(name = \"TOTAL_CHARGE\", precision = 19, scale = 2)\n+    private BigDecimal totalCharge;\n+\n+    public BigDecimal getTotalCharge() {\n+        return totalCharge;\n+    }\n+\n+    public void setTotalCharge(BigDecimal totalCharge) {\n+        this.totalCharge = totalCharge;\n+    }\n+\n+    public Double getTotalWeight() {\n+        return totalWeight;\n+    }\n+\n+    public void setTotalWeight(Double totalWeight) {\n+        this.totalWeight = totalWeight;\n+    }\n+\n+    public List<WaybillItem> getItems() {\n+        return items;\n+    }\n+\n+    public void setItems(List<WaybillItem> items) {\n+        this.items = items;\n+    }\n+\n+    public Carrier getCarrier() {\n+        return carrier;\n+    }\n+\n+    public void setCarrier(Carrier carrier) {\n+        this.carrier = carrier;\n+    }\n+\n+    public Spaceport getDestinationPort() {\n+        return destinationPort;\n+    }\n+\n+    public void setDestinationPort(Spaceport destinationPort) {\n+        this.destinationPort = destinationPort;\n+    }\n+\n+    public Spaceport getDeparturePort() {\n+        return departurePort;\n+    }\n+\n+    public void setDeparturePort(Spaceport departurePort) {\n+        this.departurePort = departurePort;\n+    }\n+\n+    public Customer getConsignee() {\n+        return consignee;\n+    }\n+\n+    public void setConsignee(Customer consignee) {\n+        this.consignee = consignee;\n+    }\n+\n+    public Customer getShipper() {\n+        return shipper;\n+    }\n+\n+    public void setShipper(Customer shipper) {\n+        this.shipper = shipper;\n+    }\n+\n+    public User getCreator() {\n+        return creator;\n+    }\n+\n+    public void setCreator(User creator) {\n+        this.creator = creator;\n+    }\n+\n+    public String getReference() {\n+        return reference;\n+    }\n+\n+    public void setReference(String reference) {\n+        this.reference = reference;\n+    }\n+}\n\\ No newline at end of file"
  },
  {
    "sha": "bca338f9bfc37ba197c4541c97c2fcb2d999082a",
    "filename": "src/main/java/com/company/spacetrans/entity/WaybillItem.java",
    "status": "added",
    "additions": 91,
    "deletions": 0,
    "changes": 91,
    "blob_url": "https://github.com/Al-xandr1/spacetrans/blob/230dda626e63a6ea4e4f125b85174939fd986640/src/main/java/com/company/spacetrans/entity/WaybillItem.java",
    "raw_url": "https://github.com/Al-xandr1/spacetrans/raw/230dda626e63a6ea4e4f125b85174939fd986640/src/main/java/com/company/spacetrans/entity/WaybillItem.java",
    "contents_url": "https://api.github.com/repos/Al-xandr1/spacetrans/contents/src/main/java/com/company/spacetrans/entity/WaybillItem.java?ref=230dda626e63a6ea4e4f125b85174939fd986640",
    "patch": "@@ -0,0 +1,91 @@\n+package com.company.spacetrans.entity;\n+\n+import io.jmix.core.DeletePolicy;\n+import io.jmix.core.entity.annotation.EmbeddedParameters;\n+import io.jmix.core.entity.annotation.OnDeleteInverse;\n+import io.jmix.core.metamodel.annotation.InstanceName;\n+import io.jmix.core.metamodel.annotation.JmixEntity;\n+\n+import javax.persistence.*;\n+import java.math.BigDecimal;\n+\n+@JmixEntity\n+@Table(name = \"ST_WAYBILL_ITEM\")\n+@Entity(name = \"st_WaybillItem\")\n+public class WaybillItem extends AbstractEntity {\n+\n+    @Column(name = \"NUMBER_\", nullable = false)\n+    private Integer number;\n+\n+    @InstanceName\n+    @Column(name = \"NAME\", nullable = false, unique = true)\n+    private String name;\n+\n+    @Column(name = \"WEIGHT\")\n+    private Double weight;\n+\n+    @Embedded\n+    @EmbeddedParameters(nullAllowed = false)\n+    @AttributeOverrides({\n+            @AttributeOverride(name = \"height\", column = @Column(name = \"DIM_HEIGHT\")),\n+            @AttributeOverride(name = \"width\", column = @Column(name = \"DIM_WIDTH\")),\n+            @AttributeOverride(name = \"length\", column = @Column(name = \"DIM_LENGTH\"))\n+    })\n+    private Dimensions dim;\n+\n+    @Column(name = \"CHARGE\", precision = 19, scale = 2)\n+    private BigDecimal charge;\n+\n+    @OnDeleteInverse(DeletePolicy.CASCADE)\n+    @JoinColumn(name = \"WAYBILL_ID\", nullable = false)\n+    @ManyToOne(fetch = FetchType.LAZY, optional = false)\n+    private Waybill waybill;\n+\n+    public BigDecimal getCharge() {\n+        return charge;\n+    }\n+\n+    public void setCharge(BigDecimal charge) {\n+        this.charge = charge;\n+    }\n+\n+    public Waybill getWaybill() {\n+        return waybill;\n+    }\n+\n+    public void setWaybill(Waybill waybill) {\n+        this.waybill = waybill;\n+    }\n+\n+    public Dimensions getDim() {\n+        return dim;\n+    }\n+\n+    public void setDim(Dimensions dim) {\n+        this.dim = dim;\n+    }\n+\n+    public Double getWeight() {\n+        return weight;\n+    }\n+\n+    public void setWeight(Double weight) {\n+        this.weight = weight;\n+    }\n+\n+    public Integer getNumber() {\n+        return number;\n+    }\n+\n+    public void setNumber(Integer number) {\n+        this.number = number;\n+    }\n+\n+    public String getName() {\n+        return name;\n+    }\n+\n+    public void setName(String name) {\n+        this.name = name;\n+    }\n+}\n\\ No newline at end of file"
  },
  {
    "sha": "8d4e4f4fd0be11b7879d87c48350b132bfb344bf",
    "filename": "src/main/java/com/company/spacetrans/screen/planet/PlanetBrowse.java",
    "status": "modified",
    "additions": 33,
    "deletions": 1,
    "changes": 34,
    "blob_url": "https://github.com/Al-xandr1/spacetrans/blob/230dda626e63a6ea4e4f125b85174939fd986640/src/main/java/com/company/spacetrans/screen/planet/PlanetBrowse.java",
    "raw_url": "https://github.com/Al-xandr1/spacetrans/raw/230dda626e63a6ea4e4f125b85174939fd986640/src/main/java/com/company/spacetrans/screen/planet/PlanetBrowse.java",
    "contents_url": "https://api.github.com/repos/Al-xandr1/spacetrans/contents/src/main/java/com/company/spacetrans/screen/planet/PlanetBrowse.java?ref=230dda626e63a6ea4e4f125b85174939fd986640",
    "patch": "@@ -1,10 +1,42 @@\n package com.company.spacetrans.screen.planet;\n \n-import io.jmix.ui.screen.*;\n import com.company.spacetrans.entity.Planet;\n+import com.company.spacetrans.service.PlanetRepository;\n+import io.jmix.ui.action.list.RefreshAction;\n+import io.jmix.ui.component.HasValue;\n+import io.jmix.ui.component.SingleFileUploadField;\n+import io.jmix.ui.screen.*;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+import org.springframework.beans.factory.annotation.Autowired;\n+\n+import javax.inject.Named;\n \n @UiController(\"st_Planet.browse\")\n @UiDescriptor(\"planet-browse.xml\")\n @LookupComponent(\"planetsTable\")\n public class PlanetBrowse extends StandardLookup<Planet> {\n+\n+    private static final Logger log = LoggerFactory.getLogger(PlanetBrowse.class);\n+\n+    //todo QA why restricted injection through constructors? throws \"Unable to create instance of screen class\"\n+    @Named\n+    private PlanetRepository planetRepository;\n+\n+    @Named(\"planetsTable.refresh\")\n+    private RefreshAction planetsTableRefresh;\n+\n+    @Subscribe(\"importPlanets\")\n+    public void onImportPlanetsValueChange(HasValue.ValueChangeEvent<byte[]> event) {\n+        log.info(\"Import start\");\n+\n+        if (event.getValue() != null) {\n+            planetRepository.importPlanets(event.getValue());\n+        }\n+    }\n+\n+    @Subscribe(\"importPlanets\")\n+    public void onImportPlanetsFileUploadSucceed(SingleFileUploadField.FileUploadSucceedEvent event) {\n+        planetsTableRefresh.execute();\n+    }\n }\n\\ No newline at end of file"
  },
  {
    "sha": "294cbd82203fb2c27344635251f4867bdf6d579e",
    "filename": "src/main/java/com/company/spacetrans/service/PlanetRepository.java",
    "status": "added",
    "additions": 88,
    "deletions": 0,
    "changes": 88,
    "blob_url": "https://github.com/Al-xandr1/spacetrans/blob/230dda626e63a6ea4e4f125b85174939fd986640/src/main/java/com/company/spacetrans/service/PlanetRepository.java",
    "raw_url": "https://github.com/Al-xandr1/spacetrans/raw/230dda626e63a6ea4e4f125b85174939fd986640/src/main/java/com/company/spacetrans/service/PlanetRepository.java",
    "contents_url": "https://api.github.com/repos/Al-xandr1/spacetrans/contents/src/main/java/com/company/spacetrans/service/PlanetRepository.java?ref=230dda626e63a6ea4e4f125b85174939fd986640",
    "patch": "@@ -0,0 +1,88 @@\n+package com.company.spacetrans.service;\n+\n+import com.company.spacetrans.entity.AstronomicalBody;\n+import com.company.spacetrans.entity.Atmosphere;\n+import com.company.spacetrans.entity.Planet;\n+import com.company.spacetrans.service.csv.ImportPlanets;\n+import com.company.spacetrans.service.csv.PlanetCSV;\n+import io.jmix.core.DataManager;\n+import org.springframework.stereotype.Repository;\n+import org.springframework.transaction.annotation.Transactional;\n+\n+import java.util.Collection;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.stream.Collectors;\n+\n+@Repository\n+public class PlanetRepository {\n+\n+    private final ImportPlanets importer;\n+\n+    private final DataManager dataManager;\n+\n+    public PlanetRepository(ImportPlanets importer, DataManager dataManager) {\n+        this.importer = importer;\n+        this.dataManager = dataManager;\n+    }\n+\n+    @Transactional\n+    public boolean importPlanets(byte[] csvBytes) {\n+        List<PlanetCSV> planetCSVs = importer.parse(csvBytes);\n+\n+        if (planetCSVs != null) {\n+            final List<String> names = planetCSVs.stream().map(PlanetCSV::getName).collect(Collectors.toList());\n+            List<Planet> storedPlanets = findPlanets(names);\n+\n+            Map<String, List<Planet>> storedPlanetsByName = groupByName(storedPlanets);\n+\n+            for (PlanetCSV planetCSV : planetCSVs) {\n+                if (storedPlanetsByName.containsKey(planetCSV.getName())) {\n+                    Planet updatedPlanet = update(storedPlanetsByName.get(planetCSV.getName()).iterator().next(), planetCSV);\n+                    dataManager.save(updatedPlanet);\n+                } else {\n+                    Planet newPlanet = create(planetCSV);\n+                    dataManager.save(newPlanet);\n+                }\n+            }\n+            return true;\n+        }\n+        return false;\n+    }\n+\n+    public List<Planet> findPlanets(List<String> names) {\n+        return dataManager.load(Planet.class)\n+                .query(\"select p from st_Planet p where p.name in :names\")\n+                .parameter(\"names\", names)\n+                .list();\n+    }\n+\n+    private Planet create(PlanetCSV planetCSV) {\n+        Planet planet = dataManager.create(Planet.class);\n+        planet.setName(planetCSV.getName());\n+        update(planet, planetCSV);\n+        return planet;\n+    }\n+\n+    private Atmosphere generateStubAtmosphere(Planet planet) {\n+        Atmosphere atmosphere = dataManager.create(Atmosphere.class);\n+        atmosphere.setDescription(\"Atmosphere for \" + planet.getName());\n+        return atmosphere;\n+    }\n+\n+    private Planet update(Planet planet, PlanetCSV planetCSV) {\n+        planet.setMass(planetCSV.getMass());\n+        planet.setSemiMajorAxis(planetCSV.getSemiMajorAxis());\n+        planet.setOrbitalPeriod(planetCSV.getOrbitalPeriod());\n+        planet.setRotationPeriod(planetCSV.getRotationPeriod());\n+        planet.setRings(planetCSV.getRings());\n+        planet.setAtmosphere(generateStubAtmosphere(planet));\n+        return planet;\n+    }\n+\n+    public static Map<String, List<Planet>> groupByName(Collection<Planet> storedPlanets) {\n+        return storedPlanets\n+                .stream()\n+                .collect(Collectors.groupingBy(AstronomicalBody::getName));\n+    }\n+}"
  },
  {
    "sha": "ccbdffabd015fb023dce9286c5e20a364a7c7cc5",
    "filename": "src/main/java/com/company/spacetrans/service/csv/ImportPlanets.java",
    "status": "added",
    "additions": 42,
    "deletions": 0,
    "changes": 42,
    "blob_url": "https://github.com/Al-xandr1/spacetrans/blob/230dda626e63a6ea4e4f125b85174939fd986640/src/main/java/com/company/spacetrans/service/csv/ImportPlanets.java",
    "raw_url": "https://github.com/Al-xandr1/spacetrans/raw/230dda626e63a6ea4e4f125b85174939fd986640/src/main/java/com/company/spacetrans/service/csv/ImportPlanets.java",
    "contents_url": "https://api.github.com/repos/Al-xandr1/spacetrans/contents/src/main/java/com/company/spacetrans/service/csv/ImportPlanets.java?ref=230dda626e63a6ea4e4f125b85174939fd986640",
    "patch": "@@ -0,0 +1,42 @@\n+package com.company.spacetrans.service.csv;\n+\n+import com.opencsv.bean.ColumnPositionMappingStrategy;\n+import com.opencsv.bean.CsvToBean;\n+import com.opencsv.bean.CsvToBeanBuilder;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+import org.springframework.stereotype.Service;\n+\n+import java.io.ByteArrayInputStream;\n+import java.io.IOException;\n+import java.io.InputStreamReader;\n+import java.nio.charset.StandardCharsets;\n+import java.util.List;\n+\n+@Service\n+public class ImportPlanets {\n+\n+    private static final char SEPARATOR = ';';\n+    private static final Logger LOG = LoggerFactory.getLogger(ImportPlanets.class);\n+\n+    public List<PlanetCSV> parse(byte[] csvBytes) {\n+        try (InputStreamReader reader = new InputStreamReader(new ByteArrayInputStream(csvBytes), StandardCharsets.UTF_8)) {\n+            ColumnPositionMappingStrategy<PlanetCSV> strategy = new ColumnPositionMappingStrategy<>();\n+            strategy.setType(PlanetCSV.class);\n+\n+            CsvToBean<PlanetCSV> parser = new CsvToBeanBuilder<PlanetCSV>(reader)\n+                    .withType(PlanetCSV.class)\n+                    .withMappingStrategy(strategy)\n+                    .withSeparator(SEPARATOR)\n+                    .build();\n+\n+            LOG.info(\"Import succeeded\");\n+            return parser.parse();\n+\n+        } catch (IOException e) {\n+            LOG.error(\"Import failed\", e);\n+        }\n+\n+        return null;\n+    }\n+}"
  },
  {
    "sha": "84f9f32cc7ac5330fefdcc079e681bdbb1680b0b",
    "filename": "src/main/java/com/company/spacetrans/service/csv/PlanetCSV.java",
    "status": "added",
    "additions": 158,
    "deletions": 0,
    "changes": 158,
    "blob_url": "https://github.com/Al-xandr1/spacetrans/blob/230dda626e63a6ea4e4f125b85174939fd986640/src/main/java/com/company/spacetrans/service/csv/PlanetCSV.java",
    "raw_url": "https://github.com/Al-xandr1/spacetrans/raw/230dda626e63a6ea4e4f125b85174939fd986640/src/main/java/com/company/spacetrans/service/csv/PlanetCSV.java",
    "contents_url": "https://api.github.com/repos/Al-xandr1/spacetrans/contents/src/main/java/com/company/spacetrans/service/csv/PlanetCSV.java?ref=230dda626e63a6ea4e4f125b85174939fd986640",
    "patch": "@@ -0,0 +1,158 @@\n+package com.company.spacetrans.service.csv;\n+\n+import com.opencsv.bean.AbstractBeanField;\n+import com.opencsv.bean.CsvBindByPosition;\n+import com.opencsv.bean.CsvCustomBindByPosition;\n+import com.opencsv.exceptions.CsvConstraintViolationException;\n+import com.opencsv.exceptions.CsvDataTypeMismatchException;\n+\n+public class PlanetCSV {\n+\n+    @CsvBindByPosition(position = 0)\n+    private String name;\n+\n+    @CsvBindByPosition(position = 1)\n+    private Double equatorialDiameter;\n+\n+    @CsvBindByPosition(position = 2)\n+    private Double mass;\n+\n+    @CsvBindByPosition(position = 3)\n+    private Double semiMajorAxis;\n+\n+    @CsvBindByPosition(position = 4)\n+    private Double orbitalPeriod;\n+\n+    @CsvBindByPosition(position = 5)\n+    private Double inclinationToSunsEquator;\n+\n+    @CsvBindByPosition(position = 6)\n+    private Double orbitalEccentricity;\n+\n+    @CsvBindByPosition(position = 7)\n+    private Double rotationPeriod;\n+\n+    @CsvBindByPosition(position = 8)\n+    private Integer confirmedMoons;\n+\n+    @CsvBindByPosition(position = 9)\n+    private Double axialTilt;\n+\n+    @CsvCustomBindByPosition(position = 10, converter =BooleanConverter.class)\n+    private Boolean rings;\n+\n+    @CsvBindByPosition(position = 11)\n+    private String atmosphere;\n+\n+    public String getName() {\n+        return name;\n+    }\n+\n+    public void setName(String name) {\n+        this.name = name;\n+    }\n+\n+    public Double getEquatorialDiameter() {\n+        return equatorialDiameter;\n+    }\n+\n+    public void setEquatorialDiameter(Double equatorialDiameter) {\n+        this.equatorialDiameter = equatorialDiameter;\n+    }\n+\n+    public Double getMass() {\n+        return mass;\n+    }\n+\n+    public void setMass(Double mass) {\n+        this.mass = mass;\n+    }\n+\n+    public Double getSemiMajorAxis() {\n+        return semiMajorAxis;\n+    }\n+\n+    public void setSemiMajorAxis(Double semiMajorAxis) {\n+        this.semiMajorAxis = semiMajorAxis;\n+    }\n+\n+    public Double getOrbitalPeriod() {\n+        return orbitalPeriod;\n+    }\n+\n+    public void setOrbitalPeriod(Double orbitalPeriod) {\n+        this.orbitalPeriod = orbitalPeriod;\n+    }\n+\n+    public Double getInclinationToSunsEquator() {\n+        return inclinationToSunsEquator;\n+    }\n+\n+    public void setInclinationToSunsEquator(Double inclinationToSunsEquator) {\n+        this.inclinationToSunsEquator = inclinationToSunsEquator;\n+    }\n+\n+    public Double getOrbitalEccentricity() {\n+        return orbitalEccentricity;\n+    }\n+\n+    public void setOrbitalEccentricity(Double orbitalEccentricity) {\n+        this.orbitalEccentricity = orbitalEccentricity;\n+    }\n+\n+    public Double getRotationPeriod() {\n+        return rotationPeriod;\n+    }\n+\n+    public void setRotationPeriod(Double rotationPeriod) {\n+        this.rotationPeriod = rotationPeriod;\n+    }\n+\n+    public Integer getConfirmedMoons() {\n+        return confirmedMoons;\n+    }\n+\n+    public void setConfirmedMoons(Integer confirmedMoons) {\n+        this.confirmedMoons = confirmedMoons;\n+    }\n+\n+    public Double getAxialTilt() {\n+        return axialTilt;\n+    }\n+\n+    public void setAxialTilt(Double axialTilt) {\n+        this.axialTilt = axialTilt;\n+    }\n+\n+    public Boolean getRings() {\n+        return rings;\n+    }\n+\n+    public void setRings(Boolean rings) {\n+        this.rings = rings;\n+    }\n+\n+    public String getAtmosphere() {\n+        return atmosphere;\n+    }\n+\n+    public void setAtmosphere(String atmosphere) {\n+        this.atmosphere = atmosphere;\n+    }\n+\n+    public static class BooleanConverter extends AbstractBeanField<Boolean> {\n+\n+        @Override\n+        protected Boolean convert(String value) throws CsvDataTypeMismatchException, CsvConstraintViolationException {\n+            switch (value) {\n+                case \"yes\": {\n+                    return true;\n+                }\n+                case \"no\": {\n+                    return false;\n+                }\n+            }\n+            return false;\n+        }\n+    }\n+}"
  },
  {
    "sha": "050b064eb7d55985bff73c321914051b04eb9036",
    "filename": "src/main/resources/com/company/spacetrans/liquibase/changelog/2021/03/16-010-2dd93f18.xml",
    "status": "removed",
    "additions": 0,
    "deletions": 131,
    "changes": 131,
    "blob_url": "https://github.com/Al-xandr1/spacetrans/blob/635245711927b3a0f02c2a0bdd8604eaa33c1e25/src/main/resources/com/company/spacetrans/liquibase/changelog/2021/03/16-010-2dd93f18.xml",
    "raw_url": "https://github.com/Al-xandr1/spacetrans/raw/635245711927b3a0f02c2a0bdd8604eaa33c1e25/src/main/resources/com/company/spacetrans/liquibase/changelog/2021/03/16-010-2dd93f18.xml",
    "contents_url": "https://api.github.com/repos/Al-xandr1/spacetrans/contents/src/main/resources/com/company/spacetrans/liquibase/changelog/2021/03/16-010-2dd93f18.xml?ref=635245711927b3a0f02c2a0bdd8604eaa33c1e25",
    "patch": "@@ -1,131 +0,0 @@\n-<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n-<databaseChangeLog\n-        xmlns=\"http://www.liquibase.org/xml/ns/dbchangelog\"\n-        xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n-        xsi:schemaLocation=\"http://www.liquibase.org/xml/ns/dbchangelog\n-                      http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.3.xsd\"\n-        objectQuotingStrategy=\"QUOTE_ONLY_RESERVED_WORDS\">\n-    <changeSet id=\"1\" author=\"st\">\n-        <createTable tableName=\"ST_ATMOSPHERE\">\n-            <column name=\"ID\" type=\"UUID\">\n-                <constraints nullable=\"false\" primaryKey=\"true\" primaryKeyName=\"PK_ST_ATMOSPHERE\"/>\n-            </column>\n-            <column name=\"VERSION\" type=\"INT\">\n-                <constraints nullable=\"false\"/>\n-            </column>\n-            <column name=\"DESCRIPTION\" type=\"VARCHAR(255)\">\n-                <constraints nullable=\"false\"/>\n-            </column>\n-            <column name=\"PRESSURE\" type=\"DOUBLE\"/>\n-        </createTable>\n-    </changeSet>\n-    <changeSet id=\"2\" author=\"st\">\n-        <createTable tableName=\"ST_ATMOSPHERIC_GAS\">\n-            <column name=\"ID\" type=\"UUID\">\n-                <constraints nullable=\"false\" primaryKey=\"true\" primaryKeyName=\"PK_ST_ATMOSPHERIC_GAS\"/>\n-            </column>\n-            <column name=\"VERSION\" type=\"INT\">\n-                <constraints nullable=\"false\"/>\n-            </column>\n-            <column name=\"GAS_ID\" type=\"UUID\">\n-                <constraints nullable=\"false\"/>\n-            </column>\n-            <column name=\"VOLUME\" type=\"DOUBLE\"/>\n-            <column name=\"ATMOSPHERE_ID\" type=\"UUID\">\n-                <constraints nullable=\"false\"/>\n-            </column>\n-        </createTable>\n-    </changeSet>\n-    <changeSet id=\"3\" author=\"st\">\n-        <createTable tableName=\"ST_GAS\">\n-            <column name=\"ID\" type=\"UUID\">\n-                <constraints nullable=\"false\" primaryKey=\"true\" primaryKeyName=\"PK_ST_GAS\"/>\n-            </column>\n-            <column name=\"VERSION\" type=\"INT\">\n-                <constraints nullable=\"false\"/>\n-            </column>\n-            <column name=\"NAME\" type=\"VARCHAR(255)\">\n-                <constraints nullable=\"false\"/>\n-            </column>\n-        </createTable>\n-    </changeSet>\n-    <changeSet id=\"4\" author=\"st\">\n-        <createTable tableName=\"ST_MOON\">\n-            <column name=\"ID\" type=\"UUID\">\n-                <constraints nullable=\"false\" primaryKey=\"true\" primaryKeyName=\"PK_ST_MOON\"/>\n-            </column>\n-            <column name=\"VERSION\" type=\"INT\">\n-                <constraints nullable=\"false\"/>\n-            </column>\n-            <column name=\"NAME\" type=\"VARCHAR(255)\"/>\n-            <column name=\"MASS\" type=\"DOUBLE\"/>\n-            <column name=\"PICTURE\" type=\"VARCHAR(255)\"/>\n-            <column name=\"ATMOSPHERE_ID\" type=\"UUID\">\n-                <constraints nullable=\"false\"/>\n-            </column>\n-            <column name=\"PLANET_ID\" type=\"UUID\"/>\n-        </createTable>\n-    </changeSet>\n-    <changeSet id=\"5\" author=\"st\">\n-        <createTable tableName=\"ST_PLANET\">\n-            <column name=\"ID\" type=\"UUID\">\n-                <constraints nullable=\"false\" primaryKey=\"true\" primaryKeyName=\"PK_ST_PLANET\"/>\n-            </column>\n-            <column name=\"VERSION\" type=\"INT\">\n-                <constraints nullable=\"false\"/>\n-            </column>\n-            <column name=\"NAME\" type=\"VARCHAR(255)\"/>\n-            <column name=\"MASS\" type=\"DOUBLE\"/>\n-            <column name=\"PICTURE\" type=\"VARCHAR(255)\"/>\n-            <column name=\"SEMI_MAJOR_AXIS\" type=\"DOUBLE\">\n-                <constraints nullable=\"false\"/>\n-            </column>\n-            <column name=\"ORBITAL_PERIOD\" type=\"DOUBLE\">\n-                <constraints nullable=\"false\"/>\n-            </column>\n-            <column name=\"ROTATION_PERIOD\" type=\"DOUBLE\">\n-                <constraints nullable=\"false\"/>\n-            </column>\n-            <column name=\"ATMOSPHERE_ID\" type=\"UUID\">\n-                <constraints nullable=\"false\"/>\n-            </column>\n-            <column name=\"RINGS\" type=\"BOOLEAN\">\n-                <constraints nullable=\"false\"/>\n-            </column>\n-        </createTable>\n-    </changeSet>\n-    <changeSet id=\"6\" author=\"st\">\n-        <addUniqueConstraint columnNames=\"NAME\" constraintName=\"UC_ST_GAS_NAME\" tableName=\"ST_GAS\"/>\n-    </changeSet>\n-    <changeSet id=\"7\" author=\"st\">\n-        <addUniqueConstraint columnNames=\"NAME\" constraintName=\"UC_ST_MOON_NAME\" tableName=\"ST_MOON\"/>\n-    </changeSet>\n-    <changeSet id=\"8\" author=\"st\">\n-        <addUniqueConstraint columnNames=\"NAME\" constraintName=\"UC_ST_PLANET_NAME\" tableName=\"ST_PLANET\"/>\n-    </changeSet>\n-    <changeSet id=\"9\" author=\"st\">\n-        <addForeignKeyConstraint baseColumnNames=\"ATMOSPHERE_ID\" baseTableName=\"ST_ATMOSPHERIC_GAS\"\n-                                 constraintName=\"FK_ST_ATMOSPHERIC_GAS_ON_ATMOSPHERE\" onDelete=\"CASCADE\"\n-                                 referencedColumnNames=\"ID\" referencedTableName=\"ST_ATMOSPHERE\"/>\n-    </changeSet>\n-    <changeSet id=\"10\" author=\"st\">\n-        <addForeignKeyConstraint baseColumnNames=\"GAS_ID\" baseTableName=\"ST_ATMOSPHERIC_GAS\"\n-                                 constraintName=\"FK_ST_ATMOSPHERIC_GAS_ON_GAS\" referencedColumnNames=\"ID\"\n-                                 referencedTableName=\"ST_GAS\"/>\n-    </changeSet>\n-    <changeSet id=\"11\" author=\"st\">\n-        <addForeignKeyConstraint baseColumnNames=\"ATMOSPHERE_ID\" baseTableName=\"ST_MOON\"\n-                                 constraintName=\"FK_ST_MOON_ON_ATMOSPHERE\" referencedColumnNames=\"ID\"\n-                                 referencedTableName=\"ST_ATMOSPHERE\"/>\n-    </changeSet>\n-    <changeSet id=\"12\" author=\"st\">\n-        <addForeignKeyConstraint baseColumnNames=\"PLANET_ID\" baseTableName=\"ST_MOON\"\n-                                 constraintName=\"FK_ST_MOON_ON_PLANET\" referencedColumnNames=\"ID\"\n-                                 referencedTableName=\"ST_PLANET\"/>\n-    </changeSet>\n-    <changeSet id=\"13\" author=\"st\">\n-        <addForeignKeyConstraint baseColumnNames=\"ATMOSPHERE_ID\" baseTableName=\"ST_PLANET\"\n-                                 constraintName=\"FK_ST_PLANET_ON_ATMOSPHERE\" referencedColumnNames=\"ID\"\n-                                 referencedTableName=\"ST_ATMOSPHERE\"/>\n-    </changeSet>\n-</databaseChangeLog>\n\\ No newline at end of file"
  },
  {
    "sha": "01bbd26b08685c594344ba5863c4e9f95e0db3a8",
    "filename": "src/main/resources/com/company/spacetrans/liquibase/changelog/2021/03/19-010-dd70fa2d.xml",
    "status": "added",
    "additions": 381,
    "deletions": 0,
    "changes": 381,
    "blob_url": "https://github.com/Al-xandr1/spacetrans/blob/230dda626e63a6ea4e4f125b85174939fd986640/src/main/resources/com/company/spacetrans/liquibase/changelog/2021/03/19-010-dd70fa2d.xml",
    "raw_url": "https://github.com/Al-xandr1/spacetrans/raw/230dda626e63a6ea4e4f125b85174939fd986640/src/main/resources/com/company/spacetrans/liquibase/changelog/2021/03/19-010-dd70fa2d.xml",
    "contents_url": "https://api.github.com/repos/Al-xandr1/spacetrans/contents/src/main/resources/com/company/spacetrans/liquibase/changelog/2021/03/19-010-dd70fa2d.xml?ref=230dda626e63a6ea4e4f125b85174939fd986640",
    "patch": "@@ -0,0 +1,381 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<databaseChangeLog\n+        xmlns=\"http://www.liquibase.org/xml/ns/dbchangelog\"\n+        xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+        xsi:schemaLocation=\"http://www.liquibase.org/xml/ns/dbchangelog\n+                      http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.3.xsd\"\n+        objectQuotingStrategy=\"QUOTE_ONLY_RESERVED_WORDS\">\n+    <changeSet id=\"1\" author=\"st\">\n+        <createTable tableName=\"ST_ATMOSPHERE\">\n+            <column name=\"ID\" type=\"UUID\">\n+                <constraints nullable=\"false\" primaryKey=\"true\" primaryKeyName=\"PK_ST_ATMOSPHERE\"/>\n+            </column>\n+            <column name=\"VERSION\" type=\"INT\">\n+                <constraints nullable=\"false\"/>\n+            </column>\n+            <column name=\"DESCRIPTION\" type=\"VARCHAR(255)\">\n+                <constraints nullable=\"false\"/>\n+            </column>\n+            <column name=\"PRESSURE\" type=\"DOUBLE\"/>\n+        </createTable>\n+    </changeSet>\n+    <changeSet id=\"2\" author=\"st\">\n+        <createTable tableName=\"ST_ATMOSPHERIC_GAS\">\n+            <column name=\"ID\" type=\"UUID\">\n+                <constraints nullable=\"false\" primaryKey=\"true\" primaryKeyName=\"PK_ST_ATMOSPHERIC_GAS\"/>\n+            </column>\n+            <column name=\"VERSION\" type=\"INT\">\n+                <constraints nullable=\"false\"/>\n+            </column>\n+            <column name=\"GAS_ID\" type=\"UUID\">\n+                <constraints nullable=\"false\"/>\n+            </column>\n+            <column name=\"VOLUME\" type=\"DOUBLE\"/>\n+            <column name=\"ATMOSPHERE_ID\" type=\"UUID\">\n+                <constraints nullable=\"false\"/>\n+            </column>\n+        </createTable>\n+    </changeSet>\n+    <changeSet id=\"3\" author=\"st\">\n+        <createTable tableName=\"ST_CARRIER\">\n+            <column name=\"ID\" type=\"UUID\">\n+                <constraints nullable=\"false\" primaryKey=\"true\" primaryKeyName=\"PK_ST_CARRIER\"/>\n+            </column>\n+            <column name=\"VERSION\" type=\"INT\">\n+                <constraints nullable=\"false\"/>\n+            </column>\n+            <column name=\"NAME\" type=\"VARCHAR(255)\">\n+                <constraints nullable=\"false\"/>\n+            </column>\n+        </createTable>\n+    </changeSet>\n+    <changeSet id=\"4\" author=\"st\">\n+        <createTable tableName=\"ST_CARRIER_SPACEPORT_LINK\">\n+            <column name=\"CARRIER_ID\" type=\"UUID\">\n+                <constraints nullable=\"false\" primaryKey=\"true\" primaryKeyName=\"PK_ST_CARRIER_SPACEPORT_LINK\"/>\n+            </column>\n+            <column name=\"SPACEPORT_ID\" type=\"UUID\">\n+                <constraints nullable=\"false\" primaryKey=\"true\" primaryKeyName=\"PK_ST_CARRIER_SPACEPORT_LINK\"/>\n+            </column>\n+        </createTable>\n+    </changeSet>\n+    <changeSet id=\"5\" author=\"st\">\n+        <createTable tableName=\"ST_COMPANY\">\n+            <column name=\"ID\" type=\"UUID\">\n+                <constraints nullable=\"false\" primaryKey=\"true\" primaryKeyName=\"PK_ST_COMPANY\"/>\n+            </column>\n+            <column name=\"COMPANY_TYPE\" type=\"VARCHAR(255)\"/>\n+            <column name=\"REGISTRATION_ID\" type=\"VARCHAR(255)\">\n+                <constraints nullable=\"false\"/>\n+            </column>\n+        </createTable>\n+    </changeSet>\n+    <changeSet id=\"6\" author=\"st\">\n+        <createTable tableName=\"ST_CUSTOMER\">\n+            <column name=\"ID\" type=\"UUID\">\n+                <constraints nullable=\"false\" primaryKey=\"true\" primaryKeyName=\"PK_ST_CUSTOMER\"/>\n+            </column>\n+            <column name=\"DTYPE\" type=\"VARCHAR(31)\"/>\n+            <column name=\"VERSION\" type=\"INT\">\n+                <constraints nullable=\"false\"/>\n+            </column>\n+            <column name=\"NAME\" type=\"VARCHAR(255)\">\n+                <constraints nullable=\"false\"/>\n+            </column>\n+            <column name=\"EMAIL\" type=\"VARCHAR(255)\"/>\n+            <column name=\"GRADE\" type=\"VARCHAR(255)\"/>\n+        </createTable>\n+    </changeSet>\n+    <changeSet id=\"7\" author=\"st\">\n+        <createTable tableName=\"ST_DISCOUNTS\">\n+            <column name=\"ID\" type=\"UUID\">\n+                <constraints nullable=\"false\" primaryKey=\"true\" primaryKeyName=\"PK_ST_DISCOUNTS\"/>\n+            </column>\n+            <column name=\"VERSION\" type=\"INT\">\n+                <constraints nullable=\"false\"/>\n+            </column>\n+            <column name=\"VALUE_\" type=\"DECIMAL(19, 2)\">\n+                <constraints nullable=\"false\"/>\n+            </column>\n+            <column name=\"GRADE\" type=\"VARCHAR(255)\">\n+                <constraints nullable=\"false\"/>\n+            </column>\n+        </createTable>\n+    </changeSet>\n+    <changeSet id=\"8\" author=\"st\">\n+        <createTable tableName=\"ST_GAS\">\n+            <column name=\"ID\" type=\"UUID\">\n+                <constraints nullable=\"false\" primaryKey=\"true\" primaryKeyName=\"PK_ST_GAS\"/>\n+            </column>\n+            <column name=\"VERSION\" type=\"INT\">\n+                <constraints nullable=\"false\"/>\n+            </column>\n+            <column name=\"NAME\" type=\"VARCHAR(255)\">\n+                <constraints nullable=\"false\"/>\n+            </column>\n+        </createTable>\n+    </changeSet>\n+    <changeSet id=\"9\" author=\"st\">\n+        <createTable tableName=\"ST_INDIVIDUAL\">\n+            <column name=\"ID\" type=\"UUID\">\n+                <constraints nullable=\"false\" primaryKey=\"true\" primaryKeyName=\"PK_ST_INDIVIDUAL\"/>\n+            </column>\n+            <column name=\"FIRST_NAME\" type=\"VARCHAR(255)\">\n+                <constraints nullable=\"false\"/>\n+            </column>\n+            <column name=\"LAST_NAME\" type=\"VARCHAR(255)\">\n+                <constraints nullable=\"false\"/>\n+            </column>\n+        </createTable>\n+    </changeSet>\n+    <changeSet id=\"10\" author=\"st\">\n+        <createTable tableName=\"ST_MOON\">\n+            <column name=\"ID\" type=\"UUID\">\n+                <constraints nullable=\"false\" primaryKey=\"true\" primaryKeyName=\"PK_ST_MOON\"/>\n+            </column>\n+            <column name=\"NAME\" type=\"VARCHAR(255)\"/>\n+            <column name=\"MASS\" type=\"DOUBLE\"/>\n+            <column name=\"PICTURE\" type=\"VARCHAR(255)\"/>\n+            <column name=\"VERSION\" type=\"INT\">\n+                <constraints nullable=\"false\"/>\n+            </column>\n+            <column name=\"ATMOSPHERE_ID\" type=\"UUID\">\n+                <constraints nullable=\"false\"/>\n+            </column>\n+            <column name=\"PLANET_ID\" type=\"UUID\"/>\n+        </createTable>\n+    </changeSet>\n+    <changeSet id=\"11\" author=\"st\">\n+        <createTable tableName=\"ST_PLANET\">\n+            <column name=\"ID\" type=\"UUID\">\n+                <constraints nullable=\"false\" primaryKey=\"true\" primaryKeyName=\"PK_ST_PLANET\"/>\n+            </column>\n+            <column name=\"NAME\" type=\"VARCHAR(255)\"/>\n+            <column name=\"MASS\" type=\"DOUBLE\"/>\n+            <column name=\"PICTURE\" type=\"VARCHAR(255)\"/>\n+            <column name=\"VERSION\" type=\"INT\">\n+                <constraints nullable=\"false\"/>\n+            </column>\n+            <column name=\"SEMI_MAJOR_AXIS\" type=\"DOUBLE\">\n+                <constraints nullable=\"false\"/>\n+            </column>\n+            <column name=\"ORBITAL_PERIOD\" type=\"DOUBLE\">\n+                <constraints nullable=\"false\"/>\n+            </column>\n+            <column name=\"ROTATION_PERIOD\" type=\"DOUBLE\">\n+                <constraints nullable=\"false\"/>\n+            </column>\n+            <column name=\"ATMOSPHERE_ID\" type=\"UUID\">\n+                <constraints nullable=\"false\"/>\n+            </column>\n+            <column name=\"RINGS\" type=\"BOOLEAN\">\n+                <constraints nullable=\"false\"/>\n+            </column>\n+        </createTable>\n+    </changeSet>\n+    <changeSet id=\"12\" author=\"st\">\n+        <createTable tableName=\"ST_SPACEPORT\">\n+            <column name=\"ID\" type=\"UUID\">\n+                <constraints nullable=\"false\" primaryKey=\"true\" primaryKeyName=\"PK_ST_SPACEPORT\"/>\n+            </column>\n+            <column name=\"VERSION\" type=\"INT\">\n+                <constraints nullable=\"false\"/>\n+            </column>\n+            <column name=\"NAME\" type=\"VARCHAR(255)\">\n+                <constraints nullable=\"false\"/>\n+            </column>\n+            <column name=\"IS_DEFAULT\" type=\"BOOLEAN\">\n+                <constraints nullable=\"false\"/>\n+            </column>\n+            <column name=\"MOON_ID\" type=\"UUID\"/>\n+            <column name=\"PLANET_ID\" type=\"UUID\"/>\n+            <column name=\"COORDINATES_LATITUDE\" type=\"DOUBLE\">\n+                <constraints nullable=\"false\"/>\n+            </column>\n+            <column name=\"COORDINATES_LONGITUDE\" type=\"DOUBLE\">\n+                <constraints nullable=\"false\"/>\n+            </column>\n+        </createTable>\n+    </changeSet>\n+    <changeSet id=\"13\" author=\"st\">\n+        <createTable tableName=\"ST_WAYBILL\">\n+            <column name=\"ID\" type=\"UUID\">\n+                <constraints nullable=\"false\" primaryKey=\"true\" primaryKeyName=\"PK_ST_WAYBILL\"/>\n+            </column>\n+            <column name=\"VERSION\" type=\"INT\">\n+                <constraints nullable=\"false\"/>\n+            </column>\n+            <column name=\"REFERENCE\" type=\"VARCHAR(255)\">\n+                <constraints nullable=\"false\"/>\n+            </column>\n+            <column name=\"CREATOR_ID\" type=\"UUID\"/>\n+            <column name=\"SHIPPER_ID\" type=\"UUID\">\n+                <constraints nullable=\"false\"/>\n+            </column>\n+            <column name=\"CONSIGNEE_ID\" type=\"UUID\">\n+                <constraints nullable=\"false\"/>\n+            </column>\n+            <column name=\"DEPARTURE_PORT_ID\" type=\"UUID\">\n+                <constraints nullable=\"false\"/>\n+            </column>\n+            <column name=\"DESTINATION_PORT_ID\" type=\"UUID\">\n+                <constraints nullable=\"false\"/>\n+            </column>\n+            <column name=\"CARRIER_ID\" type=\"UUID\">\n+                <constraints nullable=\"false\"/>\n+            </column>\n+            <column name=\"TOTAL_WEIGHT\" type=\"DOUBLE\"/>\n+            <column name=\"TOTAL_CHARGE\" type=\"DECIMAL(19, 2)\"/>\n+        </createTable>\n+    </changeSet>\n+    <changeSet id=\"14\" author=\"st\">\n+        <createTable tableName=\"ST_WAYBILL_ITEM\">\n+            <column name=\"ID\" type=\"UUID\">\n+                <constraints nullable=\"false\" primaryKey=\"true\" primaryKeyName=\"PK_ST_WAYBILL_ITEM\"/>\n+            </column>\n+            <column name=\"VERSION\" type=\"INT\">\n+                <constraints nullable=\"false\"/>\n+            </column>\n+            <column name=\"NUMBER_\" type=\"INT\">\n+                <constraints nullable=\"false\"/>\n+            </column>\n+            <column name=\"NAME\" type=\"VARCHAR(255)\">\n+                <constraints nullable=\"false\"/>\n+            </column>\n+            <column name=\"WEIGHT\" type=\"DOUBLE\"/>\n+            <column name=\"CHARGE\" type=\"DECIMAL(19, 2)\"/>\n+            <column name=\"WAYBILL_ID\" type=\"UUID\">\n+                <constraints nullable=\"false\"/>\n+            </column>\n+            <column name=\"DIM_HEIGHT\" type=\"DOUBLE\">\n+                <constraints nullable=\"false\"/>\n+            </column>\n+            <column name=\"DIM_WIDTH\" type=\"DOUBLE\">\n+                <constraints nullable=\"false\"/>\n+            </column>\n+            <column name=\"DIM_LENGTH\" type=\"DOUBLE\">\n+                <constraints nullable=\"false\"/>\n+            </column>\n+        </createTable>\n+    </changeSet>\n+    <changeSet id=\"15\" author=\"st\">\n+        <addUniqueConstraint columnNames=\"NAME\" constraintName=\"UC_ST_CARRIER_NAME\" tableName=\"ST_CARRIER\"/>\n+    </changeSet>\n+    <changeSet id=\"16\" author=\"st\">\n+        <addUniqueConstraint columnNames=\"REGISTRATION_ID\" constraintName=\"UC_ST_COMPANY_REGISTRATION\"\n+                             tableName=\"ST_COMPANY\"/>\n+    </changeSet>\n+    <changeSet id=\"17\" author=\"st\">\n+        <addUniqueConstraint columnNames=\"NAME\" constraintName=\"UC_ST_CUSTOMER_NAME\" tableName=\"ST_CUSTOMER\"/>\n+    </changeSet>\n+    <changeSet id=\"18\" author=\"st\">\n+        <addUniqueConstraint columnNames=\"GRADE\" constraintName=\"UC_ST_DISCOUNTS_GRADE\" tableName=\"ST_DISCOUNTS\"/>\n+    </changeSet>\n+    <changeSet id=\"19\" author=\"st\">\n+        <addUniqueConstraint columnNames=\"NAME\" constraintName=\"UC_ST_GAS_NAME\" tableName=\"ST_GAS\"/>\n+    </changeSet>\n+    <changeSet id=\"20\" author=\"st\">\n+        <addUniqueConstraint columnNames=\"NAME\" constraintName=\"UC_ST_MOON_NAME\" tableName=\"ST_MOON\"/>\n+    </changeSet>\n+    <changeSet id=\"21\" author=\"st\">\n+        <addUniqueConstraint columnNames=\"NAME\" constraintName=\"UC_ST_PLANET_NAME\" tableName=\"ST_PLANET\"/>\n+    </changeSet>\n+    <changeSet id=\"22\" author=\"st\">\n+        <addUniqueConstraint columnNames=\"NAME\" constraintName=\"UC_ST_SPACEPORT_NAME\" tableName=\"ST_SPACEPORT\"/>\n+    </changeSet>\n+    <changeSet id=\"23\" author=\"st\">\n+        <addUniqueConstraint columnNames=\"NAME\" constraintName=\"UC_ST_WAYBILL_ITEM_NAME\" tableName=\"ST_WAYBILL_ITEM\"/>\n+    </changeSet>\n+    <changeSet id=\"24\" author=\"st\">\n+        <addUniqueConstraint columnNames=\"REFERENCE\" constraintName=\"UC_ST_WAYBILL_REFERENCE\" tableName=\"ST_WAYBILL\"/>\n+    </changeSet>\n+    <changeSet id=\"25\" author=\"st\">\n+        <addForeignKeyConstraint baseColumnNames=\"CARRIER_ID\" baseTableName=\"ST_CARRIER_SPACEPORT_LINK\"\n+                                 constraintName=\"FK_STCARSPA_ON_CARRIER\" referencedColumnNames=\"ID\"\n+                                 referencedTableName=\"ST_CARRIER\"/>\n+    </changeSet>\n+    <changeSet id=\"26\" author=\"st\">\n+        <addForeignKeyConstraint baseColumnNames=\"SPACEPORT_ID\" baseTableName=\"ST_CARRIER_SPACEPORT_LINK\"\n+                                 constraintName=\"FK_STCARSPA_ON_SPACEPORT\" referencedColumnNames=\"ID\"\n+                                 referencedTableName=\"ST_SPACEPORT\"/>\n+    </changeSet>\n+    <changeSet id=\"27\" author=\"st\">\n+        <addForeignKeyConstraint baseColumnNames=\"ATMOSPHERE_ID\" baseTableName=\"ST_ATMOSPHERIC_GAS\"\n+                                 constraintName=\"FK_ST_ATMOSPHERIC_GAS_ON_ATMOSPHERE\" onDelete=\"CASCADE\"\n+                                 referencedColumnNames=\"ID\" referencedTableName=\"ST_ATMOSPHERE\"/>\n+    </changeSet>\n+    <changeSet id=\"28\" author=\"st\">\n+        <addForeignKeyConstraint baseColumnNames=\"GAS_ID\" baseTableName=\"ST_ATMOSPHERIC_GAS\"\n+                                 constraintName=\"FK_ST_ATMOSPHERIC_GAS_ON_GAS\" referencedColumnNames=\"ID\"\n+                                 referencedTableName=\"ST_GAS\"/>\n+    </changeSet>\n+    <changeSet id=\"29\" author=\"st\">\n+        <addForeignKeyConstraint baseColumnNames=\"ID\" baseTableName=\"ST_COMPANY\" constraintName=\"FK_ST_COMPANY_ON_ID\"\n+                                 referencedColumnNames=\"ID\" referencedTableName=\"ST_CUSTOMER\"/>\n+    </changeSet>\n+    <changeSet id=\"30\" author=\"st\">\n+        <addForeignKeyConstraint baseColumnNames=\"ID\" baseTableName=\"ST_INDIVIDUAL\"\n+                                 constraintName=\"FK_ST_INDIVIDUAL_ON_ID\" referencedColumnNames=\"ID\"\n+                                 referencedTableName=\"ST_CUSTOMER\"/>\n+    </changeSet>\n+    <changeSet id=\"31\" author=\"st\">\n+        <addForeignKeyConstraint baseColumnNames=\"ATMOSPHERE_ID\" baseTableName=\"ST_MOON\"\n+                                 constraintName=\"FK_ST_MOON_ON_ATMOSPHERE\" referencedColumnNames=\"ID\"\n+                                 referencedTableName=\"ST_ATMOSPHERE\"/>\n+    </changeSet>\n+    <changeSet id=\"32\" author=\"st\">\n+        <addForeignKeyConstraint baseColumnNames=\"PLANET_ID\" baseTableName=\"ST_MOON\"\n+                                 constraintName=\"FK_ST_MOON_ON_PLANET\" referencedColumnNames=\"ID\"\n+                                 referencedTableName=\"ST_PLANET\"/>\n+    </changeSet>\n+    <changeSet id=\"33\" author=\"st\">\n+        <addForeignKeyConstraint baseColumnNames=\"ATMOSPHERE_ID\" baseTableName=\"ST_PLANET\"\n+                                 constraintName=\"FK_ST_PLANET_ON_ATMOSPHERE\" referencedColumnNames=\"ID\"\n+                                 referencedTableName=\"ST_ATMOSPHERE\"/>\n+    </changeSet>\n+    <changeSet id=\"34\" author=\"st\">\n+        <addForeignKeyConstraint baseColumnNames=\"MOON_ID\" baseTableName=\"ST_SPACEPORT\"\n+                                 constraintName=\"FK_ST_SPACEPORT_ON_MOON\" referencedColumnNames=\"ID\"\n+                                 referencedTableName=\"ST_MOON\"/>\n+    </changeSet>\n+    <changeSet id=\"35\" author=\"st\">\n+        <addForeignKeyConstraint baseColumnNames=\"PLANET_ID\" baseTableName=\"ST_SPACEPORT\"\n+                                 constraintName=\"FK_ST_SPACEPORT_ON_PLANET\" referencedColumnNames=\"ID\"\n+                                 referencedTableName=\"ST_PLANET\"/>\n+    </changeSet>\n+    <changeSet id=\"36\" author=\"st\">\n+        <addForeignKeyConstraint baseColumnNames=\"WAYBILL_ID\" baseTableName=\"ST_WAYBILL_ITEM\"\n+                                 constraintName=\"FK_ST_WAYBILL_ITEM_ON_WAYBILL\" onDelete=\"CASCADE\"\n+                                 referencedColumnNames=\"ID\" referencedTableName=\"ST_WAYBILL\"/>\n+    </changeSet>\n+    <changeSet id=\"37\" author=\"st\">\n+        <addForeignKeyConstraint baseColumnNames=\"CARRIER_ID\" baseTableName=\"ST_WAYBILL\"\n+                                 constraintName=\"FK_ST_WAYBILL_ON_CARRIER\" referencedColumnNames=\"ID\"\n+                                 referencedTableName=\"ST_CARRIER\"/>\n+    </changeSet>\n+    <changeSet id=\"38\" author=\"st\">\n+        <addForeignKeyConstraint baseColumnNames=\"CONSIGNEE_ID\" baseTableName=\"ST_WAYBILL\"\n+                                 constraintName=\"FK_ST_WAYBILL_ON_CONSIGNEE\" referencedColumnNames=\"ID\"\n+                                 referencedTableName=\"ST_CUSTOMER\"/>\n+    </changeSet>\n+    <changeSet id=\"39\" author=\"st\">\n+        <addForeignKeyConstraint baseColumnNames=\"CREATOR_ID\" baseTableName=\"ST_WAYBILL\"\n+                                 constraintName=\"FK_ST_WAYBILL_ON_CREATOR\" onDelete=\"SET NULL\"\n+                                 referencedColumnNames=\"ID\" referencedTableName=\"ST_USER\"/>\n+    </changeSet>\n+    <changeSet id=\"40\" author=\"st\">\n+        <addForeignKeyConstraint baseColumnNames=\"DEPARTURE_PORT_ID\" baseTableName=\"ST_WAYBILL\"\n+                                 constraintName=\"FK_ST_WAYBILL_ON_DEPARTURE_PORT\" referencedColumnNames=\"ID\"\n+                                 referencedTableName=\"ST_SPACEPORT\"/>\n+    </changeSet>\n+    <changeSet id=\"41\" author=\"st\">\n+        <addForeignKeyConstraint baseColumnNames=\"DESTINATION_PORT_ID\" baseTableName=\"ST_WAYBILL\"\n+                                 constraintName=\"FK_ST_WAYBILL_ON_DESTINATION_PORT\" referencedColumnNames=\"ID\"\n+                                 referencedTableName=\"ST_SPACEPORT\"/>\n+    </changeSet>\n+    <changeSet id=\"42\" author=\"st\">\n+        <addForeignKeyConstraint baseColumnNames=\"SHIPPER_ID\" baseTableName=\"ST_WAYBILL\"\n+                                 constraintName=\"FK_ST_WAYBILL_ON_SHIPPER\" referencedColumnNames=\"ID\"\n+                                 referencedTableName=\"ST_CUSTOMER\"/>\n+    </changeSet>\n+</databaseChangeLog>\n\\ No newline at end of file"
  },
  {
    "sha": "682856b7906432a6e1c9a4810975c7c901d9c576",
    "filename": "src/main/resources/com/company/spacetrans/liquibase/changelog/2021/03/19-030-dd70fa2d.xml",
    "status": "added",
    "additions": 28,
    "deletions": 0,
    "changes": 28,
    "blob_url": "https://github.com/Al-xandr1/spacetrans/blob/230dda626e63a6ea4e4f125b85174939fd986640/src/main/resources/com/company/spacetrans/liquibase/changelog/2021/03/19-030-dd70fa2d.xml",
    "raw_url": "https://github.com/Al-xandr1/spacetrans/raw/230dda626e63a6ea4e4f125b85174939fd986640/src/main/resources/com/company/spacetrans/liquibase/changelog/2021/03/19-030-dd70fa2d.xml",
    "contents_url": "https://api.github.com/repos/Al-xandr1/spacetrans/contents/src/main/resources/com/company/spacetrans/liquibase/changelog/2021/03/19-030-dd70fa2d.xml?ref=230dda626e63a6ea4e4f125b85174939fd986640",
    "patch": "@@ -0,0 +1,28 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<databaseChangeLog\n+        xmlns=\"http://www.liquibase.org/xml/ns/dbchangelog\"\n+        xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+        xsi:schemaLocation=\"http://www.liquibase.org/xml/ns/dbchangelog\n+                      http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.3.xsd\"\n+        objectQuotingStrategy=\"QUOTE_ONLY_RESERVED_WORDS\">\n+<!--    todo BUG it is generated automatically and tried to update DB, but this objects already exist in DB after previous updating -->\n+<!--    <changeSet id=\"1\" author=\"st\">-->\n+<!--        <addUniqueConstraint columnNames=\"REGISTRATION_ID\" constraintName=\"UC_ST_COMPANY_REGISTRATION\"-->\n+<!--                             tableName=\"ST_COMPANY\"/>-->\n+<!--    </changeSet>-->\n+<!--    <changeSet id=\"2\" author=\"st\">-->\n+<!--        <addUniqueConstraint columnNames=\"NAME\" constraintName=\"UC_ST_CUSTOMER_NAME\" tableName=\"ST_CUSTOMER\"/>-->\n+<!--    </changeSet>-->\n+<!--    <changeSet id=\"3\" author=\"st\">-->\n+<!--        <addUniqueConstraint columnNames=\"NAME\" constraintName=\"UC_ST_GAS_NAME\" tableName=\"ST_GAS\"/>-->\n+<!--    </changeSet>-->\n+<!--    <changeSet id=\"4\" author=\"st\">-->\n+<!--        <addUniqueConstraint columnNames=\"NAME\" constraintName=\"UC_ST_SPACEPORT_NAME\" tableName=\"ST_SPACEPORT\"/>-->\n+<!--    </changeSet>-->\n+<!--    <changeSet id=\"5\" author=\"st\">-->\n+<!--        <addUniqueConstraint columnNames=\"NAME\" constraintName=\"UC_ST_WAYBILL_ITEM_NAME\" tableName=\"ST_WAYBILL_ITEM\"/>-->\n+<!--    </changeSet>-->\n+<!--    <changeSet id=\"6\" author=\"st\">-->\n+<!--        <addUniqueConstraint columnNames=\"REFERENCE\" constraintName=\"UC_ST_WAYBILL_REFERENCE\" tableName=\"ST_WAYBILL\"/>-->\n+<!--    </changeSet>-->\n+</databaseChangeLog>\n\\ No newline at end of file"
  },
  {
    "sha": "0c583a0fe3dc31052d3720dc48212fbfe801f2ff",
    "filename": "src/main/resources/com/company/spacetrans/messages.properties",
    "status": "modified",
    "additions": 85,
    "deletions": 26,
    "changes": 111,
    "blob_url": "https://github.com/Al-xandr1/spacetrans/blob/230dda626e63a6ea4e4f125b85174939fd986640/src/main/resources/com/company/spacetrans/messages.properties",
    "raw_url": "https://github.com/Al-xandr1/spacetrans/raw/230dda626e63a6ea4e4f125b85174939fd986640/src/main/resources/com/company/spacetrans/messages.properties",
    "contents_url": "https://api.github.com/repos/Al-xandr1/spacetrans/contents/src/main/resources/com/company/spacetrans/messages.properties?ref=230dda626e63a6ea4e4f125b85174939fd986640",
    "patch": "@@ -1,31 +1,26 @@\n com.company.spacetrans/menu.application=Application\n-\n-com.company.spacetrans.screen.main/application.caption = Spacetrans application\n-com.company.spacetrans.screen.main/application.logoLabel = Spacetrans application\n-\n-com.company.spacetrans.screen.main/sideMenuCollapse = Collapse menu\n-com.company.spacetrans.screen.main/logoutBtnDescription = Logout\n-\n-com.company.spacetrans.screen.login/usernamePlaceholder = User name\n-com.company.spacetrans.screen.login/passwordPlaceholder = Password\n-com.company.spacetrans.screen.login/welcomeLabel = Welcome to Spacetrans application\n-com.company.spacetrans.screen.login/loginButton = Submit\n-com.company.spacetrans.screen.login/caption = Sample\n-com.company.spacetrans.screen.login/loginFailed = Login failed\n-com.company.spacetrans.screen.login/emptyUsernameOrPassword = Please enter user name and password\n+com.company.spacetrans.screen.main/application.caption=Spacetrans application\n+com.company.spacetrans.screen.main/application.logoLabel=Spacetrans application\n+com.company.spacetrans.screen.main/sideMenuCollapse=Collapse menu\n+com.company.spacetrans.screen.main/logoutBtnDescription=Logout\n+com.company.spacetrans.screen.login/usernamePlaceholder=User name\n+com.company.spacetrans.screen.login/passwordPlaceholder=Password\n+com.company.spacetrans.screen.login/welcomeLabel=Welcome to Spacetrans application\n+com.company.spacetrans.screen.login/loginButton=Submit\n+com.company.spacetrans.screen.login/caption=Sample\n+com.company.spacetrans.screen.login/loginFailed=Login failed\n+com.company.spacetrans.screen.login/emptyUsernameOrPassword=Please enter user name and password\n com.company.spacetrans.screen.login/loginScreen.rememberMe=Remember me\n-\n-com.company.spacetrans.entity/User = User\n-com.company.spacetrans.entity/User.id = ID\n-com.company.spacetrans.entity/User.version = Version\n-com.company.spacetrans.entity/User.lastName = Last name\n-com.company.spacetrans.entity/User.firstName = First name\n-com.company.spacetrans.entity/User.enabled = Enabled\n-com.company.spacetrans.entity/User.password = Password\n-com.company.spacetrans.entity/User.email = Email\n-com.company.spacetrans.entity/User.username = Username\n-\n-com.company.spacetrans.screen.user/UserBrowse.caption = Users\n+com.company.spacetrans.entity/User=User\n+com.company.spacetrans.entity/User.id=ID\n+com.company.spacetrans.entity/User.version=Version\n+com.company.spacetrans.entity/User.lastName=Last name\n+com.company.spacetrans.entity/User.firstName=First name\n+com.company.spacetrans.entity/User.enabled=Enabled\n+com.company.spacetrans.entity/User.password=Password\n+com.company.spacetrans.entity/User.email=Email\n+com.company.spacetrans.entity/User.username=Username\n+com.company.spacetrans.screen.user/UserBrowse.caption=Users\n com.company.spacetrans.screen.user/UserEdit.caption=User editor\n com.company.spacetrans.screen.user/confirmPassword=Confirm password\n com.company.spacetrans.screen.user/passwordsDoNotMatch=Passwords do not match\n@@ -43,6 +38,7 @@ com.company.spacetrans.entity/Atmosphere=Atmosphere\n com.company.spacetrans.entity/Atmosphere.id=Id\n com.company.spacetrans.entity/Atmosphere.description=Description\n com.company.spacetrans.entity/Atmosphere.pressure=Pressure\n+com.company.spacetrans.entity/Atmosphere.gases=Gases\n com.company.spacetrans.entity/Gas=Gas\n com.company.spacetrans.entity/Gas.id=Id\n com.company.spacetrans.entity/Gas.name=Name\n@@ -68,3 +64,66 @@ com.company.spacetrans.screen.moon/moonEdit.caption=Moon editor\n com.company.spacetrans.screen.atmosphericgas/atmosphericGasEdit.caption=AtmosphericGas editor\n com.company.spacetrans.screen.planet/planetBrowse.caption=Planet browser\n com.company.spacetrans.screen.planet/planetEdit.caption=Planet editor\n+com.company.spacetrans.screen.planet/importPlanet.caption=Import\n+com.company.spacetrans.screen.planet/importPlanet.description=Imports planets from CSV file\n+com.company.spacetrans.entity/AbstractEntity=Abstract entity\n+com.company.spacetrans.entity/AbstractEntity.id=Id\n+com.company.spacetrans.entity/AbstractEntity.version=Version\n+com.company.spacetrans.entity/Spaceport=Spaceport\n+com.company.spacetrans.entity/Spaceport.name=Name\n+com.company.spacetrans.entity/Spaceport.planet=Planet\n+com.company.spacetrans.entity/Spaceport.moon=Moon\n+com.company.spacetrans.entity/Spaceport.isDefault=Is default\n+com.company.spacetrans.entity/Spaceport.coordinates=Coordinates\n+com.company.spacetrans.entity/Spaceport.carriers=Carriers\n+com.company.spacetrans.entity/Coordinates=Coordinates\n+com.company.spacetrans.entity/Coordinates.latitude=Latitude\n+com.company.spacetrans.entity/Coordinates.longitude=Longitude\n+com.company.spacetrans.entity/Coordinates.instanceName=(lat=%s, long=%s)\n+com.company.spacetrans.entity/Carrier=Carrier\n+com.company.spacetrans.entity/Carrier.name=Name\n+com.company.spacetrans.entity/Carrier.ports=Ports\n+com.company.spacetrans.entity/Waybill=Way bill\n+com.company.spacetrans.entity/Waybill.reference=Reference\n+com.company.spacetrans.entity/Waybill.creator=Creator\n+com.company.spacetrans.entity/Waybill.shipper=Shipper\n+com.company.spacetrans.entity/Waybill.consignee=Consignee\n+com.company.spacetrans.entity/Waybill.departurePort=Departure port\n+com.company.spacetrans.entity/Waybill.destinationPort=Destination port\n+com.company.spacetrans.entity/Waybill.carrier=Carrier\n+com.company.spacetrans.entity/Customer=Customer\n+com.company.spacetrans.entity/Customer.name=Name\n+com.company.spacetrans.entity/Customer.email=Email\n+com.company.spacetrans.entity/Individual=Individual\n+com.company.spacetrans.entity/Individual.firstName=First name\n+com.company.spacetrans.entity/Individual.lastName=Last name\n+com.company.spacetrans.entity/Company=Company\n+com.company.spacetrans.entity/Company.registrationId=Registration id\n+com.company.spacetrans.entity/Company.companyType=Company type\n+com.company.spacetrans.entity/CustomerGrade=Customer grade\n+com.company.spacetrans.entity/CustomerGrade.BRONZE=Bronze\n+com.company.spacetrans.entity/CustomerGrade.SILVER=Silver\n+com.company.spacetrans.entity/CustomerGrade.GOLD=Gold\n+com.company.spacetrans.entity/Customer.grade=Grade\n+com.company.spacetrans.entity/Discounts=Discounts\n+com.company.spacetrans.entity/Discounts.instanceName=Discount for %s is %s\n+com.company.spacetrans.entity/Discounts.grade=Grade\n+com.company.spacetrans.entity/Discounts.value=Value\n+com.company.spacetrans.entity/WaybillItem=Waybill item\n+com.company.spacetrans.entity/WaybillItem.number=Number\n+com.company.spacetrans.entity/WaybillItem.name=Name\n+com.company.spacetrans.entity/WaybillItem.weight=Weight\n+com.company.spacetrans.entity/WaybillItem.dim=Dim\n+com.company.spacetrans.entity/WaybillItem.totalWeight=Total weight\n+com.company.spacetrans.entity/WaybillItem.totalCharge=Total charge\n+com.company.spacetrans.entity/WaybillItem.waybill=Waybill\n+com.company.spacetrans.entity/WaybillItem.charge=Charge\n+com.company.spacetrans.entity/WaybillItem.attr=Attr\n+com.company.spacetrans.entity/Waybill.items=Items\n+com.company.spacetrans.entity/Waybill.totalWeight=Total weight\n+com.company.spacetrans.entity/Waybill.totalCharge=Total charge\n+com.company.spacetrans.entity/Dimensions.instanceName=(h=%s, w=%s, l=%s)\n+com.company.spacetrans.entity/Dimensions=Dimensions\n+com.company.spacetrans.entity/Dimensions.length=Length\n+com.company.spacetrans.entity/Dimensions.width=Width\n+com.company.spacetrans.entity/Dimensions.height=Height"
  },
  {
    "sha": "db7b99939a7798b70fdf727fedb416bb52f50d9d",
    "filename": "src/main/resources/com/company/spacetrans/screen/moon/moon-browse.xml",
    "status": "modified",
    "additions": 1,
    "deletions": 1,
    "changes": 2,
    "blob_url": "https://github.com/Al-xandr1/spacetrans/blob/230dda626e63a6ea4e4f125b85174939fd986640/src/main/resources/com/company/spacetrans/screen/moon/moon-browse.xml",
    "raw_url": "https://github.com/Al-xandr1/spacetrans/raw/230dda626e63a6ea4e4f125b85174939fd986640/src/main/resources/com/company/spacetrans/screen/moon/moon-browse.xml",
    "contents_url": "https://api.github.com/repos/Al-xandr1/spacetrans/contents/src/main/resources/com/company/spacetrans/screen/moon/moon-browse.xml?ref=230dda626e63a6ea4e4f125b85174939fd986640",
    "patch": "@@ -70,7 +70,7 @@\n                     <button action=\"lookupCancelAction\"/>\n                 </hbox>\n             </vbox>\n-            <!--todo [LOW] add picture scaling -->\n+            <!--todo LOW add picture scaling -->\n             <vbox id=\"pictureBox\" height=\"100%\" spacing=\"true\" expand=\"moonPicture\" margin=\"true\" width=\"AUTO\">\n                 <image id=\"moonPicture\" dataContainer=\"moonsDc\" property=\"picture\" scaleMode=\"SCALE_DOWN\"/>\n             </vbox>"
  }
]
