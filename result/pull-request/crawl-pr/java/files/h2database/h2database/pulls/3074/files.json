[
  {
    "sha": "6c28ac5feb6986a7f24b9d6f2e6f163fbff27b5a",
    "filename": "h2/src/docsrc/html/features.html",
    "status": "modified",
    "additions": 3,
    "deletions": 0,
    "changes": 3,
    "blob_url": "https://github.com/h2database/h2database/blob/ce1f46a3f0e079db3f060018fb0afec83834be50/h2/src/docsrc/html/features.html",
    "raw_url": "https://github.com/h2database/h2database/raw/ce1f46a3f0e079db3f060018fb0afec83834be50/h2/src/docsrc/html/features.html",
    "contents_url": "https://api.github.com/repos/h2database/h2database/contents/h2/src/docsrc/html/features.html?ref=ce1f46a3f0e079db3f060018fb0afec83834be50",
    "patch": "@@ -959,6 +959,7 @@ <h3>MariaDB Compatibility Mode</h3>\n </li><li>LIMIT / OFFSET clauses are supported.\n </li><li>AUTO_INCREMENT clause can be used.\n </li><li>YEAR data type is treated like SMALLINT data type.\n+</li><li>GROUP BY clause can contain 1-based positions of expressions from the SELECT list.\n </li></ul>\n <p>\n Text comparison in MariaDB is case insensitive by default, while in H2 it is case sensitive (as in most other databases).\n@@ -998,6 +999,7 @@ <h3>MySQL Compatibility Mode</h3>\n </li><li>LIMIT / OFFSET clauses are supported.\n </li><li>AUTO_INCREMENT clause can be used.\n </li><li>YEAR data type is treated like SMALLINT data type.\n+</li><li>GROUP BY clause can contain 1-based positions of expressions from the SELECT list.\n </li></ul>\n <p>\n Text comparison in MySQL is case insensitive by default, while in H2 it is case sensitive (as in most other databases).\n@@ -1059,6 +1061,7 @@ <h3>PostgreSQL Compatibility Mode</h3>\n </li><li>ARRAY_SLICE() out of bounds parameters are silently corrected.\n </li><li>EXTRACT function with DOW field returns (0-6), Sunday is 0.\n </li><li>UPDATE with FROM is supported.\n+</li><li>GROUP BY clause can contain 1-based positions of expressions from the SELECT list.\n </li></ul>\n \n <h2 id=\"auto_reconnect\">Auto-Reconnect</h2>"
  },
  {
    "sha": "ce535927c91047d10fc240ae1ed5cff889d92784",
    "filename": "h2/src/main/org/h2/api/ErrorCode.java",
    "status": "modified",
    "additions": 7,
    "deletions": 1,
    "changes": 8,
    "blob_url": "https://github.com/h2database/h2database/blob/ce1f46a3f0e079db3f060018fb0afec83834be50/h2/src/main/org/h2/api/ErrorCode.java",
    "raw_url": "https://github.com/h2database/h2database/raw/ce1f46a3f0e079db3f060018fb0afec83834be50/h2/src/main/org/h2/api/ErrorCode.java",
    "contents_url": "https://api.github.com/repos/h2database/h2database/contents/h2/src/main/org/h2/api/ErrorCode.java?ref=ce1f46a3f0e079db3f060018fb0afec83834be50",
    "patch": "@@ -2234,7 +2234,13 @@\n      */\n     public static final int COLUMN_ALIAS_IS_NOT_SPECIFIED_1 = 90156;\n \n-    // next is 90157\n+    /**\n+     * The error with code <code>90157</code> is thrown when the integer\n+     * index that is used in the GROUP BY is not in the SELECT list\n+     */\n+    public static final int GROUP_BY_NOT_IN_THE_RESULT = 90157;\n+\n+    // next is 90158\n \n     private ErrorCode() {\n         // utility class"
  },
  {
    "sha": "152cc9b34f233875fc7a1a22b88b31eca97af36f",
    "filename": "h2/src/main/org/h2/command/Parser.java",
    "status": "modified",
    "additions": 18,
    "deletions": 1,
    "changes": 19,
    "blob_url": "https://github.com/h2database/h2database/blob/ce1f46a3f0e079db3f060018fb0afec83834be50/h2/src/main/org/h2/command/Parser.java",
    "raw_url": "https://github.com/h2database/h2database/raw/ce1f46a3f0e079db3f060018fb0afec83834be50/h2/src/main/org/h2/command/Parser.java",
    "contents_url": "https://api.github.com/repos/h2database/h2database/contents/h2/src/main/org/h2/command/Parser.java?ref=ce1f46a3f0e079db3f060018fb0afec83834be50",
    "patch": "@@ -3238,7 +3238,24 @@ private Select parseSelect(int start) {\n                         } while (readIfMore());\n                     }\n                 } else {\n-                    list.add(readExpression());\n+                    Expression expr = readExpression();\n+                    if (database.getMode().groupByColumnIndex && expr instanceof ValueExpression &&\n+                            expr.getType().getValueType() == Value.INTEGER) {\n+                        ArrayList<Expression> expressions = command.getExpressions();\n+                        for (Expression e : expressions) {\n+                            if (e instanceof Wildcard) {\n+                                throw getSyntaxError();\n+                            }\n+                        }\n+                        int idx = expr.getValue(session).getInt();\n+                        if (idx < 1 || idx > expressions.size()) {\n+                            throw DbException.get(ErrorCode.GROUP_BY_NOT_IN_THE_RESULT, Integer.toString(idx),\n+                                    Integer.toString(expressions.size()));\n+                        }\n+                        list.add(expressions.get(idx-1));\n+                    } else {\n+                        list.add(expr);\n+                    }\n                 }\n             } while (readIf(COMMA));\n             if (!list.isEmpty()) {"
  },
  {
    "sha": "24185d71fc6334fc17e842a3ec0f002b42393ee8",
    "filename": "h2/src/main/org/h2/engine/Mode.java",
    "status": "modified",
    "additions": 8,
    "deletions": 0,
    "changes": 8,
    "blob_url": "https://github.com/h2database/h2database/blob/ce1f46a3f0e079db3f060018fb0afec83834be50/h2/src/main/org/h2/engine/Mode.java",
    "raw_url": "https://github.com/h2database/h2database/raw/ce1f46a3f0e079db3f060018fb0afec83834be50/h2/src/main/org/h2/engine/Mode.java",
    "contents_url": "https://api.github.com/repos/h2database/h2database/contents/h2/src/main/org/h2/engine/Mode.java?ref=ce1f46a3f0e079db3f060018fb0afec83834be50",
    "patch": "@@ -430,6 +430,11 @@\n      */\n     public HashMap<String, DataType> typeByNameMap = new HashMap<>();\n \n+    /**\n+     * Allow to use GROUP BY n, where n is column index in the SELECT list, similar to ORDER BY\n+     */\n+    public boolean groupByColumnIndex;\n+\n     private final String name;\n \n     private final ModeEnum modeEnum;\n@@ -542,6 +547,7 @@\n         mode.limit = true;\n         mode.autoIncrementClause = true;\n         mode.typeByNameMap.put(\"YEAR\", DataType.getDataType(Value.SMALLINT));\n+        mode.groupByColumnIndex = true;\n         add(mode);\n \n         mode = new Mode(ModeEnum.MySQL);\n@@ -569,6 +575,7 @@\n         mode.limit = true;\n         mode.autoIncrementClause = true;\n         mode.typeByNameMap.put(\"YEAR\", DataType.getDataType(Value.SMALLINT));\n+        mode.groupByColumnIndex = true;\n         add(mode);\n \n         mode = new Mode(ModeEnum.Oracle);\n@@ -634,6 +641,7 @@\n         dt = DataType.getDataType(Value.INTEGER);\n         mode.typeByNameMap.put(\"OID\", dt);\n         mode.dateTimeValueWithinTransaction = true;\n+        mode.groupByColumnIndex = true;\n         add(mode);\n     }\n "
  },
  {
    "sha": "5772f7f869bb221b9c7d10940091e6ce079bef1b",
    "filename": "h2/src/main/org/h2/message/DbException.java",
    "status": "modified",
    "additions": 1,
    "deletions": 0,
    "changes": 1,
    "blob_url": "https://github.com/h2database/h2database/blob/ce1f46a3f0e079db3f060018fb0afec83834be50/h2/src/main/org/h2/message/DbException.java",
    "raw_url": "https://github.com/h2database/h2database/raw/ce1f46a3f0e079db3f060018fb0afec83834be50/h2/src/main/org/h2/message/DbException.java",
    "contents_url": "https://api.github.com/repos/h2database/h2database/contents/h2/src/main/org/h2/message/DbException.java?ref=ce1f46a3f0e079db3f060018fb0afec83834be50",
    "patch": "@@ -628,6 +628,7 @@ public static SQLException getJdbcSQLException(String message, String sql, Strin\n         case GENERATED_COLUMN_CANNOT_BE_ASSIGNED_1:\n         case GENERATED_COLUMN_CANNOT_BE_UPDATABLE_BY_CONSTRAINT_2:\n         case COLUMN_ALIAS_IS_NOT_SPECIFIED_1:\n+        case GROUP_BY_NOT_IN_THE_RESULT:\n             return new JdbcSQLSyntaxErrorException(message, sql, state, errorCode, cause, stackTrace);\n         case HEX_STRING_ODD_1:\n         case HEX_STRING_WRONG_1:"
  },
  {
    "sha": "f827d3dd88d1daae7595e942d2801db61510be5f",
    "filename": "h2/src/main/org/h2/res/_messages_cs.prop",
    "status": "modified",
    "additions": 1,
    "deletions": 0,
    "changes": 1,
    "blob_url": "https://github.com/h2database/h2database/blob/ce1f46a3f0e079db3f060018fb0afec83834be50/h2/src/main/org/h2/res/_messages_cs.prop",
    "raw_url": "https://github.com/h2database/h2database/raw/ce1f46a3f0e079db3f060018fb0afec83834be50/h2/src/main/org/h2/res/_messages_cs.prop",
    "contents_url": "https://api.github.com/repos/h2database/h2database/contents/h2/src/main/org/h2/res/_messages_cs.prop?ref=ce1f46a3f0e079db3f060018fb0afec83834be50",
    "patch": "@@ -194,6 +194,7 @@\n 90154=#Generated column {0} cannot be assigned\n 90155=#Generated column {0} cannot be updatable by a referential constraint with {1} clause\n 90156=#Column alias is not specified for expression {0}\n+90157=#Column index {0} in GROUP BY clause is outside valid range 1 - {1}\n HY000=Obecná chyba: {0}\n HY004=Neznámý datový typ: {0}\n HYC00=Vlastnost není podporována: {0}"
  },
  {
    "sha": "78e2e30cc696da4313a52c7c462148667778e5dc",
    "filename": "h2/src/main/org/h2/res/_messages_de.prop",
    "status": "modified",
    "additions": 1,
    "deletions": 0,
    "changes": 1,
    "blob_url": "https://github.com/h2database/h2database/blob/ce1f46a3f0e079db3f060018fb0afec83834be50/h2/src/main/org/h2/res/_messages_de.prop",
    "raw_url": "https://github.com/h2database/h2database/raw/ce1f46a3f0e079db3f060018fb0afec83834be50/h2/src/main/org/h2/res/_messages_de.prop",
    "contents_url": "https://api.github.com/repos/h2database/h2database/contents/h2/src/main/org/h2/res/_messages_de.prop?ref=ce1f46a3f0e079db3f060018fb0afec83834be50",
    "patch": "@@ -194,6 +194,7 @@\n 90154=Erzeugte Spalte {0} kann nicht zugewiesen werden\n 90155=Erzeugte Spalte {0} kann nicht durch eine referentielle Integrität mit dem Ausdruck {1} veränderbar sein\n 90156=Spalten-Alias ist nicht für den Audruck {0} angegeben\n+90157=#Column index {0} in GROUP BY clause is outside valid range 1 - {1}\n HY000=Allgemeiner Fehler: {0}\n HY004=Unbekannter Datentyp: {0}\n HYC00=Dieses Feature wird nicht unterstützt: {0}"
  },
  {
    "sha": "85844f6d1e72fcd109aa45fb22b8abfa61a19c25",
    "filename": "h2/src/main/org/h2/res/_messages_en.prop",
    "status": "modified",
    "additions": 1,
    "deletions": 0,
    "changes": 1,
    "blob_url": "https://github.com/h2database/h2database/blob/ce1f46a3f0e079db3f060018fb0afec83834be50/h2/src/main/org/h2/res/_messages_en.prop",
    "raw_url": "https://github.com/h2database/h2database/raw/ce1f46a3f0e079db3f060018fb0afec83834be50/h2/src/main/org/h2/res/_messages_en.prop",
    "contents_url": "https://api.github.com/repos/h2database/h2database/contents/h2/src/main/org/h2/res/_messages_en.prop?ref=ce1f46a3f0e079db3f060018fb0afec83834be50",
    "patch": "@@ -194,6 +194,7 @@\n 90154=Generated column {0} cannot be assigned\n 90155=Generated column {0} cannot be updatable by a referential constraint with {1} clause\n 90156=Column alias is not specified for expression {0}\n+90157=Column index {0} in GROUP BY clause is outside valid range 1 - {1}\n HY000=General error: {0}\n HY004=Unknown data type: {0}\n HYC00=Feature not supported: {0}"
  },
  {
    "sha": "50089a49b023dc9ad552ac67faeae62303d3e2c0",
    "filename": "h2/src/main/org/h2/res/_messages_es.prop",
    "status": "modified",
    "additions": 1,
    "deletions": 0,
    "changes": 1,
    "blob_url": "https://github.com/h2database/h2database/blob/ce1f46a3f0e079db3f060018fb0afec83834be50/h2/src/main/org/h2/res/_messages_es.prop",
    "raw_url": "https://github.com/h2database/h2database/raw/ce1f46a3f0e079db3f060018fb0afec83834be50/h2/src/main/org/h2/res/_messages_es.prop",
    "contents_url": "https://api.github.com/repos/h2database/h2database/contents/h2/src/main/org/h2/res/_messages_es.prop?ref=ce1f46a3f0e079db3f060018fb0afec83834be50",
    "patch": "@@ -194,6 +194,7 @@\n 90154=#Generated column {0} cannot be assigned\n 90155=#Generated column {0} cannot be updatable by a referential constraint with {1} clause\n 90156=#Column alias is not specified for expression {0}\n+90157=#Column index {0} in GROUP BY clause is outside valid range 1 - {1}\n HY000=Error General : {0}\n HY004=Tipo de dato desconocido : {0}\n HYC00=Caracteristica no soportada: {0}"
  },
  {
    "sha": "69671ba7fea75e8eaf9081b4ac8919a67a9fda0d",
    "filename": "h2/src/main/org/h2/res/_messages_fr.prop",
    "status": "modified",
    "additions": 1,
    "deletions": 0,
    "changes": 1,
    "blob_url": "https://github.com/h2database/h2database/blob/ce1f46a3f0e079db3f060018fb0afec83834be50/h2/src/main/org/h2/res/_messages_fr.prop",
    "raw_url": "https://github.com/h2database/h2database/raw/ce1f46a3f0e079db3f060018fb0afec83834be50/h2/src/main/org/h2/res/_messages_fr.prop",
    "contents_url": "https://api.github.com/repos/h2database/h2database/contents/h2/src/main/org/h2/res/_messages_fr.prop?ref=ce1f46a3f0e079db3f060018fb0afec83834be50",
    "patch": "@@ -194,6 +194,7 @@\n 90154=#Generated column {0} cannot be assigned\n 90155=#Generated column {0} cannot be updatable by a referential constraint with {1} clause\n 90156=#Column alias is not specified for expression {0}\n+90157=#Column index {0} in GROUP BY clause is outside valid range 1 - {1}\n HY000=Erreur générale: {0}\n HY004=Type de données inconnu: {0}\n HYC00=Fonctionnalité non supportée: {0}"
  },
  {
    "sha": "9eab01d8e515730e9d55032f7f816468132e4629",
    "filename": "h2/src/main/org/h2/res/_messages_ja.prop",
    "status": "modified",
    "additions": 1,
    "deletions": 0,
    "changes": 1,
    "blob_url": "https://github.com/h2database/h2database/blob/ce1f46a3f0e079db3f060018fb0afec83834be50/h2/src/main/org/h2/res/_messages_ja.prop",
    "raw_url": "https://github.com/h2database/h2database/raw/ce1f46a3f0e079db3f060018fb0afec83834be50/h2/src/main/org/h2/res/_messages_ja.prop",
    "contents_url": "https://api.github.com/repos/h2database/h2database/contents/h2/src/main/org/h2/res/_messages_ja.prop?ref=ce1f46a3f0e079db3f060018fb0afec83834be50",
    "patch": "@@ -194,6 +194,7 @@\n 90154=#Generated column {0} cannot be assigned\n 90155=#Generated column {0} cannot be updatable by a referential constraint with {1} clause\n 90156=#Column alias is not specified for expression {0}\n+90157=#Column index {0} in GROUP BY clause is outside valid range 1 - {1}\n HY000=一般エラー: {0}\n HY004=不明なデータ型: {0}\n HYC00=機能はサポートされていません: {0}"
  },
  {
    "sha": "44d4eebd9a17efb384febaba9346f9a457fe61bf",
    "filename": "h2/src/main/org/h2/res/_messages_pl.prop",
    "status": "modified",
    "additions": 1,
    "deletions": 0,
    "changes": 1,
    "blob_url": "https://github.com/h2database/h2database/blob/ce1f46a3f0e079db3f060018fb0afec83834be50/h2/src/main/org/h2/res/_messages_pl.prop",
    "raw_url": "https://github.com/h2database/h2database/raw/ce1f46a3f0e079db3f060018fb0afec83834be50/h2/src/main/org/h2/res/_messages_pl.prop",
    "contents_url": "https://api.github.com/repos/h2database/h2database/contents/h2/src/main/org/h2/res/_messages_pl.prop?ref=ce1f46a3f0e079db3f060018fb0afec83834be50",
    "patch": "@@ -194,6 +194,7 @@\n 90154=#Generated column {0} cannot be assigned\n 90155=#Generated column {0} cannot be updatable by a referential constraint with {1} clause\n 90156=#Column alias is not specified for expression {0}\n+90157=#Column index {0} in GROUP BY clause is outside valid range 1 - {1}\n HY000=Błąd ogólny: {0}\n HY004=Nieznany typ danych: {0}\n HYC00=Cecha nie jest wspierana: {0}"
  },
  {
    "sha": "e9383f512844d2e14f9de9419216bf5d1b24b611",
    "filename": "h2/src/main/org/h2/res/_messages_pt_br.prop",
    "status": "modified",
    "additions": 1,
    "deletions": 0,
    "changes": 1,
    "blob_url": "https://github.com/h2database/h2database/blob/ce1f46a3f0e079db3f060018fb0afec83834be50/h2/src/main/org/h2/res/_messages_pt_br.prop",
    "raw_url": "https://github.com/h2database/h2database/raw/ce1f46a3f0e079db3f060018fb0afec83834be50/h2/src/main/org/h2/res/_messages_pt_br.prop",
    "contents_url": "https://api.github.com/repos/h2database/h2database/contents/h2/src/main/org/h2/res/_messages_pt_br.prop?ref=ce1f46a3f0e079db3f060018fb0afec83834be50",
    "patch": "@@ -194,6 +194,7 @@\n 90154=#Generated column {0} cannot be assigned\n 90155=#Generated column {0} cannot be updatable by a referential constraint with {1} clause\n 90156=#Column alias is not specified for expression {0}\n+90157=#Column index {0} in GROUP BY clause is outside valid range 1 - {1}\n HY000=Erro geral: {0}\n HY004=Tipo de dados desconhecido: {0}\n HYC00=Recurso não suportado: {0}"
  },
  {
    "sha": "c037c350ff0cf828b128d714b28378dafe968cd7",
    "filename": "h2/src/main/org/h2/res/_messages_ru.prop",
    "status": "modified",
    "additions": 1,
    "deletions": 0,
    "changes": 1,
    "blob_url": "https://github.com/h2database/h2database/blob/ce1f46a3f0e079db3f060018fb0afec83834be50/h2/src/main/org/h2/res/_messages_ru.prop",
    "raw_url": "https://github.com/h2database/h2database/raw/ce1f46a3f0e079db3f060018fb0afec83834be50/h2/src/main/org/h2/res/_messages_ru.prop",
    "contents_url": "https://api.github.com/repos/h2database/h2database/contents/h2/src/main/org/h2/res/_messages_ru.prop?ref=ce1f46a3f0e079db3f060018fb0afec83834be50",
    "patch": "@@ -195,6 +195,7 @@\n 90154=Нельзя присвоить значение генерируемому столбцу {0}\n 90155=Генерируемый столбец {0} не может обновляться ссылочным ограничением с пунктом {1}\n 90156=Имя столбца не указано для выражения {0}\n+90157=#Column index {0} in GROUP BY clause is outside valid range 1 - {1}\n HY000=Внутренняя ошибка: {0}\n HY004=Неизвестный тип данных: {0}\n HYC00=Данная функция не поддерживается: {0}"
  },
  {
    "sha": "b86a883353f93ed44f285d3b24d8bc4d91df665b",
    "filename": "h2/src/main/org/h2/res/_messages_sk.prop",
    "status": "modified",
    "additions": 1,
    "deletions": 0,
    "changes": 1,
    "blob_url": "https://github.com/h2database/h2database/blob/ce1f46a3f0e079db3f060018fb0afec83834be50/h2/src/main/org/h2/res/_messages_sk.prop",
    "raw_url": "https://github.com/h2database/h2database/raw/ce1f46a3f0e079db3f060018fb0afec83834be50/h2/src/main/org/h2/res/_messages_sk.prop",
    "contents_url": "https://api.github.com/repos/h2database/h2database/contents/h2/src/main/org/h2/res/_messages_sk.prop?ref=ce1f46a3f0e079db3f060018fb0afec83834be50",
    "patch": "@@ -194,6 +194,7 @@\n 90154=#Generated column {0} cannot be assigned\n 90155=#Generated column {0} cannot be updatable by a referential constraint with {1} clause\n 90156=#Column alias is not specified for expression {0}\n+90157=#Column index {0} in GROUP BY clause is outside valid range 1 - {1}\n HY000=Všeobecná chyba: {0}\n HY004=Neznámy dátový typ: {0}\n HYC00=Vlastnosť nie je podporovaná: {0}"
  },
  {
    "sha": "03d1079e61e6d8ea6cd507a7ce5c1c6a6d03d715",
    "filename": "h2/src/main/org/h2/res/_messages_zh_cn.prop",
    "status": "modified",
    "additions": 1,
    "deletions": 0,
    "changes": 1,
    "blob_url": "https://github.com/h2database/h2database/blob/ce1f46a3f0e079db3f060018fb0afec83834be50/h2/src/main/org/h2/res/_messages_zh_cn.prop",
    "raw_url": "https://github.com/h2database/h2database/raw/ce1f46a3f0e079db3f060018fb0afec83834be50/h2/src/main/org/h2/res/_messages_zh_cn.prop",
    "contents_url": "https://api.github.com/repos/h2database/h2database/contents/h2/src/main/org/h2/res/_messages_zh_cn.prop?ref=ce1f46a3f0e079db3f060018fb0afec83834be50",
    "patch": "@@ -194,6 +194,7 @@\n 90154=#Generated column {0} cannot be assigned\n 90155=#Generated column {0} cannot be updatable by a referential constraint with {1} clause\n 90156=#Column alias is not specified for expression {0}\n+90157=#Column index {0} in GROUP BY clause is outside valid range 1 - {1}\n HY000=常规错误: {0}\n HY004=位置数据类型: {0}\n HYC00=不支持的特性: {0}"
  },
  {
    "sha": "0dc4a275ff685851ccfb07a97c8566d210231989",
    "filename": "h2/src/test/org/h2/test/scripts/TestScript.java",
    "status": "modified",
    "additions": 1,
    "deletions": 1,
    "changes": 2,
    "blob_url": "https://github.com/h2database/h2database/blob/ce1f46a3f0e079db3f060018fb0afec83834be50/h2/src/test/org/h2/test/scripts/TestScript.java",
    "raw_url": "https://github.com/h2database/h2database/raw/ce1f46a3f0e079db3f060018fb0afec83834be50/h2/src/test/org/h2/test/scripts/TestScript.java",
    "contents_url": "https://api.github.com/repos/h2database/h2database/contents/h2/src/test/org/h2/test/scripts/TestScript.java?ref=ce1f46a3f0e079db3f060018fb0afec83834be50",
    "patch": "@@ -139,7 +139,7 @@ public void test() throws Exception {\n         testScript(\"altertable-fk.sql\");\n         testScript(\"default-and-on_update.sql\");\n \n-        for (String s : new String[] { \"add_months\", \"compatibility\" }) {\n+        for (String s : new String[] { \"add_months\", \"compatibility\", \"group_by\"}) {\n             testScript(\"compatibility/\" + s + \".sql\");\n         }\n         for (String s : new String[] { \"array\", \"bigint\", \"binary\", \"blob\","
  },
  {
    "sha": "3bc39a42a837a469c63fdd6e48c7f664aeb9ec2d",
    "filename": "h2/src/test/org/h2/test/scripts/compatibility/group_by.sql",
    "status": "added",
    "additions": 57,
    "deletions": 0,
    "changes": 57,
    "blob_url": "https://github.com/h2database/h2database/blob/ce1f46a3f0e079db3f060018fb0afec83834be50/h2/src/test/org/h2/test/scripts/compatibility/group_by.sql",
    "raw_url": "https://github.com/h2database/h2database/raw/ce1f46a3f0e079db3f060018fb0afec83834be50/h2/src/test/org/h2/test/scripts/compatibility/group_by.sql",
    "contents_url": "https://api.github.com/repos/h2database/h2database/contents/h2/src/test/org/h2/test/scripts/compatibility/group_by.sql?ref=ce1f46a3f0e079db3f060018fb0afec83834be50",
    "patch": "@@ -0,0 +1,57 @@\n+-- Copyright 2004-2021 H2 Group. Multiple-Licensed under the MPL 2.0,\n+-- and the EPL 1.0 (https://h2database.com/html/license.html).\n+-- Initial Developer: H2 Group\n+--\n+\n+-- GROUP BY column index for MySQL/MariaDB/PostgreSQL compatibility mode\n+\n+CREATE TABLE MYTAB(X INT , Y INT, Z INT) AS VALUES (1,123,2), (1,456,2), (3,789,4);\n+> ok\n+\n+SET MODE MySQL;\n+> ok\n+\n+SELECT SUM(Y) AS S , X + Z FROM MYTAB GROUP BY 2;\n+> S   X + Z\n+> --- -----\n+> 579 3\n+> 789 7\n+> rows: 2\n+\n+EXPLAIN SELECT SUM(Y) AS S , X + Z FROM MYTAB GROUP BY 2;\n+> PLAN\n+> -------------------------------------------------------------------------------------------------------\n+> SELECT SUM(\"Y\") AS \"S\", \"X\" + \"Z\" FROM \"PUBLIC\".\"MYTAB\" /* PUBLIC.MYTAB.tableScan */ GROUP BY \"X\" + \"Z\"\n+> rows: 1\n+\n+SELECT SUM(Y) AS S , X + Z FROM MYTAB GROUP BY 3;\n+> exception GROUP_BY_NOT_IN_THE_RESULT\n+\n+SELECT MYTAB.*,  SUM(Y) AS S  FROM MYTAB GROUP BY 1;\n+> exception SYNTAX_ERROR_2\n+\n+SET MODE MariaDB;\n+> ok\n+\n+SELECT SUM(Y) AS S , X + Z FROM MYTAB GROUP BY 2;\n+> S   X + Z\n+> --- -----\n+> 579 3\n+> 789 7\n+> rows: 2\n+\n+SET MODE PostgreSQL;\n+> ok\n+\n+SELECT SUM(Y) AS S , X + Z FROM MYTAB GROUP BY 2;\n+> S   ?column?\n+> --- --------\n+> 579 3\n+> 789 7\n+> rows: 2\n+\n+SET MODE Oracle;\n+> ok\n+\n+SELECT SUM(Y) AS S , X FROM MYTAB GROUP BY 2;\n+> exception MUST_GROUP_BY_COLUMN_1"
  }
]
