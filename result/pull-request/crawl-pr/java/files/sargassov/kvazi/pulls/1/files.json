[
  {
    "sha": "8ed3ba56a54f8fabae471e953e67fdc1d96dab02",
    "filename": ".idea/libraries/log4j_1_2_17.xml",
    "status": "added",
    "additions": 7,
    "deletions": 0,
    "changes": 7,
    "blob_url": "https://github.com/sargassov/kvazi/blob/1d0192b151728cc17bd9170b8430b0384ca2505b/.idea/libraries/log4j_1_2_17.xml",
    "raw_url": "https://github.com/sargassov/kvazi/raw/1d0192b151728cc17bd9170b8430b0384ca2505b/.idea/libraries/log4j_1_2_17.xml",
    "contents_url": "https://api.github.com/repos/sargassov/kvazi/contents/.idea/libraries/log4j_1_2_17.xml?ref=1d0192b151728cc17bd9170b8430b0384ca2505b",
    "patch": "@@ -0,0 +1,7 @@\n+<component name=\"libraryTable\">\n+  <library name=\"log4j-1.2.17\">\n+    <CLASSES />\n+    <JAVADOC />\n+    <SOURCES />\n+  </library>\n+</component>\n\\ No newline at end of file"
  },
  {
    "sha": "a2bcbe80fb70d3f41eb1228d54173f129e44c88a",
    "filename": ".idea/libraries/sqlite_jdbc_3_8_11_2.xml",
    "status": "added",
    "additions": 11,
    "deletions": 0,
    "changes": 11,
    "blob_url": "https://github.com/sargassov/kvazi/blob/1d0192b151728cc17bd9170b8430b0384ca2505b/.idea/libraries/sqlite_jdbc_3_8_11_2.xml",
    "raw_url": "https://github.com/sargassov/kvazi/raw/1d0192b151728cc17bd9170b8430b0384ca2505b/.idea/libraries/sqlite_jdbc_3_8_11_2.xml",
    "contents_url": "https://api.github.com/repos/sargassov/kvazi/contents/.idea/libraries/sqlite_jdbc_3_8_11_2.xml?ref=1d0192b151728cc17bd9170b8430b0384ca2505b",
    "patch": "@@ -0,0 +1,11 @@\n+<component name=\"libraryTable\">\n+  <library name=\"sqlite-jdbc-3.8.11.2\">\n+    <CLASSES>\n+      <root url=\"jar://$PROJECT_DIR$/server/src/main/resources/sqlite-jdbc-3.8.11.2.jar!/\" />\n+    </CLASSES>\n+    <JAVADOC />\n+    <SOURCES>\n+      <root url=\"jar://$PROJECT_DIR$/server/src/main/resources/sqlite-jdbc-3.8.11.2.jar!/\" />\n+    </SOURCES>\n+  </library>\n+</component>\n\\ No newline at end of file"
  },
  {
    "sha": "e96534fb27b68192f27f985d3879e173ec77adb8",
    "filename": ".idea/uiDesigner.xml",
    "status": "added",
    "additions": 124,
    "deletions": 0,
    "changes": 124,
    "blob_url": "https://github.com/sargassov/kvazi/blob/1d0192b151728cc17bd9170b8430b0384ca2505b/.idea/uiDesigner.xml",
    "raw_url": "https://github.com/sargassov/kvazi/raw/1d0192b151728cc17bd9170b8430b0384ca2505b/.idea/uiDesigner.xml",
    "contents_url": "https://api.github.com/repos/sargassov/kvazi/contents/.idea/uiDesigner.xml?ref=1d0192b151728cc17bd9170b8430b0384ca2505b",
    "patch": "@@ -0,0 +1,124 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<project version=\"4\">\n+  <component name=\"Palette2\">\n+    <group name=\"Swing\">\n+      <item class=\"com.intellij.uiDesigner.HSpacer\" tooltip-text=\"Horizontal Spacer\" icon=\"/com/intellij/uiDesigner/icons/hspacer.png\" removable=\"false\" auto-create-binding=\"false\" can-attach-label=\"false\">\n+        <default-constraints vsize-policy=\"1\" hsize-policy=\"6\" anchor=\"0\" fill=\"1\" />\n+      </item>\n+      <item class=\"com.intellij.uiDesigner.VSpacer\" tooltip-text=\"Vertical Spacer\" icon=\"/com/intellij/uiDesigner/icons/vspacer.png\" removable=\"false\" auto-create-binding=\"false\" can-attach-label=\"false\">\n+        <default-constraints vsize-policy=\"6\" hsize-policy=\"1\" anchor=\"0\" fill=\"2\" />\n+      </item>\n+      <item class=\"javax.swing.JPanel\" icon=\"/com/intellij/uiDesigner/icons/panel.png\" removable=\"false\" auto-create-binding=\"false\" can-attach-label=\"false\">\n+        <default-constraints vsize-policy=\"3\" hsize-policy=\"3\" anchor=\"0\" fill=\"3\" />\n+      </item>\n+      <item class=\"javax.swing.JScrollPane\" icon=\"/com/intellij/uiDesigner/icons/scrollPane.png\" removable=\"false\" auto-create-binding=\"false\" can-attach-label=\"true\">\n+        <default-constraints vsize-policy=\"7\" hsize-policy=\"7\" anchor=\"0\" fill=\"3\" />\n+      </item>\n+      <item class=\"javax.swing.JButton\" icon=\"/com/intellij/uiDesigner/icons/button.png\" removable=\"false\" auto-create-binding=\"true\" can-attach-label=\"false\">\n+        <default-constraints vsize-policy=\"0\" hsize-policy=\"3\" anchor=\"0\" fill=\"1\" />\n+        <initial-values>\n+          <property name=\"text\" value=\"Button\" />\n+        </initial-values>\n+      </item>\n+      <item class=\"javax.swing.JRadioButton\" icon=\"/com/intellij/uiDesigner/icons/radioButton.png\" removable=\"false\" auto-create-binding=\"true\" can-attach-label=\"false\">\n+        <default-constraints vsize-policy=\"0\" hsize-policy=\"3\" anchor=\"8\" fill=\"0\" />\n+        <initial-values>\n+          <property name=\"text\" value=\"RadioButton\" />\n+        </initial-values>\n+      </item>\n+      <item class=\"javax.swing.JCheckBox\" icon=\"/com/intellij/uiDesigner/icons/checkBox.png\" removable=\"false\" auto-create-binding=\"true\" can-attach-label=\"false\">\n+        <default-constraints vsize-policy=\"0\" hsize-policy=\"3\" anchor=\"8\" fill=\"0\" />\n+        <initial-values>\n+          <property name=\"text\" value=\"CheckBox\" />\n+        </initial-values>\n+      </item>\n+      <item class=\"javax.swing.JLabel\" icon=\"/com/intellij/uiDesigner/icons/label.png\" removable=\"false\" auto-create-binding=\"false\" can-attach-label=\"false\">\n+        <default-constraints vsize-policy=\"0\" hsize-policy=\"0\" anchor=\"8\" fill=\"0\" />\n+        <initial-values>\n+          <property name=\"text\" value=\"Label\" />\n+        </initial-values>\n+      </item>\n+      <item class=\"javax.swing.JTextField\" icon=\"/com/intellij/uiDesigner/icons/textField.png\" removable=\"false\" auto-create-binding=\"true\" can-attach-label=\"true\">\n+        <default-constraints vsize-policy=\"0\" hsize-policy=\"6\" anchor=\"8\" fill=\"1\">\n+          <preferred-size width=\"150\" height=\"-1\" />\n+        </default-constraints>\n+      </item>\n+      <item class=\"javax.swing.JPasswordField\" icon=\"/com/intellij/uiDesigner/icons/passwordField.png\" removable=\"false\" auto-create-binding=\"true\" can-attach-label=\"true\">\n+        <default-constraints vsize-policy=\"0\" hsize-policy=\"6\" anchor=\"8\" fill=\"1\">\n+          <preferred-size width=\"150\" height=\"-1\" />\n+        </default-constraints>\n+      </item>\n+      <item class=\"javax.swing.JFormattedTextField\" icon=\"/com/intellij/uiDesigner/icons/formattedTextField.png\" removable=\"false\" auto-create-binding=\"true\" can-attach-label=\"true\">\n+        <default-constraints vsize-policy=\"0\" hsize-policy=\"6\" anchor=\"8\" fill=\"1\">\n+          <preferred-size width=\"150\" height=\"-1\" />\n+        </default-constraints>\n+      </item>\n+      <item class=\"javax.swing.JTextArea\" icon=\"/com/intellij/uiDesigner/icons/textArea.png\" removable=\"false\" auto-create-binding=\"true\" can-attach-label=\"true\">\n+        <default-constraints vsize-policy=\"6\" hsize-policy=\"6\" anchor=\"0\" fill=\"3\">\n+          <preferred-size width=\"150\" height=\"50\" />\n+        </default-constraints>\n+      </item>\n+      <item class=\"javax.swing.JTextPane\" icon=\"/com/intellij/uiDesigner/icons/textPane.png\" removable=\"false\" auto-create-binding=\"true\" can-attach-label=\"true\">\n+        <default-constraints vsize-policy=\"6\" hsize-policy=\"6\" anchor=\"0\" fill=\"3\">\n+          <preferred-size width=\"150\" height=\"50\" />\n+        </default-constraints>\n+      </item>\n+      <item class=\"javax.swing.JEditorPane\" icon=\"/com/intellij/uiDesigner/icons/editorPane.png\" removable=\"false\" auto-create-binding=\"true\" can-attach-label=\"true\">\n+        <default-constraints vsize-policy=\"6\" hsize-policy=\"6\" anchor=\"0\" fill=\"3\">\n+          <preferred-size width=\"150\" height=\"50\" />\n+        </default-constraints>\n+      </item>\n+      <item class=\"javax.swing.JComboBox\" icon=\"/com/intellij/uiDesigner/icons/comboBox.png\" removable=\"false\" auto-create-binding=\"true\" can-attach-label=\"true\">\n+        <default-constraints vsize-policy=\"0\" hsize-policy=\"2\" anchor=\"8\" fill=\"1\" />\n+      </item>\n+      <item class=\"javax.swing.JTable\" icon=\"/com/intellij/uiDesigner/icons/table.png\" removable=\"false\" auto-create-binding=\"true\" can-attach-label=\"false\">\n+        <default-constraints vsize-policy=\"6\" hsize-policy=\"6\" anchor=\"0\" fill=\"3\">\n+          <preferred-size width=\"150\" height=\"50\" />\n+        </default-constraints>\n+      </item>\n+      <item class=\"javax.swing.JList\" icon=\"/com/intellij/uiDesigner/icons/list.png\" removable=\"false\" auto-create-binding=\"true\" can-attach-label=\"false\">\n+        <default-constraints vsize-policy=\"6\" hsize-policy=\"2\" anchor=\"0\" fill=\"3\">\n+          <preferred-size width=\"150\" height=\"50\" />\n+        </default-constraints>\n+      </item>\n+      <item class=\"javax.swing.JTree\" icon=\"/com/intellij/uiDesigner/icons/tree.png\" removable=\"false\" auto-create-binding=\"true\" can-attach-label=\"false\">\n+        <default-constraints vsize-policy=\"6\" hsize-policy=\"6\" anchor=\"0\" fill=\"3\">\n+          <preferred-size width=\"150\" height=\"50\" />\n+        </default-constraints>\n+      </item>\n+      <item class=\"javax.swing.JTabbedPane\" icon=\"/com/intellij/uiDesigner/icons/tabbedPane.png\" removable=\"false\" auto-create-binding=\"true\" can-attach-label=\"false\">\n+        <default-constraints vsize-policy=\"3\" hsize-policy=\"3\" anchor=\"0\" fill=\"3\">\n+          <preferred-size width=\"200\" height=\"200\" />\n+        </default-constraints>\n+      </item>\n+      <item class=\"javax.swing.JSplitPane\" icon=\"/com/intellij/uiDesigner/icons/splitPane.png\" removable=\"false\" auto-create-binding=\"false\" can-attach-label=\"false\">\n+        <default-constraints vsize-policy=\"3\" hsize-policy=\"3\" anchor=\"0\" fill=\"3\">\n+          <preferred-size width=\"200\" height=\"200\" />\n+        </default-constraints>\n+      </item>\n+      <item class=\"javax.swing.JSpinner\" icon=\"/com/intellij/uiDesigner/icons/spinner.png\" removable=\"false\" auto-create-binding=\"true\" can-attach-label=\"true\">\n+        <default-constraints vsize-policy=\"0\" hsize-policy=\"6\" anchor=\"8\" fill=\"1\" />\n+      </item>\n+      <item class=\"javax.swing.JSlider\" icon=\"/com/intellij/uiDesigner/icons/slider.png\" removable=\"false\" auto-create-binding=\"true\" can-attach-label=\"false\">\n+        <default-constraints vsize-policy=\"0\" hsize-policy=\"6\" anchor=\"8\" fill=\"1\" />\n+      </item>\n+      <item class=\"javax.swing.JSeparator\" icon=\"/com/intellij/uiDesigner/icons/separator.png\" removable=\"false\" auto-create-binding=\"false\" can-attach-label=\"false\">\n+        <default-constraints vsize-policy=\"6\" hsize-policy=\"6\" anchor=\"0\" fill=\"3\" />\n+      </item>\n+      <item class=\"javax.swing.JProgressBar\" icon=\"/com/intellij/uiDesigner/icons/progressbar.png\" removable=\"false\" auto-create-binding=\"true\" can-attach-label=\"false\">\n+        <default-constraints vsize-policy=\"0\" hsize-policy=\"6\" anchor=\"0\" fill=\"1\" />\n+      </item>\n+      <item class=\"javax.swing.JToolBar\" icon=\"/com/intellij/uiDesigner/icons/toolbar.png\" removable=\"false\" auto-create-binding=\"false\" can-attach-label=\"false\">\n+        <default-constraints vsize-policy=\"0\" hsize-policy=\"6\" anchor=\"0\" fill=\"1\">\n+          <preferred-size width=\"-1\" height=\"20\" />\n+        </default-constraints>\n+      </item>\n+      <item class=\"javax.swing.JToolBar$Separator\" icon=\"/com/intellij/uiDesigner/icons/toolbarSeparator.png\" removable=\"false\" auto-create-binding=\"false\" can-attach-label=\"false\">\n+        <default-constraints vsize-policy=\"0\" hsize-policy=\"0\" anchor=\"0\" fill=\"1\" />\n+      </item>\n+      <item class=\"javax.swing.JScrollBar\" icon=\"/com/intellij/uiDesigner/icons/scrollbar.png\" removable=\"false\" auto-create-binding=\"true\" can-attach-label=\"false\">\n+        <default-constraints vsize-policy=\"6\" hsize-policy=\"0\" anchor=\"0\" fill=\"2\" />\n+      </item>\n+    </group>\n+  </component>\n+</project>\n\\ No newline at end of file"
  },
  {
    "sha": "94a25f7f4cb416c083d265558da75d457237d671",
    "filename": ".idea/vcs.xml",
    "status": "added",
    "additions": 6,
    "deletions": 0,
    "changes": 6,
    "blob_url": "https://github.com/sargassov/kvazi/blob/1d0192b151728cc17bd9170b8430b0384ca2505b/.idea/vcs.xml",
    "raw_url": "https://github.com/sargassov/kvazi/raw/1d0192b151728cc17bd9170b8430b0384ca2505b/.idea/vcs.xml",
    "contents_url": "https://api.github.com/repos/sargassov/kvazi/contents/.idea/vcs.xml?ref=1d0192b151728cc17bd9170b8430b0384ca2505b",
    "patch": "@@ -0,0 +1,6 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<project version=\"4\">\n+  <component name=\"VcsDirectoryMappings\">\n+    <mapping directory=\"$PROJECT_DIR$\" vcs=\"Git\" />\n+  </component>\n+</project>\n\\ No newline at end of file"
  },
  {
    "sha": "8fc331e8635532c2d5cc07bd87dffbe7fa5e22bd",
    "filename": "1.txt",
    "status": "added",
    "additions": 75,
    "deletions": 0,
    "changes": 75,
    "blob_url": "https://github.com/sargassov/kvazi/blob/1d0192b151728cc17bd9170b8430b0384ca2505b/1.txt",
    "raw_url": "https://github.com/sargassov/kvazi/raw/1d0192b151728cc17bd9170b8430b0384ca2505b/1.txt",
    "contents_url": "https://api.github.com/repos/sargassov/kvazi/contents/1.txt?ref=1d0192b151728cc17bd9170b8430b0384ca2505b",
    "patch": "@@ -0,0 +1,75 @@\n+[ asd ] : 1\n+[ asd ] : 2\n+[ asd ] : 3\n+[ asd ] : q\n+[ asd ] : w\n+[ asd ] : e\n+[ qwe ] : q\n+[ qwe ] : w\n+[ qwe ] : e\n+[ qwe ] : q\n+[ qwe ] : w\n+[ qwe ] : e\n+[ zxc ] : s\n+[ zxc ] : sd\n+[ asd ] : a\n+[ asd ] : s\n+[ asd ] : d\n+[ qwe ] : q\n+[ qwe ] : w\n+[ qwe ] : e\n+[ zxc ] : z\n+[ zxc ] : x\n+[ zxc ] : c\n+[ asd ] : a\n+[ asd ] : s\n+[ asd ] : d\n+[ zxc ] : z\n+[ zxc ] : x\n+[ zxc ] : c\n+[ qwe ] : qwe\n+[ qwe ] : qwe\n+[ qwe ] : qw\n+[ qwe ] : a\n+[ qwe ] : s\n+[ qwe ] : d\n+[ asd ] : z\n+[ asd ] : x\n+[ asd ] : c\n+[ zxc ] : z\n+[ zxc ] : x\n+[ zxc ] : c\n+[ qwe ] : g\n+[ qwe ] : h\n+[ qwe ] : h\n+[ asd ] : asd\n+[ zxc ] : asd\n+[ qwe ] : qwe\n+[ qwe ] : qwe\n+[ qwe ] : qwe\n+[ qwe ] : qw\n+[ qwe ] : eq\n+[ qwe ] : we\n+[ qwe ] : qwe\n+[ qwe ] : q\n+[ qwe ] : w\n+[ qwe ] : qwe\n+[ qwe ] : qw\n+[ qwe ] : e\n+[ qwe ] : qw\n+[ qwe ] : e\n+[ asd ] : asd\n+[ asd ] : asd\n+[ asd ] : asd\n+[ asd ] : as\n+[ asd ] : da\n+[ asd ] : s\n+[ asd ] : das\n+[ asd ] : asd\n+[ asd ] : asd\n+[ asd ] : asd\n+[ asd ] : asd\n+[ asd ] : as\n+[ asd ] : d\n+[ asd ] : asd\n+[ asd ] : asd"
  },
  {
    "sha": "e69de29bb2d1d6434b8b29ae775ad8c2e48c5391",
    "filename": "authService",
    "status": "added",
    "additions": 0,
    "deletions": 0,
    "changes": 0,
    "blob_url": "https://github.com/sargassov/kvazi/blob/1d0192b151728cc17bd9170b8430b0384ca2505b/authService",
    "raw_url": "https://github.com/sargassov/kvazi/raw/1d0192b151728cc17bd9170b8430b0384ca2505b/authService",
    "contents_url": "https://api.github.com/repos/sargassov/kvazi/contents/authService?ref=1d0192b151728cc17bd9170b8430b0384ca2505b"
  },
  {
    "sha": "507d1f3a9c8d4470167f423434f5512a079979ae",
    "filename": "client/src/main/java/client/ChatHistory.java",
    "status": "added",
    "additions": 48,
    "deletions": 0,
    "changes": 48,
    "blob_url": "https://github.com/sargassov/kvazi/blob/1d0192b151728cc17bd9170b8430b0384ca2505b/client/src/main/java/client/ChatHistory.java",
    "raw_url": "https://github.com/sargassov/kvazi/raw/1d0192b151728cc17bd9170b8430b0384ca2505b/client/src/main/java/client/ChatHistory.java",
    "contents_url": "https://api.github.com/repos/sargassov/kvazi/contents/client/src/main/java/client/ChatHistory.java?ref=1d0192b151728cc17bd9170b8430b0384ca2505b",
    "patch": "@@ -0,0 +1,48 @@\n+package client;\n+\n+import java.io.File;\n+import java.io.FileWriter;\n+import java.io.IOException;\n+import java.util.*;\n+\n+public class ChatHistory {\n+\n+    private static ArrayList<String> history;\n+    private static int initialCapacity = 100;\n+    private static File file;\n+    private static FileWriter fileWriter;\n+\n+    public ChatHistory(){\n+        history = new ArrayList<>(initialCapacity);\n+        file = new File(\"1.txt\");\n+        try {\n+            if(!file.exists())\n+                file.createNewFile();\n+        } catch (IOException e) {\n+            e.printStackTrace();\n+        }\n+\n+    }\n+\n+    public void addToHistory(String note){\n+            history.add(note);\n+            try {\n+                fileWriter = new FileWriter(file.getAbsolutePath(), true);\n+                fileWriter.write(note + \"\\n\");\n+                fileWriter.close();\n+            } catch (IOException e) {\n+                e.printStackTrace();\n+            }\n+\n+    }\n+\n+    public int getInitialCapacity() {\n+        return initialCapacity;\n+    }\n+\n+    public ArrayList<String> exportHistory(){\n+        return history;\n+    }\n+\n+\n+}"
  },
  {
    "sha": "cbda5b04b803cc69e5cab50e0718a6c2288fe4ce",
    "filename": "client/src/main/java/client/Controller.java",
    "status": "modified",
    "additions": 25,
    "deletions": 2,
    "changes": 27,
    "blob_url": "https://github.com/sargassov/kvazi/blob/1d0192b151728cc17bd9170b8430b0384ca2505b/client/src/main/java/client/Controller.java",
    "raw_url": "https://github.com/sargassov/kvazi/raw/1d0192b151728cc17bd9170b8430b0384ca2505b/client/src/main/java/client/Controller.java",
    "contents_url": "https://api.github.com/repos/sargassov/kvazi/contents/client/src/main/java/client/Controller.java?ref=1d0192b151728cc17bd9170b8430b0384ca2505b",
    "patch": "@@ -58,6 +58,9 @@\n     private Stage regStage;\n     private RegController regController;\n \n+    private ChatHistory chatHistory;\n+    private static boolean firstClient = true;\n+\n     public void setAuthenticated(boolean authenticated) {\n         this.authenticated = authenticated;\n         messagePanel.setVisible(authenticated);\n@@ -94,6 +97,10 @@ public void handle(WindowEvent event) {\n             });\n         });\n \n+        if(firstClient){\n+            chatHistory = new ChatHistory();\n+            firstClient = false;\n+        }\n         setAuthenticated(false);\n     }\n \n@@ -119,7 +126,6 @@ private void connect() {\n                                 setAuthenticated(true);\n                                 break;\n                             }\n-\n                             if (str.equals(Command.REG_OK)) {\n                                 socket.setSoTimeout(0);\n                                 regController.resultTryToReg(true);\n@@ -132,10 +138,21 @@ private void connect() {\n                         }\n                     }\n \n+                    if(chatHistory.exportHistory().size() > chatHistory.getInitialCapacity()){\n+                        for(int x = chatHistory.exportHistory().size() - chatHistory.getInitialCapacity();\n+                            x <= chatHistory.exportHistory().size(); x++){\n+                            textArea.appendText(chatHistory.exportHistory().get(x - 1) + \"\\n\");\n+                        }\n+                    }\n+                    else{\n+                        for(String string : chatHistory.exportHistory()){\n+                            textArea.appendText(string + \"\\n\");\n+                        }\n+                    }\n+\n                     //цикл работы\n                     while (true) {\n                         String str = in.readUTF();\n-\n                         if (str.startsWith(\"/\")) {\n                             if (str.equals(Command.END)) {\n                                 setAuthenticated(false);\n@@ -152,6 +169,9 @@ private void connect() {\n                                 });\n                             }\n                         } else {\n+                            if(nickname.equals(str.split(\"\\\\s\")[1])) {\n+                                chatHistory.addToHistory(str);\n+                            }\n                             textArea.appendText(str + \"\\n\");\n                         }\n                     }\n@@ -181,6 +201,9 @@ private void connect() {\n         }\n     }\n \n+    public void returnFromTheHistory(String text){\n+        textArea.appendText(text + \"\\n\");\n+    }\n \n     public void sendMsg(ActionEvent actionEvent) {\n         try {"
  },
  {
    "sha": "7a8336374d8835f9831f8edc477b657a262a868d",
    "filename": "client/src/main/java/client/Main.java",
    "status": "modified",
    "additions": 1,
    "deletions": 1,
    "changes": 2,
    "blob_url": "https://github.com/sargassov/kvazi/blob/1d0192b151728cc17bd9170b8430b0384ca2505b/client/src/main/java/client/Main.java",
    "raw_url": "https://github.com/sargassov/kvazi/raw/1d0192b151728cc17bd9170b8430b0384ca2505b/client/src/main/java/client/Main.java",
    "contents_url": "https://api.github.com/repos/sargassov/kvazi/contents/client/src/main/java/client/Main.java?ref=1d0192b151728cc17bd9170b8430b0384ca2505b",
    "patch": "@@ -15,8 +15,8 @@ public void start(Stage primaryStage) throws Exception{\n         primaryStage.setScene(new Scene(root, 500, 350));\n         primaryStage.show();\n     }\n-\n     public static void main(String[] args) {\n         launch(args);\n     }\n }\n+"
  },
  {
    "sha": "0225dca05e02aa80993a016f2abd4c79ddc9b2a6",
    "filename": "pom.xml",
    "status": "modified",
    "additions": 3,
    "deletions": 0,
    "changes": 3,
    "blob_url": "https://github.com/sargassov/kvazi/blob/1d0192b151728cc17bd9170b8430b0384ca2505b/pom.xml",
    "raw_url": "https://github.com/sargassov/kvazi/raw/1d0192b151728cc17bd9170b8430b0384ca2505b/pom.xml",
    "contents_url": "https://api.github.com/repos/sargassov/kvazi/contents/pom.xml?ref=1d0192b151728cc17bd9170b8430b0384ca2505b",
    "patch": "@@ -8,6 +8,8 @@\n     <artifactId>chat_kvazi_28012021</artifactId>\n     <packaging>pom</packaging>\n     <version>1.0-SNAPSHOT</version>\n+\n+\n     <modules>\n         <module>client</module>\n         <module>server</module>\n@@ -19,4 +21,5 @@\n         <maven.compiler.target>8</maven.compiler.target>\n     </properties>\n \n+\n </project>\n\\ No newline at end of file"
  },
  {
    "sha": "f38a506d129a84b5a3a72b4e93c22ca2c9a453d9",
    "filename": "server/pom.xml",
    "status": "modified",
    "additions": 39,
    "deletions": 0,
    "changes": 39,
    "blob_url": "https://github.com/sargassov/kvazi/blob/1d0192b151728cc17bd9170b8430b0384ca2505b/server/pom.xml",
    "raw_url": "https://github.com/sargassov/kvazi/raw/1d0192b151728cc17bd9170b8430b0384ca2505b/server/pom.xml",
    "contents_url": "https://api.github.com/repos/sargassov/kvazi/contents/server/pom.xml?ref=1d0192b151728cc17bd9170b8430b0384ca2505b",
    "patch": "@@ -10,10 +10,49 @@\n     <modelVersion>4.0.0</modelVersion>\n \n     <artifactId>server</artifactId>\n+    <dependencies>\n+        <dependency>\n+            <groupId>org.testng</groupId>\n+            <artifactId>testng</artifactId>\n+            <version>RELEASE</version>\n+            <scope>compile</scope>\n+        </dependency>\n+        <dependency>\n+            <groupId>junit</groupId>\n+            <artifactId>junit</artifactId>\n+            <version>RELEASE</version>\n+            <scope>compile</scope>\n+        </dependency>\n+        <dependency>\n+            <groupId>org.junit.jupiter</groupId>\n+            <artifactId>junit-jupiter</artifactId>\n+            <version>5.6.2</version>\n+            <scope>test</scope>\n+        </dependency>\n+        <dependency>\n+            <groupId>junit</groupId>\n+            <artifactId>junit</artifactId>\n+            <version>RELEASE</version>\n+            <scope>test</scope>\n+        </dependency>\n+        <dependency>\n+            <groupId>junit</groupId>\n+            <artifactId>junit</artifactId>\n+            <version>RELEASE</version>\n+            <scope>test</scope>\n+        </dependency>\n+        <dependency>\n+            <groupId>junit</groupId>\n+            <artifactId>junit</artifactId>\n+            <version>RELEASE</version>\n+            <scope>test</scope>\n+        </dependency>\n+    </dependencies>\n \n     <properties>\n         <maven.compiler.source>8</maven.compiler.source>\n         <maven.compiler.target>8</maven.compiler.target>\n     </properties>\n \n+\n </project>\n\\ No newline at end of file"
  },
  {
    "sha": "9105fdc9b5f931c9011f02f8553f20abff717e67",
    "filename": "server/src/main/java/server/AuthService.java",
    "status": "modified",
    "additions": 4,
    "deletions": 2,
    "changes": 6,
    "blob_url": "https://github.com/sargassov/kvazi/blob/1d0192b151728cc17bd9170b8430b0384ca2505b/server/src/main/java/server/AuthService.java",
    "raw_url": "https://github.com/sargassov/kvazi/raw/1d0192b151728cc17bd9170b8430b0384ca2505b/server/src/main/java/server/AuthService.java",
    "contents_url": "https://api.github.com/repos/sargassov/kvazi/contents/server/src/main/java/server/AuthService.java?ref=1d0192b151728cc17bd9170b8430b0384ca2505b",
    "patch": "@@ -1,6 +1,8 @@\n package server;\n \n+import java.sql.SQLException;\n+\n public interface AuthService {\n-    String getNicknameByLoginAndPassword(String login, String password);\n-    boolean registration(String login, String password, String nickname);\n+    String getNicknameByLoginAndPassword(String login, String password) throws SQLException;\n+    boolean registration(String login, String password, String nickname) throws SQLException;\n }"
  },
  {
    "sha": "b64c70667a8bd2e7fcb2f8fcfab703523d3d2967",
    "filename": "server/src/main/java/server/ClientHandler.java",
    "status": "modified",
    "additions": 37,
    "deletions": 12,
    "changes": 49,
    "blob_url": "https://github.com/sargassov/kvazi/blob/1d0192b151728cc17bd9170b8430b0384ca2505b/server/src/main/java/server/ClientHandler.java",
    "raw_url": "https://github.com/sargassov/kvazi/raw/1d0192b151728cc17bd9170b8430b0384ca2505b/server/src/main/java/server/ClientHandler.java",
    "contents_url": "https://api.github.com/repos/sargassov/kvazi/contents/server/src/main/java/server/ClientHandler.java?ref=1d0192b151728cc17bd9170b8430b0384ca2505b",
    "patch": "@@ -7,6 +7,10 @@\n import java.io.IOException;\n import java.net.Socket;\n import java.net.SocketTimeoutException;\n+import java.sql.SQLException;\n+import java.util.concurrent.ExecutorService;\n+import java.util.concurrent.Executors;\n+import java.util.logging.*;\n \n public class ClientHandler {\n     private Server server;\n@@ -18,24 +22,31 @@\n     private String nickname;\n     private String login;\n \n-    public ClientHandler(Server server, Socket socket) {\n+    private static Logger log;\n+\n+    private ExecutorService service;\n+\n+    public ClientHandler(Server server, Socket socket, Logger logger) {\n+        service = Executors.newCachedThreadPool();\n         try {\n             this.server = server;\n             this.socket = socket;\n             in = new DataInputStream(socket.getInputStream());\n             out = new DataOutputStream(socket.getOutputStream());\n+            log = logger;\n \n-            new Thread(() -> {\n+            service.execute(() -> {\n                 try {\n                     //цикл аутентификации\n                     socket.setSoTimeout(120000);\n                     while (true) {\n                         String str = in.readUTF();\n                         if (str.startsWith(\"/\")) {\n                             if (str.equals(Command.END)) {\n-                                System.out.println(\"client want to disconnected \");\n+                                System.out.println(\"client want to disconnect \");\n+                                log.info(\"client want to disconnect \");\n                                 out.writeUTF(Command.END);\n-                                throw new RuntimeException(\"client want to disconnected\");\n+                                throw new RuntimeException(\"client want to disconnect\");\n                             }\n                             if (str.startsWith(Command.AUTH)) {\n                                 String[] token = str.split(\"\\\\s\");\n@@ -47,12 +58,15 @@ public ClientHandler(Server server, Socket socket) {\n                                         nickname = newNick;\n                                         sendMsg(Command.AUTH_OK + \" \" + nickname);\n                                         server.subscribe(this);\n+                                        log.info(\"client tryed to authenticated. Successfully\");\n                                         break;\n                                     } else {\n-                                        sendMsg(\"С этим логинов уже вошли\");\n+                                        sendMsg(\"С этим логином уже вошли\");\n+                                        log.log(Level.SEVERE, \"login has arleady used\");\n                                     }\n                                 } else {\n                                     sendMsg(\"Неверный логин / пароль\");\n+                                    log.log(Level.WARNING, \"incorrect login/password\");\n                                 }\n                             }\n \n@@ -64,9 +78,12 @@ public ClientHandler(Server server, Socket socket) {\n                                 boolean regSuccessful = server.getAuthService()\n                                         .registration(token[1], token[2], token[3]);\n                                 if (regSuccessful) {\n+                                    socket.setSoTimeout(0);\n                                     sendMsg(Command.REG_OK);\n+                                    log.info(\"Registration OK\");\n                                 } else {\n                                     sendMsg(Command.REG_NO);\n+                                    log.log(Level.WARNING, \"Registration failed\");\n                                 }\n                             }\n                         }\n@@ -79,6 +96,7 @@ public ClientHandler(Server server, Socket socket) {\n                         if (str.startsWith(\"/\")) {\n                             if (str.equals(Command.END)) {\n                                 out.writeUTF(Command.END);\n+                                log.log(Level.INFO, \"client disconnected\");\n                                 break;\n                             }\n \n@@ -88,6 +106,7 @@ public ClientHandler(Server server, Socket socket) {\n                                     continue;\n                                 }\n                                 server.privateMsg(this, token[1], token[2]);\n+                                log.log(Level.INFO, \"client wrote a private message\");\n                             }\n                         } else {\n                             server.broadcastMsg(this, str);\n@@ -98,34 +117,40 @@ public ClientHandler(Server server, Socket socket) {\n                 } catch (SocketTimeoutException e){\n                     try {\n                         out.writeUTF(Command.END);\n+                        log.log(Level.INFO, \"client's escape successfully\");\n                     } catch (IOException ex) {\n-                        ex.printStackTrace();\n+                        log.log(Level.SEVERE, \"IOException\", e);\n                     }\n                 } catch (RuntimeException e) {\n-                    System.out.println(e.getMessage());\n+                    log.log(Level.SEVERE, \"RuntimeException\", e);\n                 } catch (IOException e) {\n-                    e.printStackTrace();\n+                    log.log(Level.SEVERE, \"IOException\", e);\n+                } catch (SQLException e) {\n+                    log.log(Level.SEVERE, \"SQLException\", e);;\n                 } finally {\n                     System.out.println(\"Client disconnected\");\n+                    log.info(\"client disconnected\");\n                     server.unsubscribe(this);\n                     try {\n                         socket.close();\n+                        log.info(\"socket was closed\");\n                     } catch (IOException e) {\n-                        e.printStackTrace();\n+                        log.log(Level.SEVERE, \"IOException\", e);\n                     }\n                 }\n-            }).start();\n+            });\n+            service.shutdown();\n \n         } catch (IOException e) {\n-            e.printStackTrace();\n+            log.log(Level.SEVERE, \"IOException\", e);\n         }\n     }\n \n     public void sendMsg(String msg) {\n         try {\n             out.writeUTF(msg);\n         } catch (IOException e) {\n-            e.printStackTrace();\n+            log.log(Level.SEVERE, \"ERROR in client message\", e);\n         }\n     }\n "
  },
  {
    "sha": "85f5e2607d51ce942a0b322d27ad2dc527c149ba",
    "filename": "server/src/main/java/server/SQLAuthService.java",
    "status": "added",
    "additions": 83,
    "deletions": 0,
    "changes": 83,
    "blob_url": "https://github.com/sargassov/kvazi/blob/1d0192b151728cc17bd9170b8430b0384ca2505b/server/src/main/java/server/SQLAuthService.java",
    "raw_url": "https://github.com/sargassov/kvazi/raw/1d0192b151728cc17bd9170b8430b0384ca2505b/server/src/main/java/server/SQLAuthService.java",
    "contents_url": "https://api.github.com/repos/sargassov/kvazi/contents/server/src/main/java/server/SQLAuthService.java?ref=1d0192b151728cc17bd9170b8430b0384ca2505b",
    "patch": "@@ -0,0 +1,83 @@\n+package server;\n+\n+import java.sql.*;\n+import java.util.List;\n+\n+public class SQLAuthService implements AuthService {\n+\n+    public static Connection connection;\n+    public static Statement statement;\n+    public static ResultSet resultSet;\n+    private List<UserData> users;\n+\n+    private class UserData {\n+        String login;\n+        String password;\n+        String nickname;\n+\n+        public UserData(String login, String password, String nickname) {\n+            this.login = login;\n+            this.password = password;\n+            this.nickname = nickname;\n+        }\n+    }\n+\n+    public SQLAuthService() throws SQLException, ClassNotFoundException {\n+        setConnection();\n+        createdb();\n+        writedb();\n+    }\n+\n+    @Override\n+    public String getNicknameByLoginAndPassword(String login, String password) throws SQLException {\n+        resultSet = statement.executeQuery(\"SELECT * FROM users\");\n+        String dbNickname;\n+        while(resultSet.next()){\n+            if (resultSet.getString(\"login\").equals(login) &&\n+                    resultSet.getString(\"password\").equals(password)) {\n+                return dbNickname = resultSet.getString(\"nickname\");\n+            }\n+        }\n+\n+        return null;\n+    }\n+\n+    @Override\n+    public boolean registration(String login, String password, String nickname) throws SQLException {\n+        resultSet = statement.executeQuery(\"SELECT * FROM users\");\n+        while(resultSet.next()){\n+            if (resultSet.getString(\"login\").equals(login) ||\n+                    resultSet.getString(\"nickname\").equals(nickname)) { return false;\n+            }\n+            statement.execute(\"INSERT INTO 'users' ('nickname', 'login', 'password') VALUES ('\" + nickname + \"', '\"\n+                    + login + \"', '\" + password + \"')\");\n+        }\n+\n+        return true;\n+    }\n+\n+    public static void setConnection() throws ClassNotFoundException, SQLException {\n+        connection = null;\n+        Class.forName(\"org.sqlite.JDBC\");\n+        connection = DriverManager.getConnection(\"jdbc:sqlite:authService:authdb\");\n+    }\n+\n+    public static void createdb() throws SQLException {\n+        statement = connection.createStatement();\n+        statement.execute(\"CREATE TABLE if not exists 'users'\" +\n+                \"('id' INTEGER PRIMARY KEY AUTOINCREMENT, 'nickname' text, 'login' text, 'password' text);\");\n+    }\n+\n+    public static void writedb() throws SQLException {\n+        statement.execute(\"INSERT INTO 'users' ('nickname', 'login', 'password') VALUES('qwe', 'qwe', 'qwe')\");\n+        statement.execute(\"INSERT INTO 'users' ('nickname', 'login', 'password') VALUES('asd', 'asd', 'asd')\");\n+        statement.execute(\"INSERT INTO 'users' ('nickname', 'login', 'password') VALUES('zxc', 'zxc', 'zxc')\");\n+    }\n+\n+    public static void closedb() throws SQLException {\n+        resultSet.close();\n+        statement.close();\n+        connection.close();\n+    }\n+\n+}"
  },
  {
    "sha": "ca069dff9b43f4e69ec2e9764d1e303ba728a0e9",
    "filename": "server/src/main/java/server/SecondTaskClass.java",
    "status": "added",
    "additions": 54,
    "deletions": 0,
    "changes": 54,
    "blob_url": "https://github.com/sargassov/kvazi/blob/1d0192b151728cc17bd9170b8430b0384ca2505b/server/src/main/java/server/SecondTaskClass.java",
    "raw_url": "https://github.com/sargassov/kvazi/raw/1d0192b151728cc17bd9170b8430b0384ca2505b/server/src/main/java/server/SecondTaskClass.java",
    "contents_url": "https://api.github.com/repos/sargassov/kvazi/contents/server/src/main/java/server/SecondTaskClass.java?ref=1d0192b151728cc17bd9170b8430b0384ca2505b",
    "patch": "@@ -0,0 +1,54 @@\n+package server;\n+\n+public class SecondTaskClass {\n+\n+    private static int[] getArrayAfterLast4Method(int[] arr){\n+        Integer currentFour = consistFour(arr);\n+        if(currentFour == null){\n+            return null;\n+        }\n+        else{\n+            int[] array = new int[arr.length - currentFour - 1];\n+            System.arraycopy(arr, currentFour + 1, array, 0, arr.length - currentFour - 1);\n+            return array;\n+        }\n+\n+    }\n+\n+    private static Integer consistFour(int[] arr){\n+        Integer x = 0;\n+        for(int i : arr){\n+            if(i == 4) return x;\n+            x++;\n+        }\n+        try {\n+            throw new RuntimeException(\"\\nВ массиве нет 4\");\n+        } catch(RuntimeException e){\n+            e.printStackTrace();\n+            return null;\n+        }\n+    }\n+\n+    private static void toPrint(int[] ar){\n+        for(int i : ar){\n+            System.out.print(i + \" \");\n+        }\n+        System.out.println();\n+    }\n+\n+    public static void main(String[] args) {\n+        int[][] arrayz = new int[][]{{1, 2, 3, 4, 5}, {3, 7, 5, 4 ,3, 4}, {0, -3, 4, 5, 8}};\n+\n+        for(int[] ar : arrayz){\n+            System.out.println(\"Массив перед методом : \\n\");\n+            toPrint(ar);\n+            int[] tech = getArrayAfterLast4Method(ar);\n+            if(tech != null){\n+                System.out.println(\"\\nМассив после метода : \\n\");\n+                toPrint(tech);\n+            }\n+\n+        }\n+    }\n+\n+}"
  },
  {
    "sha": "eebbe8fbc8a2d5ee7101f4f4d43108a479694acb",
    "filename": "server/src/main/java/server/Server.java",
    "status": "modified",
    "additions": 23,
    "deletions": 7,
    "changes": 30,
    "blob_url": "https://github.com/sargassov/kvazi/blob/1d0192b151728cc17bd9170b8430b0384ca2505b/server/src/main/java/server/Server.java",
    "raw_url": "https://github.com/sargassov/kvazi/raw/1d0192b151728cc17bd9170b8430b0384ca2505b/server/src/main/java/server/Server.java",
    "contents_url": "https://api.github.com/repos/sargassov/kvazi/contents/server/src/main/java/server/Server.java?ref=1d0192b151728cc17bd9170b8430b0384ca2505b",
    "patch": "@@ -1,11 +1,12 @@\n package server;\n \n import commands.Command;\n-\n import java.io.IOException;\n import java.net.ServerSocket;\n import java.net.Socket;\n+import java.sql.SQLException;\n import java.util.List;\n+import java.util.logging.*;\n import java.util.concurrent.CopyOnWriteArrayList;\n \n \n@@ -15,27 +16,32 @@\n     private final int PORT = 8189;\n     private List<ClientHandler> clients;\n     private AuthService authService;\n+    private static Logger log;\n \n-    public Server() {\n+    public Server(Logger logger) throws SQLException, ClassNotFoundException {\n+        log = logger;\n         clients = new CopyOnWriteArrayList<>();\n-        authService = new SimpleAuthService();\n+        authService = new SQLAuthService();\n         try {\n             server = new ServerSocket(PORT);\n             System.out.println(\"server started\");\n+            log.info(\"server started\");\n \n             while (true) {\n                 socket = server.accept();\n                 System.out.println(\"client connected\" + socket.getRemoteSocketAddress());\n-                new ClientHandler(this, socket);\n+                log.info(\"client connected\");\n+                new ClientHandler(this, socket, log);\n+                log.info(\"client created successfully\");\n             }\n-\n         } catch (IOException e) {\n-            e.printStackTrace();\n+            log.log(Level.SEVERE, \"IOException\", e);\n         } finally {\n             try {\n                 server.close();\n+                log.info(\"server closed successfully\");\n             } catch (IOException e) {\n-                e.printStackTrace();\n+                log.log(Level.SEVERE, \"Error at server close\", e);\n             }\n         }\n     }\n@@ -44,6 +50,7 @@ public void broadcastMsg(ClientHandler sender, String msg) {\n         String message = String.format(\"[ %s ] : %s\", sender.getNickname(), msg);\n         for (ClientHandler c : clients) {\n             c.sendMsg(message);\n+            log.log(Level.INFO,\"message: \\\"\" + message + \"\\\" was sent\");\n         }\n     }\n \n@@ -54,20 +61,28 @@ public void privateMsg(ClientHandler sender, String receiver, String msg) {\n                 c.sendMsg(message);\n                 if(!c.equals(sender)){\n                     sender.sendMsg(message);\n+                    log.log(Level.INFO, \"private message: \\\"\" + message + \"\\\" was sent to \" + receiver);\n                 }\n                 return;\n             }\n         }\n         sender.sendMsg(\"not found user: \"+ receiver);\n+        log.log(Level.WARNING, \"not found user: \"+ receiver);\n+    }\n+\n+    public List<ClientHandler> getClients() {\n+        return clients;\n     }\n \n     public void subscribe(ClientHandler clientHandler) {\n         clients.add(clientHandler);\n+        log.log(Level.INFO, \"client was added\");\n         broadcastClientList();\n     }\n \n     public void unsubscribe(ClientHandler clientHandler) {\n         clients.remove(clientHandler);\n+        log.log(Level.INFO, \"client was removed\");\n         broadcastClientList();\n     }\n \n@@ -78,6 +93,7 @@ public AuthService getAuthService() {\n     public boolean isLoginAuthenticated(String login){\n         for (ClientHandler c : clients) {\n             if(c.getLogin().equals(login)){\n+                log.log(Level.WARNING, \"client was trying to enter with usable login\");\n                 return true;\n             }\n         }"
  },
  {
    "sha": "19cabb47f20261b119c58ae03e70b3ef4db94ab7",
    "filename": "server/src/main/java/server/SimpleAuthService.java",
    "status": "removed",
    "additions": 0,
    "deletions": 53,
    "changes": 53,
    "blob_url": "https://github.com/sargassov/kvazi/blob/97f8f9c6f9c87f0f802eeff2586304111f74715a/server/src/main/java/server/SimpleAuthService.java",
    "raw_url": "https://github.com/sargassov/kvazi/raw/97f8f9c6f9c87f0f802eeff2586304111f74715a/server/src/main/java/server/SimpleAuthService.java",
    "contents_url": "https://api.github.com/repos/sargassov/kvazi/contents/server/src/main/java/server/SimpleAuthService.java?ref=97f8f9c6f9c87f0f802eeff2586304111f74715a",
    "patch": "@@ -1,53 +0,0 @@\n-package server;\n-\n-import java.util.ArrayList;\n-import java.util.List;\n-\n-public class SimpleAuthService implements AuthService {\n-\n-    private class UserData {\n-        String login;\n-        String password;\n-        String nickname;\n-\n-        public UserData(String login, String password, String nickname) {\n-            this.login = login;\n-            this.password = password;\n-            this.nickname = nickname;\n-        }\n-    }\n-\n-    private List<UserData> users;\n-\n-    public SimpleAuthService() {\n-        users = new ArrayList<>();\n-        users.add(new UserData(\"qwe\", \"qwe\", \"qwe\"));\n-        users.add(new UserData(\"asd\", \"asd\", \"asd\"));\n-        users.add(new UserData(\"zxc\", \"zxc\", \"zxc\"));\n-        for (int i = 1; i < 10; i++) {\n-            users.add(new UserData(\"login\" + i, \"pass\" + i, \"nick\" + i));\n-        }\n-    }\n-\n-    @Override\n-    public String getNicknameByLoginAndPassword(String login, String password) {\n-        for (UserData user : users) {\n-            if (user.login.equals(login) && user.password.equals(password)) {\n-                return user.nickname;\n-            }\n-        }\n-\n-        return null;\n-    }\n-\n-    @Override\n-    public boolean registration(String login, String password, String nickname) {\n-        for (UserData user : users) {\n-            if (user.login.equals(login) || user.nickname.equals(nickname)) {\n-                return false;\n-            }\n-        }\n-        users.add(new UserData(login, password, nickname));\n-        return true;\n-    }\n-}"
  },
  {
    "sha": "028eade461169ccf5c9a993e8232fa65e4ba4031",
    "filename": "server/src/main/java/server/StartServer.java",
    "status": "modified",
    "additions": 26,
    "deletions": 2,
    "changes": 28,
    "blob_url": "https://github.com/sargassov/kvazi/blob/1d0192b151728cc17bd9170b8430b0384ca2505b/server/src/main/java/server/StartServer.java",
    "raw_url": "https://github.com/sargassov/kvazi/raw/1d0192b151728cc17bd9170b8430b0384ca2505b/server/src/main/java/server/StartServer.java",
    "contents_url": "https://api.github.com/repos/sargassov/kvazi/contents/server/src/main/java/server/StartServer.java?ref=1d0192b151728cc17bd9170b8430b0384ca2505b",
    "patch": "@@ -1,7 +1,31 @@\n package server;\n \n+import java.io.IOException;\n+import java.sql.SQLException;\n+import java.util.logging.FileHandler;\n+import java.util.logging.Handler;\n+import java.util.logging.*;\n+import java.util.logging.SimpleFormatter;\n+\n public class StartServer {\n-    public static void main(String[] args) {\n-        new Server();\n+\n+    private static final Logger log = Logger.getLogger(StartServer.class.getName());\n+\n+    public static void main(String[] args) throws SQLException, ClassNotFoundException {\n+        try{\n+            Handler h = new FileHandler(\"logging.log\");\n+            h.setFormatter(new SimpleFormatter());\n+            log.addHandler(h);\n+\n+            System.out.println(\"Handlers\");\n+\n+            for(Handler o : log.getHandlers()){\n+                System.out.println(o);\n+            }\n+\n+        }catch (IOException e){\n+            e.printStackTrace();\n+        }\n+        new Server(log);\n     }\n }"
  },
  {
    "sha": "c56ce32565ba601a131526435e60d3e246d1ad97",
    "filename": "server/src/main/java/server/ThirdTaskClass.java",
    "status": "added",
    "additions": 52,
    "deletions": 0,
    "changes": 52,
    "blob_url": "https://github.com/sargassov/kvazi/blob/1d0192b151728cc17bd9170b8430b0384ca2505b/server/src/main/java/server/ThirdTaskClass.java",
    "raw_url": "https://github.com/sargassov/kvazi/raw/1d0192b151728cc17bd9170b8430b0384ca2505b/server/src/main/java/server/ThirdTaskClass.java",
    "contents_url": "https://api.github.com/repos/sargassov/kvazi/contents/server/src/main/java/server/ThirdTaskClass.java?ref=1d0192b151728cc17bd9170b8430b0384ca2505b",
    "patch": "@@ -0,0 +1,52 @@\n+package server;\n+\n+public class ThirdTaskClass {\n+    private static int[] getArrayAfterLast1Or4Method(int[] arr){\n+        Integer currentFourOrOne = consistFourOrOne(arr);\n+        if(currentFourOrOne == null){\n+            return null;\n+        }\n+        else{\n+            int[] array = new int[arr.length - currentFourOrOne - 1];\n+            System.arraycopy(arr, currentFourOrOne + 1, array, 0, arr.length - currentFourOrOne - 1);\n+            return array;\n+        }\n+\n+    }\n+\n+    private static Integer consistFourOrOne(int[] arr){\n+        Integer x = 0;\n+        for(int i : arr){\n+            if(i == 4 || i == 1) return x;\n+            x++;\n+        }\n+        try {\n+            throw new RuntimeException(\"\\nВ массиве нет 1 и 4\");\n+        } catch(RuntimeException e){\n+            e.printStackTrace();\n+            return null;\n+        }\n+    }\n+\n+    private static void toPrint(int[] ar){\n+        for(int i : ar){\n+            System.out.print(i + \" \");\n+        }\n+        System.out.println();\n+    }\n+\n+    public static void main(String[] args) {\n+        int[][] arrayz = new int[][]{{1, 2, 3, 4, 5}, {3, 7, 5, 4 ,3, 4}, {0, -3, 4, 5, 8}};\n+\n+        for(int[] ar : arrayz){\n+            System.out.println(\"Массив перед методом : \\n\");\n+            toPrint(ar);\n+            int[] tech = getArrayAfterLast1Or4Method(ar);\n+            if(tech != null){\n+                System.out.println(\"\\nМассив после метода : \\n\");\n+                toPrint(tech);\n+            }\n+\n+        }\n+    }\n+}"
  },
  {
    "sha": "1d425cf7d7e25f81be64d32c406ff66cfb6c4766",
    "filename": "server/src/main/resources/log4j-1.2.17.jar",
    "status": "added",
    "additions": 0,
    "deletions": 0,
    "changes": 0,
    "blob_url": "https://github.com/sargassov/kvazi/blob/1d0192b151728cc17bd9170b8430b0384ca2505b/server/src/main/resources/log4j-1.2.17.jar",
    "raw_url": "https://github.com/sargassov/kvazi/raw/1d0192b151728cc17bd9170b8430b0384ca2505b/server/src/main/resources/log4j-1.2.17.jar",
    "contents_url": "https://api.github.com/repos/sargassov/kvazi/contents/server/src/main/resources/log4j-1.2.17.jar?ref=1d0192b151728cc17bd9170b8430b0384ca2505b"
  },
  {
    "sha": "b64994d962c07f0912a6e4a8b830d219b42d16f8",
    "filename": "server/src/main/resources/log4j.properties",
    "status": "added",
    "additions": 7,
    "deletions": 0,
    "changes": 7,
    "blob_url": "https://github.com/sargassov/kvazi/blob/1d0192b151728cc17bd9170b8430b0384ca2505b/server/src/main/resources/log4j.properties",
    "raw_url": "https://github.com/sargassov/kvazi/raw/1d0192b151728cc17bd9170b8430b0384ca2505b/server/src/main/resources/log4j.properties",
    "contents_url": "https://api.github.com/repos/sargassov/kvazi/contents/server/src/main/resources/log4j.properties?ref=1d0192b151728cc17bd9170b8430b0384ca2505b",
    "patch": "@@ -0,0 +1,7 @@\n+log4j.rootLogger=INFO, file\n+log4j.appender.file=org.apache.log4j.RollingFileAppender\n+log4j.appender.file.FILE=C:\\\\Users\\\\������\\\\Desktop\\\\chat_kvazi_28012021\\\\server\\\\src\\\\main\\\\resources\\\\logging.txt\n+log4j.appender.file.MaxFileSize=1MB\n+log4j.appender.file.MaxBackupIndex=1\n+log4j.appender.file.layout=org.apache.log4j.PatternLayout\n+log4j.appender.file.layout.ConversionPattern=%d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:L - %m%n\n\\ No newline at end of file"
  },
  {
    "sha": "e69de29bb2d1d6434b8b29ae775ad8c2e48c5391",
    "filename": "server/src/main/resources/logging.txt",
    "status": "added",
    "additions": 0,
    "deletions": 0,
    "changes": 0,
    "blob_url": "https://github.com/sargassov/kvazi/blob/1d0192b151728cc17bd9170b8430b0384ca2505b/server/src/main/resources/logging.txt",
    "raw_url": "https://github.com/sargassov/kvazi/raw/1d0192b151728cc17bd9170b8430b0384ca2505b/server/src/main/resources/logging.txt",
    "contents_url": "https://api.github.com/repos/sargassov/kvazi/contents/server/src/main/resources/logging.txt?ref=1d0192b151728cc17bd9170b8430b0384ca2505b"
  },
  {
    "sha": "70be4270ca94d5006cb609b97cd0569281ae3d0f",
    "filename": "server/src/main/resources/sqlite-jdbc-3.8.11.2.jar",
    "status": "added",
    "additions": 0,
    "deletions": 0,
    "changes": 0,
    "blob_url": "https://github.com/sargassov/kvazi/blob/1d0192b151728cc17bd9170b8430b0384ca2505b/server/src/main/resources/sqlite-jdbc-3.8.11.2.jar",
    "raw_url": "https://github.com/sargassov/kvazi/raw/1d0192b151728cc17bd9170b8430b0384ca2505b/server/src/main/resources/sqlite-jdbc-3.8.11.2.jar",
    "contents_url": "https://api.github.com/repos/sargassov/kvazi/contents/server/src/main/resources/sqlite-jdbc-3.8.11.2.jar?ref=1d0192b151728cc17bd9170b8430b0384ca2505b"
  }
]
