[
  {
    "sha": "8c64d7965d5c3f8d27f6a01c5c2dbe408f8074fb",
    "filename": "pom.xml",
    "status": "added",
    "additions": 58,
    "deletions": 0,
    "changes": 58,
    "blob_url": "https://github.com/anisimovdenis90/student-web-app/blob/718ee4dc0044e8b3ca67948a7520c143977dd4c5/pom.xml",
    "raw_url": "https://github.com/anisimovdenis90/student-web-app/raw/718ee4dc0044e8b3ca67948a7520c143977dd4c5/pom.xml",
    "contents_url": "https://api.github.com/repos/anisimovdenis90/student-web-app/contents/pom.xml?ref=718ee4dc0044e8b3ca67948a7520c143977dd4c5",
    "patch": "@@ -0,0 +1,58 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd\">\n+    <modelVersion>4.0.0</modelVersion>\n+    <parent>\n+        <groupId>org.springframework.boot</groupId>\n+        <artifactId>spring-boot-starter-parent</artifactId>\n+        <version>2.4.3</version>\n+        <relativePath/> <!-- lookup parent from repository -->\n+    </parent>\n+    <groupId>com.anisimovdenis</groupId>\n+    <artifactId>student-web-app</artifactId>\n+    <version>0.0.1-SNAPSHOT</version>\n+    <name>student-web-app</name>\n+    <description>Spring Boot App</description>\n+    <properties>\n+        <java.version>11</java.version>\n+    </properties>\n+    <dependencies>\n+        <dependency>\n+            <groupId>org.springframework.boot</groupId>\n+            <artifactId>spring-boot-starter-data-jpa</artifactId>\n+        </dependency>\n+        <dependency>\n+            <groupId>org.springframework.boot</groupId>\n+            <artifactId>spring-boot-starter-thymeleaf</artifactId>\n+        </dependency>\n+        <dependency>\n+            <groupId>org.springframework.boot</groupId>\n+            <artifactId>spring-boot-starter-web</artifactId>\n+        </dependency>\n+        <dependency>\n+            <groupId>org.flywaydb</groupId>\n+            <artifactId>flyway-core</artifactId>\n+        </dependency>\n+\n+        <dependency>\n+            <groupId>com.h2database</groupId>\n+            <artifactId>h2</artifactId>\n+            <scope>runtime</scope>\n+        </dependency>\n+        <dependency>\n+            <groupId>org.springframework.boot</groupId>\n+            <artifactId>spring-boot-starter-test</artifactId>\n+            <scope>test</scope>\n+        </dependency>\n+    </dependencies>\n+\n+    <build>\n+        <plugins>\n+            <plugin>\n+                <groupId>org.springframework.boot</groupId>\n+                <artifactId>spring-boot-maven-plugin</artifactId>\n+            </plugin>\n+        </plugins>\n+    </build>\n+\n+</project>"
  },
  {
    "sha": "e7c12d5e3c6287193b758b4030ea2cbff2451c81",
    "filename": "src/main/java/com/anisimovdenis/StudentWebAppApplication.java",
    "status": "added",
    "additions": 13,
    "deletions": 0,
    "changes": 13,
    "blob_url": "https://github.com/anisimovdenis90/student-web-app/blob/718ee4dc0044e8b3ca67948a7520c143977dd4c5/src/main/java/com/anisimovdenis/StudentWebAppApplication.java",
    "raw_url": "https://github.com/anisimovdenis90/student-web-app/raw/718ee4dc0044e8b3ca67948a7520c143977dd4c5/src/main/java/com/anisimovdenis/StudentWebAppApplication.java",
    "contents_url": "https://api.github.com/repos/anisimovdenis90/student-web-app/contents/src/main/java/com/anisimovdenis/StudentWebAppApplication.java?ref=718ee4dc0044e8b3ca67948a7520c143977dd4c5",
    "patch": "@@ -0,0 +1,13 @@\n+package com.anisimovdenis;\n+\n+import org.springframework.boot.SpringApplication;\n+import org.springframework.boot.autoconfigure.SpringBootApplication;\n+\n+@SpringBootApplication\n+public class StudentWebAppApplication {\n+\n+    public static void main(String[] args) {\n+        SpringApplication.run(StudentWebAppApplication.class, args);\n+    }\n+\n+}"
  },
  {
    "sha": "abd99f9f25757cd234bafebc5971b7bdb47b6399",
    "filename": "src/main/java/com/anisimovdenis/controllers/StudentController.java",
    "status": "added",
    "additions": 56,
    "deletions": 0,
    "changes": 56,
    "blob_url": "https://github.com/anisimovdenis90/student-web-app/blob/718ee4dc0044e8b3ca67948a7520c143977dd4c5/src/main/java/com/anisimovdenis/controllers/StudentController.java",
    "raw_url": "https://github.com/anisimovdenis90/student-web-app/raw/718ee4dc0044e8b3ca67948a7520c143977dd4c5/src/main/java/com/anisimovdenis/controllers/StudentController.java",
    "contents_url": "https://api.github.com/repos/anisimovdenis90/student-web-app/contents/src/main/java/com/anisimovdenis/controllers/StudentController.java?ref=718ee4dc0044e8b3ca67948a7520c143977dd4c5",
    "patch": "@@ -0,0 +1,56 @@\n+package com.anisimovdenis.controllers;\n+\n+import com.anisimovdenis.entities.Student;\n+import com.anisimovdenis.services.StudentService;\n+import org.springframework.stereotype.Controller;\n+import org.springframework.ui.Model;\n+import org.springframework.web.bind.annotation.*;\n+\n+import java.util.List;\n+import java.util.Optional;\n+\n+@Controller\n+@RequestMapping(\"/students\")\n+public class StudentController {\n+\n+    private final StudentService studentService;\n+\n+    public StudentController(StudentService studentService) {\n+        this.studentService = studentService;\n+    }\n+\n+    @GetMapping\n+    public String getAllStudents(Model model) {\n+        List<Student> students = studentService.getAllStudents();\n+        model.addAttribute(\"students\", students);\n+        return \"students\";\n+    }\n+\n+    @GetMapping(\"/edit/{id}\")\n+    public String showEditForm(Model model, @PathVariable Long id) {\n+        Optional<Student> optionalStudent = studentService.getStudentById(id);\n+        if (optionalStudent.isEmpty()) {\n+            return \"redirect:/students\";\n+        }\n+        model.addAttribute(\"student\", optionalStudent.get());\n+        return \"student_edit\";\n+    }\n+\n+    @PostMapping(\"/edit\")\n+    public String saveEditedStudent(@ModelAttribute Student student) {\n+        studentService.saveStudent(student);\n+        return \"redirect:/students\";\n+    }\n+\n+    @GetMapping(\"/create\")\n+    public String showCreateForm(Model model) {\n+        model.addAttribute(\"student\", new Student());\n+        return \"student_edit\";\n+    }\n+\n+    @GetMapping(\"/delete/{id}\")\n+    public String deleteOneProductById(@PathVariable Long id) {\n+        studentService.deleteById(id);\n+        return \"redirect:/students\";\n+    }\n+}"
  },
  {
    "sha": "dc82fa89bb3e4cd82a474ec33eb87ca6ece79743",
    "filename": "src/main/java/com/anisimovdenis/entities/Student.java",
    "status": "added",
    "additions": 43,
    "deletions": 0,
    "changes": 43,
    "blob_url": "https://github.com/anisimovdenis90/student-web-app/blob/718ee4dc0044e8b3ca67948a7520c143977dd4c5/src/main/java/com/anisimovdenis/entities/Student.java",
    "raw_url": "https://github.com/anisimovdenis90/student-web-app/raw/718ee4dc0044e8b3ca67948a7520c143977dd4c5/src/main/java/com/anisimovdenis/entities/Student.java",
    "contents_url": "https://api.github.com/repos/anisimovdenis90/student-web-app/contents/src/main/java/com/anisimovdenis/entities/Student.java?ref=718ee4dc0044e8b3ca67948a7520c143977dd4c5",
    "patch": "@@ -0,0 +1,43 @@\n+package com.anisimovdenis.entities;\n+\n+import javax.persistence.*;\n+\n+@Entity\n+@Table(name = \"students\")\n+public class Student {\n+\n+    @Id\n+    @GeneratedValue(strategy = GenerationType.IDENTITY)\n+    @Column(name = \"id\")\n+    private Long id;\n+\n+    @Column(name = \"name\")\n+    private String name;\n+\n+    @Column(name = \"age\")\n+    private int age;\n+\n+    public Long getId() {\n+        return id;\n+    }\n+\n+    public void setId(Long id) {\n+        this.id = id;\n+    }\n+\n+    public String getName() {\n+        return name;\n+    }\n+\n+    public void setName(String name) {\n+        this.name = name;\n+    }\n+\n+    public int getAge() {\n+        return age;\n+    }\n+\n+    public void setAge(int age) {\n+        this.age = age;\n+    }\n+}"
  },
  {
    "sha": "e247e5a9d145e8fa668a90af9a4da3cd30dedfd9",
    "filename": "src/main/java/com/anisimovdenis/repositories/StudentRepository.java",
    "status": "added",
    "additions": 8,
    "deletions": 0,
    "changes": 8,
    "blob_url": "https://github.com/anisimovdenis90/student-web-app/blob/718ee4dc0044e8b3ca67948a7520c143977dd4c5/src/main/java/com/anisimovdenis/repositories/StudentRepository.java",
    "raw_url": "https://github.com/anisimovdenis90/student-web-app/raw/718ee4dc0044e8b3ca67948a7520c143977dd4c5/src/main/java/com/anisimovdenis/repositories/StudentRepository.java",
    "contents_url": "https://api.github.com/repos/anisimovdenis90/student-web-app/contents/src/main/java/com/anisimovdenis/repositories/StudentRepository.java?ref=718ee4dc0044e8b3ca67948a7520c143977dd4c5",
    "patch": "@@ -0,0 +1,8 @@\n+package com.anisimovdenis.repositories;\n+\n+import com.anisimovdenis.entities.Student;\n+import org.springframework.data.jpa.repository.JpaRepository;\n+\n+public interface StudentRepository extends JpaRepository<Student, Long> {\n+\n+}"
  },
  {
    "sha": "13cab9a52e67cfd1d2cb074d09b011c691fda6e9",
    "filename": "src/main/java/com/anisimovdenis/services/StudentService.java",
    "status": "added",
    "additions": 37,
    "deletions": 0,
    "changes": 37,
    "blob_url": "https://github.com/anisimovdenis90/student-web-app/blob/718ee4dc0044e8b3ca67948a7520c143977dd4c5/src/main/java/com/anisimovdenis/services/StudentService.java",
    "raw_url": "https://github.com/anisimovdenis90/student-web-app/raw/718ee4dc0044e8b3ca67948a7520c143977dd4c5/src/main/java/com/anisimovdenis/services/StudentService.java",
    "contents_url": "https://api.github.com/repos/anisimovdenis90/student-web-app/contents/src/main/java/com/anisimovdenis/services/StudentService.java?ref=718ee4dc0044e8b3ca67948a7520c143977dd4c5",
    "patch": "@@ -0,0 +1,37 @@\n+package com.anisimovdenis.services;\n+\n+import com.anisimovdenis.entities.Student;\n+import com.anisimovdenis.repositories.StudentRepository;\n+import org.springframework.stereotype.Service;\n+\n+import java.util.List;\n+import java.util.Optional;\n+\n+@Service\n+public class StudentService {\n+    private final StudentRepository studentRepository;\n+\n+    public StudentService(StudentRepository studentRepository) {\n+        this.studentRepository = studentRepository;\n+    }\n+\n+    public List<Student> getAllStudents() {\n+        return studentRepository.findAll();\n+    }\n+\n+    public Optional<Student> getStudentById(Long id) {\n+        return studentRepository.findById(id);\n+    }\n+\n+    public Student saveStudent(Student student) {\n+        return studentRepository.save(student);\n+    }\n+\n+    public boolean existsById(Long id) {\n+        return studentRepository.existsById(id);\n+    }\n+\n+    public void deleteById(Long id) {\n+        studentRepository.deleteById(id);\n+    }\n+}"
  },
  {
    "sha": "8746e22a5ebe0d42fcff45a749a17a051124d256",
    "filename": "src/main/resources/application.yaml",
    "status": "added",
    "additions": 13,
    "deletions": 0,
    "changes": 13,
    "blob_url": "https://github.com/anisimovdenis90/student-web-app/blob/718ee4dc0044e8b3ca67948a7520c143977dd4c5/src/main/resources/application.yaml",
    "raw_url": "https://github.com/anisimovdenis90/student-web-app/raw/718ee4dc0044e8b3ca67948a7520c143977dd4c5/src/main/resources/application.yaml",
    "contents_url": "https://api.github.com/repos/anisimovdenis90/student-web-app/contents/src/main/resources/application.yaml?ref=718ee4dc0044e8b3ca67948a7520c143977dd4c5",
    "patch": "@@ -0,0 +1,13 @@\n+server:\n+  port: 8189\n+spring:\n+  datasource:\n+    driver-class-name: org.h2.Driver\n+    url: jdbc:h2:mem:mydatabase;MODE=PostgreSQL\n+    username: sa\n+    password:\n+  jpa:\n+    show-sql: true\n+    properties:\n+      hibernate:\n+        dialect: org.hibernate.dialect.H2Dialect"
  },
  {
    "sha": "298a230c1e8cb56993bc27e922c45879dd5b336e",
    "filename": "src/main/resources/db/migration/V1__initialize.sql",
    "status": "added",
    "additions": 11,
    "deletions": 0,
    "changes": 11,
    "blob_url": "https://github.com/anisimovdenis90/student-web-app/blob/718ee4dc0044e8b3ca67948a7520c143977dd4c5/src/main/resources/db/migration/V1__initialize.sql",
    "raw_url": "https://github.com/anisimovdenis90/student-web-app/raw/718ee4dc0044e8b3ca67948a7520c143977dd4c5/src/main/resources/db/migration/V1__initialize.sql",
    "contents_url": "https://api.github.com/repos/anisimovdenis90/student-web-app/contents/src/main/resources/db/migration/V1__initialize.sql?ref=718ee4dc0044e8b3ca67948a7520c143977dd4c5",
    "patch": "@@ -0,0 +1,11 @@\n+CREATE TABLE `students` (\n+    `id` BIGINT UNSIGNED NOT NULL AUTO_INCREMENT,\n+    `name` VARCHAR(255) NOT NULL,\n+    `age` INT NOT NULL,\n+    PRIMARY KEY (`id`)\n+);\n+\n+INSERT INTO `students` (`name`, `age`)\n+VALUES\n+('Bob', 20),\n+('Jack', 25);\n\\ No newline at end of file"
  },
  {
    "sha": "7d625f2d93f651e0c75aa736f8c7ca9a08e7146a",
    "filename": "src/main/resources/templates/student_edit.html",
    "status": "added",
    "additions": 47,
    "deletions": 0,
    "changes": 47,
    "blob_url": "https://github.com/anisimovdenis90/student-web-app/blob/718ee4dc0044e8b3ca67948a7520c143977dd4c5/src/main/resources/templates/student_edit.html",
    "raw_url": "https://github.com/anisimovdenis90/student-web-app/raw/718ee4dc0044e8b3ca67948a7520c143977dd4c5/src/main/resources/templates/student_edit.html",
    "contents_url": "https://api.github.com/repos/anisimovdenis90/student-web-app/contents/src/main/resources/templates/student_edit.html?ref=718ee4dc0044e8b3ca67948a7520c143977dd4c5",
    "patch": "@@ -0,0 +1,47 @@\n+<!DOCTYPE html>\n+<html xmlns=\"http://www.w3.org/1999/xhtml\" xmlns:th=\"http://www.thymeleaf.org\">\n+\n+<head>\n+    <meta charset=\"utf-8\"/>\n+\n+    <title>Форма студента</title>\n+\n+    <link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css\">\n+    <script src=\"https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js\"></script>\n+    <script src=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js\"></script>\n+</head>\n+\n+<body>\n+\n+<div class=\"container\">\n+    <div class=\"row justify-content-center\">\n+        <div class=\"col-md-6\">\n+            <div class=\"card\">\n+                <header class=\"card-header\">\n+                    <h4 class=\"card-title mt-2\"><span>Форма студента</span></h4>\n+                </header>\n+                <article class=\"card-body\">\n+                    <form th:action=\"@{/students/edit}\" th:object=\"${student}\" method=\"POST\">\n+                        <input th:field=\"*{id}\" type=\"hidden\" class=\"form-control\">\n+                        <div class=\"form-row\">\n+                            <div class=\"col form-group\">\n+                                <label>Имя</label>\n+                                <input th:field=\"*{name}\" type=\"text\" class=\"form-control\" placeholder=\"Имя\">\n+                            </div>\n+                            <div class=\"col form-group\">\n+                                <label>Возраст</label>\n+                                <input th:field=\"*{age}\" type=\"number\" class=\"form-control\" placeholder=\"Возраст\">\n+                            </div>\n+                        </div>\n+                        <div class=\"form-group\">\n+                            <button type=\"submit\" class=\"btn btn-primary btn-block\">Сохранить</button>\n+                        </div>\n+                    </form>\n+                </article>\n+            </div>\n+        </div>\n+    </div>\n+</div>\n+\n+</body>\n+</html>\n\\ No newline at end of file"
  },
  {
    "sha": "e6f6c0280e932aa02ea272c559616a71ef5b55f0",
    "filename": "src/main/resources/templates/students.html",
    "status": "added",
    "additions": 45,
    "deletions": 0,
    "changes": 45,
    "blob_url": "https://github.com/anisimovdenis90/student-web-app/blob/718ee4dc0044e8b3ca67948a7520c143977dd4c5/src/main/resources/templates/students.html",
    "raw_url": "https://github.com/anisimovdenis90/student-web-app/raw/718ee4dc0044e8b3ca67948a7520c143977dd4c5/src/main/resources/templates/students.html",
    "contents_url": "https://api.github.com/repos/anisimovdenis90/student-web-app/contents/src/main/resources/templates/students.html?ref=718ee4dc0044e8b3ca67948a7520c143977dd4c5",
    "patch": "@@ -0,0 +1,45 @@\n+<!DOCTYPE html>\n+<html xmlns=\"http://www.w3.org/1999/xhtml\" xmlns:th=\"http://www.thymeleaf.org\">\n+\n+<head>\n+    <meta charset=\"utf-8\"/>\n+\n+    <title>Список студентов</title>\n+\n+    <link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css\">\n+    <script src=\"https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js\"></script>\n+    <script src=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js\"></script>\n+</head>\n+\n+<body>\n+<div class=\"container\">\n+    <h1>Список студентов</h1>\n+    <br>\n+    <span th:if=\"${students.isEmpty()}\">Студенты отсутствуют</span>\n+    <br>\n+    <a class=\"btn btn-primary\" th:href=\"@{'/students/create'}\">Новый студент</a>\n+    <table class=\"table table-hover\" th:if=\"${!students.isEmpty()}\">\n+        <thead class=\"thead-dark\">\n+        <tr>\n+            <th>ID</th>\n+            <th>Имя</th>\n+            <th>Возраст</th>\n+            <th>Действия</th>\n+        </tr>\n+        </thead>\n+        <tbody>\n+        <tr th:each=\"student : ${students}\">\n+            <td th:text=\"${student.id}\"/>\n+            <td th:text=\"${student.name}\"/>\n+            <td th:text=\"${student.age}\"/>\n+            <td>\n+                <a class=\"btn btn-success\" th:href=\"@{'/students/edit/' + ${student.id}}\">Изменить</a>\n+                <a class=\"btn btn-danger\" th:href=\"@{'/students/delete/' + ${student.id}}\">Удалить</a>\n+            </td>\n+        </tr>\n+        </tbody>\n+    </table>\n+</div>\n+\n+</body>\n+</html>\n\\ No newline at end of file"
  }
]
