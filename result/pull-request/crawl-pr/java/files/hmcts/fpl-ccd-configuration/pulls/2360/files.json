[
  {
    "sha": "d0f83f2c3725fadf323b3f749e6bf7c0d1551841",
    "filename": "ccd-definition/CaseEventToComplexTypes/manageDocs/manageDocuments.json",
    "status": "modified",
    "additions": 16,
    "deletions": 6,
    "changes": 22,
    "blob_url": "https://github.com/hmcts/fpl-ccd-configuration/blob/cea544e27bca3265ceecb8b82c54b3fe55aae186/ccd-definition/CaseEventToComplexTypes/manageDocs/manageDocuments.json",
    "raw_url": "https://github.com/hmcts/fpl-ccd-configuration/raw/cea544e27bca3265ceecb8b82c54b3fe55aae186/ccd-definition/CaseEventToComplexTypes/manageDocs/manageDocuments.json",
    "contents_url": "https://api.github.com/repos/hmcts/fpl-ccd-configuration/contents/ccd-definition/CaseEventToComplexTypes/manageDocs/manageDocuments.json?ref=cea544e27bca3265ceecb8b82c54b3fe55aae186",
    "patch": "@@ -42,18 +42,28 @@\n     \"ID\": \"ManageDocuments\",\n     \"CaseEventID\": \"manageDocuments\",\n     \"CaseFieldID\": \"supportingEvidenceDocumentsTemp\",\n-    \"ListElementCode\": \"confidentialWarningLabel\",\n+    \"ListElementCode\": \"type\",\n     \"FieldDisplayOrder\": 5,\n+    \"DisplayContext\": \"MANDATORY\",\n+    \"FieldShowCondition\": \"manageDocument.type=\\\"FURTHER_EVIDENCE_DOCUMENTS\\\"\"\n+  },\n+  {\n+    \"LiveFrom\": \"01/01/2017\",\n+    \"ID\": \"ManageDocuments\",\n+    \"CaseEventID\": \"manageDocuments\",\n+    \"CaseFieldID\": \"supportingEvidenceDocumentsTemp\",\n+    \"ListElementCode\": \"confidentialWarningLabel\",\n+    \"FieldDisplayOrder\": 6,\n     \"DisplayContext\": \"READONLY\",\n-    \"EventElementLabel\": \"<div class='govuk-warning-text'><span class='govuk-warning-text__icon' aria-hidden='true'>!</span><strong class='govuk-warning-text__text'>Check if documents are confidential</strong></div><br>\"\n+    \"EventElementLabel\": \"<br /><div class='govuk-warning-text'><span class='govuk-warning-text__icon' aria-hidden='true'>!</span><strong class='govuk-warning-text__text'>Check if documents are confidential</strong></div><br>\"\n   },\n   {\n     \"LiveFrom\": \"01/01/2017\",\n     \"ID\": \"ManageDocuments\",\n     \"CaseEventID\": \"manageDocuments\",\n     \"CaseFieldID\": \"supportingEvidenceDocumentsTemp\",\n     \"ListElementCode\": \"confidential\",\n-    \"FieldDisplayOrder\": 6,\n+    \"FieldDisplayOrder\": 7,\n     \"DisplayContext\": \"OPTIONAL\",\n     \"EventElementLabel\": \"Tick to restrict to HMCTS staff\",\n     \"FieldShowCondition\": \"name!=\\\"SHOW_IN_EVENT_ONLY\\\"\"\n@@ -64,7 +74,7 @@\n     \"CaseEventID\": \"manageDocuments\",\n     \"CaseFieldID\": \"supportingEvidenceDocumentsTemp\",\n     \"ListElementCode\": \"confidentialTabLabel\",\n-    \"FieldDisplayOrder\": 7,\n+    \"FieldDisplayOrder\": 8,\n     \"DisplayContext\": \"READONLY\",\n     \"FieldShowCondition\": \"name=\\\"DO_NOT_SHOW\\\"\"\n   },\n@@ -74,7 +84,7 @@\n     \"CaseEventID\": \"manageDocuments\",\n     \"CaseFieldID\": \"supportingEvidenceDocumentsTemp\",\n     \"ListElementCode\": \"uploadedBy\",\n-    \"FieldDisplayOrder\": 8,\n+    \"FieldDisplayOrder\": 9,\n     \"DisplayContext\": \"READONLY\",\n     \"FieldShowCondition\": \"manageDocument.type=\\\"DO_NOT_SHOW\\\"\"\n   },\n@@ -84,7 +94,7 @@\n     \"CaseEventID\": \"manageDocuments\",\n     \"CaseFieldID\": \"supportingEvidenceDocumentsTemp\",\n     \"ListElementCode\": \"dateTimeUploaded\",\n-    \"FieldDisplayOrder\": 9,\n+    \"FieldDisplayOrder\": 10,\n     \"DisplayContext\": \"READONLY\",\n     \"FieldShowCondition\": \"manageDocument.type=\\\"DO_NOT_SHOW\\\"\"\n   }"
  },
  {
    "sha": "22a600438fa859e0990cd643348bd21695418bfb",
    "filename": "ccd-definition/CaseEventToComplexTypes/manageDocs/manageDocumentsLA.json",
    "status": "modified",
    "additions": 16,
    "deletions": 6,
    "changes": 22,
    "blob_url": "https://github.com/hmcts/fpl-ccd-configuration/blob/cea544e27bca3265ceecb8b82c54b3fe55aae186/ccd-definition/CaseEventToComplexTypes/manageDocs/manageDocumentsLA.json",
    "raw_url": "https://github.com/hmcts/fpl-ccd-configuration/raw/cea544e27bca3265ceecb8b82c54b3fe55aae186/ccd-definition/CaseEventToComplexTypes/manageDocs/manageDocumentsLA.json",
    "contents_url": "https://api.github.com/repos/hmcts/fpl-ccd-configuration/contents/ccd-definition/CaseEventToComplexTypes/manageDocs/manageDocumentsLA.json?ref=cea544e27bca3265ceecb8b82c54b3fe55aae186",
    "patch": "@@ -42,18 +42,28 @@\n     \"ID\": \"ManageDocuments\",\n     \"CaseEventID\": \"manageDocumentsLA\",\n     \"CaseFieldID\": \"supportingEvidenceDocumentsTemp\",\n-    \"ListElementCode\": \"confidentialWarningLabel\",\n+    \"ListElementCode\": \"type\",\n     \"FieldDisplayOrder\": 5,\n+    \"DisplayContext\": \"MANDATORY\",\n+    \"FieldShowCondition\": \"manageDocumentLA.type=\\\"FURTHER_EVIDENCE_DOCUMENTS\\\"\"\n+  },\n+  {\n+    \"LiveFrom\": \"01/01/2017\",\n+    \"ID\": \"ManageDocuments\",\n+    \"CaseEventID\": \"manageDocumentsLA\",\n+    \"CaseFieldID\": \"supportingEvidenceDocumentsTemp\",\n+    \"ListElementCode\": \"confidentialWarningLabel\",\n+    \"FieldDisplayOrder\": 6,\n     \"DisplayContext\": \"READONLY\",\n-    \"EventElementLabel\": \"<div class='govuk-warning-text'><span class='govuk-warning-text__icon' aria-hidden='true'>!</span><strong class='govuk-warning-text__text'>Check if documents are confidential</strong></div><br>\"\n+    \"EventElementLabel\": \"<br /><div class='govuk-warning-text'><span class='govuk-warning-text__icon' aria-hidden='true'>!</span><strong class='govuk-warning-text__text'>Check if documents are confidential</strong></div><br>\"\n   },\n   {\n     \"LiveFrom\": \"01/01/2017\",\n     \"ID\": \"ManageDocuments\",\n     \"CaseEventID\": \"manageDocumentsLA\",\n     \"CaseFieldID\": \"supportingEvidenceDocumentsTemp\",\n     \"ListElementCode\": \"confidential\",\n-    \"FieldDisplayOrder\": 6,\n+    \"FieldDisplayOrder\": 7,\n     \"DisplayContext\": \"OPTIONAL\",\n     \"EventElementLabel\": \"Tick to restrict to the LA, Cafcass and HMCTS staff\",\n     \"FieldShowCondition\": \"name!=\\\"SHOW_IN_EVENT_ONLY\\\"\"\n@@ -64,7 +74,7 @@\n     \"CaseEventID\": \"manageDocumentsLA\",\n     \"CaseFieldID\": \"supportingEvidenceDocumentsTemp\",\n     \"ListElementCode\": \"confidentialTabLabel\",\n-    \"FieldDisplayOrder\": 7,\n+    \"FieldDisplayOrder\": 8,\n     \"DisplayContext\": \"READONLY\",\n     \"FieldShowCondition\": \"name=\\\"DO_NOT_SHOW\\\"\"\n   },\n@@ -74,7 +84,7 @@\n     \"CaseEventID\": \"manageDocumentsLA\",\n     \"CaseFieldID\": \"supportingEvidenceDocumentsTemp\",\n     \"ListElementCode\": \"uploadedBy\",\n-    \"FieldDisplayOrder\": 7,\n+    \"FieldDisplayOrder\": 9,\n     \"DisplayContext\": \"READONLY\",\n     \"FieldShowCondition\": \"manageDocumentLA.type=\\\"DO_NOT_SHOW\\\"\"\n   },\n@@ -84,7 +94,7 @@\n     \"CaseEventID\": \"manageDocumentsLA\",\n     \"CaseFieldID\": \"supportingEvidenceDocumentsTemp\",\n     \"ListElementCode\": \"dateTimeUploaded\",\n-    \"FieldDisplayOrder\": 8,\n+    \"FieldDisplayOrder\": 10,\n     \"DisplayContext\": \"READONLY\",\n     \"FieldShowCondition\": \"manageDocumentLA.type=\\\"DO_NOT_SHOW\\\"\"\n   },"
  },
  {
    "sha": "6b7e644e282d08db30c6a9a8145f745431f0dc4e",
    "filename": "ccd-definition/CaseField/CareSupervision/manageDocuments.json",
    "status": "modified",
    "additions": 1,
    "deletions": 1,
    "changes": 2,
    "blob_url": "https://github.com/hmcts/fpl-ccd-configuration/blob/cea544e27bca3265ceecb8b82c54b3fe55aae186/ccd-definition/CaseField/CareSupervision/manageDocuments.json",
    "raw_url": "https://github.com/hmcts/fpl-ccd-configuration/raw/cea544e27bca3265ceecb8b82c54b3fe55aae186/ccd-definition/CaseField/CareSupervision/manageDocuments.json",
    "contents_url": "https://api.github.com/repos/hmcts/fpl-ccd-configuration/contents/ccd-definition/CaseField/CareSupervision/manageDocuments.json?ref=cea544e27bca3265ceecb8b82c54b3fe55aae186",
    "patch": "@@ -72,7 +72,7 @@\n     \"Label\": \"## Further evidence\",\n     \"SecurityClassification\": \"Public\",\n     \"Searchable\": \"N\",\n-    \"Comment\": \"Update label in 2768\"\n+    \"Comment\": \"Update label in 2770 when new page added for admin\"\n   },\n   {\n     \"LiveFrom\": \"01/01/2017\","
  },
  {
    "sha": "448adb5e992fcd6e5af8293fbf69555337d9631b",
    "filename": "ccd-definition/ComplexTypes/CareSupervision/1_SupportingDocuments/SupportingEvidenceBundle.json",
    "status": "modified",
    "additions": 12,
    "deletions": 0,
    "changes": 12,
    "blob_url": "https://github.com/hmcts/fpl-ccd-configuration/blob/cea544e27bca3265ceecb8b82c54b3fe55aae186/ccd-definition/ComplexTypes/CareSupervision/1_SupportingDocuments/SupportingEvidenceBundle.json",
    "raw_url": "https://github.com/hmcts/fpl-ccd-configuration/raw/cea544e27bca3265ceecb8b82c54b3fe55aae186/ccd-definition/ComplexTypes/CareSupervision/1_SupportingDocuments/SupportingEvidenceBundle.json",
    "contents_url": "https://api.github.com/repos/hmcts/fpl-ccd-configuration/contents/ccd-definition/ComplexTypes/CareSupervision/1_SupportingDocuments/SupportingEvidenceBundle.json?ref=cea544e27bca3265ceecb8b82c54b3fe55aae186",
    "patch": "@@ -79,5 +79,17 @@\n     \"FieldShowCondition\": \"confidential CONTAINS \\\"CONFIDENTIAL\\\"\",\n     \"Searchable\": \"N\",\n     \"Comment\": \"Used to identify documents as confidential in tab view only. Does not display in event.\"\n+  },\n+  {\n+    \"LiveFrom\": \"01/01/2017\",\n+    \"ID\": \"SupportingEvidenceBundle\",\n+    \"ListElementCode\": \"type\",\n+    \"FieldType\": \"FixedRadioList\",\n+    \"FieldTypeParameter\": \"FurtherEvidenceType\",\n+    \"ElementLabel\": \"Choose a further evidence document type\",\n+    \"SecurityClassification\": \"Public\",\n+    \"FieldShowCondition\": \"confidential=\\\"DO_NOT_SHOW\\\"\",\n+    \"Searchable\": \"N\",\n+    \"Comment\": \"Not shown in tab\"\n   }\n ]"
  },
  {
    "sha": "fccb657e5343eae4025c5005b757c446c8cb055f",
    "filename": "ccd-definition/FixedLists/CareSupervision/FurtherEvidenceType.json",
    "status": "added",
    "additions": 30,
    "deletions": 0,
    "changes": 30,
    "blob_url": "https://github.com/hmcts/fpl-ccd-configuration/blob/cea544e27bca3265ceecb8b82c54b3fe55aae186/ccd-definition/FixedLists/CareSupervision/FurtherEvidenceType.json",
    "raw_url": "https://github.com/hmcts/fpl-ccd-configuration/raw/cea544e27bca3265ceecb8b82c54b3fe55aae186/ccd-definition/FixedLists/CareSupervision/FurtherEvidenceType.json",
    "contents_url": "https://api.github.com/repos/hmcts/fpl-ccd-configuration/contents/ccd-definition/FixedLists/CareSupervision/FurtherEvidenceType.json?ref=cea544e27bca3265ceecb8b82c54b3fe55aae186",
    "patch": "@@ -0,0 +1,30 @@\n+[\n+  {\n+    \"LiveFrom\": \"01/01/2017\",\n+    \"ID\": \"FurtherEvidenceType\",\n+    \"ListElementCode\": \"APPLICANT_STATEMENT\",\n+    \"ListElement\": \"Applicant statement - for example witness, social work, initial or position statements, or police disclosure documents\",\n+    \"DisplayOrder\": 1\n+  },\n+  {\n+    \"LiveFrom\": \"01/01/2017\",\n+    \"ID\": \"FurtherEvidenceType\",\n+    \"ListElementCode\": \"GUARDIAN_REPORTS\",\n+    \"ListElement\": \"Child's guardian reports\",\n+    \"DisplayOrder\": 2\n+  },\n+  {\n+    \"LiveFrom\": \"01/01/2017\",\n+    \"ID\": \"FurtherEvidenceType\",\n+    \"ListElementCode\": \"EXPERT_REPORTS\",\n+    \"ListElement\": \"Expert reports\",\n+    \"DisplayOrder\": 3\n+  },\n+  {\n+    \"LiveFrom\": \"01/01/2017\",\n+    \"ID\": \"FurtherEvidenceType\",\n+    \"ListElementCode\": \"OTHER_REPORTS\",\n+    \"ListElement\": \"Other reports\",\n+    \"DisplayOrder\": 4\n+  }\n+]"
  },
  {
    "sha": "20606b90e8ef1728addfb1cea9d236c0057a2f62",
    "filename": "e2e/fixtures/supportingEvidenceDocuments.js",
    "status": "modified",
    "additions": 4,
    "deletions": 0,
    "changes": 4,
    "blob_url": "https://github.com/hmcts/fpl-ccd-configuration/blob/cea544e27bca3265ceecb8b82c54b3fe55aae186/e2e/fixtures/supportingEvidenceDocuments.js",
    "raw_url": "https://github.com/hmcts/fpl-ccd-configuration/raw/cea544e27bca3265ceecb8b82c54b3fe55aae186/e2e/fixtures/supportingEvidenceDocuments.js",
    "contents_url": "https://api.github.com/repos/hmcts/fpl-ccd-configuration/contents/e2e/fixtures/supportingEvidenceDocuments.js?ref=cea544e27bca3265ceecb8b82c54b3fe55aae186",
    "patch": "@@ -13,6 +13,7 @@ module.exports = [\n       second: 0,\n     },\n     document: config.testFile,\n+    type: 'Expert reports',\n   },\n   {\n     name: 'Email with evidence attached',\n@@ -26,6 +27,7 @@ module.exports = [\n       second: 0,\n     },\n     document: config.testFile,\n+    type: 'Other reports',\n   },\n   {\n     name: 'Correspondence document',\n@@ -39,6 +41,7 @@ module.exports = [\n       second: 10,\n     },\n     document: config.testFile,\n+    type: 'Expert reports',\n   },\n   {\n     name: 'C2 supporting document',\n@@ -52,5 +55,6 @@ module.exports = [\n       second: 0,\n     },\n     document: config.testFile,\n+    type: 'Other reports',\n   },\n ];"
  },
  {
    "sha": "7cf26cef5477fb60e4efff85ab1810af7608e7ea",
    "filename": "e2e/fragments/supportingDocuments.js",
    "status": "modified",
    "additions": 4,
    "deletions": 0,
    "changes": 4,
    "blob_url": "https://github.com/hmcts/fpl-ccd-configuration/blob/cea544e27bca3265ceecb8b82c54b3fe55aae186/e2e/fragments/supportingDocuments.js",
    "raw_url": "https://github.com/hmcts/fpl-ccd-configuration/raw/cea544e27bca3265ceecb8b82c54b3fe55aae186/e2e/fragments/supportingDocuments.js",
    "contents_url": "https://api.github.com/repos/hmcts/fpl-ccd-configuration/contents/e2e/fragments/supportingDocuments.js?ref=cea544e27bca3265ceecb8b82c54b3fe55aae186",
    "patch": "@@ -8,6 +8,10 @@ module.exports = {\n       dateAndTime: `#${document}_${index}_dateTimeReceived`,\n       document: `#${document}_${index}_document`,\n       confidential: `#${document}_${index}_confidential-CONFIDENTIAL`,\n+      type: {\n+        expert: `#${document}_${index}_type-EXPERT_REPORTS`,\n+        other: `#${document}_${index}_type-OTHER_REPORTS`,\n+      },\n     };\n   },\n };"
  },
  {
    "sha": "38a9bc01e7206e99ebe4a3186841450043372f2c",
    "filename": "e2e/pages/events/manageDocumentsEvent.page.js",
    "status": "modified",
    "additions": 47,
    "deletions": 0,
    "changes": 47,
    "blob_url": "https://github.com/hmcts/fpl-ccd-configuration/blob/cea544e27bca3265ceecb8b82c54b3fe55aae186/e2e/pages/events/manageDocumentsEvent.page.js",
    "raw_url": "https://github.com/hmcts/fpl-ccd-configuration/raw/cea544e27bca3265ceecb8b82c54b3fe55aae186/e2e/pages/events/manageDocumentsEvent.page.js",
    "contents_url": "https://api.github.com/repos/hmcts/fpl-ccd-configuration/contents/e2e/pages/events/manageDocumentsEvent.page.js?ref=cea544e27bca3265ceecb8b82c54b3fe55aae186",
    "patch": "@@ -65,10 +65,42 @@ module.exports = {\n     I.attachFile(this.fields.supportingDocuments(index).document, document);\n   },\n \n+  async selectFurtherEvidenceType(type, index = 0) {\n+    switch (type) {\n+      case 'Expert reports':\n+        I.checkOption(this.fields.supportingDocuments(index).type.expert);\n+        break;\n+      case 'Other reports':\n+        I.checkOption(this.fields.supportingDocuments(index).type.other);\n+        break;\n+      default:\n+        throw new Error(`Unsupported further evidence type ${type}`);\n+    }\n+  },\n+\n   async selectConfidential(index = 0) {\n     I.click(this.fields.supportingDocuments(index).confidential);\n   },\n \n+  async uploadFurtherEvidence(supportingEvidenceDocument) {\n+    const index = await I.getActiveElementIndex();\n+    this.enterDocumentName(supportingEvidenceDocument.name, index);\n+    this.enterDocumentNotes(supportingEvidenceDocument.notes, index);\n+    await this.enterDateAndTimeReceived(supportingEvidenceDocument.date, index);\n+    this.uploadDocument(supportingEvidenceDocument.document, index);\n+    this.selectFurtherEvidenceType(supportingEvidenceDocument.type, index);\n+  },\n+\n+  async uploadConfidentialFurtherEvidence(supportingEvidenceDocument) {\n+    const index = await I.getActiveElementIndex();\n+    this.enterDocumentName(supportingEvidenceDocument.name, index);\n+    this.enterDocumentNotes(supportingEvidenceDocument.notes, index);\n+    await this.enterDateAndTimeReceived(supportingEvidenceDocument.date, index);\n+    this.uploadDocument(supportingEvidenceDocument.document, index);\n+    this.selectFurtherEvidenceType(supportingEvidenceDocument.type, index);\n+    this.selectConfidential(index);\n+  },\n+\n   async uploadSupportingEvidenceDocument(supportingEvidenceDocument) {\n     const index = await I.getActiveElementIndex();\n     this.enterDocumentName(supportingEvidenceDocument.name, index);\n@@ -85,4 +117,19 @@ module.exports = {\n     this.uploadDocument(supportingEvidenceDocument.document, index);\n     this.selectConfidential(index);\n   },\n+\n+  async setRolePreferences(rolePreferences) {\n+    const elementIndex = await this.getActiveElementIndex();\n+\n+    switch (rolePreferences) {\n+      case 'Barrister':\n+        I.checkOption(this.fields(elementIndex).legalRepresentative.roles.barrister);\n+        break;\n+      case 'Solicitor':\n+        I.checkOption(this.fields(elementIndex).legalRepresentative.roles.solicitor);\n+        break;\n+      default:\n+        throw new Error(`Unsupported representative serving preferences ${rolePreferences}`);\n+    }\n+  },\n };"
  },
  {
    "sha": "393f3246d05355a8c4fb7b3ccd270bbfdec89360",
    "filename": "e2e/pages/events/manageDocumentsLAEvent.page.js",
    "status": "modified",
    "additions": 31,
    "deletions": 2,
    "changes": 33,
    "blob_url": "https://github.com/hmcts/fpl-ccd-configuration/blob/cea544e27bca3265ceecb8b82c54b3fe55aae186/e2e/pages/events/manageDocumentsLAEvent.page.js",
    "raw_url": "https://github.com/hmcts/fpl-ccd-configuration/raw/cea544e27bca3265ceecb8b82c54b3fe55aae186/e2e/pages/events/manageDocumentsLAEvent.page.js",
    "contents_url": "https://api.github.com/repos/hmcts/fpl-ccd-configuration/contents/e2e/pages/events/manageDocumentsLAEvent.page.js?ref=cea544e27bca3265ceecb8b82c54b3fe55aae186",
    "patch": "@@ -1,4 +1,4 @@\n-const { I } = inject();\n+const {I} = inject();\n const c2SupportingDocuments = require('../../fixtures/c2SupportingDocuments.js');\n const supportingDocumentsFragment = require('../../fragments/supportingDocuments.js');\n \n@@ -24,7 +24,7 @@ module.exports = {\n     c2DocumentsList: '#manageDocumentsSupportingC2List',\n     supportingDocumentsForC2: supportingDocumentsFragment.supportingDocuments(0, 'temporaryC2Document_supportingEvidenceBundle'),\n     supportingDocumentsCollectionId: '#supportingEvidenceDocumentsTemp',\n-    supportingDocuments: function(index) {\n+    supportingDocuments: function (index) {\n       return supportingDocumentsFragment.supportingDocuments(index, 'supportingEvidenceDocumentsTemp');\n     },\n   },\n@@ -109,11 +109,40 @@ module.exports = {\n     I.attachFile(this.fields.supportingDocuments(elementIndex).document, document);\n   },\n \n+  async selectFurtherEvidenceType(type) {\n+    const elementIndex = await this.getActiveElementIndex();\n+    switch (type) {\n+      case 'Expert reports':\n+        I.checkOption(this.fields.supportingDocuments(elementIndex).type.expert);\n+        break;\n+      case 'Other reports':\n+        I.checkOption(this.fields.supportingDocuments(elementIndex).type.other);\n+        break;\n+      default:\n+        throw new Error(`Unsupported further evidence type ${type}`);\n+    }\n+  },\n+\n   async selectConfidential() {\n     const elementIndex = await this.getActiveElementIndex();\n     I.click(this.fields.supportingDocuments(elementIndex).confidential);\n   },\n \n+  async uploadFurtherEvidence(supportingEvidenceDocument) {\n+    await this.enterDocumentName(supportingEvidenceDocument.name);\n+    await this.enterDocumentNotes(supportingEvidenceDocument.notes);\n+    await this.uploadDocument(supportingEvidenceDocument.document);\n+    await this.selectFurtherEvidenceType(supportingEvidenceDocument.type);\n+  },\n+\n+  async uploadConfidentialFurtherEvidence(supportingEvidenceDocument) {\n+    await this.enterDocumentName(supportingEvidenceDocument.name);\n+    await this.enterDocumentNotes(supportingEvidenceDocument.notes);\n+    await this.uploadDocument(supportingEvidenceDocument.document);\n+    await this.selectFurtherEvidenceType(supportingEvidenceDocument.type);\n+    await this.selectConfidential();\n+  },\n+\n   async uploadSupportingEvidenceDocument(supportingEvidenceDocument) {\n     await this.enterDocumentName(supportingEvidenceDocument.name);\n     await this.enterDocumentNotes(supportingEvidenceDocument.notes);"
  },
  {
    "sha": "203998c9344baab49aca7bdb0b388ff490bada89",
    "filename": "e2e/tests/adminMangesHearings_test.js",
    "status": "modified",
    "additions": 3,
    "deletions": 3,
    "changes": 6,
    "blob_url": "https://github.com/hmcts/fpl-ccd-configuration/blob/cea544e27bca3265ceecb8b82c54b3fe55aae186/e2e/tests/adminMangesHearings_test.js",
    "raw_url": "https://github.com/hmcts/fpl-ccd-configuration/raw/cea544e27bca3265ceecb8b82c54b3fe55aae186/e2e/tests/adminMangesHearings_test.js",
    "contents_url": "https://api.github.com/repos/hmcts/fpl-ccd-configuration/contents/e2e/tests/adminMangesHearings_test.js?ref=cea544e27bca3265ceecb8b82c54b3fe55aae186",
    "patch": "@@ -107,9 +107,9 @@ Scenario('HMCTS admin uploads further hearing evidence documents', async ({I, ca\n   manageDocumentsEventPage.selectFurtherEvidenceIsRelatedToHearing();\n   manageDocumentsEventPage.selectHearing(formatHearingDate(hearingStartDate));\n   await I.goToNextPage();\n-  await manageDocumentsEventPage.uploadSupportingEvidenceDocument(supportingEvidenceDocuments[0]);\n+  await manageDocumentsEventPage.uploadFurtherEvidence(supportingEvidenceDocuments[0]);\n   await I.addAnotherElementToCollection();\n-  await manageDocumentsEventPage.uploadSupportingEvidenceDocument(supportingEvidenceDocuments[1]);\n+  await manageDocumentsEventPage.uploadFurtherEvidence(supportingEvidenceDocuments[1]);\n   await I.completeEvent('Save and continue', {summary: 'Summary', description: 'Description'});\n   I.seeEventSubmissionConfirmation(config.administrationActions.manageDocuments);\n \n@@ -118,7 +118,7 @@ Scenario('HMCTS admin uploads further hearing evidence documents', async ({I, ca\n   manageDocumentsEventPage.selectFurtherEvidenceIsRelatedToHearing();\n   manageDocumentsEventPage.selectHearing('1 January 2060');\n   await I.goToNextPage();\n-  await manageDocumentsEventPage.uploadSupportingEvidenceDocument(supportingEvidenceDocuments[0]);\n+  await manageDocumentsEventPage.uploadFurtherEvidence(supportingEvidenceDocuments[0]);\n   await I.completeEvent('Save and continue', {summary: 'Summary', description: 'Description'});\n   I.seeEventSubmissionConfirmation(config.administrationActions.manageDocuments);\n "
  },
  {
    "sha": "cfb737a8366888314f543b559ff270e381a210db",
    "filename": "e2e/tests/manageDocuments_test.js",
    "status": "modified",
    "additions": 4,
    "deletions": 4,
    "changes": 8,
    "blob_url": "https://github.com/hmcts/fpl-ccd-configuration/blob/cea544e27bca3265ceecb8b82c54b3fe55aae186/e2e/tests/manageDocuments_test.js",
    "raw_url": "https://github.com/hmcts/fpl-ccd-configuration/raw/cea544e27bca3265ceecb8b82c54b3fe55aae186/e2e/tests/manageDocuments_test.js",
    "contents_url": "https://api.github.com/repos/hmcts/fpl-ccd-configuration/contents/e2e/tests/manageDocuments_test.js?ref=cea544e27bca3265ceecb8b82c54b3fe55aae186",
    "patch": "@@ -20,9 +20,9 @@ Scenario('HMCTS Admin and LA upload confidential and non confidential further ev\n \n   manageDocumentsEventPage.selectFurtherEvidence();\n   await I.goToNextPage();\n-  await manageDocumentsEventPage.uploadConfidentialSupportingEvidenceDocument(supportingEvidenceDocuments[0]);\n+  await manageDocumentsEventPage.uploadConfidentialFurtherEvidence(supportingEvidenceDocuments[0]);\n   await I.addAnotherElementToCollection();\n-  await manageDocumentsEventPage.uploadSupportingEvidenceDocument(supportingEvidenceDocuments[1]);\n+  await manageDocumentsEventPage.uploadFurtherEvidence(supportingEvidenceDocuments[1]);\n   await I.completeEvent('Save and continue');\n   I.seeEventSubmissionConfirmation(config.applicationActions.manageDocumentsLA);\n \n@@ -33,9 +33,9 @@ Scenario('HMCTS Admin and LA upload confidential and non confidential further ev\n   await I.goToNextPage();\n   await manageDocumentsLAEventPage.selectAnyOtherDocument();\n   await I.goToNextPage();\n-  await manageDocumentsLAEventPage.uploadConfidentialSupportingEvidenceDocument(supportingEvidenceDocuments[2]);\n+  await manageDocumentsLAEventPage.uploadConfidentialFurtherEvidence(supportingEvidenceDocuments[2]);\n   await I.addAnotherElementToCollection();\n-  await manageDocumentsLAEventPage.uploadSupportingEvidenceDocument(supportingEvidenceDocuments[3]);\n+  await manageDocumentsLAEventPage.uploadFurtherEvidence(supportingEvidenceDocuments[3]);\n   await I.completeEvent('Save and continue');\n   I.seeEventSubmissionConfirmation(config.applicationActions.manageDocumentsLA);\n "
  },
  {
    "sha": "19010c2e3f3100fcf0148440adfd57d76f2441c8",
    "filename": "service/src/integrationTest/java/uk/gov/hmcts/reform/fpl/controllers/documents/ManageDocumentsControllerMidEventTest.java",
    "status": "modified",
    "additions": 2,
    "deletions": 0,
    "changes": 2,
    "blob_url": "https://github.com/hmcts/fpl-ccd-configuration/blob/cea544e27bca3265ceecb8b82c54b3fe55aae186/service/src/integrationTest/java/uk/gov/hmcts/reform/fpl/controllers/documents/ManageDocumentsControllerMidEventTest.java",
    "raw_url": "https://github.com/hmcts/fpl-ccd-configuration/raw/cea544e27bca3265ceecb8b82c54b3fe55aae186/service/src/integrationTest/java/uk/gov/hmcts/reform/fpl/controllers/documents/ManageDocumentsControllerMidEventTest.java",
    "contents_url": "https://api.github.com/repos/hmcts/fpl-ccd-configuration/contents/service/src/integrationTest/java/uk/gov/hmcts/reform/fpl/controllers/documents/ManageDocumentsControllerMidEventTest.java?ref=cea544e27bca3265ceecb8b82c54b3fe55aae186",
    "patch": "@@ -21,6 +21,7 @@\n \n import static java.util.UUID.randomUUID;\n import static org.assertj.core.api.Assertions.assertThat;\n+import static uk.gov.hmcts.reform.fpl.enums.FurtherEvidenceType.GUARDIAN_REPORTS;\n import static uk.gov.hmcts.reform.fpl.enums.ManageDocumentType.C2;\n import static uk.gov.hmcts.reform.fpl.enums.ManageDocumentType.CORRESPONDENCE;\n import static uk.gov.hmcts.reform.fpl.enums.ManageDocumentType.FURTHER_EVIDENCE_DOCUMENTS;\n@@ -177,6 +178,7 @@ private ManageDocument buildManagementDocument(ManageDocumentType type, String i\n         return wrapElements(SupportingEvidenceBundle.builder()\n             .name(\"test\")\n             .uploadedBy(\"HMCTS\")\n+            .type(GUARDIAN_REPORTS)\n             .build());\n     }\n "
  },
  {
    "sha": "0976e716909bb176416e4d579f65e9ae1cd9e46a",
    "filename": "service/src/integrationTest/java/uk/gov/hmcts/reform/fpl/controllers/documents/ManageDocumentsLAControllerMidEventTest.java",
    "status": "modified",
    "additions": 2,
    "deletions": 0,
    "changes": 2,
    "blob_url": "https://github.com/hmcts/fpl-ccd-configuration/blob/cea544e27bca3265ceecb8b82c54b3fe55aae186/service/src/integrationTest/java/uk/gov/hmcts/reform/fpl/controllers/documents/ManageDocumentsLAControllerMidEventTest.java",
    "raw_url": "https://github.com/hmcts/fpl-ccd-configuration/raw/cea544e27bca3265ceecb8b82c54b3fe55aae186/service/src/integrationTest/java/uk/gov/hmcts/reform/fpl/controllers/documents/ManageDocumentsLAControllerMidEventTest.java",
    "contents_url": "https://api.github.com/repos/hmcts/fpl-ccd-configuration/contents/service/src/integrationTest/java/uk/gov/hmcts/reform/fpl/controllers/documents/ManageDocumentsLAControllerMidEventTest.java?ref=cea544e27bca3265ceecb8b82c54b3fe55aae186",
    "patch": "@@ -23,6 +23,7 @@\n \n import static java.util.UUID.randomUUID;\n import static org.assertj.core.api.Assertions.assertThat;\n+import static uk.gov.hmcts.reform.fpl.enums.FurtherEvidenceType.GUARDIAN_REPORTS;\n import static uk.gov.hmcts.reform.fpl.enums.ManageDocumentSubtypeListLA.OTHER;\n import static uk.gov.hmcts.reform.fpl.enums.ManageDocumentTypeListLA.C2;\n import static uk.gov.hmcts.reform.fpl.enums.ManageDocumentTypeListLA.CORRESPONDENCE;\n@@ -224,6 +225,7 @@ private ManageDocumentLA buildManagementDocument(ManageDocumentTypeListLA type)\n         return wrapElements(SupportingEvidenceBundle.builder()\n             .name(\"test\")\n             .uploadedBy(\"kurt.swansea@gov.uk\")\n+            .type(GUARDIAN_REPORTS)\n             .build());\n     }\n "
  },
  {
    "sha": "aaaa9f08100a89375929f7412fe77d0f9bdc071b",
    "filename": "service/src/main/java/uk/gov/hmcts/reform/fpl/enums/FurtherEvidenceType.java",
    "status": "added",
    "additions": 8,
    "deletions": 0,
    "changes": 8,
    "blob_url": "https://github.com/hmcts/fpl-ccd-configuration/blob/cea544e27bca3265ceecb8b82c54b3fe55aae186/service/src/main/java/uk/gov/hmcts/reform/fpl/enums/FurtherEvidenceType.java",
    "raw_url": "https://github.com/hmcts/fpl-ccd-configuration/raw/cea544e27bca3265ceecb8b82c54b3fe55aae186/service/src/main/java/uk/gov/hmcts/reform/fpl/enums/FurtherEvidenceType.java",
    "contents_url": "https://api.github.com/repos/hmcts/fpl-ccd-configuration/contents/service/src/main/java/uk/gov/hmcts/reform/fpl/enums/FurtherEvidenceType.java?ref=cea544e27bca3265ceecb8b82c54b3fe55aae186",
    "patch": "@@ -0,0 +1,8 @@\n+package uk.gov.hmcts.reform.fpl.enums;\n+\n+public enum FurtherEvidenceType {\n+    APPLICANT_STATEMENT,\n+    GUARDIAN_REPORTS,\n+    EXPERT_REPORTS,\n+    OTHER_REPORTS\n+}"
  },
  {
    "sha": "d601ff9f64c8bb33c4986c0e8875a81dcda7e399",
    "filename": "service/src/main/java/uk/gov/hmcts/reform/fpl/model/SupportingEvidenceBundle.java",
    "status": "modified",
    "additions": 2,
    "deletions": 0,
    "changes": 2,
    "blob_url": "https://github.com/hmcts/fpl-ccd-configuration/blob/cea544e27bca3265ceecb8b82c54b3fe55aae186/service/src/main/java/uk/gov/hmcts/reform/fpl/model/SupportingEvidenceBundle.java",
    "raw_url": "https://github.com/hmcts/fpl-ccd-configuration/raw/cea544e27bca3265ceecb8b82c54b3fe55aae186/service/src/main/java/uk/gov/hmcts/reform/fpl/model/SupportingEvidenceBundle.java",
    "contents_url": "https://api.github.com/repos/hmcts/fpl-ccd-configuration/contents/service/src/main/java/uk/gov/hmcts/reform/fpl/model/SupportingEvidenceBundle.java?ref=cea544e27bca3265ceecb8b82c54b3fe55aae186",
    "patch": "@@ -6,6 +6,7 @@\n import lombok.Builder;\n import lombok.Data;\n import lombok.extern.jackson.Jacksonized;\n+import uk.gov.hmcts.reform.fpl.enums.FurtherEvidenceType;\n import uk.gov.hmcts.reform.fpl.model.common.DocumentReference;\n import uk.gov.hmcts.reform.fpl.validation.interfaces.time.PastOrPresentDate;\n \n@@ -25,6 +26,7 @@\n     private final DocumentReference document;\n     private String uploadedBy;\n     private List<String> confidential;\n+    private FurtherEvidenceType type;\n \n     @JsonIgnore\n     public boolean isConfidentialDocument() {"
  },
  {
    "sha": "2953d22b3a489af15dc7ae9d6304dc2ab5b3c95a",
    "filename": "service/src/main/java/uk/gov/hmcts/reform/fpl/service/document/ManageDocumentService.java",
    "status": "modified",
    "additions": 16,
    "deletions": 2,
    "changes": 18,
    "blob_url": "https://github.com/hmcts/fpl-ccd-configuration/blob/cea544e27bca3265ceecb8b82c54b3fe55aae186/service/src/main/java/uk/gov/hmcts/reform/fpl/service/document/ManageDocumentService.java",
    "raw_url": "https://github.com/hmcts/fpl-ccd-configuration/raw/cea544e27bca3265ceecb8b82c54b3fe55aae186/service/src/main/java/uk/gov/hmcts/reform/fpl/service/document/ManageDocumentService.java",
    "contents_url": "https://api.github.com/repos/hmcts/fpl-ccd-configuration/contents/service/src/main/java/uk/gov/hmcts/reform/fpl/service/document/ManageDocumentService.java?ref=cea544e27bca3265ceecb8b82c54b3fe55aae186",
    "patch": "@@ -29,6 +29,8 @@\n \n import static org.apache.commons.lang3.ObjectUtils.defaultIfNull;\n import static org.apache.commons.lang3.ObjectUtils.isEmpty;\n+import static org.apache.commons.lang3.ObjectUtils.isNotEmpty;\n+import static uk.gov.hmcts.reform.fpl.enums.FurtherEvidenceType.OTHER_REPORTS;\n import static uk.gov.hmcts.reform.fpl.enums.YesNo.NO;\n import static uk.gov.hmcts.reform.fpl.enums.YesNo.YES;\n import static uk.gov.hmcts.reform.fpl.utils.ElementUtils.element;\n@@ -134,10 +136,15 @@\n                 Optional<Element<HearingFurtherEvidenceBundle>> bundle = findElement(selectedHearingId, bundles);\n \n                 if (bundle.isPresent()) {\n-                    return getUserSpecificSupportingEvidences(bundle.get().getValue().getSupportingEvidenceBundle());\n+                    List<Element<SupportingEvidenceBundle>> evidenceBundle\n+                        = bundle.get().getValue().getSupportingEvidenceBundle();\n+\n+                    setDefaultEvidenceType(evidenceBundle);\n+                    return getUserSpecificSupportingEvidences(evidenceBundle);\n                 }\n             }\n-        } else if (unrelatedEvidence != null) {\n+        } else if (isNotEmpty(unrelatedEvidence)) {\n+            setDefaultEvidenceType(unrelatedEvidence);\n             return unrelatedEvidence;\n         }\n \n@@ -288,6 +295,13 @@\n         return isEmpty(supportingEvidences) ? defaultSupportingEvidences() : supportingEvidences;\n     }\n \n+    private void setDefaultEvidenceType(List<Element<SupportingEvidenceBundle>> unrelatedEvidence) {\n+        unrelatedEvidence.stream()\n+            .map(Element::getValue)\n+            .filter(bundle -> bundle.getType() == null)\n+            .forEach(bundle -> bundle.setType(OTHER_REPORTS));\n+    }\n+\n     private Element<HearingFurtherEvidenceBundle> buildHearingSupportingEvidenceBundle(\n         UUID hearingId, HearingBooking hearingBooking,\n         List<Element<SupportingEvidenceBundle>> supportingEvidenceBundle) {"
  },
  {
    "sha": "d5bd9d151f1e86007fc5aeeca2d013fc9eaa5d63",
    "filename": "service/src/test/java/uk/gov/hmcts/reform/fpl/service/ManageDocumentServiceTest.java",
    "status": "modified",
    "additions": 5,
    "deletions": 3,
    "changes": 8,
    "blob_url": "https://github.com/hmcts/fpl-ccd-configuration/blob/cea544e27bca3265ceecb8b82c54b3fe55aae186/service/src/test/java/uk/gov/hmcts/reform/fpl/service/ManageDocumentServiceTest.java",
    "raw_url": "https://github.com/hmcts/fpl-ccd-configuration/raw/cea544e27bca3265ceecb8b82c54b3fe55aae186/service/src/test/java/uk/gov/hmcts/reform/fpl/service/ManageDocumentServiceTest.java",
    "contents_url": "https://api.github.com/repos/hmcts/fpl-ccd-configuration/contents/service/src/test/java/uk/gov/hmcts/reform/fpl/service/ManageDocumentServiceTest.java?ref=cea544e27bca3265ceecb8b82c54b3fe55aae186",
    "patch": "@@ -36,6 +36,7 @@\n import static org.junit.jupiter.api.Assertions.assertThrows;\n import static org.mockito.BDDMockito.given;\n import static org.mockito.Mockito.mock;\n+import static uk.gov.hmcts.reform.fpl.enums.FurtherEvidenceType.OTHER_REPORTS;\n import static uk.gov.hmcts.reform.fpl.enums.ManageDocumentType.FURTHER_EVIDENCE_DOCUMENTS;\n import static uk.gov.hmcts.reform.fpl.enums.YesNo.NO;\n import static uk.gov.hmcts.reform.fpl.enums.YesNo.YES;\n@@ -191,8 +192,7 @@ void shouldReturnEmptyCollectionWhenFurtherEvidenceIsNotRelatedToHearingAndColle\n             .build();\n \n         List<Element<SupportingEvidenceBundle>> supportingEvidenceBundleCollection =\n-            manageDocumentService.getFurtherEvidenceCollection(caseData, false,\n-                List.of(element(SupportingEvidenceBundle.builder().build())));\n+            manageDocumentService.getFurtherEvidenceCollection(caseData, false, null);\n \n         SupportingEvidenceBundle firstSupportingEvidenceBundle = supportingEvidenceBundleCollection.get(0).getValue();\n \n@@ -213,6 +213,7 @@ void shouldReturnFurtherEvidenceCollectionWhenFurtherEvidenceIsNotRelatedToHeari\n             manageDocumentService.getFurtherEvidenceCollection(caseData, false, furtherEvidenceBundle);\n \n         assertThat(furtherDocumentBundleCollection).isEqualTo(furtherEvidenceBundle);\n+        assertThat(furtherDocumentBundleCollection.get(0).getValue().getType()).isEqualTo(OTHER_REPORTS);\n     }\n \n     @Test\n@@ -235,6 +236,7 @@ void shouldReturnHearingEvidenceCollectionWhenFurtherEvidenceIsRelatedToHearingW\n             manageDocumentService.getFurtherEvidenceCollection(caseData, true, furtherEvidenceBundle);\n \n         assertThat(furtherDocumentBundleCollection).isEqualTo(furtherEvidenceBundle);\n+        assertThat(furtherDocumentBundleCollection.get(0).getValue().getType()).isEqualTo(OTHER_REPORTS);\n     }\n \n     @Test\n@@ -768,7 +770,7 @@ void shouldRemoveHearingFurtherEvidenceBundleElementWhenAllDocumentsForThatHeari\n                     .supportingEvidenceBundle(Arrays.asList())\n                     .build()),\n                 element(hearingIdTwo, HearingFurtherEvidenceBundle.builder()\n-                     .hearingName(\"Case Management hearing 2\")\n+                    .hearingName(\"Case Management hearing 2\")\n                     .supportingEvidenceBundle(buildSupportingEvidenceBundle())\n                     .build()))))\n             .manageDocument(buildFurtherEvidenceManagementDocument(YES.getValue()))"
  }
]
