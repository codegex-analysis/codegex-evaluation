[
  {
    "sha": "24495a9e964ffee4487b7ed46cae2e505f22f42e",
    "filename": "src/main/java/wraith/croptosis/block/FertilizedDirtBlock.java",
    "status": "modified",
    "additions": 20,
    "deletions": 17,
    "changes": 37,
    "blob_url": "https://github.com/LordDeatHunter/Croptosis/blob/de699d128a3937a7c68768febfbcb99243877f6d/src/main/java/wraith/croptosis/block/FertilizedDirtBlock.java",
    "raw_url": "https://github.com/LordDeatHunter/Croptosis/raw/de699d128a3937a7c68768febfbcb99243877f6d/src/main/java/wraith/croptosis/block/FertilizedDirtBlock.java",
    "contents_url": "https://api.github.com/repos/LordDeatHunter/Croptosis/contents/src/main/java/wraith/croptosis/block/FertilizedDirtBlock.java?ref=de699d128a3937a7c68768febfbcb99243877f6d",
    "patch": "@@ -1,13 +1,11 @@\n package wraith.croptosis.block;\n \n-import net.minecraft.block.Block;\n-import net.minecraft.block.BlockState;\n-import net.minecraft.block.CactusBlock;\n-import net.minecraft.block.SugarCaneBlock;\n+import net.minecraft.block.*;\n import net.minecraft.server.world.ServerWorld;\n import net.minecraft.state.StateManager;\n import net.minecraft.state.property.IntProperty;\n import net.minecraft.util.math.BlockPos;\n+import wraith.croptosis.registry.BlockRegistry;\n \n import java.util.Random;\n \n@@ -35,21 +33,26 @@ protected void appendProperties(StateManager.Builder<Block, BlockState> builder)\n     public void randomTick(BlockState state, ServerWorld world, BlockPos pos, Random random) {\n         super.randomTick(state, world, pos, random);\n \n-        BlockState topBlock = world.getBlockState(pos.up());\n-        int height = 1;\n-        while (true) {\n-            BlockState nextTopBlockState = world.getBlockState(pos.up(height));\n-            Block nextTopBlock = nextTopBlockState.getBlock();\n-            if (!(nextTopBlock instanceof SugarCaneBlock || nextTopBlock instanceof CactusBlock)) {\n-                --height;\n-                break;\n-            } else {\n-                topBlock = nextTopBlockState;\n+        for (int height = 1; height <= state.get(FertilizedDirtBlock.MAX_HEIGHT); height++) {\n+            Block topBlock = world.getBlockState(pos.up(height)).getBlock();\n+\n+            if (topBlock == BlockRegistry.BLOCKS.get(\"fertilized_farmland\")) continue;\n+            if (topBlock == BlockRegistry.BLOCKS.get(\"fertilized_dirt\")) continue;\n+            if (topBlock == BlockRegistry.BLOCKS.get(\"fertilized_sand\")) continue;\n+\n+            if (topBlock instanceof SugarCaneBlock || topBlock instanceof CactusBlock) {\n+                while (true) {\n+                    Block nextTopBlock = world.getBlockState(pos.up(height + 1)).getBlock();\n+                    if (!(nextTopBlock instanceof SugarCaneBlock || nextTopBlock instanceof CactusBlock)) break;\n+                    height++;\n+                }\n             }\n-            ++height;\n+\n+            BlockState tickBlockState = world.getBlockState(pos.up(height));\n+            Block tickBlock = tickBlockState.getBlock();\n+            tickBlock.randomTick(tickBlockState, world, pos.up(height), random);\n+            break;\n         }\n-        BlockPos topBlockPos = pos.up(height);\n-        topBlock.getBlock().randomTick(topBlock, world, topBlockPos, random);\n     }\n \n }"
  },
  {
    "sha": "f14f7fc8811adf28be785549eca3234a62b38ba0",
    "filename": "src/main/java/wraith/croptosis/block/FertilizedSandBlock.java",
    "status": "modified",
    "additions": 19,
    "deletions": 13,
    "changes": 32,
    "blob_url": "https://github.com/LordDeatHunter/Croptosis/blob/de699d128a3937a7c68768febfbcb99243877f6d/src/main/java/wraith/croptosis/block/FertilizedSandBlock.java",
    "raw_url": "https://github.com/LordDeatHunter/Croptosis/raw/de699d128a3937a7c68768febfbcb99243877f6d/src/main/java/wraith/croptosis/block/FertilizedSandBlock.java",
    "contents_url": "https://api.github.com/repos/LordDeatHunter/Croptosis/contents/src/main/java/wraith/croptosis/block/FertilizedSandBlock.java?ref=de699d128a3937a7c68768febfbcb99243877f6d",
    "patch": "@@ -5,6 +5,7 @@\n import net.minecraft.state.StateManager;\n import net.minecraft.state.property.IntProperty;\n import net.minecraft.util.math.BlockPos;\n+import wraith.croptosis.registry.BlockRegistry;\n \n import java.util.Random;\n \n@@ -32,21 +33,26 @@ protected void appendProperties(StateManager.Builder<Block, BlockState> builder)\n     public void randomTick(BlockState state, ServerWorld world, BlockPos pos, Random random) {\n         super.randomTick(state, world, pos, random);\n \n-        BlockState topBlock = world.getBlockState(pos.up());\n-        int height = 1;\n-        while (true) {\n-            BlockState nextTopBlockState = world.getBlockState(pos.up(height));\n-            Block nextTopBlock = nextTopBlockState.getBlock();\n-            if (!(nextTopBlock instanceof SugarCaneBlock || nextTopBlock instanceof CactusBlock)) {\n-                --height;\n-                break;\n-            } else {\n-                topBlock = nextTopBlockState;\n+        for (int height = 1; height <= state.get(FertilizedDirtBlock.MAX_HEIGHT); height++) {\n+            Block topBlock = world.getBlockState(pos.up(height)).getBlock();\n+\n+            if (topBlock == BlockRegistry.BLOCKS.get(\"fertilized_farmland\")) continue;\n+            if (topBlock == BlockRegistry.BLOCKS.get(\"fertilized_dirt\")) continue;\n+            if (topBlock == BlockRegistry.BLOCKS.get(\"fertilized_sand\")) continue;\n+\n+            if (topBlock instanceof SugarCaneBlock || topBlock instanceof CactusBlock) {\n+                while (true) {\n+                    Block nextTopBlock = world.getBlockState(pos.up(height + 1)).getBlock();\n+                    if (!(nextTopBlock instanceof SugarCaneBlock || nextTopBlock instanceof CactusBlock)) break;\n+                    height++;\n+                }\n             }\n-            ++height;\n+\n+            BlockState tickBlockState = world.getBlockState(pos.up(height));\n+            Block tickBlock = tickBlockState.getBlock();\n+            tickBlock.randomTick(tickBlockState, world, pos.up(height), random);\n+            break;\n         }\n-        BlockPos topBlockPos = pos.up(height);\n-        topBlock.getBlock().randomTick(topBlock, world, topBlockPos, random);\n     }\n \n }"
  }
]
