[
  {
    "sha": "9dbab88a7d7552022cf92c4776b31bf5781c3d96",
    "filename": "EchoChatNIO/.idea/.gitignore",
    "status": "added",
    "additions": 8,
    "deletions": 0,
    "changes": 8,
    "blob_url": "https://github.com/maximVorobeichik/Cloud/blob/21d4722526714ad44e6d21b352a63a37d6d38312/EchoChatNIO/.idea/.gitignore",
    "raw_url": "https://github.com/maximVorobeichik/Cloud/raw/21d4722526714ad44e6d21b352a63a37d6d38312/EchoChatNIO/.idea/.gitignore",
    "contents_url": "https://api.github.com/repos/maximVorobeichik/Cloud/contents/EchoChatNIO/.idea/.gitignore?ref=21d4722526714ad44e6d21b352a63a37d6d38312",
    "patch": "@@ -0,0 +1,8 @@\n+# Default ignored files\n+/shelf/\n+/workspace.xml\n+# Datasource local storage ignored files\n+/../../../../../../:\\Users\\Максим\\Desktop\\чатNIO\\.idea/dataSources/\n+/dataSources.local.xml\n+# Editor-based HTTP Client requests\n+/httpRequests/"
  },
  {
    "sha": "762061a9068344c2ff7b679fb0658835f0585663",
    "filename": "EchoChatNIO/.idea/compiler.xml",
    "status": "added",
    "additions": 13,
    "deletions": 0,
    "changes": 13,
    "blob_url": "https://github.com/maximVorobeichik/Cloud/blob/21d4722526714ad44e6d21b352a63a37d6d38312/EchoChatNIO/.idea/compiler.xml",
    "raw_url": "https://github.com/maximVorobeichik/Cloud/raw/21d4722526714ad44e6d21b352a63a37d6d38312/EchoChatNIO/.idea/compiler.xml",
    "contents_url": "https://api.github.com/repos/maximVorobeichik/Cloud/contents/EchoChatNIO/.idea/compiler.xml?ref=21d4722526714ad44e6d21b352a63a37d6d38312",
    "patch": "@@ -0,0 +1,13 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<project version=\"4\">\n+  <component name=\"CompilerConfiguration\">\n+    <annotationProcessing>\n+      <profile name=\"Maven default annotation processors profile\" enabled=\"true\">\n+        <sourceOutputDir name=\"target/generated-sources/annotations\" />\n+        <sourceTestOutputDir name=\"target/generated-test-sources/test-annotations\" />\n+        <outputRelativeToContentRoot value=\"true\" />\n+        <module name=\"чатNIO\" />\n+      </profile>\n+    </annotationProcessing>\n+  </component>\n+</project>\n\\ No newline at end of file"
  },
  {
    "sha": "712ab9d985c20018a0c97b93d2148ac1ffe588a5",
    "filename": "EchoChatNIO/.idea/jarRepositories.xml",
    "status": "added",
    "additions": 20,
    "deletions": 0,
    "changes": 20,
    "blob_url": "https://github.com/maximVorobeichik/Cloud/blob/21d4722526714ad44e6d21b352a63a37d6d38312/EchoChatNIO/.idea/jarRepositories.xml",
    "raw_url": "https://github.com/maximVorobeichik/Cloud/raw/21d4722526714ad44e6d21b352a63a37d6d38312/EchoChatNIO/.idea/jarRepositories.xml",
    "contents_url": "https://api.github.com/repos/maximVorobeichik/Cloud/contents/EchoChatNIO/.idea/jarRepositories.xml?ref=21d4722526714ad44e6d21b352a63a37d6d38312",
    "patch": "@@ -0,0 +1,20 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<project version=\"4\">\n+  <component name=\"RemoteRepositoriesConfiguration\">\n+    <remote-repository>\n+      <option name=\"id\" value=\"central\" />\n+      <option name=\"name\" value=\"Central Repository\" />\n+      <option name=\"url\" value=\"https://repo.maven.apache.org/maven2\" />\n+    </remote-repository>\n+    <remote-repository>\n+      <option name=\"id\" value=\"central\" />\n+      <option name=\"name\" value=\"Maven Central repository\" />\n+      <option name=\"url\" value=\"https://repo1.maven.org/maven2\" />\n+    </remote-repository>\n+    <remote-repository>\n+      <option name=\"id\" value=\"jboss.community\" />\n+      <option name=\"name\" value=\"JBoss Community repository\" />\n+      <option name=\"url\" value=\"https://repository.jboss.org/nexus/content/repositories/public/\" />\n+    </remote-repository>\n+  </component>\n+</project>\n\\ No newline at end of file"
  },
  {
    "sha": "d24ea8e7debb4071df92884f676aca977525fde9",
    "filename": "EchoChatNIO/.idea/misc.xml",
    "status": "added",
    "additions": 14,
    "deletions": 0,
    "changes": 14,
    "blob_url": "https://github.com/maximVorobeichik/Cloud/blob/21d4722526714ad44e6d21b352a63a37d6d38312/EchoChatNIO/.idea/misc.xml",
    "raw_url": "https://github.com/maximVorobeichik/Cloud/raw/21d4722526714ad44e6d21b352a63a37d6d38312/EchoChatNIO/.idea/misc.xml",
    "contents_url": "https://api.github.com/repos/maximVorobeichik/Cloud/contents/EchoChatNIO/.idea/misc.xml?ref=21d4722526714ad44e6d21b352a63a37d6d38312",
    "patch": "@@ -0,0 +1,14 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<project version=\"4\">\n+  <component name=\"ExternalStorageConfigurationManager\" enabled=\"true\" />\n+  <component name=\"MavenProjectsManager\">\n+    <option name=\"originalFiles\">\n+      <list>\n+        <option value=\"$PROJECT_DIR$/pom.xml\" />\n+      </list>\n+    </option>\n+  </component>\n+  <component name=\"ProjectRootManager\" version=\"2\" languageLevel=\"JDK_11\" project-jdk-name=\"11\" project-jdk-type=\"JavaSDK\">\n+    <output url=\"file://$PROJECT_DIR$/out\" />\n+  </component>\n+</project>\n\\ No newline at end of file"
  },
  {
    "sha": "e96534fb27b68192f27f985d3879e173ec77adb8",
    "filename": "EchoChatNIO/.idea/uiDesigner.xml",
    "status": "added",
    "additions": 124,
    "deletions": 0,
    "changes": 124,
    "blob_url": "https://github.com/maximVorobeichik/Cloud/blob/21d4722526714ad44e6d21b352a63a37d6d38312/EchoChatNIO/.idea/uiDesigner.xml",
    "raw_url": "https://github.com/maximVorobeichik/Cloud/raw/21d4722526714ad44e6d21b352a63a37d6d38312/EchoChatNIO/.idea/uiDesigner.xml",
    "contents_url": "https://api.github.com/repos/maximVorobeichik/Cloud/contents/EchoChatNIO/.idea/uiDesigner.xml?ref=21d4722526714ad44e6d21b352a63a37d6d38312",
    "patch": "@@ -0,0 +1,124 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<project version=\"4\">\n+  <component name=\"Palette2\">\n+    <group name=\"Swing\">\n+      <item class=\"com.intellij.uiDesigner.HSpacer\" tooltip-text=\"Horizontal Spacer\" icon=\"/com/intellij/uiDesigner/icons/hspacer.png\" removable=\"false\" auto-create-binding=\"false\" can-attach-label=\"false\">\n+        <default-constraints vsize-policy=\"1\" hsize-policy=\"6\" anchor=\"0\" fill=\"1\" />\n+      </item>\n+      <item class=\"com.intellij.uiDesigner.VSpacer\" tooltip-text=\"Vertical Spacer\" icon=\"/com/intellij/uiDesigner/icons/vspacer.png\" removable=\"false\" auto-create-binding=\"false\" can-attach-label=\"false\">\n+        <default-constraints vsize-policy=\"6\" hsize-policy=\"1\" anchor=\"0\" fill=\"2\" />\n+      </item>\n+      <item class=\"javax.swing.JPanel\" icon=\"/com/intellij/uiDesigner/icons/panel.png\" removable=\"false\" auto-create-binding=\"false\" can-attach-label=\"false\">\n+        <default-constraints vsize-policy=\"3\" hsize-policy=\"3\" anchor=\"0\" fill=\"3\" />\n+      </item>\n+      <item class=\"javax.swing.JScrollPane\" icon=\"/com/intellij/uiDesigner/icons/scrollPane.png\" removable=\"false\" auto-create-binding=\"false\" can-attach-label=\"true\">\n+        <default-constraints vsize-policy=\"7\" hsize-policy=\"7\" anchor=\"0\" fill=\"3\" />\n+      </item>\n+      <item class=\"javax.swing.JButton\" icon=\"/com/intellij/uiDesigner/icons/button.png\" removable=\"false\" auto-create-binding=\"true\" can-attach-label=\"false\">\n+        <default-constraints vsize-policy=\"0\" hsize-policy=\"3\" anchor=\"0\" fill=\"1\" />\n+        <initial-values>\n+          <property name=\"text\" value=\"Button\" />\n+        </initial-values>\n+      </item>\n+      <item class=\"javax.swing.JRadioButton\" icon=\"/com/intellij/uiDesigner/icons/radioButton.png\" removable=\"false\" auto-create-binding=\"true\" can-attach-label=\"false\">\n+        <default-constraints vsize-policy=\"0\" hsize-policy=\"3\" anchor=\"8\" fill=\"0\" />\n+        <initial-values>\n+          <property name=\"text\" value=\"RadioButton\" />\n+        </initial-values>\n+      </item>\n+      <item class=\"javax.swing.JCheckBox\" icon=\"/com/intellij/uiDesigner/icons/checkBox.png\" removable=\"false\" auto-create-binding=\"true\" can-attach-label=\"false\">\n+        <default-constraints vsize-policy=\"0\" hsize-policy=\"3\" anchor=\"8\" fill=\"0\" />\n+        <initial-values>\n+          <property name=\"text\" value=\"CheckBox\" />\n+        </initial-values>\n+      </item>\n+      <item class=\"javax.swing.JLabel\" icon=\"/com/intellij/uiDesigner/icons/label.png\" removable=\"false\" auto-create-binding=\"false\" can-attach-label=\"false\">\n+        <default-constraints vsize-policy=\"0\" hsize-policy=\"0\" anchor=\"8\" fill=\"0\" />\n+        <initial-values>\n+          <property name=\"text\" value=\"Label\" />\n+        </initial-values>\n+      </item>\n+      <item class=\"javax.swing.JTextField\" icon=\"/com/intellij/uiDesigner/icons/textField.png\" removable=\"false\" auto-create-binding=\"true\" can-attach-label=\"true\">\n+        <default-constraints vsize-policy=\"0\" hsize-policy=\"6\" anchor=\"8\" fill=\"1\">\n+          <preferred-size width=\"150\" height=\"-1\" />\n+        </default-constraints>\n+      </item>\n+      <item class=\"javax.swing.JPasswordField\" icon=\"/com/intellij/uiDesigner/icons/passwordField.png\" removable=\"false\" auto-create-binding=\"true\" can-attach-label=\"true\">\n+        <default-constraints vsize-policy=\"0\" hsize-policy=\"6\" anchor=\"8\" fill=\"1\">\n+          <preferred-size width=\"150\" height=\"-1\" />\n+        </default-constraints>\n+      </item>\n+      <item class=\"javax.swing.JFormattedTextField\" icon=\"/com/intellij/uiDesigner/icons/formattedTextField.png\" removable=\"false\" auto-create-binding=\"true\" can-attach-label=\"true\">\n+        <default-constraints vsize-policy=\"0\" hsize-policy=\"6\" anchor=\"8\" fill=\"1\">\n+          <preferred-size width=\"150\" height=\"-1\" />\n+        </default-constraints>\n+      </item>\n+      <item class=\"javax.swing.JTextArea\" icon=\"/com/intellij/uiDesigner/icons/textArea.png\" removable=\"false\" auto-create-binding=\"true\" can-attach-label=\"true\">\n+        <default-constraints vsize-policy=\"6\" hsize-policy=\"6\" anchor=\"0\" fill=\"3\">\n+          <preferred-size width=\"150\" height=\"50\" />\n+        </default-constraints>\n+      </item>\n+      <item class=\"javax.swing.JTextPane\" icon=\"/com/intellij/uiDesigner/icons/textPane.png\" removable=\"false\" auto-create-binding=\"true\" can-attach-label=\"true\">\n+        <default-constraints vsize-policy=\"6\" hsize-policy=\"6\" anchor=\"0\" fill=\"3\">\n+          <preferred-size width=\"150\" height=\"50\" />\n+        </default-constraints>\n+      </item>\n+      <item class=\"javax.swing.JEditorPane\" icon=\"/com/intellij/uiDesigner/icons/editorPane.png\" removable=\"false\" auto-create-binding=\"true\" can-attach-label=\"true\">\n+        <default-constraints vsize-policy=\"6\" hsize-policy=\"6\" anchor=\"0\" fill=\"3\">\n+          <preferred-size width=\"150\" height=\"50\" />\n+        </default-constraints>\n+      </item>\n+      <item class=\"javax.swing.JComboBox\" icon=\"/com/intellij/uiDesigner/icons/comboBox.png\" removable=\"false\" auto-create-binding=\"true\" can-attach-label=\"true\">\n+        <default-constraints vsize-policy=\"0\" hsize-policy=\"2\" anchor=\"8\" fill=\"1\" />\n+      </item>\n+      <item class=\"javax.swing.JTable\" icon=\"/com/intellij/uiDesigner/icons/table.png\" removable=\"false\" auto-create-binding=\"true\" can-attach-label=\"false\">\n+        <default-constraints vsize-policy=\"6\" hsize-policy=\"6\" anchor=\"0\" fill=\"3\">\n+          <preferred-size width=\"150\" height=\"50\" />\n+        </default-constraints>\n+      </item>\n+      <item class=\"javax.swing.JList\" icon=\"/com/intellij/uiDesigner/icons/list.png\" removable=\"false\" auto-create-binding=\"true\" can-attach-label=\"false\">\n+        <default-constraints vsize-policy=\"6\" hsize-policy=\"2\" anchor=\"0\" fill=\"3\">\n+          <preferred-size width=\"150\" height=\"50\" />\n+        </default-constraints>\n+      </item>\n+      <item class=\"javax.swing.JTree\" icon=\"/com/intellij/uiDesigner/icons/tree.png\" removable=\"false\" auto-create-binding=\"true\" can-attach-label=\"false\">\n+        <default-constraints vsize-policy=\"6\" hsize-policy=\"6\" anchor=\"0\" fill=\"3\">\n+          <preferred-size width=\"150\" height=\"50\" />\n+        </default-constraints>\n+      </item>\n+      <item class=\"javax.swing.JTabbedPane\" icon=\"/com/intellij/uiDesigner/icons/tabbedPane.png\" removable=\"false\" auto-create-binding=\"true\" can-attach-label=\"false\">\n+        <default-constraints vsize-policy=\"3\" hsize-policy=\"3\" anchor=\"0\" fill=\"3\">\n+          <preferred-size width=\"200\" height=\"200\" />\n+        </default-constraints>\n+      </item>\n+      <item class=\"javax.swing.JSplitPane\" icon=\"/com/intellij/uiDesigner/icons/splitPane.png\" removable=\"false\" auto-create-binding=\"false\" can-attach-label=\"false\">\n+        <default-constraints vsize-policy=\"3\" hsize-policy=\"3\" anchor=\"0\" fill=\"3\">\n+          <preferred-size width=\"200\" height=\"200\" />\n+        </default-constraints>\n+      </item>\n+      <item class=\"javax.swing.JSpinner\" icon=\"/com/intellij/uiDesigner/icons/spinner.png\" removable=\"false\" auto-create-binding=\"true\" can-attach-label=\"true\">\n+        <default-constraints vsize-policy=\"0\" hsize-policy=\"6\" anchor=\"8\" fill=\"1\" />\n+      </item>\n+      <item class=\"javax.swing.JSlider\" icon=\"/com/intellij/uiDesigner/icons/slider.png\" removable=\"false\" auto-create-binding=\"true\" can-attach-label=\"false\">\n+        <default-constraints vsize-policy=\"0\" hsize-policy=\"6\" anchor=\"8\" fill=\"1\" />\n+      </item>\n+      <item class=\"javax.swing.JSeparator\" icon=\"/com/intellij/uiDesigner/icons/separator.png\" removable=\"false\" auto-create-binding=\"false\" can-attach-label=\"false\">\n+        <default-constraints vsize-policy=\"6\" hsize-policy=\"6\" anchor=\"0\" fill=\"3\" />\n+      </item>\n+      <item class=\"javax.swing.JProgressBar\" icon=\"/com/intellij/uiDesigner/icons/progressbar.png\" removable=\"false\" auto-create-binding=\"true\" can-attach-label=\"false\">\n+        <default-constraints vsize-policy=\"0\" hsize-policy=\"6\" anchor=\"0\" fill=\"1\" />\n+      </item>\n+      <item class=\"javax.swing.JToolBar\" icon=\"/com/intellij/uiDesigner/icons/toolbar.png\" removable=\"false\" auto-create-binding=\"false\" can-attach-label=\"false\">\n+        <default-constraints vsize-policy=\"0\" hsize-policy=\"6\" anchor=\"0\" fill=\"1\">\n+          <preferred-size width=\"-1\" height=\"20\" />\n+        </default-constraints>\n+      </item>\n+      <item class=\"javax.swing.JToolBar$Separator\" icon=\"/com/intellij/uiDesigner/icons/toolbarSeparator.png\" removable=\"false\" auto-create-binding=\"false\" can-attach-label=\"false\">\n+        <default-constraints vsize-policy=\"0\" hsize-policy=\"0\" anchor=\"0\" fill=\"1\" />\n+      </item>\n+      <item class=\"javax.swing.JScrollBar\" icon=\"/com/intellij/uiDesigner/icons/scrollbar.png\" removable=\"false\" auto-create-binding=\"true\" can-attach-label=\"false\">\n+        <default-constraints vsize-policy=\"6\" hsize-policy=\"0\" anchor=\"0\" fill=\"2\" />\n+      </item>\n+    </group>\n+  </component>\n+</project>\n\\ No newline at end of file"
  },
  {
    "sha": "238826f919b0a567f597fef537d359b8270ce313",
    "filename": "EchoChatNIO/pom.xml",
    "status": "added",
    "additions": 16,
    "deletions": 0,
    "changes": 16,
    "blob_url": "https://github.com/maximVorobeichik/Cloud/blob/21d4722526714ad44e6d21b352a63a37d6d38312/EchoChatNIO/pom.xml",
    "raw_url": "https://github.com/maximVorobeichik/Cloud/raw/21d4722526714ad44e6d21b352a63a37d6d38312/EchoChatNIO/pom.xml",
    "contents_url": "https://api.github.com/repos/maximVorobeichik/Cloud/contents/EchoChatNIO/pom.xml?ref=21d4722526714ad44e6d21b352a63a37d6d38312",
    "patch": "@@ -0,0 +1,16 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n+         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n+    <modelVersion>4.0.0</modelVersion>\n+\n+    <groupId>com.geekbrains</groupId>\n+    <artifactId>cloud-feb</artifactId>\n+    <version>1.0-SNAPSHOT</version>\n+\n+    <properties>\n+        <maven.compiler.source>8</maven.compiler.source>\n+        <maven.compiler.target>8</maven.compiler.target>\n+    </properties>\n+\n+</project>\n\\ No newline at end of file"
  },
  {
    "sha": "2940186f7df64cfb30f2494123b7532986019f81",
    "filename": "EchoChatNIO/src/main/java/nio/Clients.java",
    "status": "added",
    "additions": 29,
    "deletions": 0,
    "changes": 29,
    "blob_url": "https://github.com/maximVorobeichik/Cloud/blob/21d4722526714ad44e6d21b352a63a37d6d38312/EchoChatNIO/src/main/java/nio/Clients.java",
    "raw_url": "https://github.com/maximVorobeichik/Cloud/raw/21d4722526714ad44e6d21b352a63a37d6d38312/EchoChatNIO/src/main/java/nio/Clients.java",
    "contents_url": "https://api.github.com/repos/maximVorobeichik/Cloud/contents/EchoChatNIO/src/main/java/nio/Clients.java?ref=21d4722526714ad44e6d21b352a63a37d6d38312",
    "patch": "@@ -0,0 +1,29 @@\n+package nio;\n+\n+import java.nio.channels.SocketChannel;\n+\n+public class Clients {\n+    private SocketChannel socketChannel;\n+    private int userNumber;\n+\n+    public Clients(SocketChannel socketChannel,int userNumber) {\n+        this.socketChannel=socketChannel;\n+        this.userNumber=userNumber;\n+    }\n+\n+    public void setSocketChannel(SocketChannel socketChannel) {\n+        this.socketChannel = socketChannel;\n+    }\n+\n+    public void setUserNumber(int userNumber) {\n+        this.userNumber = userNumber;\n+    }\n+\n+    public SocketChannel getSocketChannel() {\n+        return socketChannel;\n+    }\n+\n+    public int getUserNumber() {\n+        return userNumber;\n+    }\n+}"
  },
  {
    "sha": "b64130a97b94aa9a27e4ea99560d409d57365928",
    "filename": "EchoChatNIO/src/main/java/nio/TelnetChat.java",
    "status": "added",
    "additions": 112,
    "deletions": 0,
    "changes": 112,
    "blob_url": "https://github.com/maximVorobeichik/Cloud/blob/21d4722526714ad44e6d21b352a63a37d6d38312/EchoChatNIO/src/main/java/nio/TelnetChat.java",
    "raw_url": "https://github.com/maximVorobeichik/Cloud/raw/21d4722526714ad44e6d21b352a63a37d6d38312/EchoChatNIO/src/main/java/nio/TelnetChat.java",
    "contents_url": "https://api.github.com/repos/maximVorobeichik/Cloud/contents/EchoChatNIO/src/main/java/nio/TelnetChat.java?ref=21d4722526714ad44e6d21b352a63a37d6d38312",
    "patch": "@@ -0,0 +1,112 @@\n+package nio;\n+\n+import java.io.IOException;\n+import java.net.InetSocketAddress;\n+import java.net.SocketAddress;\n+import java.nio.ByteBuffer;\n+import java.nio.channels.SelectionKey;\n+import java.nio.channels.Selector;\n+import java.nio.channels.ServerSocketChannel;\n+import java.nio.channels.SocketChannel;\n+import java.nio.charset.StandardCharsets;\n+import java.util.*;\n+import java.util.concurrent.ConcurrentHashMap;\n+\n+import static java.nio.channels.SelectionKey.OP_ACCEPT;\n+import static java.nio.channels.SelectionKey.OP_READ;\n+\n+public class TelnetChat {\n+    private static volatile  int numberOfChenal=0;\n+\n+    ConcurrentHashMap<SocketAddress, Clients> myMap = new ConcurrentHashMap<SocketAddress, Clients>();\n+\n+   // ConcurrentLinkedDeque<SocketChannel>\n+    //        client = new ConcurrentLinkedDeque<SocketChannel>();\n+\n+    private ServerSocketChannel serverChannel;\n+    private Selector selector;\n+    private ByteBuffer buffer;\n+\n+    public TelnetChat() throws IOException {\n+        buffer = ByteBuffer.allocate(256);\n+        serverChannel = ServerSocketChannel.open(); //открыли серверный канал\n+        selector = Selector.open();\n+        serverChannel.bind(new InetSocketAddress(8189));  //забиндили порт\n+        serverChannel.configureBlocking(false);  //работает в неблокирующем режиме\n+        serverChannel.register(selector, OP_ACCEPT);  //сложн крч показывает что он делает только авторизацию подключения 1Ж51\n+        while (serverChannel.isOpen()) {    //пока канал открыт будем работать\n+            selector.select(); // block но получает группу событий (все события со всех каналов которые зарегестрированны те сбор всех каналов\n+            Set<SelectionKey> keys = selector.selectedKeys();  //ну и сюда перекидываются ключи тип храняться в этой коллекции\n+            Iterator<SelectionKey> keyIterator = keys.iterator();\n+            while (keyIterator.hasNext()) {  //по всей коллекции проходимся и делаем обработку ключей\n+                SelectionKey key = keyIterator.next();\n+                if (key.isAcceptable()) {  //если ключ запрос на соединение\n+                    handleAccept(key);      //обработка соединения\n+                }\n+                if (key.isReadable()) {  //если нам пришло чтение то сто проц эта функция\n+                    handleRead(key);\n+                }\n+                keyIterator.remove();\n+            }\n+        }\n+    }\n+\n+    private void handleRead(SelectionKey key) throws IOException {\n+        SocketChannel channel = (SocketChannel) key.channel();  //точно мы его получили с сокетного канала\n+        int read = channel.read(buffer);  //прочитали в буфер\n+        if (read == -1) {\n+\n+            return;\n+        }\n+        buffer.flip();\n+        StringBuilder msg = new StringBuilder();\n+        while (buffer.hasRemaining()) {\n+           msg.append((char) buffer.get());\n+        }\n+\n+        buffer.clear();\n+        System.out.println(msg);\n+\n+        int userNumber=0;\n+          for(Map.Entry<SocketAddress, Clients> entry : myMap.entrySet())  {\n+              if(channel.getRemoteAddress().equals(entry.getKey())){\n+                  userNumber=entry.getValue().getUserNumber();\n+              }\n+          }\n+        for(Map.Entry<SocketAddress, Clients> entry : myMap.entrySet()) {\n+          // SocketAddress numberUser=entry.getKey();\n+            Clients userArr = entry.getValue();\n+\n+\n+            userArr.getSocketChannel().write(ByteBuffer.wrap((\"UserNumber_\"+\n+                    userNumber+\"  \"+ msg + \"\\n\").getBytes(StandardCharsets.UTF_8)));\n+\n+        }\n+\n+\n+\n+    }\n+\n+    private void handleAccept(SelectionKey key) throws IOException {\n+        ServerSocketChannel channel = (ServerSocketChannel) key.channel();\n+        SocketChannel socketChannel = channel.accept();   //создаем конал по аналогии с ио шным  (мож добавить в очередь для чата и рассылки) когда произошло соединение выделелся этот канал\n+       // clients.add(socketChannel);\n+        numberOfChenal++;\n+\n+        Clients clients=new Clients(socketChannel,numberOfChenal);\n+        myMap.put(socketChannel.getRemoteAddress(),clients);\n+\n+\n+\n+\n+        //client.add(socketChannel);\n+        socketChannel.write(ByteBuffer.wrap(\n+                \"WelcomToTheChat:\\n\".getBytes(StandardCharsets.UTF_8)));\n+        socketChannel.configureBlocking(false);  //работаем не в блокируюшем режиме\n+        socketChannel.register(selector, OP_READ); //зарегестрировали на селекторе вот этот вот канал\n+    }\n+\n+    public static void main(String[] args) throws IOException {\n+        new TelnetChat();\n+    }\n+}"
  },
  {
    "sha": "9d126a68d4ef2cd0aaa77d7137040c9b6af3eb23",
    "filename": "EchoChatNIO/target/classes/nio/Clients.class",
    "status": "added",
    "additions": 0,
    "deletions": 0,
    "changes": 0,
    "blob_url": "https://github.com/maximVorobeichik/Cloud/blob/21d4722526714ad44e6d21b352a63a37d6d38312/EchoChatNIO/target/classes/nio/Clients.class",
    "raw_url": "https://github.com/maximVorobeichik/Cloud/raw/21d4722526714ad44e6d21b352a63a37d6d38312/EchoChatNIO/target/classes/nio/Clients.class",
    "contents_url": "https://api.github.com/repos/maximVorobeichik/Cloud/contents/EchoChatNIO/target/classes/nio/Clients.class?ref=21d4722526714ad44e6d21b352a63a37d6d38312"
  },
  {
    "sha": "7fac72090bc05f2594169c55811d670d95d64ae5",
    "filename": "EchoChatNIO/target/classes/nio/TelnetChat.class",
    "status": "added",
    "additions": 0,
    "deletions": 0,
    "changes": 0,
    "blob_url": "https://github.com/maximVorobeichik/Cloud/blob/21d4722526714ad44e6d21b352a63a37d6d38312/EchoChatNIO/target/classes/nio/TelnetChat.class",
    "raw_url": "https://github.com/maximVorobeichik/Cloud/raw/21d4722526714ad44e6d21b352a63a37d6d38312/EchoChatNIO/target/classes/nio/TelnetChat.class",
    "contents_url": "https://api.github.com/repos/maximVorobeichik/Cloud/contents/EchoChatNIO/target/classes/nio/TelnetChat.class?ref=21d4722526714ad44e6d21b352a63a37d6d38312"
  },
  {
    "sha": "78b2cc53b203f0b97534bb1184cdc7b474339fb4",
    "filename": "EchoChatNIO/чатNIO.iml",
    "status": "added",
    "additions": 2,
    "deletions": 0,
    "changes": 2,
    "blob_url": "https://github.com/maximVorobeichik/Cloud/blob/21d4722526714ad44e6d21b352a63a37d6d38312/EchoChatNIO/%D1%87%D0%B0%D1%82NIO.iml",
    "raw_url": "https://github.com/maximVorobeichik/Cloud/raw/21d4722526714ad44e6d21b352a63a37d6d38312/EchoChatNIO/%D1%87%D0%B0%D1%82NIO.iml",
    "contents_url": "https://api.github.com/repos/maximVorobeichik/Cloud/contents/EchoChatNIO/%D1%87%D0%B0%D1%82NIO.iml?ref=21d4722526714ad44e6d21b352a63a37d6d38312",
    "patch": "@@ -0,0 +1,2 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<module type=\"JAVA_MODULE\" version=\"4\" />\n\\ No newline at end of file"
  },
  {
    "sha": "72c2ccf0bde7633b66301a9b6d4cee780f015946",
    "filename": "EchoChatNetty/.idea/.gitignore",
    "status": "added",
    "additions": 8,
    "deletions": 0,
    "changes": 8,
    "blob_url": "https://github.com/maximVorobeichik/Cloud/blob/21d4722526714ad44e6d21b352a63a37d6d38312/EchoChatNetty/.idea/.gitignore",
    "raw_url": "https://github.com/maximVorobeichik/Cloud/raw/21d4722526714ad44e6d21b352a63a37d6d38312/EchoChatNetty/.idea/.gitignore",
    "contents_url": "https://api.github.com/repos/maximVorobeichik/Cloud/contents/EchoChatNetty/.idea/.gitignore?ref=21d4722526714ad44e6d21b352a63a37d6d38312",
    "patch": "@@ -0,0 +1,8 @@\n+# Default ignored files\n+/shelf/\n+/workspace.xml\n+# Datasource local storage ignored files\n+/../../../../../../:\\Users\\Максим\\Desktop\\Netty\\.idea/dataSources/\n+/dataSources.local.xml\n+# Editor-based HTTP Client requests\n+/httpRequests/"
  },
  {
    "sha": "9d0a8fe3f0435ce3f461dfeb102cf8cc95b8bd41",
    "filename": "EchoChatNetty/.idea/compiler.xml",
    "status": "added",
    "additions": 13,
    "deletions": 0,
    "changes": 13,
    "blob_url": "https://github.com/maximVorobeichik/Cloud/blob/21d4722526714ad44e6d21b352a63a37d6d38312/EchoChatNetty/.idea/compiler.xml",
    "raw_url": "https://github.com/maximVorobeichik/Cloud/raw/21d4722526714ad44e6d21b352a63a37d6d38312/EchoChatNetty/.idea/compiler.xml",
    "contents_url": "https://api.github.com/repos/maximVorobeichik/Cloud/contents/EchoChatNetty/.idea/compiler.xml?ref=21d4722526714ad44e6d21b352a63a37d6d38312",
    "patch": "@@ -0,0 +1,13 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<project version=\"4\">\n+  <component name=\"CompilerConfiguration\">\n+    <annotationProcessing>\n+      <profile name=\"Maven default annotation processors profile\" enabled=\"true\">\n+        <sourceOutputDir name=\"target/generated-sources/annotations\" />\n+        <sourceTestOutputDir name=\"target/generated-test-sources/test-annotations\" />\n+        <outputRelativeToContentRoot value=\"true\" />\n+        <module name=\"Netty\" />\n+      </profile>\n+    </annotationProcessing>\n+  </component>\n+</project>\n\\ No newline at end of file"
  },
  {
    "sha": "712ab9d985c20018a0c97b93d2148ac1ffe588a5",
    "filename": "EchoChatNetty/.idea/jarRepositories.xml",
    "status": "added",
    "additions": 20,
    "deletions": 0,
    "changes": 20,
    "blob_url": "https://github.com/maximVorobeichik/Cloud/blob/21d4722526714ad44e6d21b352a63a37d6d38312/EchoChatNetty/.idea/jarRepositories.xml",
    "raw_url": "https://github.com/maximVorobeichik/Cloud/raw/21d4722526714ad44e6d21b352a63a37d6d38312/EchoChatNetty/.idea/jarRepositories.xml",
    "contents_url": "https://api.github.com/repos/maximVorobeichik/Cloud/contents/EchoChatNetty/.idea/jarRepositories.xml?ref=21d4722526714ad44e6d21b352a63a37d6d38312",
    "patch": "@@ -0,0 +1,20 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<project version=\"4\">\n+  <component name=\"RemoteRepositoriesConfiguration\">\n+    <remote-repository>\n+      <option name=\"id\" value=\"central\" />\n+      <option name=\"name\" value=\"Central Repository\" />\n+      <option name=\"url\" value=\"https://repo.maven.apache.org/maven2\" />\n+    </remote-repository>\n+    <remote-repository>\n+      <option name=\"id\" value=\"central\" />\n+      <option name=\"name\" value=\"Maven Central repository\" />\n+      <option name=\"url\" value=\"https://repo1.maven.org/maven2\" />\n+    </remote-repository>\n+    <remote-repository>\n+      <option name=\"id\" value=\"jboss.community\" />\n+      <option name=\"name\" value=\"JBoss Community repository\" />\n+      <option name=\"url\" value=\"https://repository.jboss.org/nexus/content/repositories/public/\" />\n+    </remote-repository>\n+  </component>\n+</project>\n\\ No newline at end of file"
  },
  {
    "sha": "4b661a5ffc3c46924b456f0eac25ea4c6e9b4047",
    "filename": "EchoChatNetty/.idea/misc.xml",
    "status": "added",
    "additions": 14,
    "deletions": 0,
    "changes": 14,
    "blob_url": "https://github.com/maximVorobeichik/Cloud/blob/21d4722526714ad44e6d21b352a63a37d6d38312/EchoChatNetty/.idea/misc.xml",
    "raw_url": "https://github.com/maximVorobeichik/Cloud/raw/21d4722526714ad44e6d21b352a63a37d6d38312/EchoChatNetty/.idea/misc.xml",
    "contents_url": "https://api.github.com/repos/maximVorobeichik/Cloud/contents/EchoChatNetty/.idea/misc.xml?ref=21d4722526714ad44e6d21b352a63a37d6d38312",
    "patch": "@@ -0,0 +1,14 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<project version=\"4\">\n+  <component name=\"ExternalStorageConfigurationManager\" enabled=\"true\" />\n+  <component name=\"MavenProjectsManager\">\n+    <option name=\"originalFiles\">\n+      <list>\n+        <option value=\"$PROJECT_DIR$/pom.xml\" />\n+      </list>\n+    </option>\n+  </component>\n+  <component name=\"ProjectRootManager\" version=\"2\" languageLevel=\"JDK_1_8\" project-jdk-name=\"1.8\" project-jdk-type=\"JavaSDK\">\n+    <output url=\"file://$PROJECT_DIR$/out\" />\n+  </component>\n+</project>\n\\ No newline at end of file"
  },
  {
    "sha": "e96534fb27b68192f27f985d3879e173ec77adb8",
    "filename": "EchoChatNetty/.idea/uiDesigner.xml",
    "status": "added",
    "additions": 124,
    "deletions": 0,
    "changes": 124,
    "blob_url": "https://github.com/maximVorobeichik/Cloud/blob/21d4722526714ad44e6d21b352a63a37d6d38312/EchoChatNetty/.idea/uiDesigner.xml",
    "raw_url": "https://github.com/maximVorobeichik/Cloud/raw/21d4722526714ad44e6d21b352a63a37d6d38312/EchoChatNetty/.idea/uiDesigner.xml",
    "contents_url": "https://api.github.com/repos/maximVorobeichik/Cloud/contents/EchoChatNetty/.idea/uiDesigner.xml?ref=21d4722526714ad44e6d21b352a63a37d6d38312",
    "patch": "@@ -0,0 +1,124 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<project version=\"4\">\n+  <component name=\"Palette2\">\n+    <group name=\"Swing\">\n+      <item class=\"com.intellij.uiDesigner.HSpacer\" tooltip-text=\"Horizontal Spacer\" icon=\"/com/intellij/uiDesigner/icons/hspacer.png\" removable=\"false\" auto-create-binding=\"false\" can-attach-label=\"false\">\n+        <default-constraints vsize-policy=\"1\" hsize-policy=\"6\" anchor=\"0\" fill=\"1\" />\n+      </item>\n+      <item class=\"com.intellij.uiDesigner.VSpacer\" tooltip-text=\"Vertical Spacer\" icon=\"/com/intellij/uiDesigner/icons/vspacer.png\" removable=\"false\" auto-create-binding=\"false\" can-attach-label=\"false\">\n+        <default-constraints vsize-policy=\"6\" hsize-policy=\"1\" anchor=\"0\" fill=\"2\" />\n+      </item>\n+      <item class=\"javax.swing.JPanel\" icon=\"/com/intellij/uiDesigner/icons/panel.png\" removable=\"false\" auto-create-binding=\"false\" can-attach-label=\"false\">\n+        <default-constraints vsize-policy=\"3\" hsize-policy=\"3\" anchor=\"0\" fill=\"3\" />\n+      </item>\n+      <item class=\"javax.swing.JScrollPane\" icon=\"/com/intellij/uiDesigner/icons/scrollPane.png\" removable=\"false\" auto-create-binding=\"false\" can-attach-label=\"true\">\n+        <default-constraints vsize-policy=\"7\" hsize-policy=\"7\" anchor=\"0\" fill=\"3\" />\n+      </item>\n+      <item class=\"javax.swing.JButton\" icon=\"/com/intellij/uiDesigner/icons/button.png\" removable=\"false\" auto-create-binding=\"true\" can-attach-label=\"false\">\n+        <default-constraints vsize-policy=\"0\" hsize-policy=\"3\" anchor=\"0\" fill=\"1\" />\n+        <initial-values>\n+          <property name=\"text\" value=\"Button\" />\n+        </initial-values>\n+      </item>\n+      <item class=\"javax.swing.JRadioButton\" icon=\"/com/intellij/uiDesigner/icons/radioButton.png\" removable=\"false\" auto-create-binding=\"true\" can-attach-label=\"false\">\n+        <default-constraints vsize-policy=\"0\" hsize-policy=\"3\" anchor=\"8\" fill=\"0\" />\n+        <initial-values>\n+          <property name=\"text\" value=\"RadioButton\" />\n+        </initial-values>\n+      </item>\n+      <item class=\"javax.swing.JCheckBox\" icon=\"/com/intellij/uiDesigner/icons/checkBox.png\" removable=\"false\" auto-create-binding=\"true\" can-attach-label=\"false\">\n+        <default-constraints vsize-policy=\"0\" hsize-policy=\"3\" anchor=\"8\" fill=\"0\" />\n+        <initial-values>\n+          <property name=\"text\" value=\"CheckBox\" />\n+        </initial-values>\n+      </item>\n+      <item class=\"javax.swing.JLabel\" icon=\"/com/intellij/uiDesigner/icons/label.png\" removable=\"false\" auto-create-binding=\"false\" can-attach-label=\"false\">\n+        <default-constraints vsize-policy=\"0\" hsize-policy=\"0\" anchor=\"8\" fill=\"0\" />\n+        <initial-values>\n+          <property name=\"text\" value=\"Label\" />\n+        </initial-values>\n+      </item>\n+      <item class=\"javax.swing.JTextField\" icon=\"/com/intellij/uiDesigner/icons/textField.png\" removable=\"false\" auto-create-binding=\"true\" can-attach-label=\"true\">\n+        <default-constraints vsize-policy=\"0\" hsize-policy=\"6\" anchor=\"8\" fill=\"1\">\n+          <preferred-size width=\"150\" height=\"-1\" />\n+        </default-constraints>\n+      </item>\n+      <item class=\"javax.swing.JPasswordField\" icon=\"/com/intellij/uiDesigner/icons/passwordField.png\" removable=\"false\" auto-create-binding=\"true\" can-attach-label=\"true\">\n+        <default-constraints vsize-policy=\"0\" hsize-policy=\"6\" anchor=\"8\" fill=\"1\">\n+          <preferred-size width=\"150\" height=\"-1\" />\n+        </default-constraints>\n+      </item>\n+      <item class=\"javax.swing.JFormattedTextField\" icon=\"/com/intellij/uiDesigner/icons/formattedTextField.png\" removable=\"false\" auto-create-binding=\"true\" can-attach-label=\"true\">\n+        <default-constraints vsize-policy=\"0\" hsize-policy=\"6\" anchor=\"8\" fill=\"1\">\n+          <preferred-size width=\"150\" height=\"-1\" />\n+        </default-constraints>\n+      </item>\n+      <item class=\"javax.swing.JTextArea\" icon=\"/com/intellij/uiDesigner/icons/textArea.png\" removable=\"false\" auto-create-binding=\"true\" can-attach-label=\"true\">\n+        <default-constraints vsize-policy=\"6\" hsize-policy=\"6\" anchor=\"0\" fill=\"3\">\n+          <preferred-size width=\"150\" height=\"50\" />\n+        </default-constraints>\n+      </item>\n+      <item class=\"javax.swing.JTextPane\" icon=\"/com/intellij/uiDesigner/icons/textPane.png\" removable=\"false\" auto-create-binding=\"true\" can-attach-label=\"true\">\n+        <default-constraints vsize-policy=\"6\" hsize-policy=\"6\" anchor=\"0\" fill=\"3\">\n+          <preferred-size width=\"150\" height=\"50\" />\n+        </default-constraints>\n+      </item>\n+      <item class=\"javax.swing.JEditorPane\" icon=\"/com/intellij/uiDesigner/icons/editorPane.png\" removable=\"false\" auto-create-binding=\"true\" can-attach-label=\"true\">\n+        <default-constraints vsize-policy=\"6\" hsize-policy=\"6\" anchor=\"0\" fill=\"3\">\n+          <preferred-size width=\"150\" height=\"50\" />\n+        </default-constraints>\n+      </item>\n+      <item class=\"javax.swing.JComboBox\" icon=\"/com/intellij/uiDesigner/icons/comboBox.png\" removable=\"false\" auto-create-binding=\"true\" can-attach-label=\"true\">\n+        <default-constraints vsize-policy=\"0\" hsize-policy=\"2\" anchor=\"8\" fill=\"1\" />\n+      </item>\n+      <item class=\"javax.swing.JTable\" icon=\"/com/intellij/uiDesigner/icons/table.png\" removable=\"false\" auto-create-binding=\"true\" can-attach-label=\"false\">\n+        <default-constraints vsize-policy=\"6\" hsize-policy=\"6\" anchor=\"0\" fill=\"3\">\n+          <preferred-size width=\"150\" height=\"50\" />\n+        </default-constraints>\n+      </item>\n+      <item class=\"javax.swing.JList\" icon=\"/com/intellij/uiDesigner/icons/list.png\" removable=\"false\" auto-create-binding=\"true\" can-attach-label=\"false\">\n+        <default-constraints vsize-policy=\"6\" hsize-policy=\"2\" anchor=\"0\" fill=\"3\">\n+          <preferred-size width=\"150\" height=\"50\" />\n+        </default-constraints>\n+      </item>\n+      <item class=\"javax.swing.JTree\" icon=\"/com/intellij/uiDesigner/icons/tree.png\" removable=\"false\" auto-create-binding=\"true\" can-attach-label=\"false\">\n+        <default-constraints vsize-policy=\"6\" hsize-policy=\"6\" anchor=\"0\" fill=\"3\">\n+          <preferred-size width=\"150\" height=\"50\" />\n+        </default-constraints>\n+      </item>\n+      <item class=\"javax.swing.JTabbedPane\" icon=\"/com/intellij/uiDesigner/icons/tabbedPane.png\" removable=\"false\" auto-create-binding=\"true\" can-attach-label=\"false\">\n+        <default-constraints vsize-policy=\"3\" hsize-policy=\"3\" anchor=\"0\" fill=\"3\">\n+          <preferred-size width=\"200\" height=\"200\" />\n+        </default-constraints>\n+      </item>\n+      <item class=\"javax.swing.JSplitPane\" icon=\"/com/intellij/uiDesigner/icons/splitPane.png\" removable=\"false\" auto-create-binding=\"false\" can-attach-label=\"false\">\n+        <default-constraints vsize-policy=\"3\" hsize-policy=\"3\" anchor=\"0\" fill=\"3\">\n+          <preferred-size width=\"200\" height=\"200\" />\n+        </default-constraints>\n+      </item>\n+      <item class=\"javax.swing.JSpinner\" icon=\"/com/intellij/uiDesigner/icons/spinner.png\" removable=\"false\" auto-create-binding=\"true\" can-attach-label=\"true\">\n+        <default-constraints vsize-policy=\"0\" hsize-policy=\"6\" anchor=\"8\" fill=\"1\" />\n+      </item>\n+      <item class=\"javax.swing.JSlider\" icon=\"/com/intellij/uiDesigner/icons/slider.png\" removable=\"false\" auto-create-binding=\"true\" can-attach-label=\"false\">\n+        <default-constraints vsize-policy=\"0\" hsize-policy=\"6\" anchor=\"8\" fill=\"1\" />\n+      </item>\n+      <item class=\"javax.swing.JSeparator\" icon=\"/com/intellij/uiDesigner/icons/separator.png\" removable=\"false\" auto-create-binding=\"false\" can-attach-label=\"false\">\n+        <default-constraints vsize-policy=\"6\" hsize-policy=\"6\" anchor=\"0\" fill=\"3\" />\n+      </item>\n+      <item class=\"javax.swing.JProgressBar\" icon=\"/com/intellij/uiDesigner/icons/progressbar.png\" removable=\"false\" auto-create-binding=\"true\" can-attach-label=\"false\">\n+        <default-constraints vsize-policy=\"0\" hsize-policy=\"6\" anchor=\"0\" fill=\"1\" />\n+      </item>\n+      <item class=\"javax.swing.JToolBar\" icon=\"/com/intellij/uiDesigner/icons/toolbar.png\" removable=\"false\" auto-create-binding=\"false\" can-attach-label=\"false\">\n+        <default-constraints vsize-policy=\"0\" hsize-policy=\"6\" anchor=\"0\" fill=\"1\">\n+          <preferred-size width=\"-1\" height=\"20\" />\n+        </default-constraints>\n+      </item>\n+      <item class=\"javax.swing.JToolBar$Separator\" icon=\"/com/intellij/uiDesigner/icons/toolbarSeparator.png\" removable=\"false\" auto-create-binding=\"false\" can-attach-label=\"false\">\n+        <default-constraints vsize-policy=\"0\" hsize-policy=\"0\" anchor=\"0\" fill=\"1\" />\n+      </item>\n+      <item class=\"javax.swing.JScrollBar\" icon=\"/com/intellij/uiDesigner/icons/scrollbar.png\" removable=\"false\" auto-create-binding=\"true\" can-attach-label=\"false\">\n+        <default-constraints vsize-policy=\"6\" hsize-policy=\"0\" anchor=\"0\" fill=\"2\" />\n+      </item>\n+    </group>\n+  </component>\n+</project>\n\\ No newline at end of file"
  },
  {
    "sha": "78b2cc53b203f0b97534bb1184cdc7b474339fb4",
    "filename": "EchoChatNetty/Netty.iml",
    "status": "added",
    "additions": 2,
    "deletions": 0,
    "changes": 2,
    "blob_url": "https://github.com/maximVorobeichik/Cloud/blob/21d4722526714ad44e6d21b352a63a37d6d38312/EchoChatNetty/Netty.iml",
    "raw_url": "https://github.com/maximVorobeichik/Cloud/raw/21d4722526714ad44e6d21b352a63a37d6d38312/EchoChatNetty/Netty.iml",
    "contents_url": "https://api.github.com/repos/maximVorobeichik/Cloud/contents/EchoChatNetty/Netty.iml?ref=21d4722526714ad44e6d21b352a63a37d6d38312",
    "patch": "@@ -0,0 +1,2 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<module type=\"JAVA_MODULE\" version=\"4\" />\n\\ No newline at end of file"
  },
  {
    "sha": "ab30612667589885e905e8d9c8672532d998d484",
    "filename": "EchoChatNetty/pom.xml",
    "status": "added",
    "additions": 30,
    "deletions": 0,
    "changes": 30,
    "blob_url": "https://github.com/maximVorobeichik/Cloud/blob/21d4722526714ad44e6d21b352a63a37d6d38312/EchoChatNetty/pom.xml",
    "raw_url": "https://github.com/maximVorobeichik/Cloud/raw/21d4722526714ad44e6d21b352a63a37d6d38312/EchoChatNetty/pom.xml",
    "contents_url": "https://api.github.com/repos/maximVorobeichik/Cloud/contents/EchoChatNetty/pom.xml?ref=21d4722526714ad44e6d21b352a63a37d6d38312",
    "patch": "@@ -0,0 +1,30 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n+         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n+    <modelVersion>4.0.0</modelVersion>\n+\n+    <groupId>org.example</groupId>\n+    <artifactId>Netty</artifactId>\n+    <version>1.0-SNAPSHOT</version>\n+    <build>\n+        <plugins>\n+            <plugin>\n+                <groupId>org.apache.maven.plugins</groupId>\n+                <artifactId>maven-compiler-plugin</artifactId>\n+                <configuration>\n+                    <source>7</source>\n+                    <target>7</target>\n+                </configuration>\n+            </plugin>\n+        </plugins>\n+    </build>\n+    <dependencies>\n+        <dependency>\n+            <groupId>io.netty</groupId>\n+            <artifactId>netty-all</artifactId>\n+            <version>4.1.58.Final</version>\n+        </dependency>\n+    </dependencies>\n+\n+</project>\n\\ No newline at end of file"
  },
  {
    "sha": "71e3688125345a7c989c16a1f5114a483c3360b9",
    "filename": "EchoChatNetty/src/main/java/EchoHandler.java",
    "status": "added",
    "additions": 48,
    "deletions": 0,
    "changes": 48,
    "blob_url": "https://github.com/maximVorobeichik/Cloud/blob/21d4722526714ad44e6d21b352a63a37d6d38312/EchoChatNetty/src/main/java/EchoHandler.java",
    "raw_url": "https://github.com/maximVorobeichik/Cloud/raw/21d4722526714ad44e6d21b352a63a37d6d38312/EchoChatNetty/src/main/java/EchoHandler.java",
    "contents_url": "https://api.github.com/repos/maximVorobeichik/Cloud/contents/EchoChatNetty/src/main/java/EchoHandler.java?ref=21d4722526714ad44e6d21b352a63a37d6d38312",
    "patch": "@@ -0,0 +1,48 @@\n+import io.netty.channel.ChannelHandlerContext;\n+import io.netty.channel.SimpleChannelInboundHandler;\n+\n+import java.util.concurrent.ConcurrentLinkedDeque;\n+\n+public class EchoHandler extends SimpleChannelInboundHandler<String> {\n+\n+    private EhoServer ehoServer;\n+    private String userName;\n+    private static int cnt=0;\n+    public EchoHandler(EhoServer ehoServer) {\n+        this.ehoServer = ehoServer;\n+        cnt++;\n+        userName=\"user#\"+cnt;\n+    }\n+\n+    @Override\n+    protected void channelRead0(ChannelHandlerContext ctx, String s) throws Exception {\n+        //бизнес логика\n+        //ctx.writeAndFlush() в контексте есть много методов этот позволяет любой тип данных выдавить в трубу\n+        //ctx.fireChenl позволяет передать в другой хендлер в другом типе данных\n+        ConcurrentLinkedDeque<ChannelHandlerContext> clients= ehoServer.getClients();\n+        s=s.trim(); //убираем лишние пробелы\n+        for(ChannelHandlerContext client:clients){\n+        client.writeAndFlush(userName+\"-\"+s);      //по всем клиентам рассылаем\n+\n+        }\n+        System.out.println(\"email-\"+s);\n+\n+    }\n+\n+    @Override\n+    public void channelActive(ChannelHandlerContext ctx) throws Exception { //данный метод вызывается когда клиент подключается\n+       System.out.println(\"client join\");\n+       ehoServer.getClients().add(ctx);\n+    }\n+\n+    @Override\n+    public void channelInactive(ChannelHandlerContext ctx) throws Exception {\n+        System.out.println(\"Client disconect\");\n+        ehoServer.getClients().remove(ctx);\n+    }\n+\n+    @Override\n+    public void exceptionCaught(ChannelHandlerContext ctx, Throwable cause) throws Exception {\n+        cause.printStackTrace();  //печатаем ошибочки\n+    }\n+}"
  },
  {
    "sha": "1434d67bf688c5d54f9a73a8a120abc2a719c22c",
    "filename": "EchoChatNetty/src/main/java/EhoServer.java",
    "status": "added",
    "additions": 63,
    "deletions": 0,
    "changes": 63,
    "blob_url": "https://github.com/maximVorobeichik/Cloud/blob/21d4722526714ad44e6d21b352a63a37d6d38312/EchoChatNetty/src/main/java/EhoServer.java",
    "raw_url": "https://github.com/maximVorobeichik/Cloud/raw/21d4722526714ad44e6d21b352a63a37d6d38312/EchoChatNetty/src/main/java/EhoServer.java",
    "contents_url": "https://api.github.com/repos/maximVorobeichik/Cloud/contents/EchoChatNetty/src/main/java/EhoServer.java?ref=21d4722526714ad44e6d21b352a63a37d6d38312",
    "patch": "@@ -0,0 +1,63 @@\n+import io.netty.bootstrap.ServerBootstrap;\n+import io.netty.channel.*;\n+import io.netty.channel.nio.NioEventLoopGroup;\n+import io.netty.channel.socket.SocketChannel;\n+import io.netty.channel.socket.nio.NioServerSocketChannel;\n+import io.netty.handler.codec.string.StringDecoder;\n+import io.netty.handler.codec.string.StringEncoder;\n+\n+import java.util.concurrent.ConcurrentLinkedDeque;\n+import java.util.concurrent.ConcurrentLinkedQueue;\n+\n+public class EhoServer {\n+private ConcurrentLinkedDeque<ChannelHandlerContext>clients;\n+\n+\n+\n+            //написание клиента на  1ю20 мин (аккуратно там надо в байты переводить)\n+\n+\n+\n+    public EhoServer(){\n+        clients=new ConcurrentLinkedDeque<>();\n+        //вечные цыклы под копотом execut servic\n+        EventLoopGroup auth =new NioEventLoopGroup(1); //вечный цикл обработки входящих соединений (обработкой занимается отдельная луп группа -легковесная)\n+        // занимается авторизацией\n+        //по одному обрабатывает клиентов\n+        //----------------------------\n+        EventLoopGroup worker=new NioEventLoopGroup();//тяжелая группа циклов\n+        //auth и worker работает на экзекьют сервисах\n+        try { //если экзекьют сервис работает то программа висит по этому экзекют сервисы надо вырубать\n+\n+            ServerBootstrap bootstrap=new ServerBootstrap();\n+            bootstrap.group(auth,worker)\n+                    .channel(NioServerSocketChannel.class)\n+                    .childHandler(new ChannelInitializer<SocketChannel>() {\n+                        protected void initChannel(SocketChannel channel) throws Exception {\n+                            channel.pipeline().addLast(\n+                                    new StringDecoder(),   //если прилитает то он в декодер\n+                                    new StringEncoder(),   //а если отправляем то в энкодер (байти в строки заварачивают)\n+                                    new EchoHandler(EhoServer.this)\n+\n+                            ); //та самая труба котроая была в лекции и тут вешаем хендлеры\n+\n+                        }\n+                    });\n+           ChannelFuture future= bootstrap.bind(8189).sync();\n+           System.out.println(\"server started\");\n+           future.channel().closeFuture().sync(); //блокирующая операция\n+        } catch (InterruptedException e) {\n+            //e.printStackTrace();\n+            System.out.println(\"err\");\n+        } finally {\n+            auth.shutdownGracefully();\n+            worker.shutdownGracefully();\n+        }\n+    }\n+    public ConcurrentLinkedDeque<ChannelHandlerContext> getClients(){\n+        return clients;\n+    }\n+    public static void main(String[] args){\n+        new EhoServer();\n+    }\n+}"
  },
  {
    "sha": "a53758da592c15221ac2ef04903409d21aa742a2",
    "filename": "EchoChatNetty/target/classes/EchoHandler.class",
    "status": "added",
    "additions": 0,
    "deletions": 0,
    "changes": 0,
    "blob_url": "https://github.com/maximVorobeichik/Cloud/blob/21d4722526714ad44e6d21b352a63a37d6d38312/EchoChatNetty/target/classes/EchoHandler.class",
    "raw_url": "https://github.com/maximVorobeichik/Cloud/raw/21d4722526714ad44e6d21b352a63a37d6d38312/EchoChatNetty/target/classes/EchoHandler.class",
    "contents_url": "https://api.github.com/repos/maximVorobeichik/Cloud/contents/EchoChatNetty/target/classes/EchoHandler.class?ref=21d4722526714ad44e6d21b352a63a37d6d38312"
  },
  {
    "sha": "950e8b6340fd96b02ad567cfae8a0cff5abe4eff",
    "filename": "EchoChatNetty/target/classes/EhoServer$1.class",
    "status": "added",
    "additions": 0,
    "deletions": 0,
    "changes": 0,
    "blob_url": "https://github.com/maximVorobeichik/Cloud/blob/21d4722526714ad44e6d21b352a63a37d6d38312/EchoChatNetty/target/classes/EhoServer$1.class",
    "raw_url": "https://github.com/maximVorobeichik/Cloud/raw/21d4722526714ad44e6d21b352a63a37d6d38312/EchoChatNetty/target/classes/EhoServer$1.class",
    "contents_url": "https://api.github.com/repos/maximVorobeichik/Cloud/contents/EchoChatNetty/target/classes/EhoServer$1.class?ref=21d4722526714ad44e6d21b352a63a37d6d38312"
  },
  {
    "sha": "5c8164c5f335f48db12096291c989cf8e766e1a5",
    "filename": "EchoChatNetty/target/classes/EhoServer.class",
    "status": "added",
    "additions": 0,
    "deletions": 0,
    "changes": 0,
    "blob_url": "https://github.com/maximVorobeichik/Cloud/blob/21d4722526714ad44e6d21b352a63a37d6d38312/EchoChatNetty/target/classes/EhoServer.class",
    "raw_url": "https://github.com/maximVorobeichik/Cloud/raw/21d4722526714ad44e6d21b352a63a37d6d38312/EchoChatNetty/target/classes/EhoServer.class",
    "contents_url": "https://api.github.com/repos/maximVorobeichik/Cloud/contents/EchoChatNetty/target/classes/EhoServer.class?ref=21d4722526714ad44e6d21b352a63a37d6d38312"
  }
]
