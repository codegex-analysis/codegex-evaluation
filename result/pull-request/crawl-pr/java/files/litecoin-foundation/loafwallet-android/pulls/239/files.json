[
  {
    "sha": "a622e5d7e210f629a107dd39de48b24c999e1f8e",
    "filename": "app/CMakeLists.txt",
    "status": "modified",
    "additions": 3,
    "deletions": 0,
    "changes": 3,
    "blob_url": "https://github.com/litecoin-foundation/loafwallet-android/blob/d01914b2bc68cf182af641419bf5d22c9f09d3d9/app/CMakeLists.txt",
    "raw_url": "https://github.com/litecoin-foundation/loafwallet-android/raw/d01914b2bc68cf182af641419bf5d22c9f09d3d9/app/CMakeLists.txt",
    "contents_url": "https://api.github.com/repos/litecoin-foundation/loafwallet-android/contents/app/CMakeLists.txt?ref=d01914b2bc68cf182af641419bf5d22c9f09d3d9",
    "patch": "@@ -60,6 +60,9 @@ add_library( # Specifies the name of the library.\n              src/main/jni/loafwallet-core/BRTransaction.h\n              src/main/jni/loafwallet-core/BRWallet.c\n              src/main/jni/loafwallet-core/BRWallet.h\n+             src/main/jni/loafwallet-core/BRChainParams.h\n+             src/main/jni/loafwallet-core/BRBech32.c\n+             src/main/jni/loafwallet-core/BRBech32.h\n \n              src/main/jni/transition/core.c\n              src/main/jni/transition/core.h"
  },
  {
    "sha": "b1fe62c336a97e28ca8310e205a0c7fe96854392",
    "filename": "app/src/main/jni/loafwallet-core",
    "status": "modified",
    "additions": 1,
    "deletions": 1,
    "changes": 2,
    "blob_url": null,
    "raw_url": null,
    "contents_url": "https://api.github.com/repos/litecoin-foundation/loafwallet-android/contents/app/src/main/jni/loafwallet-core?ref=d01914b2bc68cf182af641419bf5d22c9f09d3d9",
    "patch": "@@ -1 +1 @@\n-Subproject commit 2ea83a2abb82c208900cd098dcb4239cd5a90d7d\n+Subproject commit b1fe62c336a97e28ca8310e205a0c7fe96854392"
  },
  {
    "sha": "bffac881f78a7c13edb2822d73df2a22fdc186ce",
    "filename": "app/src/main/jni/transition/PeerManager.c",
    "status": "modified",
    "additions": 9,
    "deletions": 3,
    "changes": 12,
    "blob_url": "https://github.com/litecoin-foundation/loafwallet-android/blob/d01914b2bc68cf182af641419bf5d22c9f09d3d9/app/src/main/jni/transition/PeerManager.c",
    "raw_url": "https://github.com/litecoin-foundation/loafwallet-android/raw/d01914b2bc68cf182af641419bf5d22c9f09d3d9/app/src/main/jni/transition/PeerManager.c",
    "contents_url": "https://api.github.com/repos/litecoin-foundation/loafwallet-android/contents/app/src/main/jni/transition/PeerManager.c?ref=d01914b2bc68cf182af641419bf5d22c9f09d3d9",
    "patch": "@@ -39,6 +39,12 @@\n \n #define fprintf(...) __android_log_print(ANDROID_LOG_ERROR, \"bread\", _va_rest(__VA_ARGS__, NULL))\n \n+#if LITECOIN_TESTNET\n+#define BR_CHAIN_PARAMS BRTestNetParams\n+#else\n+#define BR_CHAIN_PARAMS BRMainNetParams\n+#endif\n+\n static BRMerkleBlock **_blocks;\n BRPeerManager *_peerManager;\n static JavaVM *_jvmPM;\n@@ -291,7 +297,7 @@ Java_com_breadwallet_wallet_BRPeerManager_create(JNIEnv *env, jobject thiz,\n         if (earliestKeyTime < BIP39_CREATION_TIME) earliestKeyTime = BIP39_CREATION_TIME;\n         __android_log_print(ANDROID_LOG_DEBUG, \"Message from C: \", \"earliestKeyTime: %d\",\n                             earliestKeyTime);\n-        _peerManager = BRPeerManagerNew(_wallet, (uint32_t) earliestKeyTime, _blocks,\n+        _peerManager = BRPeerManagerNew(&BR_CHAIN_PARAMS, _wallet, (uint32_t) earliestKeyTime, _blocks,\n                                         (size_t) blocksCount,\n                                         _peers, (size_t) peersCount);\n         BRPeerManagerSetCallbacks(_peerManager, NULL, syncStarted, syncStopped,\n@@ -422,7 +428,7 @@ JNIEXPORT jboolean JNICALL Java_com_breadwallet_wallet_BRPeerManager_isCreated(J\n JNIEXPORT jboolean JNICALL Java_com_breadwallet_wallet_BRPeerManager_isConnected(JNIEnv *env,\n                                                                                  jobject obj) {\n     __android_log_print(ANDROID_LOG_DEBUG, \"Message from C: \", \"isConnected\");\n-    return (jboolean) (_peerManager && BRPeerManagerIsConnected(_peerManager));\n+    return (jboolean) (_peerManager && BRPeerManagerConnectStatus(_peerManager) == BRPeerStatusConnected);\n }\n \n JNIEXPORT jint JNICALL Java_com_breadwallet_wallet_BRPeerManager_getEstimatedBlockHeight(\n@@ -459,7 +465,7 @@ JNIEXPORT jboolean JNICALL Java_com_breadwallet_wallet_BRPeerManager_setFixedPee\n         if (inet_pton(AF_INET, host, &addr) != 1) return JNI_FALSE;\n         address.u16[5] = 0xffff;\n         address.u32[3] = addr.s_addr;\n-        if (port == 0) _port = STANDARD_PORT;\n+        if (port == 0) _port = BRPeerManagerStandardPort(_peerManager);\n     } else {\n         _port = 0;\n     }"
  },
  {
    "sha": "adc1be31c43b497e554b985106b5c9fad1ba1ae6",
    "filename": "app/src/main/jni/transition/wallet.c",
    "status": "modified",
    "additions": 13,
    "deletions": 13,
    "changes": 26,
    "blob_url": "https://github.com/litecoin-foundation/loafwallet-android/blob/d01914b2bc68cf182af641419bf5d22c9f09d3d9/app/src/main/jni/transition/wallet.c",
    "raw_url": "https://github.com/litecoin-foundation/loafwallet-android/raw/d01914b2bc68cf182af641419bf5d22c9f09d3d9/app/src/main/jni/transition/wallet.c",
    "contents_url": "https://api.github.com/repos/litecoin-foundation/loafwallet-android/contents/app/src/main/jni/transition/wallet.c?ref=d01914b2bc68cf182af641419bf5d22c9f09d3d9",
    "patch": "@@ -136,7 +136,7 @@ static void txAdded(void *info, BRTransaction *tx) {\n     (*env)->SetByteArrayRegion(env, result, 0, (jsize) len, (jbyte *) buf);\n \n     UInt256 transactionHash = tx->txHash;\n-    const char *strHash = u256_hex_encode(transactionHash);\n+    const char *strHash = u256hex(transactionHash);\n     jstring jstrHash = (*env)->NewStringUTF(env, strHash);\n \n     (*env)->CallStaticVoidMethod(env, _walletManagerClass, mid, result, (jint) tx->blockHeight,\n@@ -158,7 +158,7 @@ static void txUpdated(void *info, const UInt256 txHashes[], size_t count, uint32\n                                               \"(Ljava/lang/String;II)V\");\n \n     for (size_t i = 0; i < count; i++) {\n-        const char *strHash = u256_hex_encode(txHashes[i]);\n+        const char *strHash = u256hex(txHashes[i]);\n         jstring JstrHash = (*env)->NewStringUTF(env, strHash);\n \n         (*env)->CallStaticVoidMethod(env, _walletManagerClass, mid, JstrHash, (jint) blockHeight,\n@@ -175,7 +175,7 @@ static void txDeleted(void *info, UInt256 txHash, int notifyUser, int recommendR\n \n     if (!env || _walletManagerClass == NULL) return;\n \n-    const char *strHash = u256_hex_encode(txHash);\n+    const char *strHash = u256hex(txHash);\n \n     //create class\n     jmethodID mid = (*env)->GetStaticMethodID(env, _walletManagerClass, \"onTxDeleted\",\n@@ -319,7 +319,7 @@ Java_com_breadwallet_wallet_BRWalletManager_putTransaction(JNIEnv *env, jobject\n     tmpTx->timestamp = (uint32_t) jTimeStamp;\n //    __android_log_print(ANDROID_LOG_ERROR, \"Message from C: \", \"tmpTx->timestamp: %u\",\n //                        tmpTx->timestamp);\n-//    __android_log_print(ANDROID_LOG_ERROR, \"Message from C: \", \"tmpTx: %s\", u256_hex_encode(tmpTx->txHash));\n+//    __android_log_print(ANDROID_LOG_ERROR, \"Message from C: \", \"tmpTx: %s\", u256hex(tmpTx->txHash));\n     _transactions[_transactionsCounter++] = tmpTx;\n \n }\n@@ -380,7 +380,7 @@ JNIEXPORT jobjectArray JNICALL Java_com_breadwallet_wallet_BRWalletManager_getTr\n \n         UInt256 reversedHash = UInt256Reverse((txid));\n \n-        jstring txReversed = (*env)->NewStringUTF(env, u256_hex_encode(reversedHash));\n+        jstring txReversed = (*env)->NewStringUTF(env, u256hex(reversedHash));\n \n \n         jlong Jsent = (jlong) BRWalletAmountSentByTx(_wallet, tempTx);\n@@ -576,7 +576,7 @@ Java_com_breadwallet_wallet_BRWalletManager_transactionIsVerified(JNIEnv *env, j\n     if (!_wallet) return JNI_FALSE;\n \n     const char *txHash = (*env)->GetStringUTFChars(env, jtxHash, NULL);\n-    UInt256 txHashResult = u256_hex_decode(txHash);\n+    UInt256 txHashResult = uint256(txHash);\n     BRTransaction *tx = BRWalletTransactionForHash(_wallet, txHashResult);\n \n     if (!tx) return JNI_FALSE;\n@@ -865,10 +865,10 @@ Java_com_breadwallet_wallet_BRWalletManager_reverseTxHash(JNIEnv *env, jobject t\n     __android_log_print(ANDROID_LOG_DEBUG, \"Message from C: \", \"reverseTxHash\");\n \n     const char *rawString = (*env)->GetStringUTFChars(env, txHash, 0);\n-    UInt256 theHash = u256_hex_decode(rawString);\n+    UInt256 theHash = uint256(rawString);\n     UInt256 reversedHash = UInt256Reverse(theHash);\n \n-    return (*env)->NewStringUTF(env, u256_hex_encode(reversedHash));\n+    return (*env)->NewStringUTF(env, u256hex(reversedHash));\n }\n \n JNIEXPORT jstring JNICALL\n@@ -882,10 +882,10 @@ Java_com_breadwallet_wallet_BRWalletManager_txHashToHex(JNIEnv *env, jobject thi\n     UInt256 reversedHash = UInt256Reverse((*(UInt256 *) hash));\n \n //    const char *rawString = (*env)->GetStringUTFChars(env, txHash, 0);\n-//    UInt256 theHash = u256_hex_decode(rawString);\n+//    UInt256 theHash = uint256(rawString);\n //    UInt256 reversedHash = UInt256Reverse(theHash);\n //\n-    return (*env)->NewStringUTF(env, u256_hex_encode(reversedHash));\n+    return (*env)->NewStringUTF(env, u256hex(reversedHash));\n }\n \n \n@@ -895,14 +895,14 @@ Java_com_breadwallet_wallet_BRWalletManager_txHashSha256Hex(JNIEnv *env, jobject\n     __android_log_print(ANDROID_LOG_DEBUG, \"Message from C: \", \"reverseTxHash\");\n \n     const char *rawString = (*env)->GetStringUTFChars(env, txHash, 0);\n-    UInt256 theHash = u256_hex_decode(rawString);\n+    UInt256 theHash = uint256(rawString);\n //    UInt256 reversedHash = UInt256Reverse(theHash);\n-//    __android_log_print(ANDROID_LOG_DEBUG, \"Message from C: \", \"reversedHash: %s\", u256_hex_encode(reversedHash));\n+//    __android_log_print(ANDROID_LOG_DEBUG, \"Message from C: \", \"reversedHash: %s\", u256hex(reversedHash));\n     UInt256 sha256Hash;\n     BRSHA256(&sha256Hash, theHash.u8, sizeof(theHash));\n \n //    UInt256 reversedHash = UInt256Reverse(sha256Hash);\n-    char *result = u256_hex_encode(sha256Hash);\n+    char *result = u256hex(sha256Hash);\n     return (*env)->NewStringUTF(env, result);\n }\n "
  }
]
