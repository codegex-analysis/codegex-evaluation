[
  {
    "sha": "a45dbe3326f4ad69e9e5797958354ba650abc8e6",
    "filename": "lesson4-spring-boot/src/main/java/ru/geek/lesson4springboot/controller/LoginController.java",
    "status": "modified",
    "additions": 37,
    "deletions": 1,
    "changes": 38,
    "blob_url": "https://github.com/DrSkyFox/geek-spring/blob/3071af5ace28900e90eaeb63881a6dfae5045a81/lesson4-spring-boot/src/main/java/ru/geek/lesson4springboot/controller/LoginController.java",
    "raw_url": "https://github.com/DrSkyFox/geek-spring/raw/3071af5ace28900e90eaeb63881a6dfae5045a81/lesson4-spring-boot/src/main/java/ru/geek/lesson4springboot/controller/LoginController.java",
    "contents_url": "https://api.github.com/repos/DrSkyFox/geek-spring/contents/lesson4-spring-boot/src/main/java/ru/geek/lesson4springboot/controller/LoginController.java?ref=3071af5ace28900e90eaeb63881a6dfae5045a81",
    "patch": "@@ -1,23 +1,38 @@\n package ru.geek.lesson4springboot.controller;\n \n import org.dom4j.rule.Mode;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n import org.springframework.beans.factory.annotation.Autowired;\n+import org.springframework.security.access.annotation.Secured;\n import org.springframework.stereotype.Controller;\n import org.springframework.ui.Model;\n+import org.springframework.validation.BindingResult;\n import org.springframework.web.bind.annotation.GetMapping;\n+import org.springframework.web.bind.annotation.ModelAttribute;\n+import org.springframework.web.bind.annotation.PostMapping;\n+import ru.geek.lesson4springboot.repositories.RoleRepository;\n import ru.geek.lesson4springboot.service.UserRepr;\n import ru.geek.lesson4springboot.service.UserService;\n \n+import javax.validation.Valid;\n+\n @Controller\n public class LoginController {\n \n+\n+    private static final Logger logger = LoggerFactory.getLogger(LoginController.class);\n     private final UserService userService;\n+    private final RoleRepository roleRepository;\n+\n \n     @Autowired\n-    public LoginController(UserService userService) {\n+    public LoginController(UserService userService, RoleRepository roleRepository) {\n         this.userService = userService;\n+        this.roleRepository = roleRepository;\n     }\n \n+\n     @GetMapping(\"/login\")\n     public String loginPage() {\n         return \"login_form\";\n@@ -29,6 +44,27 @@ public String registrationPage(Model model) {\n         return \"reg_form\";\n     }\n \n+    @PostMapping(\"/reguser\")\n+    public String update(@Valid @ModelAttribute(\"user\") UserRepr user, BindingResult result, Model model) {\n+        logger.info(\"Update endpoint requested\");\n+\n+        model.addAttribute(\"roles\", roleRepository.findAll());\n+        if(result.hasErrors()) {\n+            logger.info(\"Some errors\");\n+            return \"reg_form\";\n+        }\n+\n+        if(!user.getPassword().equals(user.getMatchingPassword())) {\n+            result.rejectValue(\"password\", \"\", \"Password not matching\");\n+            logger.info(\"Password not matching\");\n+            return \"reg_form\";\n+        }\n+        logger.info(\"Updating user with id {}\", user.getId());\n+        userService.save(user);\n+\n+        return \"redirect:/login\";\n+    }\n+\n     @GetMapping(\"/access_denied\")\n     public String accessDenied() {\n         return \"access_denied\";"
  },
  {
    "sha": "80a1f94f30c226ef8ed7056c8d5e7a68e9906e0c",
    "filename": "lesson4-spring-boot/src/main/java/ru/geek/lesson4springboot/controller/ProductController.java",
    "status": "modified",
    "additions": 9,
    "deletions": 4,
    "changes": 13,
    "blob_url": "https://github.com/DrSkyFox/geek-spring/blob/3071af5ace28900e90eaeb63881a6dfae5045a81/lesson4-spring-boot/src/main/java/ru/geek/lesson4springboot/controller/ProductController.java",
    "raw_url": "https://github.com/DrSkyFox/geek-spring/raw/3071af5ace28900e90eaeb63881a6dfae5045a81/lesson4-spring-boot/src/main/java/ru/geek/lesson4springboot/controller/ProductController.java",
    "contents_url": "https://api.github.com/repos/DrSkyFox/geek-spring/contents/lesson4-spring-boot/src/main/java/ru/geek/lesson4springboot/controller/ProductController.java?ref=3071af5ace28900e90eaeb63881a6dfae5045a81",
    "patch": "@@ -5,6 +5,9 @@\n import org.springframework.beans.factory.annotation.Autowired;\n import org.springframework.data.domain.Page;\n import org.springframework.http.HttpStatus;\n+import org.springframework.security.access.annotation.Secured;\n+import org.springframework.security.access.prepost.PostAuthorize;\n+import org.springframework.security.access.prepost.PreAuthorize;\n import org.springframework.stereotype.Controller;\n import org.springframework.ui.Model;\n import org.springframework.validation.BindingResult;\n@@ -61,7 +64,8 @@ public String editPage(@PathVariable(\"id\") Long id, Model model) {\n         return \"product_form\";\n     }\n \n-    @PostMapping(\"/update\")\n+    @PostAuthorize(\"hasRole('ROLE_ADMIN') or hasRole('ROLE_SUPER_ADMIN')\")\n+    @PostMapping(\"/edit/update\")\n     public String update(@Valid @ModelAttribute(\"product\") ProductRepr product, BindingResult result) {\n         logger.info(\"Update endpoint requested\");\n         if(result.hasErrors()) {\n@@ -74,13 +78,14 @@ public String update(@Valid @ModelAttribute(\"product\") ProductRepr product, Bind\n         return \"redirect:/product\";\n     }\n \n-    @GetMapping(\"/new\")\n+    @PostAuthorize(\"hasRole('ROLE_ADMIN') or hasRole('ROLE_SUPER_ADMIN')\")\n+    @GetMapping(\"/edit/new\")\n     public String create(Model model) {\n         model.addAttribute(\"product\", new ProductRepr());\n         return \"product_form\";\n     }\n-\n-    @GetMapping(\"/{id}/delete\")\n+    @PostAuthorize(\"hasRole('ROLE_ADMIN') or hasRole('ROLE_SUPER_ADMIN')\")\n+    @GetMapping(\"/edit/{id}/delete\")\n     public String remove(@PathVariable(\"id\") Long id) {\n         productService.delete(id);\n         return \"redirect:/product\";"
  },
  {
    "sha": "e41da2e19b59ede18f6bd62fb929be66369e9f6e",
    "filename": "lesson4-spring-boot/src/main/java/ru/geek/lesson4springboot/controller/UserController.java",
    "status": "modified",
    "additions": 3,
    "deletions": 3,
    "changes": 6,
    "blob_url": "https://github.com/DrSkyFox/geek-spring/blob/3071af5ace28900e90eaeb63881a6dfae5045a81/lesson4-spring-boot/src/main/java/ru/geek/lesson4springboot/controller/UserController.java",
    "raw_url": "https://github.com/DrSkyFox/geek-spring/raw/3071af5ace28900e90eaeb63881a6dfae5045a81/lesson4-spring-boot/src/main/java/ru/geek/lesson4springboot/controller/UserController.java",
    "contents_url": "https://api.github.com/repos/DrSkyFox/geek-spring/contents/lesson4-spring-boot/src/main/java/ru/geek/lesson4springboot/controller/UserController.java?ref=3071af5ace28900e90eaeb63881a6dfae5045a81",
    "patch": "@@ -71,7 +71,7 @@ public String editPage(@PathVariable(\"id\") Long id, Model model,\n         model.addAttribute(\"user\", userService.findById(id).orElseThrow(NotFoundException::new));\n         return \"user_form\";\n     }\n-    @Secured({\"SUPER_ADMIN\"})\n+    @Secured({\"ROLE_SUPER_ADMIN\"})\n     @PostMapping(\"/update\")\n     public String update(@Valid @ModelAttribute(\"user\") UserRepr user, BindingResult result, Model model) {\n         logger.info(\"Update endpoint requested\");\n@@ -93,7 +93,7 @@ public String update(@Valid @ModelAttribute(\"user\") UserRepr user, BindingResult\n         return \"redirect:/user\";\n     }\n \n-    @Secured({\"SUPER_ADMIN\"})\n+    @Secured({\"ROLE_SUPER_ADMIN\"})\n     @GetMapping(\"/new\")\n     public String create(Model model)\n     {\n@@ -102,7 +102,7 @@ public String create(Model model)\n         return \"user_form\";\n     }\n \n-    @Secured({\"SUPER_ADMIN\"})\n+    @Secured({\"ROLE_SUPER_ADMIN\"})\n     @DeleteMapping(\"/{id}\")\n     public String remove(@PathVariable(\"id\") Long id) {\n         logger.info(\"User delete request\");"
  },
  {
    "sha": "dfc645b4b6063e1d53c8596af7c093b68de09a58",
    "filename": "lesson4-spring-boot/src/main/java/ru/geek/lesson4springboot/persist/User.java",
    "status": "modified",
    "additions": 13,
    "deletions": 0,
    "changes": 13,
    "blob_url": "https://github.com/DrSkyFox/geek-spring/blob/3071af5ace28900e90eaeb63881a6dfae5045a81/lesson4-spring-boot/src/main/java/ru/geek/lesson4springboot/persist/User.java",
    "raw_url": "https://github.com/DrSkyFox/geek-spring/raw/3071af5ace28900e90eaeb63881a6dfae5045a81/lesson4-spring-boot/src/main/java/ru/geek/lesson4springboot/persist/User.java",
    "contents_url": "https://api.github.com/repos/DrSkyFox/geek-spring/contents/lesson4-spring-boot/src/main/java/ru/geek/lesson4springboot/persist/User.java?ref=3071af5ace28900e90eaeb63881a6dfae5045a81",
    "patch": "@@ -98,4 +98,17 @@ public void setAge(Integer age) {\n     public void setRoles(Set<Role> roles) {\n         this.roles = roles;\n     }\n+\n+\n+    @Override\n+    public String toString() {\n+        return \"User{\" +\n+                \"id=\" + id +\n+                \", username='\" + username + '\\'' +\n+                \", password='\" + password + '\\'' +\n+                \", age=\" + age +\n+                \", email='\" + email + '\\'' +\n+                \", roles=\" + roles +\n+                '}';\n+    }\n }"
  },
  {
    "sha": "a93ff36a4f46c0923759e7bbda1dadc69a30c756",
    "filename": "lesson4-spring-boot/src/main/java/ru/geek/lesson4springboot/rest/ProductResource.java",
    "status": "modified",
    "additions": 4,
    "deletions": 0,
    "changes": 4,
    "blob_url": "https://github.com/DrSkyFox/geek-spring/blob/3071af5ace28900e90eaeb63881a6dfae5045a81/lesson4-spring-boot/src/main/java/ru/geek/lesson4springboot/rest/ProductResource.java",
    "raw_url": "https://github.com/DrSkyFox/geek-spring/raw/3071af5ace28900e90eaeb63881a6dfae5045a81/lesson4-spring-boot/src/main/java/ru/geek/lesson4springboot/rest/ProductResource.java",
    "contents_url": "https://api.github.com/repos/DrSkyFox/geek-spring/contents/lesson4-spring-boot/src/main/java/ru/geek/lesson4springboot/rest/ProductResource.java?ref=3071af5ace28900e90eaeb63881a6dfae5045a81",
    "patch": "@@ -4,6 +4,7 @@\n import org.springframework.beans.factory.annotation.Autowired;\n import org.springframework.http.HttpStatus;\n import org.springframework.http.ResponseEntity;\n+import org.springframework.security.access.annotation.Secured;\n import org.springframework.web.bind.annotation.*;\n import ru.geek.lesson4springboot.controller.BadRequestException;\n import ru.geek.lesson4springboot.controller.NotFoundException;\n@@ -38,6 +39,7 @@ public ProductRepr findById(@PathVariable(\"id\") Long id) {\n         return productRepr;\n     }\n \n+    @Secured({\"SUPER_ADMIN\", \"ADMIN\"})\n     @PostMapping(consumes = \"application/json\")\n     public ProductRepr create(@RequestBody ProductRepr productRepr) {\n         if(productRepr.getId() != null) {\n@@ -47,6 +49,7 @@ public ProductRepr create(@RequestBody ProductRepr productRepr) {\n         return productRepr;\n     }\n \n+    @Secured({\"SUPER_ADMIN\", \"ADMIN\"})\n     @PutMapping(consumes = \"application/json\")\n     public void update(@RequestBody ProductRepr productRepr) {\n         if(productRepr.getId() == null) {\n@@ -55,6 +58,7 @@ public void update(@RequestBody ProductRepr productRepr) {\n         productService.save(productRepr);\n     }\n \n+    @Secured({\"SUPER_ADMIN\", \"ADMIN\"})\n     @DeleteMapping(\"/{id}\")\n     public void delete(@PathVariable(\"id\") Long id) {\n         productService.delete(id);"
  },
  {
    "sha": "9e36c904b8ef542c8581313303d4b30d45d758c2",
    "filename": "lesson4-spring-boot/src/main/java/ru/geek/lesson4springboot/security/SecurityConfiguration.java",
    "status": "modified",
    "additions": 2,
    "deletions": 1,
    "changes": 3,
    "blob_url": "https://github.com/DrSkyFox/geek-spring/blob/3071af5ace28900e90eaeb63881a6dfae5045a81/lesson4-spring-boot/src/main/java/ru/geek/lesson4springboot/security/SecurityConfiguration.java",
    "raw_url": "https://github.com/DrSkyFox/geek-spring/raw/3071af5ace28900e90eaeb63881a6dfae5045a81/lesson4-spring-boot/src/main/java/ru/geek/lesson4springboot/security/SecurityConfiguration.java",
    "contents_url": "https://api.github.com/repos/DrSkyFox/geek-spring/contents/lesson4-spring-boot/src/main/java/ru/geek/lesson4springboot/security/SecurityConfiguration.java?ref=3071af5ace28900e90eaeb63881a6dfae5045a81",
    "patch": "@@ -69,8 +69,9 @@ protected void configure(HttpSecurity http) throws Exception {\n             http\n                     .authorizeRequests()\n                     .antMatchers(\"/**/*.css\", \"/**/*.js\").permitAll()\n-                    .antMatchers(\"/product/**\").permitAll()\n                     .antMatchers(\"/user/**\").hasAnyRole(\"ADMIN\", \"SUPER_ADMIN\")\n+                    .antMatchers(\"/product/*\").permitAll()\n+                    .antMatchers(\"/product/edit/**\").hasAnyRole(\"ADMIN\", \"SUPER_ADMIN\")\n                     .and()\n                     .formLogin()\n                     .loginPage(\"/login\")"
  },
  {
    "sha": "4fc4bb3615a90bdc4b713b240df02de1775ea50a",
    "filename": "lesson4-spring-boot/src/main/java/ru/geek/lesson4springboot/service/UserServiceImpl.java",
    "status": "modified",
    "additions": 15,
    "deletions": 2,
    "changes": 17,
    "blob_url": "https://github.com/DrSkyFox/geek-spring/blob/3071af5ace28900e90eaeb63881a6dfae5045a81/lesson4-spring-boot/src/main/java/ru/geek/lesson4springboot/service/UserServiceImpl.java",
    "raw_url": "https://github.com/DrSkyFox/geek-spring/raw/3071af5ace28900e90eaeb63881a6dfae5045a81/lesson4-spring-boot/src/main/java/ru/geek/lesson4springboot/service/UserServiceImpl.java",
    "contents_url": "https://api.github.com/repos/DrSkyFox/geek-spring/contents/lesson4-spring-boot/src/main/java/ru/geek/lesson4springboot/service/UserServiceImpl.java?ref=3071af5ace28900e90eaeb63881a6dfae5045a81",
    "patch": "@@ -11,6 +11,7 @@\n import org.springframework.stereotype.Service;\n import org.springframework.transaction.annotation.Transactional;\n import ru.geek.lesson4springboot.persist.User;\n+import ru.geek.lesson4springboot.repositories.RoleRepository;\n import ru.geek.lesson4springboot.repositories.UserRepository;\n import ru.geek.lesson4springboot.specifications.UserSpecification;\n \n@@ -25,15 +26,21 @@\n \n     private final UserRepository userRepository;\n     private final PasswordEncoder passwordEncoder;\n-\n+    private final RoleRepository roleRepository;\n \n     @Autowired\n-    public UserServiceImpl(UserRepository userRepository, PasswordEncoder passwordEncoder) {\n+    public UserServiceImpl(UserRepository userRepository, PasswordEncoder passwordEncoder, RoleRepository roleRepository) {\n         this.userRepository = userRepository;\n         this.passwordEncoder = passwordEncoder;\n+        this.roleRepository = roleRepository;\n     }\n \n \n+\n+\n+\n+\n+\n     @Override\n     public List<UserRepr> findAll() {\n         return userRepository.findAll().stream().map(UserRepr::new).collect(Collectors.toList());\n@@ -73,10 +80,16 @@ public UserServiceImpl(UserRepository userRepository, PasswordEncoder passwordEn\n     public void save(UserRepr user) {\n         User userToSave = new User(user);\n         userToSave.setPassword(passwordEncoder.encode(userToSave.getPassword()));\n+        logger.info(\"user to save: {} \", user.toString());\n+\n         userRepository.save(userToSave);\n         if (user.getId() == null) {\n             user.setId(userToSave.getId());\n         }\n+\n+        if(userToSave.getRoles() == null) {\n+            userToSave.setRoles(roleRepository.findById(1l).stream().collect(Collectors.toSet()));\n+        }\n     }\n \n     @Transactional"
  },
  {
    "sha": "47ba078205b1d57ebe50829100ee3867d6c5d293",
    "filename": "lesson4-spring-boot/src/main/resources/templates/fragments/navigationbar.html",
    "status": "modified",
    "additions": 8,
    "deletions": 6,
    "changes": 14,
    "blob_url": "https://github.com/DrSkyFox/geek-spring/blob/3071af5ace28900e90eaeb63881a6dfae5045a81/lesson4-spring-boot/src/main/resources/templates/fragments/navigationbar.html",
    "raw_url": "https://github.com/DrSkyFox/geek-spring/raw/3071af5ace28900e90eaeb63881a6dfae5045a81/lesson4-spring-boot/src/main/resources/templates/fragments/navigationbar.html",
    "contents_url": "https://api.github.com/repos/DrSkyFox/geek-spring/contents/lesson4-spring-boot/src/main/resources/templates/fragments/navigationbar.html?ref=3071af5ace28900e90eaeb63881a6dfae5045a81",
    "patch": "@@ -33,19 +33,21 @@\n             </li>\n         </ul>\n \n-        <form sec:authorize=\"isAnonymous()\"\n-              th:action=\"@{/login}\"\n+\n+\n+        <form sec:authorize=\"isAuthenticated()\"\n+              th:action=\"@{/logout}\" th:method=\"post\"\n               class=\"form-inline my-2 my-lg-0\" >\n             <button class=\"btn btn-outline-success my-2 my-sm-0\">\n-                Login\n+                Logout <span sec:authentication=\"principal.username\"></span>\n             </button>\n         </form>\n \n-        <form sec:authorize=\"isAuthenticated()\"\n-              th:action=\"@{/logout}\" th:method=\"post\"\n+        <form sec:authorize=\"isAnonymous()\"\n+              th:action=\"@{/login}\"\n               class=\"form-inline my-2 my-lg-0\" >\n             <button class=\"btn btn-outline-success my-2 my-sm-0\">\n-                Logout <span sec:authentication=\"principal.username\"></span>\n+                Login\n             </button>\n         </form>\n "
  },
  {
    "sha": "3c68f330ea153a90608f5252106a3ea9266403a1",
    "filename": "lesson4-spring-boot/src/main/resources/templates/index.html",
    "status": "modified",
    "additions": 1,
    "deletions": 1,
    "changes": 2,
    "blob_url": "https://github.com/DrSkyFox/geek-spring/blob/3071af5ace28900e90eaeb63881a6dfae5045a81/lesson4-spring-boot/src/main/resources/templates/index.html",
    "raw_url": "https://github.com/DrSkyFox/geek-spring/raw/3071af5ace28900e90eaeb63881a6dfae5045a81/lesson4-spring-boot/src/main/resources/templates/index.html",
    "contents_url": "https://api.github.com/repos/DrSkyFox/geek-spring/contents/lesson4-spring-boot/src/main/resources/templates/index.html?ref=3071af5ace28900e90eaeb63881a6dfae5045a81",
    "patch": "@@ -5,7 +5,7 @@\n </head>\n \n <body>\n-<nav th:replace=\"fragments/navigationbar.html :: navbar ('none')\"/>\n+<nav th:replace=\"fragments/navigationbar.html\"/>\n </body>\n \n "
  },
  {
    "sha": "4aa01121e8c51a8d483d634c3da2a2bcc69ba7f5",
    "filename": "lesson4-spring-boot/src/main/resources/templates/login_form.html",
    "status": "modified",
    "additions": 1,
    "deletions": 1,
    "changes": 2,
    "blob_url": "https://github.com/DrSkyFox/geek-spring/blob/3071af5ace28900e90eaeb63881a6dfae5045a81/lesson4-spring-boot/src/main/resources/templates/login_form.html",
    "raw_url": "https://github.com/DrSkyFox/geek-spring/raw/3071af5ace28900e90eaeb63881a6dfae5045a81/lesson4-spring-boot/src/main/resources/templates/login_form.html",
    "contents_url": "https://api.github.com/repos/DrSkyFox/geek-spring/contents/lesson4-spring-boot/src/main/resources/templates/login_form.html?ref=3071af5ace28900e90eaeb63881a6dfae5045a81",
    "patch": "@@ -5,7 +5,7 @@\n \n <body>\n \n-<nav th:replace=\"fragments/navigationbar.html :: navbar ('none')\"/>\n+<nav th:replace=\"fragments/navigationbar.html :: navbar ('none')\" />\n \n <div class=\"container\">\n     <div class=\"row py-2\">"
  },
  {
    "sha": "7d59b4e9c50c5b47c07caf3c609b0ffe640aa549",
    "filename": "lesson4-spring-boot/src/main/resources/templates/product.html",
    "status": "modified",
    "additions": 2,
    "deletions": 2,
    "changes": 4,
    "blob_url": "https://github.com/DrSkyFox/geek-spring/blob/3071af5ace28900e90eaeb63881a6dfae5045a81/lesson4-spring-boot/src/main/resources/templates/product.html",
    "raw_url": "https://github.com/DrSkyFox/geek-spring/raw/3071af5ace28900e90eaeb63881a6dfae5045a81/lesson4-spring-boot/src/main/resources/templates/product.html",
    "contents_url": "https://api.github.com/repos/DrSkyFox/geek-spring/contents/lesson4-spring-boot/src/main/resources/templates/product.html?ref=3071af5ace28900e90eaeb63881a6dfae5045a81",
    "patch": "@@ -13,7 +13,7 @@\n <div class=\"container\">\n     <div class=\"row py-2\">\n         <div class=\"col-12\">\n-            <a class=\"btn btn-primary\" th:href=\"@{/product/new}\">Add Product</a>\n+            <a class=\"btn btn-primary\" th:href=\"@{/product/edit/new}\">Add Product</a>\n         </div>\n         <div class=\"col-12 mt-3\">\n             <form class=\"form-inline\" th:method=\"get\">\n@@ -60,7 +60,7 @@\n                         <a class=\"btn btn-success\" th:href=\"@{/product/{id}(id = ${product.id})}\"><i\n                                 class=\"fas fa-edit\"></i></a>\n                         <form class=\"d-inline\" th:method=\"delete\"\n-                              th:action=\"@{/product/{id}/delete(id = ${product.id})}\">\n+                              th:action=\"@{/product/edit/{id}/delete(id = ${product.id})}\">\n                             <button class=\"btn btn-danger\" type=\"submit\"><i class=\"far fa-trash-alt\"></i></button>\n                         </form>\n                         <!--                        <a class=\"btn btn-danger\" th:href=\"@{/product/{id}/delete(id = ${product.id})}\"><i class=\"far fa-trash-alt\"></i></a>-->"
  },
  {
    "sha": "37bcd6205d62224a6406ee9433c1eca1d9e1a714",
    "filename": "lesson4-spring-boot/src/main/resources/templates/product_form.html",
    "status": "modified",
    "additions": 1,
    "deletions": 1,
    "changes": 2,
    "blob_url": "https://github.com/DrSkyFox/geek-spring/blob/3071af5ace28900e90eaeb63881a6dfae5045a81/lesson4-spring-boot/src/main/resources/templates/product_form.html",
    "raw_url": "https://github.com/DrSkyFox/geek-spring/raw/3071af5ace28900e90eaeb63881a6dfae5045a81/lesson4-spring-boot/src/main/resources/templates/product_form.html",
    "contents_url": "https://api.github.com/repos/DrSkyFox/geek-spring/contents/lesson4-spring-boot/src/main/resources/templates/product_form.html?ref=3071af5ace28900e90eaeb63881a6dfae5045a81",
    "patch": "@@ -12,7 +12,7 @@\n <div class=\"container\">\n     <div class=\"row py-2\">\n         <div class=\"col-12\">\n-            <form th:action=\"@{/product/update}\" th:method=\"post\" th:object=\"${product}\">\n+            <form th:action=\"@{/product/edit/update}\" th:method=\"post\" th:object=\"${product}\">\n                 <input type=\"hidden\" th:field=\"*{id}\" id=\"id\" name=\"id\">\n \n                 <div class=\"form-group\">"
  },
  {
    "sha": "3b1385ce1280948c67208cfaaaa28a840a74079e",
    "filename": "lesson4-spring-boot/src/main/resources/templates/reg_form.html",
    "status": "modified",
    "additions": 1,
    "deletions": 1,
    "changes": 2,
    "blob_url": "https://github.com/DrSkyFox/geek-spring/blob/3071af5ace28900e90eaeb63881a6dfae5045a81/lesson4-spring-boot/src/main/resources/templates/reg_form.html",
    "raw_url": "https://github.com/DrSkyFox/geek-spring/raw/3071af5ace28900e90eaeb63881a6dfae5045a81/lesson4-spring-boot/src/main/resources/templates/reg_form.html",
    "contents_url": "https://api.github.com/repos/DrSkyFox/geek-spring/contents/lesson4-spring-boot/src/main/resources/templates/reg_form.html?ref=3071af5ace28900e90eaeb63881a6dfae5045a81",
    "patch": "@@ -13,7 +13,7 @@\n \n <div id=\"id01\" class=\"modal\">\n     <span onclick=\"document.getElementById('id01').style.display='none'\" class=\"close\" title=\"Close Modal\">&times;</span>\n-    <form class=\"modal-content\" th:action=\"@{/user/update}\" th:method=\"post\" th:object=\"${user}\">\n+    <form class=\"modal-content\" th:action=\"@{/reguser}\" th:method=\"post\" th:object=\"${user}\">\n         <div class=\"container\">\n             <h1>Sign Up</h1>\n             <p>Please fill in this form to create an account.</p>"
  }
]
