[
  {
    "sha": "78b2cc53b203f0b97534bb1184cdc7b474339fb4",
    "filename": "chatGeak.iml",
    "status": "added",
    "additions": 2,
    "deletions": 0,
    "changes": 2,
    "blob_url": "https://github.com/Aidernec/GeekbrainsHomeWorks/blob/d976e63bf072f578c161efee0eec345d45b1e6b8/chatGeak.iml",
    "raw_url": "https://github.com/Aidernec/GeekbrainsHomeWorks/raw/d976e63bf072f578c161efee0eec345d45b1e6b8/chatGeak.iml",
    "contents_url": "https://api.github.com/repos/Aidernec/GeekbrainsHomeWorks/contents/chatGeak.iml?ref=d976e63bf072f578c161efee0eec345d45b1e6b8",
    "patch": "@@ -0,0 +1,2 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<module type=\"JAVA_MODULE\" version=\"4\" />\n\\ No newline at end of file"
  },
  {
    "sha": "c3cc39db2cb39038daf0c03609fea06bdcb79091",
    "filename": "client/pom.xml",
    "status": "added",
    "additions": 19,
    "deletions": 0,
    "changes": 19,
    "blob_url": "https://github.com/Aidernec/GeekbrainsHomeWorks/blob/d976e63bf072f578c161efee0eec345d45b1e6b8/client/pom.xml",
    "raw_url": "https://github.com/Aidernec/GeekbrainsHomeWorks/raw/d976e63bf072f578c161efee0eec345d45b1e6b8/client/pom.xml",
    "contents_url": "https://api.github.com/repos/Aidernec/GeekbrainsHomeWorks/contents/client/pom.xml?ref=d976e63bf072f578c161efee0eec345d45b1e6b8",
    "patch": "@@ -0,0 +1,19 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n+         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n+    <parent>\n+        <artifactId>chatGeak</artifactId>\n+        <groupId>org.example</groupId>\n+        <version>1.0-SNAPSHOT</version>\n+    </parent>\n+    <modelVersion>4.0.0</modelVersion>\n+\n+    <artifactId>client</artifactId>\n+\n+    <properties>\n+        <maven.compiler.source>8</maven.compiler.source>\n+        <maven.compiler.target>8</maven.compiler.target>\n+    </properties>\n+\n+</project>\n\\ No newline at end of file"
  },
  {
    "sha": "acb38778bbfb3266def09fd90d25e5d06f760e64",
    "filename": "client/src/main/java/AppClient.java",
    "status": "added",
    "additions": 5,
    "deletions": 0,
    "changes": 5,
    "blob_url": "https://github.com/Aidernec/GeekbrainsHomeWorks/blob/d976e63bf072f578c161efee0eec345d45b1e6b8/client/src/main/java/AppClient.java",
    "raw_url": "https://github.com/Aidernec/GeekbrainsHomeWorks/raw/d976e63bf072f578c161efee0eec345d45b1e6b8/client/src/main/java/AppClient.java",
    "contents_url": "https://api.github.com/repos/Aidernec/GeekbrainsHomeWorks/contents/client/src/main/java/AppClient.java?ref=d976e63bf072f578c161efee0eec345d45b1e6b8",
    "patch": "@@ -0,0 +1,5 @@\n+public class AppClient {\n+    public static void main(String[] args) {\n+\n+    }\n+}"
  },
  {
    "sha": "f46321c567bbe05067b7b1af446229e917b0c6f9",
    "filename": "client/src/main/java/Client.java",
    "status": "added",
    "additions": 45,
    "deletions": 0,
    "changes": 45,
    "blob_url": "https://github.com/Aidernec/GeekbrainsHomeWorks/blob/d976e63bf072f578c161efee0eec345d45b1e6b8/client/src/main/java/Client.java",
    "raw_url": "https://github.com/Aidernec/GeekbrainsHomeWorks/raw/d976e63bf072f578c161efee0eec345d45b1e6b8/client/src/main/java/Client.java",
    "contents_url": "https://api.github.com/repos/Aidernec/GeekbrainsHomeWorks/contents/client/src/main/java/Client.java?ref=d976e63bf072f578c161efee0eec345d45b1e6b8",
    "patch": "@@ -0,0 +1,45 @@\n+import java.io.*;\n+import java.net.Socket;\n+import java.net.UnknownHostException;\n+import java.util.Scanner;\n+\n+public class Client {\n+    public static void main(String[] args) {\n+        startTextClient();\n+        //startObjectClient();\n+    }\n+\n+    private static void startTextClient() {\n+        try (Socket socket  = new Socket(\"localhost\", 8189);\n+             DataInputStream in = new DataInputStream(socket.getInputStream());\n+             DataOutputStream out = new DataOutputStream(socket.getOutputStream());\n+             Scanner sc = new Scanner(System.in)){\n+            String myMessage = \"\";\n+            // String serverMessage = \"\";\n+            Thread serverReader = new Thread(() -> {\n+                String serverMessage = \"\";\n+                try {\n+                    while(!socket.isClosed()) {\n+                        serverMessage = in.readUTF();\n+                        System.out.println(serverMessage);\n+                    }\n+                } catch (IOException e) {\n+\n+                }\n+            });\n+            serverReader.start();\n+            do{\n+                //serverMessage = in.readLine();\n+                //System.out.println(serverMessage);\n+                myMessage = sc.nextLine();\n+                out.writeUTF(myMessage);\n+                out.flush();\n+            }while(!myMessage.equalsIgnoreCase(\"stop\"));\n+\n+        } catch (UnknownHostException e) {\n+            e.printStackTrace();\n+        } catch (IOException e) {\n+            e.printStackTrace();\n+        }\n+    }\n+}\n\\ No newline at end of file"
  },
  {
    "sha": "50178857dcc8c5a2d040d7f8e4630ffa3d01fc82",
    "filename": "client/src/main/java/ClientGUI.java",
    "status": "added",
    "additions": 3,
    "deletions": 0,
    "changes": 3,
    "blob_url": "https://github.com/Aidernec/GeekbrainsHomeWorks/blob/d976e63bf072f578c161efee0eec345d45b1e6b8/client/src/main/java/ClientGUI.java",
    "raw_url": "https://github.com/Aidernec/GeekbrainsHomeWorks/raw/d976e63bf072f578c161efee0eec345d45b1e6b8/client/src/main/java/ClientGUI.java",
    "contents_url": "https://api.github.com/repos/Aidernec/GeekbrainsHomeWorks/contents/client/src/main/java/ClientGUI.java?ref=d976e63bf072f578c161efee0eec345d45b1e6b8",
    "patch": "@@ -0,0 +1,3 @@\n+public class ClientGUI {\n+\n+}"
  },
  {
    "sha": "df5ad0b596fe88572a3b853bf4222221ebc8d860",
    "filename": "client/src/main/java/ClientNetwork.java",
    "status": "added",
    "additions": 68,
    "deletions": 0,
    "changes": 68,
    "blob_url": "https://github.com/Aidernec/GeekbrainsHomeWorks/blob/d976e63bf072f578c161efee0eec345d45b1e6b8/client/src/main/java/ClientNetwork.java",
    "raw_url": "https://github.com/Aidernec/GeekbrainsHomeWorks/raw/d976e63bf072f578c161efee0eec345d45b1e6b8/client/src/main/java/ClientNetwork.java",
    "contents_url": "https://api.github.com/repos/Aidernec/GeekbrainsHomeWorks/contents/client/src/main/java/ClientNetwork.java?ref=d976e63bf072f578c161efee0eec345d45b1e6b8",
    "patch": "@@ -0,0 +1,68 @@\n+import java.io.DataInputStream;\n+import java.io.DataOutputStream;\n+import java.io.IOException;\n+import java.net.Socket;\n+import java.net.UnknownHostException;\n+\n+public class ClientNetwork {\n+    private Socket socket;\n+    private DataInputStream in;\n+    private DataOutputStream out;\n+\n+    public void connect(){\n+        try{\n+            socket = new Socket(\"Localhost\", 8189);\n+            in = new DataInputStream(socket.getInputStream());\n+            out = new DataOutputStream(socket.getOutputStream());\n+            new Thread(()->{\n+                boolean goOn = true;\n+                try{\n+                    while (goOn){\n+                        String msg = in.readUTF();\n+                        if(msg.equalsIgnoreCase(\"/end\")){\n+                            goOn = false;\n+                        }else if(msg.startsWith(\"/clients\")){\n+\n+                        } else {\n+\n+                        }\n+                    }\n+                } catch (Exception exception) {\n+                    exception.printStackTrace();\n+                }\n+            }).start();\n+        } catch (UnknownHostException e) {\n+            e.printStackTrace();\n+        } catch (IOException e) {\n+            e.printStackTrace();\n+        }\n+    }\n+\n+    public boolean sendMessage(String msg){\n+        try {\n+            out.writeUTF(msg);\n+            return true;\n+        } catch (IOException e) {\n+            e.printStackTrace();\n+            return false;\n+        }\n+    }\n+\n+    public void closeConnection(){\n+        try {\n+            in.close();\n+        } catch (IOException e) {\n+            e.printStackTrace();\n+        }\n+        try {\n+            out.close();\n+        } catch (IOException e) {\n+            e.printStackTrace();\n+        }\n+        try {\n+            socket.close();\n+        } catch (IOException e) {\n+            e.printStackTrace();\n+        }\n+    }\n+}"
  },
  {
    "sha": "4a4082b4ce5094b4f43f72a3fe5eb304b5032aaa",
    "filename": "client/target/classes/Client.class",
    "status": "added",
    "additions": 0,
    "deletions": 0,
    "changes": 0,
    "blob_url": "https://github.com/Aidernec/GeekbrainsHomeWorks/blob/d976e63bf072f578c161efee0eec345d45b1e6b8/client/target/classes/Client.class",
    "raw_url": "https://github.com/Aidernec/GeekbrainsHomeWorks/raw/d976e63bf072f578c161efee0eec345d45b1e6b8/client/target/classes/Client.class",
    "contents_url": "https://api.github.com/repos/Aidernec/GeekbrainsHomeWorks/contents/client/target/classes/Client.class?ref=d976e63bf072f578c161efee0eec345d45b1e6b8"
  },
  {
    "sha": "5f927317bf715d9662c02d159b332bbeea63808a",
    "filename": "pom.xml",
    "status": "added",
    "additions": 21,
    "deletions": 0,
    "changes": 21,
    "blob_url": "https://github.com/Aidernec/GeekbrainsHomeWorks/blob/d976e63bf072f578c161efee0eec345d45b1e6b8/pom.xml",
    "raw_url": "https://github.com/Aidernec/GeekbrainsHomeWorks/raw/d976e63bf072f578c161efee0eec345d45b1e6b8/pom.xml",
    "contents_url": "https://api.github.com/repos/Aidernec/GeekbrainsHomeWorks/contents/pom.xml?ref=d976e63bf072f578c161efee0eec345d45b1e6b8",
    "patch": "@@ -0,0 +1,21 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n+         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n+    <modelVersion>4.0.0</modelVersion>\n+\n+    <groupId>org.example</groupId>\n+    <artifactId>chatGeak</artifactId>\n+    <packaging>pom</packaging>\n+    <version>1.0-SNAPSHOT</version>\n+    <modules>\n+        <module>client</module>\n+        <module>server</module>\n+    </modules>\n+\n+    <properties>\n+        <maven.compiler.source>8</maven.compiler.source>\n+        <maven.compiler.target>8</maven.compiler.target>\n+    </properties>\n+\n+</project>\n\\ No newline at end of file"
  },
  {
    "sha": "4df31645f1414251fd7c921a78c3fb55a5963613",
    "filename": "server/pom.xml",
    "status": "added",
    "additions": 19,
    "deletions": 0,
    "changes": 19,
    "blob_url": "https://github.com/Aidernec/GeekbrainsHomeWorks/blob/d976e63bf072f578c161efee0eec345d45b1e6b8/server/pom.xml",
    "raw_url": "https://github.com/Aidernec/GeekbrainsHomeWorks/raw/d976e63bf072f578c161efee0eec345d45b1e6b8/server/pom.xml",
    "contents_url": "https://api.github.com/repos/Aidernec/GeekbrainsHomeWorks/contents/server/pom.xml?ref=d976e63bf072f578c161efee0eec345d45b1e6b8",
    "patch": "@@ -0,0 +1,19 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n+         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n+    <parent>\n+        <artifactId>chatGeak</artifactId>\n+        <groupId>org.example</groupId>\n+        <version>1.0-SNAPSHOT</version>\n+    </parent>\n+    <modelVersion>4.0.0</modelVersion>\n+\n+    <artifactId>server</artifactId>\n+\n+    <properties>\n+        <maven.compiler.source>8</maven.compiler.source>\n+        <maven.compiler.target>8</maven.compiler.target>\n+    </properties>\n+\n+</project>\n\\ No newline at end of file"
  },
  {
    "sha": "6af51589611313fd50591393d9c5a0a6a94ca0e0",
    "filename": "server/src/main/java/AppServer.java",
    "status": "added",
    "additions": 5,
    "deletions": 0,
    "changes": 5,
    "blob_url": "https://github.com/Aidernec/GeekbrainsHomeWorks/blob/d976e63bf072f578c161efee0eec345d45b1e6b8/server/src/main/java/AppServer.java",
    "raw_url": "https://github.com/Aidernec/GeekbrainsHomeWorks/raw/d976e63bf072f578c161efee0eec345d45b1e6b8/server/src/main/java/AppServer.java",
    "contents_url": "https://api.github.com/repos/Aidernec/GeekbrainsHomeWorks/contents/server/src/main/java/AppServer.java?ref=d976e63bf072f578c161efee0eec345d45b1e6b8",
    "patch": "@@ -0,0 +1,5 @@\n+public class AppServer {\n+    public static void main(String[] args) {\n+        new Server();\n+    }\n+}"
  },
  {
    "sha": "83d15ba4cc97347a344e519dab104c692dd47b2d",
    "filename": "server/src/main/java/ClientHandler.java",
    "status": "added",
    "additions": 78,
    "deletions": 0,
    "changes": 78,
    "blob_url": "https://github.com/Aidernec/GeekbrainsHomeWorks/blob/d976e63bf072f578c161efee0eec345d45b1e6b8/server/src/main/java/ClientHandler.java",
    "raw_url": "https://github.com/Aidernec/GeekbrainsHomeWorks/raw/d976e63bf072f578c161efee0eec345d45b1e6b8/server/src/main/java/ClientHandler.java",
    "contents_url": "https://api.github.com/repos/Aidernec/GeekbrainsHomeWorks/contents/server/src/main/java/ClientHandler.java?ref=d976e63bf072f578c161efee0eec345d45b1e6b8",
    "patch": "@@ -0,0 +1,78 @@\n+import java.io.DataInputStream;\n+import java.io.DataOutputStream;\n+import java.io.IOException;\n+import java.net.Socket;\n+import java.util.concurrent.atomic.AtomicInteger;\n+\n+public class ClientHandler {\n+    private String nickname;\n+    private Socket socket;\n+    private DataInputStream in;\n+    private DataOutputStream out;\n+    private Server server;\n+\n+    public ClientHandler(Integer numero, Server server, Socket socket){\n+        try{\n+            this.socket = socket;\n+            this.server = server;\n+            this.in = new DataInputStream(socket.getInputStream());\n+            this.out = new DataOutputStream(socket.getOutputStream());\n+            this.nickname = \"Client\" + numero;\n+            new Thread(()->{\n+                server.subscribe(this);\n+                boolean continueChat = true;\n+                while (continueChat){\n+                    String msg = null;\n+                    try {\n+                        msg = in.readUTF();\n+                        if(msg.startsWith(\"/\")){\n+                            if(msg.equalsIgnoreCase(\"/end\")){\n+                                continueChat = false;\n+                            }\n+                        } else {\n+                            server.broadcastMessage(nickname + \": \" + msg);\n+                        }\n+                    } catch (IOException e) {\n+                        e.printStackTrace();\n+                    }\n+                    finally {\n+                        disconnect();\n+                    }\n+                }\n+            }).start();\n+        } catch (IOException e){\n+            e.printStackTrace();\n+        }\n+    }\n+\n+    public void sendMessage(String message){\n+        try {\n+            out.writeUTF(message);\n+        } catch (IOException e) {\n+            e.printStackTrace();\n+        }\n+    }\n+\n+    public String getNickname() {\n+        return nickname;\n+    }\n+\n+    public void disconnect(){\n+        server.unsubscribe(this);\n+        try {\n+            in.close();\n+        } catch (IOException e) {\n+            e.printStackTrace();\n+        }\n+        try {\n+            out.close();\n+        } catch (IOException e) {\n+            e.printStackTrace();\n+        }\n+        try {\n+            socket.close();\n+        } catch (IOException e) {\n+            e.printStackTrace();\n+        }\n+    }\n+}"
  },
  {
    "sha": "e94c1b501515a337386672665c7bed3f54e1f9cc",
    "filename": "server/src/main/java/Server.java",
    "status": "added",
    "additions": 50,
    "deletions": 0,
    "changes": 50,
    "blob_url": "https://github.com/Aidernec/GeekbrainsHomeWorks/blob/d976e63bf072f578c161efee0eec345d45b1e6b8/server/src/main/java/Server.java",
    "raw_url": "https://github.com/Aidernec/GeekbrainsHomeWorks/raw/d976e63bf072f578c161efee0eec345d45b1e6b8/server/src/main/java/Server.java",
    "contents_url": "https://api.github.com/repos/Aidernec/GeekbrainsHomeWorks/contents/server/src/main/java/Server.java?ref=d976e63bf072f578c161efee0eec345d45b1e6b8",
    "patch": "@@ -0,0 +1,50 @@\n+import java.io.IOException;\n+import java.net.ServerSocket;\n+import java.net.Socket;\n+import java.util.ArrayList;\n+import java.util.List;\n+import java.util.concurrent.atomic.AtomicInteger;\n+\n+public class Server {\n+    private List<ClientHandler> clients;\n+    private AtomicInteger numero = new AtomicInteger(1);\n+\n+    public Server(){\n+        this.clients = new ArrayList<>();\n+        try (ServerSocket serverSocket = new ServerSocket(8189)){\n+            System.out.println(\"Server is listening on 8189\");\n+            while (true){\n+                Socket socket = serverSocket.accept();\n+                new ClientHandler(numero.getAndIncrement(), this, socket);\n+            }\n+        } catch (IOException e) {\n+            e.printStackTrace();\n+        }\n+    }\n+\n+    public void broadcastMessage(String message){\n+        for (ClientHandler client: clients){\n+            client.sendMessage(message);\n+        }\n+    }\n+\n+    public void subscribe(ClientHandler client){\n+        clients.add(client);\n+        broadcastClientList();\n+    }\n+\n+    public void unsubscribe(ClientHandler client){\n+        clients.remove(client);\n+        broadcastClientList();\n+    }\n+\n+    public void broadcastClientList(){\n+        StringBuilder sb = new StringBuilder(15 * clients.size());\n+        sb.append(\"/clients \");\n+        for (ClientHandler o: clients){\n+            sb.append(o.getNickname()).append(\" \");\n+        }\n+        String out = sb.toString();\n+        broadcastMessage(out);\n+    }\n+}"
  },
  {
    "sha": "bfd25d8b0a00b8cfbeac725176b4c9736f617aba",
    "filename": "server/target/classes/AppServer.class",
    "status": "added",
    "additions": 0,
    "deletions": 0,
    "changes": 0,
    "blob_url": "https://github.com/Aidernec/GeekbrainsHomeWorks/blob/d976e63bf072f578c161efee0eec345d45b1e6b8/server/target/classes/AppServer.class",
    "raw_url": "https://github.com/Aidernec/GeekbrainsHomeWorks/raw/d976e63bf072f578c161efee0eec345d45b1e6b8/server/target/classes/AppServer.class",
    "contents_url": "https://api.github.com/repos/Aidernec/GeekbrainsHomeWorks/contents/server/target/classes/AppServer.class?ref=d976e63bf072f578c161efee0eec345d45b1e6b8"
  },
  {
    "sha": "2daac22f61e4dea65e80d4266275cd1bb2a5b5f2",
    "filename": "server/target/classes/ClientHandler.class",
    "status": "added",
    "additions": 0,
    "deletions": 0,
    "changes": 0,
    "blob_url": "https://github.com/Aidernec/GeekbrainsHomeWorks/blob/d976e63bf072f578c161efee0eec345d45b1e6b8/server/target/classes/ClientHandler.class",
    "raw_url": "https://github.com/Aidernec/GeekbrainsHomeWorks/raw/d976e63bf072f578c161efee0eec345d45b1e6b8/server/target/classes/ClientHandler.class",
    "contents_url": "https://api.github.com/repos/Aidernec/GeekbrainsHomeWorks/contents/server/target/classes/ClientHandler.class?ref=d976e63bf072f578c161efee0eec345d45b1e6b8"
  },
  {
    "sha": "051bbefc6455034004c1698226a604c0614084ed",
    "filename": "server/target/classes/Server.class",
    "status": "added",
    "additions": 0,
    "deletions": 0,
    "changes": 0,
    "blob_url": "https://github.com/Aidernec/GeekbrainsHomeWorks/blob/d976e63bf072f578c161efee0eec345d45b1e6b8/server/target/classes/Server.class",
    "raw_url": "https://github.com/Aidernec/GeekbrainsHomeWorks/raw/d976e63bf072f578c161efee0eec345d45b1e6b8/server/target/classes/Server.class",
    "contents_url": "https://api.github.com/repos/Aidernec/GeekbrainsHomeWorks/contents/server/target/classes/Server.class?ref=d976e63bf072f578c161efee0eec345d45b1e6b8"
  }
]
