[
  {
    "sha": "ba52acea1aee76687b3aee03c63a75e961461a2e",
    "filename": "test/jdk/java/lang/ProcessBuilder/Basic.java",
    "status": "modified",
    "additions": 12,
    "deletions": 8,
    "changes": 20,
    "blob_url": "https://github.com/openjdk/jdk13u-dev/blob/883987e9c2d33b5dc172bac4d4a99dee0bbc3103/test/jdk/java/lang/ProcessBuilder/Basic.java",
    "raw_url": "https://github.com/openjdk/jdk13u-dev/raw/883987e9c2d33b5dc172bac4d4a99dee0bbc3103/test/jdk/java/lang/ProcessBuilder/Basic.java",
    "contents_url": "https://api.github.com/repos/openjdk/jdk13u-dev/contents/test/jdk/java/lang/ProcessBuilder/Basic.java?ref=883987e9c2d33b5dc172bac4d4a99dee0bbc3103",
    "patch": "@@ -74,6 +74,10 @@\n     /* used for AIX only */\n     static final String libpath = System.getenv(\"LIBPATH\");\n \n+    /* Used for regex String matching for long error messages */\n+    static final String PERMISSION_DENIED_ERROR_MSG = \"(Permission denied|error=13)\";\n+    static final String NO_SUCH_FILE_ERROR_MSG = \"(No such file|error=2)\";\n+\n     /**\n      * Returns the number of milliseconds since time given by\n      * startNanoTime, which must have been previously returned from a\n@@ -305,7 +309,7 @@ static void checkPermissionDenied(ProcessBuilder pb) {\n         } catch (IOException e) {\n             String m = e.getMessage();\n             if (EnglishUnix.is() &&\n-                ! matches(m, \"Permission denied\"))\n+                ! matches(m, PERMISSION_DENIED_ERROR_MSG))\n                 unexpected(e);\n         } catch (Throwable t) { unexpected(t); }\n     }\n@@ -415,7 +419,7 @@ public static void main(String args[]) throws Throwable {\n                         } catch (IOException e) {\n                             String m = e.getMessage();\n                             if (EnglishUnix.is() &&\n-                                ! matches(m, \"No such file\"))\n+                                ! matches(m, NO_SUCH_FILE_ERROR_MSG))\n                                 unexpected(e);\n                         } catch (Throwable t) { unexpected(t); }\n \n@@ -428,7 +432,7 @@ public static void main(String args[]) throws Throwable {\n                         } catch (IOException e) {\n                             String m = e.getMessage();\n                             if (EnglishUnix.is() &&\n-                                ! matches(m, \"No such file\"))\n+                                ! matches(m, NO_SUCH_FILE_ERROR_MSG))\n                                 unexpected(e);\n                         } catch (Throwable t) { unexpected(t); }\n \n@@ -1982,7 +1986,7 @@ public void doIt(Map<String,String> environ) {\n         } catch (IOException e) {\n             String m = e.getMessage();\n             if (EnglishUnix.is() &&\n-                ! matches(m, \"No such file or directory\"))\n+                ! matches(m, NO_SUCH_FILE_ERROR_MSG))\n                 unexpected(e);\n         } catch (Throwable t) { unexpected(t); }\n \n@@ -1998,8 +2002,8 @@ public void doIt(Map<String,String> environ) {\n                 String m = e.getMessage();\n                 Pattern p = Pattern.compile(programName);\n                 if (! matches(m, programName)\n-                    || (EnglishUnix.is()\n-                        && ! matches(m, \"No such file or directory\")))\n+                    || (EnglishUnix.is() &&\n+                        ! matches(m, NO_SUCH_FILE_ERROR_MSG)))\n                     unexpected(e);\n             } catch (Throwable t) { unexpected(t); }\n \n@@ -2015,7 +2019,7 @@ public void doIt(Map<String,String> environ) {\n             String m = e.getMessage();\n             if (! matches(m, \"in directory\")\n                 || (EnglishUnix.is() &&\n-                    ! matches(m, \"No such file or directory\")))\n+                    ! matches(m, NO_SUCH_FILE_ERROR_MSG)))\n                 unexpected(e);\n         } catch (Throwable t) { unexpected(t); }\n \n@@ -2282,7 +2286,7 @@ public void run() {\n             new File(\"./emptyCommand\").delete();\n             String m = e.getMessage();\n             if (EnglishUnix.is() &&\n-                ! matches(m, \"Permission denied\"))\n+                ! matches(m, PERMISSION_DENIED_ERROR_MSG))\n                 unexpected(e);\n         } catch (Throwable t) { unexpected(t); }\n "
  }
]
