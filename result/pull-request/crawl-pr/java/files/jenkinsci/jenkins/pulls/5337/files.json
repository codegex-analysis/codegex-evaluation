[
  {
    "sha": "f13df3601844ee67972c656754e35d72005e0b99",
    "filename": "core/src/main/java/jenkins/diagnostics/ControllerExecutorsAgents.java",
    "status": "added",
    "additions": 70,
    "deletions": 0,
    "changes": 70,
    "blob_url": "https://github.com/jenkinsci/jenkins/blob/8f2773e1d84cba1a449f25d0392a46ac430f5f24/core/src/main/java/jenkins/diagnostics/ControllerExecutorsAgents.java",
    "raw_url": "https://github.com/jenkinsci/jenkins/raw/8f2773e1d84cba1a449f25d0392a46ac430f5f24/core/src/main/java/jenkins/diagnostics/ControllerExecutorsAgents.java",
    "contents_url": "https://api.github.com/repos/jenkinsci/jenkins/contents/core/src/main/java/jenkins/diagnostics/ControllerExecutorsAgents.java?ref=8f2773e1d84cba1a449f25d0392a46ac430f5f24",
    "patch": "@@ -0,0 +1,70 @@\n+/*\n+ * The MIT License\n+ *\n+ * Copyright (c) 2021, CloudBees, Inc.\n+ *\n+ * Permission is hereby granted, free of charge, to any person obtaining a copy\n+ * of this software and associated documentation files (the \"Software\"), to deal\n+ * in the Software without restriction, including without limitation the rights\n+ * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n+ * copies of the Software, and to permit persons to whom the Software is\n+ * furnished to do so, subject to the following conditions:\n+ *\n+ * The above copyright notice and this permission notice shall be included in\n+ * all copies or substantial portions of the Software.\n+ *\n+ * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+ * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n+ * THE SOFTWARE.\n+ */\n+package jenkins.diagnostics;\n+\n+import hudson.Extension;\n+import hudson.Main;\n+import hudson.model.AdministrativeMonitor;\n+import jenkins.model.Jenkins;\n+import org.jenkinsci.Symbol;\n+import org.kohsuke.accmod.Restricted;\n+import org.kohsuke.accmod.restrictions.NoExternalUse;\n+import org.kohsuke.stapler.StaplerRequest;\n+import org.kohsuke.stapler.StaplerResponse;\n+import org.kohsuke.stapler.interceptor.RequirePOST;\n+\n+import java.io.IOException;\n+\n+@Extension\n+@Symbol(\"controllerExecutorsWithAgents\")\n+@Restricted(NoExternalUse.class)\n+public class ControllerExecutorsAgents extends AdministrativeMonitor {\n+\n+    @Override\n+    public String getDisplayName() {\n+        return Messages.ControllerExecutorsAgents_DisplayName();\n+    }\n+\n+    @Override\n+    public boolean isSecurity() {\n+        return true;\n+    }\n+\n+    @Override\n+    public boolean isActivated() {\n+        return !Main.isDevelopmentMode && Jenkins.get().getNumExecutors() > 0 &&\n+                (!Jenkins.get().clouds.isEmpty() || !Jenkins.get().getNodes().isEmpty());\n+    }\n+\n+    @RequirePOST\n+    public void doAct(StaplerRequest req, StaplerResponse rsp) throws IOException {\n+        if (req.hasParameter(\"no\")) {\n+            disable(true);\n+            rsp.sendRedirect(req.getContextPath() + \"/manage\");\n+        } else if (req.hasParameter(\"yes\")) {\n+            rsp.sendRedirect(req.getContextPath() + \"/computer/(master)/configure\");\n+        }\n+    }\n+\n+}"
  },
  {
    "sha": "52f5ae55175d4d347cd0a0939ea4de2afc58399e",
    "filename": "core/src/main/java/jenkins/diagnostics/ControllerExecutorsNoAgents.java",
    "status": "added",
    "additions": 72,
    "deletions": 0,
    "changes": 72,
    "blob_url": "https://github.com/jenkinsci/jenkins/blob/8f2773e1d84cba1a449f25d0392a46ac430f5f24/core/src/main/java/jenkins/diagnostics/ControllerExecutorsNoAgents.java",
    "raw_url": "https://github.com/jenkinsci/jenkins/raw/8f2773e1d84cba1a449f25d0392a46ac430f5f24/core/src/main/java/jenkins/diagnostics/ControllerExecutorsNoAgents.java",
    "contents_url": "https://api.github.com/repos/jenkinsci/jenkins/contents/core/src/main/java/jenkins/diagnostics/ControllerExecutorsNoAgents.java?ref=8f2773e1d84cba1a449f25d0392a46ac430f5f24",
    "patch": "@@ -0,0 +1,72 @@\n+/*\n+ * The MIT License\n+ *\n+ * Copyright (c) 2021, CloudBees, Inc.\n+ *\n+ * Permission is hereby granted, free of charge, to any person obtaining a copy\n+ * of this software and associated documentation files (the \"Software\"), to deal\n+ * in the Software without restriction, including without limitation the rights\n+ * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n+ * copies of the Software, and to permit persons to whom the Software is\n+ * furnished to do so, subject to the following conditions:\n+ *\n+ * The above copyright notice and this permission notice shall be included in\n+ * all copies or substantial portions of the Software.\n+ *\n+ * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+ * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n+ * THE SOFTWARE.\n+ */\n+package jenkins.diagnostics;\n+\n+import hudson.Extension;\n+import hudson.Main;\n+import hudson.model.AdministrativeMonitor;\n+import jenkins.model.Jenkins;\n+import org.jenkinsci.Symbol;\n+import org.kohsuke.accmod.Restricted;\n+import org.kohsuke.accmod.restrictions.NoExternalUse;\n+import org.kohsuke.stapler.StaplerRequest;\n+import org.kohsuke.stapler.StaplerResponse;\n+import org.kohsuke.stapler.interceptor.RequirePOST;\n+\n+import java.io.IOException;\n+\n+@Extension\n+@Symbol(\"controllerExecutorsWithoutAgents\")\n+@Restricted(NoExternalUse.class)\n+public class ControllerExecutorsNoAgents extends AdministrativeMonitor {\n+\n+    @Override\n+    public String getDisplayName() {\n+        return Messages.ControllerExecutorsNoAgents_DisplayName();\n+    }\n+\n+    @Override\n+    public boolean isSecurity() {\n+        return true;\n+    }\n+\n+    @RequirePOST\n+    public void doAct(StaplerRequest req, StaplerResponse rsp) throws IOException {\n+        if (req.hasParameter(\"no\")) {\n+            disable(true);\n+            rsp.sendRedirect(req.getContextPath() + \"/manage\");\n+        } else if (req.hasParameter(\"cloud\")) {\n+            rsp.sendRedirect(req.getContextPath() + \"/configureClouds\");\n+        } else if (req.hasParameter(\"agent\")) {\n+            rsp.sendRedirect(req.getContextPath() + \"/computer/new\");\n+        }\n+    }\n+\n+    @Override\n+    public boolean isActivated() {\n+        return !Main.isDevelopmentMode && Jenkins.get().getNumExecutors() > 0 &&\n+                Jenkins.get().clouds.isEmpty() && Jenkins.get().getNodes().isEmpty();\n+    }\n+\n+}"
  },
  {
    "sha": "6824021fe83d879898d0580fefc84b334c223178",
    "filename": "core/src/main/resources/jenkins/diagnostics/ControllerExecutorsAgents/message.jelly",
    "status": "added",
    "additions": 35,
    "deletions": 0,
    "changes": 35,
    "blob_url": "https://github.com/jenkinsci/jenkins/blob/8f2773e1d84cba1a449f25d0392a46ac430f5f24/core/src/main/resources/jenkins/diagnostics/ControllerExecutorsAgents/message.jelly",
    "raw_url": "https://github.com/jenkinsci/jenkins/raw/8f2773e1d84cba1a449f25d0392a46ac430f5f24/core/src/main/resources/jenkins/diagnostics/ControllerExecutorsAgents/message.jelly",
    "contents_url": "https://api.github.com/repos/jenkinsci/jenkins/contents/core/src/main/resources/jenkins/diagnostics/ControllerExecutorsAgents/message.jelly?ref=8f2773e1d84cba1a449f25d0392a46ac430f5f24",
    "patch": "@@ -0,0 +1,35 @@\n+<!--\n+The MIT License\n+\n+Copyright (c) 2021, CloudBees, Inc.\n+\n+Permission is hereby granted, free of charge, to any person obtaining a copy\n+of this software and associated documentation files (the \"Software\"), to deal\n+in the Software without restriction, including without limitation the rights\n+to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n+copies of the Software, and to permit persons to whom the Software is\n+furnished to do so, subject to the following conditions:\n+\n+The above copyright notice and this permission notice shall be included in\n+all copies or substantial portions of the Software.\n+\n+THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n+AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n+THE SOFTWARE.\n+-->\n+\n+<?jelly escape-by-default='true'?>\n+<j:jelly xmlns:j=\"jelly:core\" xmlns:st=\"jelly:stapler\" xmlns:d=\"jelly:define\" xmlns:l=\"/lib/layout\" xmlns:t=\"/lib/hudson\" xmlns:f=\"/lib/form\">\n+  <div class=\"alert alert-warning\">\n+     <form method=\"post\" action=\"${rootURL}/${it.url}/act\" name=\"${it.id}\">\n+      <f:submit name=\"yes\" value=\"${%Manage}\"/>\n+      <f:submit name=\"no\" value=\"${%Dismiss}\"/>\n+     </form>\n+\n+    ${%ExecutorsWarning}\n+  </div>\n+</j:jelly>"
  },
  {
    "sha": "6b6daf93f7ce1eb47dc0a35ca063a882e7e9a81d",
    "filename": "core/src/main/resources/jenkins/diagnostics/ControllerExecutorsAgents/message.properties",
    "status": "added",
    "additions": 23,
    "deletions": 0,
    "changes": 23,
    "blob_url": "https://github.com/jenkinsci/jenkins/blob/8f2773e1d84cba1a449f25d0392a46ac430f5f24/core/src/main/resources/jenkins/diagnostics/ControllerExecutorsAgents/message.properties",
    "raw_url": "https://github.com/jenkinsci/jenkins/raw/8f2773e1d84cba1a449f25d0392a46ac430f5f24/core/src/main/resources/jenkins/diagnostics/ControllerExecutorsAgents/message.properties",
    "contents_url": "https://api.github.com/repos/jenkinsci/jenkins/contents/core/src/main/resources/jenkins/diagnostics/ControllerExecutorsAgents/message.properties?ref=8f2773e1d84cba1a449f25d0392a46ac430f5f24",
    "patch": "@@ -0,0 +1,23 @@\n+#The MIT License\n+#\n+#Copyright (c) 2021, CloudBees, Inc.\n+#\n+#Permission is hereby granted, free of charge, to any person obtaining a copy\n+#of this software and associated documentation files (the \"Software\"), to deal\n+#in the Software without restriction, including without limitation the rights\n+#to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n+#copies of the Software, and to permit persons to whom the Software is\n+#furnished to do so, subject to the following conditions:\n+#\n+#The above copyright notice and this permission notice shall be included in\n+#all copies or substantial portions of the Software.\n+#\n+#THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+#IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+#FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n+#AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+#LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+#OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n+#THE SOFTWARE.\n+\n+ExecutorsWarning=Distributed builds are set up so consider disabling builds on the controller. See <a href=\"https://www.jenkins.io/redirect/building-on-controller/\" target=\"_blank\" rel=\"noopener noreferrer\">the documentation</a>."
  },
  {
    "sha": "41c6487d52632ea08a9567d2f326eff7466acc22",
    "filename": "core/src/main/resources/jenkins/diagnostics/ControllerExecutorsNoAgents/message.jelly",
    "status": "added",
    "additions": 35,
    "deletions": 0,
    "changes": 35,
    "blob_url": "https://github.com/jenkinsci/jenkins/blob/8f2773e1d84cba1a449f25d0392a46ac430f5f24/core/src/main/resources/jenkins/diagnostics/ControllerExecutorsNoAgents/message.jelly",
    "raw_url": "https://github.com/jenkinsci/jenkins/raw/8f2773e1d84cba1a449f25d0392a46ac430f5f24/core/src/main/resources/jenkins/diagnostics/ControllerExecutorsNoAgents/message.jelly",
    "contents_url": "https://api.github.com/repos/jenkinsci/jenkins/contents/core/src/main/resources/jenkins/diagnostics/ControllerExecutorsNoAgents/message.jelly?ref=8f2773e1d84cba1a449f25d0392a46ac430f5f24",
    "patch": "@@ -0,0 +1,35 @@\n+<!--\n+The MIT License\n+\n+Copyright (c) 2021, CloudBees, Inc.\n+\n+Permission is hereby granted, free of charge, to any person obtaining a copy\n+of this software and associated documentation files (the \"Software\"), to deal\n+in the Software without restriction, including without limitation the rights\n+to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n+copies of the Software, and to permit persons to whom the Software is\n+furnished to do so, subject to the following conditions:\n+\n+The above copyright notice and this permission notice shall be included in\n+all copies or substantial portions of the Software.\n+\n+THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n+AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n+THE SOFTWARE.\n+-->\n+\n+<?jelly escape-by-default='true'?>\n+<j:jelly xmlns:j=\"jelly:core\" xmlns:st=\"jelly:stapler\" xmlns:d=\"jelly:define\" xmlns:l=\"/lib/layout\" xmlns:t=\"/lib/hudson\" xmlns:f=\"/lib/form\">\n+  <div class=\"alert alert-warning\">\n+    <form method=\"post\" action=\"${rootURL}/${it.url}/act\" name=\"${it.id}\">\n+      <f:submit name=\"agent\" value=\"${%Set up agent}\"/>\n+      <f:submit name=\"cloud\" value=\"${%Set up cloud}\"/>\n+      <f:submit name=\"no\" value=\"${%Dismiss}\"/>\n+    </form>\n+    ${%ExecutorsWarning}\n+  </div>\n+</j:jelly>"
  },
  {
    "sha": "4750734c1e6f02ab547e783e3b1dccf609cbd593",
    "filename": "core/src/main/resources/jenkins/diagnostics/ControllerExecutorsNoAgents/message.properties",
    "status": "added",
    "additions": 23,
    "deletions": 0,
    "changes": 23,
    "blob_url": "https://github.com/jenkinsci/jenkins/blob/8f2773e1d84cba1a449f25d0392a46ac430f5f24/core/src/main/resources/jenkins/diagnostics/ControllerExecutorsNoAgents/message.properties",
    "raw_url": "https://github.com/jenkinsci/jenkins/raw/8f2773e1d84cba1a449f25d0392a46ac430f5f24/core/src/main/resources/jenkins/diagnostics/ControllerExecutorsNoAgents/message.properties",
    "contents_url": "https://api.github.com/repos/jenkinsci/jenkins/contents/core/src/main/resources/jenkins/diagnostics/ControllerExecutorsNoAgents/message.properties?ref=8f2773e1d84cba1a449f25d0392a46ac430f5f24",
    "patch": "@@ -0,0 +1,23 @@\n+#The MIT License\n+#\n+#Copyright (c) 2021, CloudBees, Inc.\n+#\n+#Permission is hereby granted, free of charge, to any person obtaining a copy\n+#of this software and associated documentation files (the \"Software\"), to deal\n+#in the Software without restriction, including without limitation the rights\n+#to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n+#copies of the Software, and to permit persons to whom the Software is\n+#furnished to do so, subject to the following conditions:\n+#\n+#The above copyright notice and this permission notice shall be included in\n+#all copies or substantial portions of the Software.\n+#\n+#THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+#IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+#FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n+#AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+#LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+#OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n+#THE SOFTWARE.\n+\n+ExecutorsWarning=You should set up distributed builds. Building on the controller node can be a security issue. See <a href=\"https://www.jenkins.io/redirect/building-on-controller/\" target=\"_blank\" rel=\"noopener noreferrer\">the documentation</a>."
  },
  {
    "sha": "8bddba85bfdf82031c20f246e3059565186653a4",
    "filename": "core/src/main/resources/jenkins/diagnostics/Messages.properties",
    "status": "modified",
    "additions": 2,
    "deletions": 0,
    "changes": 2,
    "blob_url": "https://github.com/jenkinsci/jenkins/blob/8f2773e1d84cba1a449f25d0392a46ac430f5f24/core/src/main/resources/jenkins/diagnostics/Messages.properties",
    "raw_url": "https://github.com/jenkinsci/jenkins/raw/8f2773e1d84cba1a449f25d0392a46ac430f5f24/core/src/main/resources/jenkins/diagnostics/Messages.properties",
    "contents_url": "https://api.github.com/repos/jenkinsci/jenkins/contents/core/src/main/resources/jenkins/diagnostics/Messages.properties?ref=8f2773e1d84cba1a449f25d0392a46ac430f5f24",
    "patch": "@@ -2,3 +2,5 @@ CompletedInitializationMonitor.DisplayName=Jenkins Initialization Monitor\n SecurityIsOffMonitor.DisplayName=Disabled Security\n URICheckEncodingMonitor.DisplayName=Check URI Encoding\n RootUrlNotSetMonitor.DisplayName=Root URL not configured Monitor\n+ControllerExecutorsNoAgents.DisplayName=Controller Without Agents Executors Configured Monitor\n+ControllerExecutorsAgents.DisplayName=Controller With Agents Executors Configured Monitor\n\\ No newline at end of file"
  },
  {
    "sha": "5a7fd0b0aceb4a4aab734381ec0460b0a791cdec",
    "filename": "test/src/test/java/jenkins/diagnostics/ControllerExecutorsAgentsTest.java",
    "status": "added",
    "additions": 70,
    "deletions": 0,
    "changes": 70,
    "blob_url": "https://github.com/jenkinsci/jenkins/blob/8f2773e1d84cba1a449f25d0392a46ac430f5f24/test/src/test/java/jenkins/diagnostics/ControllerExecutorsAgentsTest.java",
    "raw_url": "https://github.com/jenkinsci/jenkins/raw/8f2773e1d84cba1a449f25d0392a46ac430f5f24/test/src/test/java/jenkins/diagnostics/ControllerExecutorsAgentsTest.java",
    "contents_url": "https://api.github.com/repos/jenkinsci/jenkins/contents/test/src/test/java/jenkins/diagnostics/ControllerExecutorsAgentsTest.java?ref=8f2773e1d84cba1a449f25d0392a46ac430f5f24",
    "patch": "@@ -0,0 +1,70 @@\n+/*\n+ * The MIT License\n+ *\n+ * Copyright (c) 2021, CloudBees, Inc.\n+ *\n+ * Permission is hereby granted, free of charge, to any person obtaining a copy\n+ * of this software and associated documentation files (the \"Software\"), to deal\n+ * in the Software without restriction, including without limitation the rights\n+ * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n+ * copies of the Software, and to permit persons to whom the Software is\n+ * furnished to do so, subject to the following conditions:\n+ *\n+ * The above copyright notice and this permission notice shall be included in\n+ * all copies or substantial portions of the Software.\n+ *\n+ * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+ * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n+ * THE SOFTWARE.\n+ */\n+package jenkins.diagnostics;\n+\n+import hudson.model.AdministrativeMonitor;\n+import hudson.model.ProjectTest;\n+import hudson.model.Slave;\n+import org.junit.Rule;\n+import org.junit.Test;\n+import org.jvnet.hudson.test.JenkinsRule;\n+\n+import static org.junit.Assert.assertFalse;\n+import static org.junit.Assert.assertTrue;\n+\n+public class ControllerExecutorsAgentsTest {\n+    \n+    @Rule\n+    public JenkinsRule j = new JenkinsRule();\n+    \n+    @Test\n+    public void testInitial() {\n+        ControllerExecutorsAgents monitor = j.jenkins.getExtensionList(AdministrativeMonitor.class).get(ControllerExecutorsAgents.class);\n+        assertFalse(monitor.isActivated());\n+    }\n+\n+    @Test\n+    public void testControllerExecutorsZero() throws Exception {\n+        Slave agent = j.createSlave();\n+        j.jenkins.setNumExecutors(0);\n+        ControllerExecutorsAgents monitor = j.jenkins.getExtensionList(AdministrativeMonitor.class).get(ControllerExecutorsAgents.class);\n+        assertFalse(monitor.isActivated());\n+    }\n+\n+    @Test\n+    public void testHasAgent() throws Exception {\n+        Slave agent = j.createSlave();\n+        ControllerExecutorsAgents monitor = j.jenkins.getExtensionList(AdministrativeMonitor.class).get(ControllerExecutorsAgents.class);\n+        assertTrue(monitor.isActivated());\n+    }\n+\n+    @Test\n+    public void testHasCloud() throws Exception {\n+        ProjectTest.DummyCloudImpl2 c2 = new ProjectTest.DummyCloudImpl2(j, 0);\n+        j.jenkins.clouds.add(c2);\n+        ControllerExecutorsAgents monitor = j.jenkins.getExtensionList(AdministrativeMonitor.class).get(ControllerExecutorsAgents.class);\n+        assertTrue(monitor.isActivated());\n+    }\n+\n+}"
  },
  {
    "sha": "06f16f678f5bdd257d92410db50dc2407d2b85cc",
    "filename": "test/src/test/java/jenkins/diagnostics/ControllerExecutorsNoAgentsTest.java",
    "status": "added",
    "additions": 71,
    "deletions": 0,
    "changes": 71,
    "blob_url": "https://github.com/jenkinsci/jenkins/blob/8f2773e1d84cba1a449f25d0392a46ac430f5f24/test/src/test/java/jenkins/diagnostics/ControllerExecutorsNoAgentsTest.java",
    "raw_url": "https://github.com/jenkinsci/jenkins/raw/8f2773e1d84cba1a449f25d0392a46ac430f5f24/test/src/test/java/jenkins/diagnostics/ControllerExecutorsNoAgentsTest.java",
    "contents_url": "https://api.github.com/repos/jenkinsci/jenkins/contents/test/src/test/java/jenkins/diagnostics/ControllerExecutorsNoAgentsTest.java?ref=8f2773e1d84cba1a449f25d0392a46ac430f5f24",
    "patch": "@@ -0,0 +1,71 @@\n+/*\n+ * The MIT License\n+ *\n+ * Copyright (c) 2021, CloudBees, Inc.\n+ *\n+ * Permission is hereby granted, free of charge, to any person obtaining a copy\n+ * of this software and associated documentation files (the \"Software\"), to deal\n+ * in the Software without restriction, including without limitation the rights\n+ * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n+ * copies of the Software, and to permit persons to whom the Software is\n+ * furnished to do so, subject to the following conditions:\n+ *\n+ * The above copyright notice and this permission notice shall be included in\n+ * all copies or substantial portions of the Software.\n+ *\n+ * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+ * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n+ * THE SOFTWARE.\n+ */\n+package jenkins.diagnostics;\n+\n+import hudson.model.AdministrativeMonitor;\n+import hudson.model.ProjectTest;\n+import hudson.model.Slave;\n+import org.junit.Rule;\n+import org.junit.Test;\n+import org.jvnet.hudson.test.JenkinsRule;\n+\n+import java.io.IOException;\n+\n+import static org.junit.Assert.assertFalse;\n+import static org.junit.Assert.assertTrue;\n+\n+public class ControllerExecutorsNoAgentsTest {\n+    \n+    @Rule\n+    public JenkinsRule j = new JenkinsRule();\n+    \n+    @Test\n+    public void testInitial() {\n+        ControllerExecutorsNoAgents monitor = j.jenkins.getExtensionList(AdministrativeMonitor.class).get(ControllerExecutorsNoAgents.class);\n+        assertTrue(monitor.isActivated());\n+    }\n+\n+    @Test\n+    public void testControllerExecutorsZero() throws IOException {\n+        j.jenkins.setNumExecutors(0);\n+        ControllerExecutorsNoAgents monitor = j.jenkins.getExtensionList(AdministrativeMonitor.class).get(ControllerExecutorsNoAgents.class);\n+        assertFalse(monitor.isActivated());\n+    }\n+\n+    @Test\n+    public void testHasAgent() throws Exception {\n+        Slave agent = j.createSlave();\n+        ControllerExecutorsNoAgents monitor = j.jenkins.getExtensionList(AdministrativeMonitor.class).get(ControllerExecutorsNoAgents.class);\n+        assertFalse(monitor.isActivated());\n+    }\n+\n+    @Test\n+    public void testHasCloud() throws Exception {\n+        ProjectTest.DummyCloudImpl2 c2 = new ProjectTest.DummyCloudImpl2(j, 0);\n+        j.jenkins.clouds.add(c2);\n+        ControllerExecutorsNoAgents monitor = j.jenkins.getExtensionList(AdministrativeMonitor.class).get(ControllerExecutorsNoAgents.class);\n+        assertFalse(monitor.isActivated());\n+    }\n+\n+}"
  }
]
