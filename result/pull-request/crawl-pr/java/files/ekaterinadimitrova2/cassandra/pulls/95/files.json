[
  {
    "sha": "5281902f94e701384c085f3604521d628a89cc81",
    "filename": ".circleci/config.yml",
    "status": "modified",
    "additions": 51,
    "deletions": 51,
    "changes": 102,
    "blob_url": "https://github.com/ekaterinadimitrova2/cassandra/blob/0bdf54ae16da06bf482db8fab066a8542e973af4/.circleci/config.yml",
    "raw_url": "https://github.com/ekaterinadimitrova2/cassandra/raw/0bdf54ae16da06bf482db8fab066a8542e973af4/.circleci/config.yml",
    "contents_url": "https://api.github.com/repos/ekaterinadimitrova2/cassandra/contents/.circleci/config.yml?ref=0bdf54ae16da06bf482db8fab066a8542e973af4",
    "patch": "@@ -3,10 +3,10 @@ jobs:\n   j8_jvm_upgrade_dtests:\n     docker:\n     - image: apache/cassandra-testing-ubuntu2004-java11-w-dependencies:20210304\n-    resource_class: medium\n+    resource_class: xlarge\n     working_directory: ~/\n     shell: /bin/bash -eo pipefail -l\n-    parallelism: 1\n+    parallelism: 2\n     steps:\n     - attach_workspace:\n         at: /home/cassandra\n@@ -96,10 +96,10 @@ jobs:\n   j8_cqlsh-dtests-py2-with-vnodes:\n     docker:\n     - image: apache/cassandra-testing-ubuntu2004-java11-w-dependencies:20210304\n-    resource_class: medium\n+    resource_class: xlarge\n     working_directory: ~/\n     shell: /bin/bash -eo pipefail -l\n-    parallelism: 4\n+    parallelism: 100\n     steps:\n     - attach_workspace:\n         at: /home/cassandra\n@@ -175,10 +175,10 @@ jobs:\n   j11_unit_tests:\n     docker:\n     - image: apache/cassandra-testing-ubuntu2004-java11:20210304\n-    resource_class: medium\n+    resource_class: xlarge\n     working_directory: ~/\n     shell: /bin/bash -eo pipefail -l\n-    parallelism: 4\n+    parallelism: 100\n     steps:\n     - attach_workspace:\n         at: /home/cassandra\n@@ -269,10 +269,10 @@ jobs:\n   j8_cqlsh-dtests-py38-no-vnodes:\n     docker:\n     - image: apache/cassandra-testing-ubuntu2004-java11-w-dependencies:20210304\n-    resource_class: medium\n+    resource_class: xlarge\n     working_directory: ~/\n     shell: /bin/bash -eo pipefail -l\n-    parallelism: 4\n+    parallelism: 100\n     steps:\n     - attach_workspace:\n         at: /home/cassandra\n@@ -348,10 +348,10 @@ jobs:\n   j11_cqlsh-dtests-py3-with-vnodes:\n     docker:\n     - image: apache/cassandra-testing-ubuntu2004-java11:20210304\n-    resource_class: medium\n+    resource_class: xlarge\n     working_directory: ~/\n     shell: /bin/bash -eo pipefail -l\n-    parallelism: 4\n+    parallelism: 100\n     steps:\n     - attach_workspace:\n         at: /home/cassandra\n@@ -428,10 +428,10 @@ jobs:\n   j11_cqlsh-dtests-py3-no-vnodes:\n     docker:\n     - image: apache/cassandra-testing-ubuntu2004-java11:20210304\n-    resource_class: medium\n+    resource_class: xlarge\n     working_directory: ~/\n     shell: /bin/bash -eo pipefail -l\n-    parallelism: 4\n+    parallelism: 100\n     steps:\n     - attach_workspace:\n         at: /home/cassandra\n@@ -508,10 +508,10 @@ jobs:\n   j11_cqlsh-dtests-py38-with-vnodes:\n     docker:\n     - image: apache/cassandra-testing-ubuntu2004-java11:20210304\n-    resource_class: medium\n+    resource_class: xlarge\n     working_directory: ~/\n     shell: /bin/bash -eo pipefail -l\n-    parallelism: 4\n+    parallelism: 100\n     steps:\n     - attach_workspace:\n         at: /home/cassandra\n@@ -588,10 +588,10 @@ jobs:\n   j8_cqlsh-dtests-py3-with-vnodes:\n     docker:\n     - image: apache/cassandra-testing-ubuntu2004-java11-w-dependencies:20210304\n-    resource_class: medium\n+    resource_class: xlarge\n     working_directory: ~/\n     shell: /bin/bash -eo pipefail -l\n-    parallelism: 4\n+    parallelism: 100\n     steps:\n     - attach_workspace:\n         at: /home/cassandra\n@@ -667,10 +667,10 @@ jobs:\n   j8_cqlsh-dtests-py2-no-vnodes:\n     docker:\n     - image: apache/cassandra-testing-ubuntu2004-java11-w-dependencies:20210304\n-    resource_class: medium\n+    resource_class: xlarge\n     working_directory: ~/\n     shell: /bin/bash -eo pipefail -l\n-    parallelism: 4\n+    parallelism: 100\n     steps:\n     - attach_workspace:\n         at: /home/cassandra\n@@ -746,10 +746,10 @@ jobs:\n   j11_cqlsh-dtests-py2-with-vnodes:\n     docker:\n     - image: apache/cassandra-testing-ubuntu2004-java11:20210304\n-    resource_class: medium\n+    resource_class: xlarge\n     working_directory: ~/\n     shell: /bin/bash -eo pipefail -l\n-    parallelism: 4\n+    parallelism: 100\n     steps:\n     - attach_workspace:\n         at: /home/cassandra\n@@ -826,10 +826,10 @@ jobs:\n   j11_dtests-with-vnodes:\n     docker:\n     - image: apache/cassandra-testing-ubuntu2004-java11:20210304\n-    resource_class: medium\n+    resource_class: xlarge\n     working_directory: ~/\n     shell: /bin/bash -eo pipefail -l\n-    parallelism: 4\n+    parallelism: 100\n     steps:\n     - attach_workspace:\n         at: /home/cassandra\n@@ -909,10 +909,10 @@ jobs:\n   j8_dtests-no-vnodes:\n     docker:\n     - image: apache/cassandra-testing-ubuntu2004-java11-w-dependencies:20210304\n-    resource_class: medium\n+    resource_class: xlarge\n     working_directory: ~/\n     shell: /bin/bash -eo pipefail -l\n-    parallelism: 4\n+    parallelism: 100\n     steps:\n     - attach_workspace:\n         at: /home/cassandra\n@@ -969,10 +969,10 @@ jobs:\n   j8_upgradetests-no-vnodes:\n     docker:\n     - image: apache/cassandra-testing-ubuntu2004-java11-w-dependencies:20210304\n-    resource_class: medium\n+    resource_class: xlarge\n     working_directory: ~/\n     shell: /bin/bash -eo pipefail -l\n-    parallelism: 4\n+    parallelism: 100\n     steps:\n     - attach_workspace:\n         at: /home/cassandra\n@@ -1029,7 +1029,7 @@ jobs:\n   utests_stress:\n     docker:\n     - image: apache/cassandra-testing-ubuntu2004-java11-w-dependencies:20210304\n-    resource_class: medium\n+    resource_class: xlarge\n     working_directory: ~/\n     shell: /bin/bash -eo pipefail -l\n     parallelism: 1\n@@ -1076,10 +1076,10 @@ jobs:\n   j8_unit_tests:\n     docker:\n     - image: apache/cassandra-testing-ubuntu2004-java11-w-dependencies:20210304\n-    resource_class: medium\n+    resource_class: xlarge\n     working_directory: ~/\n     shell: /bin/bash -eo pipefail -l\n-    parallelism: 4\n+    parallelism: 100\n     steps:\n     - attach_workspace:\n         at: /home/cassandra\n@@ -1169,10 +1169,10 @@ jobs:\n   j11_jvm_dtests:\n     docker:\n     - image: apache/cassandra-testing-ubuntu2004-java11:20210304\n-    resource_class: medium\n+    resource_class: xlarge\n     working_directory: ~/\n     shell: /bin/bash -eo pipefail -l\n-    parallelism: 1\n+    parallelism: 2\n     steps:\n     - attach_workspace:\n         at: /home/cassandra\n@@ -1346,10 +1346,10 @@ jobs:\n   j11_cqlsh-dtests-py2-no-vnodes:\n     docker:\n     - image: apache/cassandra-testing-ubuntu2004-java11:20210304\n-    resource_class: medium\n+    resource_class: xlarge\n     working_directory: ~/\n     shell: /bin/bash -eo pipefail -l\n-    parallelism: 4\n+    parallelism: 100\n     steps:\n     - attach_workspace:\n         at: /home/cassandra\n@@ -1465,10 +1465,10 @@ jobs:\n   j8_dtests-with-vnodes:\n     docker:\n     - image: apache/cassandra-testing-ubuntu2004-java11-w-dependencies:20210304\n-    resource_class: medium\n+    resource_class: xlarge\n     working_directory: ~/\n     shell: /bin/bash -eo pipefail -l\n-    parallelism: 4\n+    parallelism: 100\n     steps:\n     - attach_workspace:\n         at: /home/cassandra\n@@ -1525,10 +1525,10 @@ jobs:\n   j11_cqlsh-dtests-py38-no-vnodes:\n     docker:\n     - image: apache/cassandra-testing-ubuntu2004-java11:20210304\n-    resource_class: medium\n+    resource_class: xlarge\n     working_directory: ~/\n     shell: /bin/bash -eo pipefail -l\n-    parallelism: 4\n+    parallelism: 100\n     steps:\n     - attach_workspace:\n         at: /home/cassandra\n@@ -1605,10 +1605,10 @@ jobs:\n   j8_jvm_dtests:\n     docker:\n     - image: apache/cassandra-testing-ubuntu2004-java11-w-dependencies:20210304\n-    resource_class: medium\n+    resource_class: xlarge\n     working_directory: ~/\n     shell: /bin/bash -eo pipefail -l\n-    parallelism: 1\n+    parallelism: 5\n     steps:\n     - attach_workspace:\n         at: /home/cassandra\n@@ -1780,10 +1780,10 @@ jobs:\n   j8_cqlsh-dtests-py3-no-vnodes:\n     docker:\n     - image: apache/cassandra-testing-ubuntu2004-java11-w-dependencies:20210304\n-    resource_class: medium\n+    resource_class: xlarge\n     working_directory: ~/\n     shell: /bin/bash -eo pipefail -l\n-    parallelism: 4\n+    parallelism: 100\n     steps:\n     - attach_workspace:\n         at: /home/cassandra\n@@ -1859,10 +1859,10 @@ jobs:\n   j8_cqlsh-dtests-py38-with-vnodes:\n     docker:\n     - image: apache/cassandra-testing-ubuntu2004-java11-w-dependencies:20210304\n-    resource_class: medium\n+    resource_class: xlarge\n     working_directory: ~/\n     shell: /bin/bash -eo pipefail -l\n-    parallelism: 4\n+    parallelism: 100\n     steps:\n     - attach_workspace:\n         at: /home/cassandra\n@@ -1938,7 +1938,7 @@ jobs:\n   utests_long:\n     docker:\n     - image: apache/cassandra-testing-ubuntu2004-java11-w-dependencies:20210304\n-    resource_class: medium\n+    resource_class: xlarge\n     working_directory: ~/\n     shell: /bin/bash -eo pipefail -l\n     parallelism: 1\n@@ -1985,10 +1985,10 @@ jobs:\n   utests_system_keyspace_directory:\n     docker:\n     - image: apache/cassandra-testing-ubuntu2004-java11-w-dependencies:20210304\n-    resource_class: medium\n+    resource_class: xlarge\n     working_directory: ~/\n     shell: /bin/bash -eo pipefail -l\n-    parallelism: 4\n+    parallelism: 100\n     steps:\n     - attach_workspace:\n         at: /home/cassandra\n@@ -2116,7 +2116,7 @@ jobs:\n   utests_fqltool:\n     docker:\n     - image: apache/cassandra-testing-ubuntu2004-java11-w-dependencies:20210304\n-    resource_class: medium\n+    resource_class: xlarge\n     working_directory: ~/\n     shell: /bin/bash -eo pipefail -l\n     parallelism: 1\n@@ -2163,10 +2163,10 @@ jobs:\n   j11_dtests-no-vnodes:\n     docker:\n     - image: apache/cassandra-testing-ubuntu2004-java11:20210304\n-    resource_class: medium\n+    resource_class: xlarge\n     working_directory: ~/\n     shell: /bin/bash -eo pipefail -l\n-    parallelism: 4\n+    parallelism: 100\n     steps:\n     - attach_workspace:\n         at: /home/cassandra\n@@ -2246,10 +2246,10 @@ jobs:\n   utests_compression:\n     docker:\n     - image: apache/cassandra-testing-ubuntu2004-java11-w-dependencies:20210304\n-    resource_class: medium\n+    resource_class: xlarge\n     working_directory: ~/\n     shell: /bin/bash -eo pipefail -l\n-    parallelism: 4\n+    parallelism: 100\n     steps:\n     - attach_workspace:\n         at: /home/cassandra"
  },
  {
    "sha": "276f995aa3391017716c1fd980a51ad833d0d658",
    "filename": "test/distributed/org/apache/cassandra/distributed/upgrade/CompactStorageUpgradeTest.java",
    "status": "modified",
    "additions": 4,
    "deletions": 1,
    "changes": 5,
    "blob_url": "https://github.com/ekaterinadimitrova2/cassandra/blob/0bdf54ae16da06bf482db8fab066a8542e973af4/test/distributed/org/apache/cassandra/distributed/upgrade/CompactStorageUpgradeTest.java",
    "raw_url": "https://github.com/ekaterinadimitrova2/cassandra/raw/0bdf54ae16da06bf482db8fab066a8542e973af4/test/distributed/org/apache/cassandra/distributed/upgrade/CompactStorageUpgradeTest.java",
    "contents_url": "https://api.github.com/repos/ekaterinadimitrova2/cassandra/contents/test/distributed/org/apache/cassandra/distributed/upgrade/CompactStorageUpgradeTest.java?ref=0bdf54ae16da06bf482db8fab066a8542e973af4",
    "patch": "@@ -24,7 +24,9 @@\n import org.junit.Test;\n \n import org.apache.cassandra.distributed.api.ConsistencyLevel;\n-import org.apache.cassandra.distributed.api.Feature;\n+import static org.apache.cassandra.distributed.api.Feature.GOSSIP;\n+import static org.apache.cassandra.distributed.api.Feature.NATIVE_PROTOCOL;\n+import static org.apache.cassandra.distributed.api.Feature.NETWORK;\n import org.apache.cassandra.distributed.shared.Versions;\n import static org.apache.cassandra.distributed.shared.AssertUtils.*;\n \n@@ -145,6 +147,7 @@ public void compactStorageUpgradeTest() throws Throwable\n         .nodes(2)\n         .nodesToUpgrade(1, 2)\n         .upgrade(Versions.Major.v30, Versions.Major.v4)\n+        .withConfig(config -> config.with(GOSSIP, NETWORK))\n         .setup((cluster) -> {\n             cluster.schemaChange(\"CREATE TABLE \" + KEYSPACE + \".tbl (pk int, ck int, PRIMARY KEY (pk, ck)) WITH COMPACT STORAGE\");\n             cluster.coordinator(1).execute(\"INSERT INTO \" + KEYSPACE + \".tbl (pk, ck) VALUES (1,1)\", ConsistencyLevel.ALL);"
  }
]
