[
  {
    "sha": "b47f836eae07eb8794e7af5c05f5a6f29474b973",
    "filename": ".github/badges/jacoco.svg",
    "status": "added",
    "additions": 1,
    "deletions": 0,
    "changes": 1,
    "blob_url": "https://github.com/julisch94/shopping-list-service/blob/96bcb6534822c352b60ad0d7de5af83e0e91018d/.github/badges/jacoco.svg",
    "raw_url": "https://github.com/julisch94/shopping-list-service/raw/96bcb6534822c352b60ad0d7de5af83e0e91018d/.github/badges/jacoco.svg",
    "contents_url": "https://api.github.com/repos/julisch94/shopping-list-service/contents/.github/badges/jacoco.svg?ref=96bcb6534822c352b60ad0d7de5af83e0e91018d",
    "patch": "@@ -0,0 +1 @@\n+<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"104\" height=\"20\" role=\"img\" aria-label=\"coverage: 90%\"><linearGradient id=\"s\" x2=\"0\" y2=\"100%\"><stop offset=\"0\" stop-color=\"#bbb\" stop-opacity=\".1\"/><stop offset=\"1\" stop-opacity=\".1\"/></linearGradient><clipPath id=\"r\"><rect width=\"104\" height=\"20\" rx=\"3\" fill=\"#fff\"/></clipPath><g clip-path=\"url(#r)\"><rect width=\"61\" height=\"20\" fill=\"#555\"/><rect x=\"61\" width=\"43\" height=\"20\" fill=\"#97ca00\"/><rect width=\"104\" height=\"20\" fill=\"url(#s)\"/></g><g fill=\"#fff\" text-anchor=\"middle\" font-family=\"Verdana,Geneva,DejaVu Sans,sans-serif\" text-rendering=\"geometricPrecision\" font-size=\"110\"><text aria-hidden=\"true\" x=\"315\" y=\"150\" fill=\"#010101\" fill-opacity=\".3\" transform=\"scale(.1)\" textLength=\"510\">coverage</text><text x=\"315\" y=\"140\" transform=\"scale(.1)\" fill=\"#fff\" textLength=\"510\">coverage</text><text aria-hidden=\"true\" x=\"815\" y=\"150\" fill=\"#010101\" fill-opacity=\".3\" transform=\"scale(.1)\" textLength=\"250\">90%</text><text x=\"815\" y=\"140\" transform=\"scale(.1)\" fill=\"#fff\" textLength=\"250\">90%</text></g></svg>\n\\ No newline at end of file"
  },
  {
    "sha": "5bc8f8632b72e9288593a7471b89b373d187dfdd",
    "filename": ".github/workflows/test.yml",
    "status": "added",
    "additions": 53,
    "deletions": 0,
    "changes": 53,
    "blob_url": "https://github.com/julisch94/shopping-list-service/blob/96bcb6534822c352b60ad0d7de5af83e0e91018d/.github/workflows/test.yml",
    "raw_url": "https://github.com/julisch94/shopping-list-service/raw/96bcb6534822c352b60ad0d7de5af83e0e91018d/.github/workflows/test.yml",
    "contents_url": "https://api.github.com/repos/julisch94/shopping-list-service/contents/.github/workflows/test.yml?ref=96bcb6534822c352b60ad0d7de5af83e0e91018d",
    "patch": "@@ -0,0 +1,53 @@\n+# This workflow will build a Java project with Gradle\n+# For more information see: https://help.github.com/actions/language-and-framework-guides/building-and-testing-java-with-gradle\n+\n+name: Java CI with Gradle\n+\n+on:\n+  push:\n+    branches: [ main, actions ]\n+\n+jobs:\n+  build:\n+    runs-on: ubuntu-latest\n+\n+    steps:\n+    - uses: actions/checkout@v2\n+\n+    - name: Set up JDK 1.11\n+      uses: actions/setup-java@v1\n+      with:\n+        java-version: 1.11\n+    \n+    - name: Grant execute permission for gradlew\n+      run: chmod +x gradlew\n+      \n+    - name: Test with Gradle\n+      run: ./gradlew test\n+\n+    - name: Generate JaCoCo Badge\n+      id: jacoco\n+      uses: cicirello/jacoco-badge-generator@v2.0.1\n+      with:\n+        jacoco-csv-file: build/jacoco/test/jacocoTestReport.csv\n+\n+    - name: Log coverage percentage\n+      run: |\n+        echo \"coverage = ${{ steps.jacoco.outputs.coverage }}\"\n+        echo \"branch coverage = ${{ steps.jacoco.outputs.branches }}\"\n+\n+    - name: Commit the badge (if it changed)\n+      run: |\n+        if [[ `git status --porcelain` ]]; then\n+          git config --global user.name 'Julian Schmidt'\n+          git config --global user.email 'julian.schmidt@nexusgroup.com'\n+          git add -A\n+          git commit -m \"Autogenerated JaCoCo coverage badge\"\n+          git push\n+        fi\n+\n+    - name: Upload JaCoCo coverage report\n+      uses: actions/upload-artifact@v2\n+      with:\n+        name: jacoco-report\n+        path: target/site/jacoco/"
  },
  {
    "sha": "334500a91a05e0eaeb8786b7b33533253c02a519",
    "filename": "README.md",
    "status": "modified",
    "additions": 4,
    "deletions": 2,
    "changes": 6,
    "blob_url": "https://github.com/julisch94/shopping-list-service/blob/96bcb6534822c352b60ad0d7de5af83e0e91018d/README.md",
    "raw_url": "https://github.com/julisch94/shopping-list-service/raw/96bcb6534822c352b60ad0d7de5af83e0e91018d/README.md",
    "contents_url": "https://api.github.com/repos/julisch94/shopping-list-service/contents/README.md?ref=96bcb6534822c352b60ad0d7de5af83e0e91018d",
    "patch": "@@ -1,5 +1,8 @@\n # Shopping List Service\n-A RESTful service to create, retrieve, update and delete shopping items\n+\n+![Coverage](./.github/badges/jacoco.svg)\n+\n+A Spring Boot based RESTful service to create, retrieve, update and delete shopping items.\n \n ### REST api endpoints\n \n@@ -25,4 +28,3 @@ A RESTful service to create, retrieve, update and delete shopping items\n * Introduce Logging\n * Respond with \"201 Created\" after successful POST\n * Use api versioning\n-* Automated test pipeline using Github Actions"
  },
  {
    "sha": "89b6dcef176eb5b0dec159aaea3c10d5bdb3d951",
    "filename": "build.gradle",
    "status": "modified",
    "additions": 29,
    "deletions": 0,
    "changes": 29,
    "blob_url": "https://github.com/julisch94/shopping-list-service/blob/96bcb6534822c352b60ad0d7de5af83e0e91018d/build.gradle",
    "raw_url": "https://github.com/julisch94/shopping-list-service/raw/96bcb6534822c352b60ad0d7de5af83e0e91018d/build.gradle",
    "contents_url": "https://api.github.com/repos/julisch94/shopping-list-service/contents/build.gradle?ref=96bcb6534822c352b60ad0d7de5af83e0e91018d",
    "patch": "@@ -3,6 +3,7 @@ plugins {\n \tid 'io.spring.dependency-management' version '1.0.11.RELEASE'\n \tid 'java'\n \tid 'war'\n+\tid 'jacoco'\n }\n \n group = 'codes.julianschmidt'\n@@ -26,6 +27,34 @@ dependencies {\n \ttestImplementation 'org.springframework.boot:spring-boot-starter-test'\n }\n \n+test {\n+\tfinalizedBy jacocoTestReport // report is always generated after tests run\n+}\n+\n+jacocoTestReport {\n+\tdependsOn test // tests are required to run before generating the report\n+\n+\treports {\n+\t\tcsv.enabled = true\n+\t\txml.enabled = true\n+\t}\n+}\n+\n+jacoco {\n+\ttoolVersion = \"0.8.6\"\n+\treportsDirectory = file(\"$buildDir/jacoco\")\n+}\n+\n test {\n \tuseJUnitPlatform()\n }\n+\n+jacocoTestCoverageVerification {\n+\tviolationRules {\n+\t\trule {\n+\t\t\tlimit {\n+\t\t\t\tminimum = 1\n+\t\t\t}\n+\t\t}\n+\t}\n+}"
  },
  {
    "sha": null,
    "filename": "gradlew",
    "status": "modified",
    "additions": 0,
    "deletions": 0,
    "changes": 0,
    "blob_url": "https://github.com/julisch94/shopping-list-service/blob/96bcb6534822c352b60ad0d7de5af83e0e91018d/gradlew",
    "raw_url": "https://github.com/julisch94/shopping-list-service/raw/96bcb6534822c352b60ad0d7de5af83e0e91018d/gradlew",
    "contents_url": "https://api.github.com/repos/julisch94/shopping-list-service/contents/gradlew?ref=96bcb6534822c352b60ad0d7de5af83e0e91018d"
  }
]
