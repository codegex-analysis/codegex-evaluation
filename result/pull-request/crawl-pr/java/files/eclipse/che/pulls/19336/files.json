[
  {
    "sha": "b8b88c7951c66c01a159bc80ec8cb920ccaf2737",
    "filename": "tests/.infra/crw-ci/dashboard-next/pr-check/Jenkinsfile",
    "status": "modified",
    "additions": 9,
    "deletions": 4,
    "changes": 13,
    "blob_url": "https://github.com/eclipse/che/blob/0b1a5098cf9a5b4bf253c11fc425b23e9069238e/tests/.infra/crw-ci/dashboard-next/pr-check/Jenkinsfile",
    "raw_url": "https://github.com/eclipse/che/raw/0b1a5098cf9a5b4bf253c11fc425b23e9069238e/tests/.infra/crw-ci/dashboard-next/pr-check/Jenkinsfile",
    "contents_url": "https://api.github.com/repos/eclipse/che/contents/tests/.infra/crw-ci/dashboard-next/pr-check/Jenkinsfile?ref=0b1a5098cf9a5b4bf253c11fc425b23e9069238e",
    "patch": "@@ -1,7 +1,7 @@\n #!groovy\n \n pipeline {\n-    agent { label \"minikube-rhel7-24gb\" }\n+    agent { label \"minikube-rhel7-16gb\" }\n \n     options {\n         timestamps()\n@@ -142,15 +142,20 @@ pipeline {\n                         echo \"Install dependencies needed for build of Eclipse Che\"\n                         sh \"\"\"\n                             # workaround https://github.com/eclipse/che/issues/19093\n-                            for i in {1..30} \n+                            for i in {1..100} \n                             do\n                                 echo \"-- ATTEMPT \\$i --\"\n                                 sudo yum install -y glibc.i686 libfontconfig.so.1 libstdc++-devel.i686 \\\\\n-                                    --disablerepo=rhel-7-server-extras-os-rpms,rhel-7-server-ose-3.4-os-rpms,rhel-7-server-optional-os-rpms || true\n+                                    --disablerepo=rhel-7-server-extras-os-rpms,rhel-7-server-ose-3.4-os-rpms,rhel-7-server-optional-os-rpms,rhel-7-server-supplementary-os-rpms || true\n                                 \n                                 sudo yum list installed | grep \"glibc.i686\" && sudo yum list installed | grep \"fontconfig.i686\" && sudo yum list installed | grep \"libstdc++-devel.i686\" && break\n                                 \n-                                sleep 5\n+                                sleep 10\n+                                \n+                                if [ \"\\$i\" -gt \"100\" ]; then \n+                                    echo \"Can't install dependencies.\"\n+                                    exit 1\n+                                fi\n                             done\n                         \"\"\"\n "
  },
  {
    "sha": "bd3f754afb4d92fb35f40997e293fd1f4b486962",
    "filename": "tests/.infra/crw-ci/pr-check/k8s/Jenkinsfile",
    "status": "modified",
    "additions": 15,
    "deletions": 11,
    "changes": 26,
    "blob_url": "https://github.com/eclipse/che/blob/0b1a5098cf9a5b4bf253c11fc425b23e9069238e/tests/.infra/crw-ci/pr-check/k8s/Jenkinsfile",
    "raw_url": "https://github.com/eclipse/che/raw/0b1a5098cf9a5b4bf253c11fc425b23e9069238e/tests/.infra/crw-ci/pr-check/k8s/Jenkinsfile",
    "contents_url": "https://api.github.com/repos/eclipse/che/contents/tests/.infra/crw-ci/pr-check/k8s/Jenkinsfile?ref=0b1a5098cf9a5b4bf253c11fc425b23e9069238e",
    "patch": "@@ -1,7 +1,7 @@\n #!groovy\n \n pipeline {\n-    agent { label \"minikube-rhel7-24gb\" }\n+    agent { label \"minikube-rhel7-16gb\" }\n \n     options {\n         timestamps()\n@@ -28,8 +28,8 @@ pipeline {\n \n     parameters {\n         booleanParam(name: 'cheSingleHost',\n-               defaultValue: false,\n-               description: 'Configuration Che server strategy')\n+                defaultValue: false,\n+                description: 'Configuration Che server strategy')\n \n         string(name: 'cheImageRepo',\n                 defaultValue: \"quay.io/crw_pr/che-server\",\n@@ -46,7 +46,7 @@ pipeline {\n         string(name: 'e2eTestToRun',\n                 defaultValue: \"test-happy-path\",\n                 description: 'TypeScript E2E test to run')\n-        \n+\n         string(name: 'testWorkspaceDevfileUrl',\n                 defaultValue: \"\",\n                 description: 'URL of devfile of test workspace')\n@@ -154,7 +154,7 @@ pipeline {\n \n                 stage(\"Build Che including upstream projects\") {\n                     when {\n-                        expression { \n+                        expression {\n                             return buildChe.toString() == 'true' || (params['ghprbCommentBody'] && (params.ghprbCommentBody == 'null' || params.ghprbCommentBody.contains(\"--rebuild\")))\n                         }\n                     }\n@@ -163,15 +163,20 @@ pipeline {\n                         echo \"Install dependencies needed for build of Eclipse Che\"\n                         sh \"\"\"\n                             # workaround https://github.com/eclipse/che/issues/19093\n-                            for i in {1..30} \n+                            for i in {1..100} \n                             do\n                                 echo \"-- ATTEMPT \\$i --\"\n                                 sudo yum install -y glibc.i686 libfontconfig.so.1 libstdc++-devel.i686 \\\\\n-                                    --disablerepo=rhel-7-server-extras-os-rpms,rhel-7-server-ose-3.4-os-rpms,rhel-7-server-optional-os-rpms || true\n+                                    --disablerepo=rhel-7-server-extras-os-rpms,rhel-7-server-ose-3.4-os-rpms,rhel-7-server-optional-os-rpms,rhel-7-server-supplementary-os-rpms || true\n                                 \n                                 sudo yum list installed | grep \"glibc.i686\" && sudo yum list installed | grep \"fontconfig.i686\" && sudo yum list installed | grep \"libstdc++-devel.i686\" && break\n                                 \n-                                sleep 5\n+                                sleep 10\n+                                \n+                                if [ \"\\$i\" -gt \"100\" ]; then \n+                                    echo \"Can't install dependencies.\"\n+                                    exit 1\n+                                fi\n                             done\n                         \"\"\"\n \n@@ -218,7 +223,7 @@ pipeline {\n         stage(\"Build and push che-server image\") {\n             when {\n                 expression {\n-                    return buildChe.toString() == 'true' || (params['ghprbCommentBody'] && (params.ghprbCommentBody == 'null' || params.ghprbCommentBody.contains(\"--rebuild\"))) \n+                    return buildChe.toString() == 'true' || (params['ghprbCommentBody'] && (params.ghprbCommentBody == 'null' || params.ghprbCommentBody.contains(\"--rebuild\")))\n                 }\n             }\n \n@@ -377,7 +382,6 @@ EOL\"\"\"\n                      docker run --shm-size=1g --net=host --ipc=host \\\\\n                        -p 5920:5920 \\\\\n                        -e TS_SELENIUM_BASE_URL=\\${CHE_URL} \\\\\n-                       -e TS_SELENIUM_LOG_LEVEL='DEBUG' \\\\\n                        -e TS_SELENIUM_MULTIUSER=\"true\" \\\\\n                        -e TS_SELENIUM_USERNAME=\"admin\" \\\\\n                        -e TS_SELENIUM_PASSWORD=\"admin\" \\\\\n@@ -446,4 +450,4 @@ EOL\"\"\"\n \n     }\n \n-}\n+}\n\\ No newline at end of file"
  }
]
